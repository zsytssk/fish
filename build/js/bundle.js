!function(){var e,t={74227:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t.ComponentManager=void 0;var c=s(n(36384)),f=s(n(15375)),d=s(n(17061));function h(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return v(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(){function e(){(0,f.default)(this,e),this.destroyed=!1,this.components=new c.default}return(0,d.default)(e,[{key:"addCom",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,a=t;r<a.length;r++){var i=a[r];this.components.add(i)}}},{key:"delCom",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,a=t;r<a.length;r++){var i=a[r];this.components.delete(i)}}},{key:"getCom",value:function(e){var t,n=h(this.components);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r instanceof e)return r}}catch(e){n.e(e)}finally{n.f()}}},{key:"destroy",value:function(){var e,t=h(this.components);try{for(t.s();!(e=t.n()).done;){var n=e.value;"function"==typeof n.destroy&&n.destroy()}}catch(e){t.e(e)}finally{t.f()}this.components.clear(),this.destroyed=!0}}]),e}();t.ComponentManager=p},38182:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t.EventCom=void 0;var c=s(n(39392)),f=s(n(36384)),d=s(n(89400)),h=s(n(21003)),v=s(n(15375)),p=s(n(17061));function y(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return m(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(){function e(){(0,v.default)(this,e),this.events=new c.default}return(0,p.default)(e,[{key:"on",value:function(e,t,n,r){var a,i=this;this.events.has(e)?a=this.events.get(e):(a=new f.default,this.events.set(e,a));var o,u=y(a);try{for(u.s();!(o=u.n()).done;){var l=o.value;if(n===l.caller&&t===l.callback)return}}catch(e){u.e(e)}finally{u.f()}a.add({caller:n,callback:t,once:r,off:function(){i.off(e,t,n)}})}},{key:"once",value:function(e,t,n){return this.on(e,t,n,!0)}},{key:"getBind",value:function(e){return this.events.get(e)}},{key:"off",value:function(e,t,n){if(this.events.has(e))for(var r=this.events.get(e),a=0,i=(0,h.default)(r);a<i.length;a++){var o=i[a];if(o.callback===t&&o.caller===n){r.delete(o);break}}}},{key:"offAllCaller",value:function(e){var t,n,r=y((0,d.default)(t=this.events).call(t));try{for(r.s();!(n=r.n()).done;)for(var a=n.value,i=0,o=(0,h.default)(a);i<o.length;i++){var u=o[i];u.caller===e&&a.delete(u)}}catch(e){r.e(e)}finally{r.f()}}},{key:"emit",value:function(e){if(this.events.has(e)){for(var t=this.events.get(e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(var i=0,o=(0,h.default)(t);i<o.length;i++){var u=o[i];if(t.has(u)){var l=u.callback,s=u.once,c=u.off;"function"==typeof l&&l.apply(void 0,r),s&&c()}}}}},{key:"destroy",value:function(){this.events.clear()}}]),e}();t.EventCom=g},8136:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t.default=t.AnyStr=void 0;var c=s(n(39392)),f=s(n(92762)),d=s(n(89400)),h=s(n(77766)),v=s(n(66890)),p=s(n(15375)),y=s(n(17061));function m(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return g(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _="*";t.AnyStr=_;var k=function(){function e(){(0,p.default)(this,e),this.events=new c.default}return(0,y.default)(e,[{key:"on",value:function(e){var t=this,n=e.event,r=e.callback,a=e.caller,i=e.once,o=e.unshift;if("object"!==(0,v.default)(n)){var u=[];this.events.has(n)?u=this.events.get(n):this.events.set(n,u);var l,s=m(u);try{for(s.s();!(l=s.n()).done;){var c=l.value;if(a===c.caller&&r===c.callback)return}}catch(e){s.e(e)}finally{s.f()}var f=function(){t.off({event:n,callback:r,caller:a})};o?u.unshift({caller:a,callback:r,once:i,off:f}):u.push({caller:a,callback:r,once:i,off:f})}else for(var d in a=r,n)n.hasOwnProperty(d)&&this.on({event:d,callback:n[d],caller:a})}},{key:"off",value:function(e){var t=e.event,n=e.callback,r=e.caller;if("object"!==(0,v.default)(t)){if(this.events.has(t))if(n||r){for(var a=this.events.get(t),i=a.length-1;i>=0;i--)if(a[i].callback===n&&a[i].caller===r){(0,f.default)(a).call(a,i,1);break}}else this.events.delete(t)}else for(var o in r=n,t)t.hasOwnProperty(o)&&this.off({event:o,callback:t[o],caller:r})}},{key:"offCaller",value:function(e){var t,n,r=m((0,d.default)(t=this.events).call(t));try{for(r.s();!(n=r.n()).done;)for(var a=n.value,i=a.length-1;i>=0;i--)a[i].caller===e&&(0,f.default)(a).call(a,i,1)}catch(e){r.e(e)}finally{r.f()}}},{key:"emit",value:function(e){for(var t=[_,e],n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(var i=0,o=t;i<o.length;i++){var u=o[i];if(this.events.has(u)){var l,s=this.events.get(u),c=m((0,h.default)(s).call(s,[]));try{for(c.s();!(l=c.n()).done;){var f,d=l.value,v=void 0,p=d.callback,y=d.once,g=d.off;if("function"==typeof p)if(u===_)v=p.apply(void 0,(0,h.default)(f=[e]).call(f,r));else v=p.apply(void 0,r);if(y&&g(),v)return v}}catch(e){c.e(e)}finally{c.f()}}}}},{key:"clear",value:function(){this.events=new c.default}}]),e}();t.default=k},30260:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t.TimeoutCom=void 0;var c=s(n(36384)),f=s(n(33032)),d=s(n(31581)),h=s(n(15375)),v=s(n(17061));function p(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return y(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(){function e(){(0,h.default)(this,e),this.timeout_list=new c.default,this.interval_list=new c.default}return(0,v.default)(e,[{key:"createTimeout",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,f.default)((function(){e(),t.timeout_list.delete(r)}),n);return this.timeout_list.add(r),r}},{key:"createInterval",value:function(e,t){var n=this,r=(0,d.default)((function(){e(),n.interval_list.delete(r)}),t);return this.interval_list.add(r),r}},{key:"clear",value:function(e){var t=this.timeout_list,n=this.interval_list;t.has(e)&&(t.delete(e),clearTimeout(e)),n.has(e)&&(n.delete(e),clearInterval(e))}},{key:"destroy",value:function(){var e,t=this.timeout_list,n=this.interval_list,r=p(t);try{for(r.s();!(e=r.n()).done;){var a=e.value;clearTimeout(a)}}catch(e){r.e(e)}finally{r.f()}var i,o=p(n);try{for(o.s();!(i=o.n()).done;){var u=i.value;clearInterval(u)}}catch(e){o.e(e)}finally{o.f()}t.clear(),n.clear()}}]),e}();t.TimeoutCom=m},68700:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(66329)),o=a(n(93476)),u=a(n(81643)),l=n(24629),s=n(77590),c=n(68291),f=n(84935),d=n(41107),h=n(683),v=n(56083),p=n(62285),y=n(26366),m=n(83934),g=n(899),_=function(e,t,n,r){return new(n||(n=o.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},k=!1;var b={name:"Honor",version:"1.0.0-beta",run:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _(this,void 0,void 0,i.default.mark((function n(){var r,a,m,b,w=this;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l.Laya.Config.isAntialias=!0,l.Laya.Config.useRetinalCanvas=!0,/apple/i.test(navigator.vendor)&&(l.Laya.Config.useRetinalCanvas=!1,l.Laya.Config.useWebGL2=!1),l.Laya.init(e.width,e.height,p.WebGL),l.Laya.stage.frameRate=s.Stage.FRAME_FAST,l.Laya.DebugPanel&&l.Laya.DebugPanel.enable(),f.URL.basePath=t.basePath||f.URL.basePath,l.Laya.stage.scaleMode=e.scaleMode,l.Laya.stage.screenMode=e.screenMode,l.Laya.stage.alignV=e.alignV,l.Laya.stage.alignH=e.alignH,f.URL.exportSceneToJson=e.exportSceneToJson,e.debug||"true"===v.Utils.getQueryString("debug")?(k=!0,l.Laya.enableDebugPanel()):k=!1,e.stat&&h.Stat.show(0,0),l.Laya.alertGlobalError(!1),r=(r=t.defaultVersion)||"0",f.URL.customFormat=function(e){var t=f.URL.version||{};if((0,u.default)(e).call(e,"data:image")<0&&(0,u.default)(e).call(e,"?")<0&&(0,u.default)(e).call(e,"?v=")<0){var n=t[e];!n&&r&&(n=r),e+="?v="+n}return e},a=[],m=new o.default((function(e,t){c.AtlasInfoManager.enable("fileconfig.json",d.Handler.create(null,(function(){return _(w,void 0,void 0,i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e();case 1:case"end":return t.stop()}}),t)})))})))})),a.push(m),(b=t.versionPath)&&a.push((0,g.loadRes)([b])),n.next=25,o.default.all(a);case 25:b&&(f.URL.version=l.loader.getRes(b)),(0,y.initState)();case 27:case"end":return n.stop()}}),n)})))},director:y.director,utils:m.utils,DEBUG_MODE:k};t.default=b},83762:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.WebSocketCtrl=void 0;var i=a(n(66329)),o=a(n(15375)),u=a(n(17061)),l=a(n(93476)),s=a(n(31581)),c=a(n(33032)),f=n(24354),d=function(e,t,n,r){return new(n||(n=l.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},h=function(){function e(t){var n=this;(0,o.default)(this,e),this.handlers={},this.reconnect_max=3,this.heartbeat_time=10,this.heartbeat_gap_time=3,this.onopen=function(){var t;null===(t=e.log)||void 0===t||t.call(e,"WebSocket:>".concat(n.name,":>连接上了")),n.status="OPEN",n.ping_pong_map&&n.startHeartBeat()},this.onmessage=function(e){var t,r,a=e.data;if(n.ping_pong_map){var i=n.ping_pong_map,o=i.ping,u=i.pong;switch(a){case o:n.sendPong();break;case u:n.startHeartBeat()}}null===(r=(t=n.handlers).onData)||void 0===r||r.call(t,a)},this.url=t.url,this.name=t.name,this.handlers=t.handlers,this.ping_pong_map=t.ping_pong_map}return(0,u.default)(e,[{key:"innerConnect",value:function(){return d(this,void 0,void 0,i.default.mark((function e(){var t,n=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.url,e.abrupt("return",new l.default((function(e,r){try{var a=new WebSocket(t);a.onopen=function(){a.onmessage=n.onmessage,a.onerror=n.onError,a.onclose=n.onclose,n.ws=a,n.onopen(),e(!0)},a.onerror=a.onclose=function(){e(!1)}}catch(t){e(!1)}})));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"connect",value:function(){var t;return null===(t=e.log)||void 0===t||t.call(e,"WebSocket:>".concat(this.name,":>连接:>"),this.url),this.status="CONNECTING",this.innerConnect()}},{key:"send",value:function(e){var t=this.status,n=this.ws;if("OPEN"!==t)return console.error("socket is no connected!");try{n.send(e)}catch(e){console.error(e),this.reconnect()}}},{key:"onError",value:function(){var e,t;null===(t=(e=this.handlers).onError)||void 0===t||t.call(e)}},{key:"onclose",value:function(){this.ws&&this.reconnect()}},{key:"reconnect",value:function(){var t,n,r,a;return d(this,void 0,void 0,i.default.mark((function o(){var u,l,s;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:null===(t=e.log)||void 0===t||t.call(e,"WebSocket:>".concat(this.name,":> 断线重连")),u=this.reconnect_max,l=this.handlers,this.status="RECONNECTING",s=0;case 4:if(!(s<u)){i.next=20;break}return null===(n=l.onReconnect)||void 0===n||n.call(l,s),this.reset(),i.next=9,this.innerConnect();case 9:if(!i.sent){i.next=15;break}return null===(a=(r=this.handlers).onReconnected)||void 0===a||a.call(r),i.abrupt("return",!0);case 15:return i.next=17,(0,f.sleep)(3);case 17:s++,i.next=4;break;case 20:return this.end(),i.abrupt("return",!1);case 22:case"end":return i.stop()}}),o,this)})))}},{key:"startHeartBeat",value:function(){var e=this,t=this.heartbeat_time,n=this.heartbeat_gap_time;clearInterval(this.heartbeat_interval),clearTimeout(this.heartbeat_gap_timeout),this.heartbeat_interval=(0,s.default)((function(){e.heartbeat_gap_timeout=(0,c.default)((function(){e.reconnect()}),1e3*n),e.sendPing()}),1e3*t)}},{key:"clearHearBeatGapTimeout",value:function(){clearTimeout(this.heartbeat_gap_timeout)}},{key:"sendPing",value:function(){if(this.ping_pong_map){var e=this.ping_pong_map.ping;this.ws.send(e)}}},{key:"sendPong",value:function(){if(this.ping_pong_map){var e=this.ping_pong_map.pong;this.ws.send(e)}}},{key:"disconnect",value:function(){"CLOSED"!==this.status&&this.end()}},{key:"end",value:function(){var t,n,r;null===(t=e.log)||void 0===t||t.call(e,"WebSocket:>".concat(this.name,":>断开连接")),this.reset(),this.status="CLOSED",null===(r=(n=this.handlers).onEnd)||void 0===r||r.call(n),this.handlers={}}},{key:"reset",value:function(){var e=this.ws;e&&(e.onopen=null,e.onmessage=null,e.onerror=null,e.onclose=null,e.close(),this.ws=null),clearInterval(this.heartbeat_interval),clearTimeout(this.heartbeat_gap_timeout)}}]),e}();t.WebSocketCtrl=h},26366:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.director=void 0,t.initState=function(){r.init()};var r=new(n(57102).DirectorCtor);t.director=r},55902:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.initDialog=function(){c.UIConfig.closeDialogOnSide=!1;var e=p.Dialog.manager;e.popupEffectHandler=new m.Handler(e,b),e.closeEffectHandler=new m.Handler(e,w)},t.openDialog=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;return k(this,void 0,void 0,i.default.mark((function c(){var y,m,g,k,b,w;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return(r=(0,l.default)((0,l.default)({},S),r)).stay_scene&&(g=(0,_.detectChangeScene)()),r.use_exist&&(k=C[e]),k||(k=(0,d.loadDialog)(e,a).then((function(t){return r.use_exist&&(C[e]=u.default.resolve(t)),t})),r.use_exist&&(C[e]=k)),i.next=6,k;case 6:if(b=i.sent,f.Laya.stage.offAllCaller(b),f.Laya.stage.on(v.Event.RESIZE,b,(function(){var e;null===(e=b.onResize)||void 0===e||e.call(b,f.Laya.stage.width,f.Laya.stage.height)})),null===(t=b.onResize)||void 0===t||t.call(b,f.Laya.stage.width,f.Laya.stage.height),b.once(v.Event.UNDISPLAY,b,(function(){f.Laya.stage.offAllCaller(b)})),r.stay_scene&&_.cur_scene&&(f.Laya.stage.offAllCaller(b),_.cur_scene.once(v.Event.UNDISPLAY,b,(function(){b.close()}))),(w=p.Dialog.manager.maskLayer).offAllCaller(b),r.close_on_side&&w.once(v.Event.CLICK,b,(function(){b.close()})),null===(n=b.onBeforeOpen)||void 0===n||(y=n).call.apply(y,(0,s.default)(m=[b]).call(m,(0,o.default)(r.before_open_param))),b.open(!1),(0,h.injectAfter)(b,"destroy",(function(){C[e]&&delete C[e]})),!(null==r?void 0:r.stay_scene)||!g()){i.next=20;break}throw Error("change scene! dialog cant open in diff scene!");case 20:return i.abrupt("return",b);case 21:case"end":return i.stop()}}),c)})))};var i=a(n(66329)),o=a(n(21003)),u=a(n(93476)),l=a(n(51942)),s=a(n(77766)),c=n(14529),f=n(24629),d=n(899),h=n(24354),v=n(89662),p=n(75055),y=n(45840),m=n(41107),g=n(84221),_=n(64818),k=function(e,t,n,r){return new(n||(n=u.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},b=function(e){e.scale(1,1),e.alpha=1,e._effectTween=g.Tween.from(e,{x:f.Laya.stage.width/2,y:f.Laya.stage.height/2,scaleX:.2,scaleY:.2,alpha:0},300,y.Ease.backOut,m.Handler.create(this,this.doOpen,[e]),0,!1,!1)},w=function(e){e._effectTween=g.Tween.to(e,{x:f.Laya.stage.width/2,y:f.Laya.stage.height/2,scaleX:.2,scaleY:.2,alpha:0},300,y.Ease.quintOut,m.Handler.create(this,this.doClose,[e]),0,!1,!1)};var S={use_exist:!0,stay_scene:!0,close_on_side:!0,before_open_param:[]},C={}},57102:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.DirectorCtor=void 0;var i=a(n(15375)),o=a(n(17061)),u=n(55902),l=n(64818),s=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"init",value:function(){(0,u.initDialog)()}},{key:"runScene",value:function(){return l.runScene.apply(void 0,arguments)}},{key:"isLoadingScene",get:function(){return l.isLoadingScene}},{key:"runningScene",get:function(){return l.cur_scene}},{key:"openDialog",value:function(){return u.openDialog.apply(void 0,arguments)}}]),e}();t.DirectorCtor=s},64818:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.cur_scene=void 0,t.detectChangeScene=function(){var e=i;return function(){return!i||e!==i}},t.isLoadingScene=void 0,t.runScene=function(e,n){return f(this,void 0,void 0,o.default.mark((function r(){var a;return o.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.isLoadingScene=d=!0,r.next=3,(0,s.loadScene)(e,n);case 3:return a=r.sent,t.cur_scene=i=a,t.isLoadingScene=d=!1,a.open(),l.Laya.stage.on(c.Event.RESIZE,a,(function(){a.onResize(l.Laya.stage.width,l.Laya.stage.height)})),a.onResize(l.Laya.stage.width,l.Laya.stage.height),a.once(c.Event.UNDISPLAY,a,(function(){l.Laya.stage.offAllCaller(a)})),r.abrupt("return",a);case 11:case"end":return r.stop()}}),r)})))};var i,o=a(n(66329)),u=a(n(93476)),l=n(24629),s=n(899),c=n(89662),f=function(e,t,n,r){return new(n||(n=u.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))};t.cur_scene=i;var d=!1;t.isLoadingScene=d},6893:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.createAnimation=function(e){var t=new l.Animation;t.loadAtlas(e+".json"),t.interval=120,t.index=1,t.play();var n=t.getGraphicBounds();return t.pivot(n.width/2,n.height/2),t},t.createImg=function(e){var t=new c.Image;return t.loadImage(e+".png"),t.autoSize=!0,t},t.createSkeleton=function(e,t,n){t=t||30,n=n||0;var r,a=o.loader.getRes(e+".png"),i=o.loader.getRes(e+".sk");if(!a||!i)return;d[e]?r=d[e]:((r=new u.Templet).parseData(a,i,24),d[e]=r);var l=new u.Templet;return l.parseData(a,i,t),l.buildArmature(n)},t.createSprite=function(e){return new i.default((function(t,n){var r=new s.Sprite;r.loadImage(e,f.Handler.create(null,(function(){r.autoSize=!0,t(r)})))}))};var i=a(n(93476)),o=n(24629),u=n(48365),l=n(31249),s=n(78362),c=n(44476),f=n(41107),d={}},73492:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.cutStr=function(e,t){var n=/[^\x00-\xff]/g;if((e+="").replace(n,"mm").length<=t)return e;for(var r=Math.floor(t/2);r<e.length;r++)if(e.substr(0,r).replace(n,"mm").length>=t)return e.substr(0,r)+"...";return e}},35641:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t.formatTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["小时","分钟","秒"],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="",a=0,i=0,o=e%60;"string"==typeof t&&(t=[t,t,""]);e>=60&&(i=e/60|0);i>=60&&(a=i/60|0,i%=60);for(var u=[a,i,o],l=0,s=u.length;l<s;l++){var c=u[l];n&&!c||(n=!1,r+=p(c)+t[l])}return r},t.formatTimeLight=function(e){var t="",n=0,l=0,s=0;e>60&&(s=e/60|0);s>60&&(l=s/60|0,s%=60);l>24&&(n=l/24|0,l%=24);var f,p=[n,l,s,e%60],y=["天","小时","分","秒"],m=function(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return v(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}((0,h.default)(p).call(p));try{for(m.s();!(f=m.n()).done;){var g,_,k=(0,c.default)(f.value,2),b=k[0],w=k[1];if(w>0)t=(0,d.default)(g=(0,d.default)(_="".concat(t)).call(_,w)).call(g,y[b])}}catch(e){m.e(e)}finally{m.f()}return t},t.formatTimestamp=function(e){var t,n,r,a=new Date(e),i=(0,f.default)(t=[a.getFullYear(),a.getMonth()+1,a.getDate()]).call(t,p),o=(0,f.default)(n=[a.getHours(),a.getMinutes()]).call(n,p);return(0,d.default)(r="".concat(i.join("/")," ")).call(r,o.join(":"))};var c=s(n(24142)),f=s(n(2991)),d=s(n(77766)),h=s(n(72119));function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){return e>9?e+"":"0"+e}},22833:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.getStringLength=function(e){return(""+e.replace(/[^\x00-\xff]/gi,"ox")).length}},83934:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.utils=void 0;var r=n(6893),a=n(73492),i=n(35641),o=n(22833),u=n(899),l=n(73680),s={createSkeleton:r.createSkeleton,cutStr:a.cutStr,getStringLength:o.getStringLength,formatTime:i.formatTime,formatTimeLight:i.formatTimeLight,formatTimestamp:i.formatTimestamp,loadRes:u.loadRes,registerFontSize:l.registerFontSize};t.utils=s},899:function(e,t,n){"use strict";var r=n(2991),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.fakeLoad=function(e,t){return new h.default((function(n){var r=0,a=(0,v.default)((function(){if((r+=.05)>e)return clearInterval(a),void n();null==t||t(r/e)}),50)}))},t.loadDialog=function(e,t){var n=this;return new h.default((function(r){b.Dialog.load(e,w.Handler.create(n,r,null,!0),w.Handler.create(n,t,null,!1))}))},t.loadRes=function(e,t){var n=this;return new h.default((function(r){_.loader.load(e,new w.Handler(null,r,null,!1),new w.Handler(n,t))}))},t.loadScene=function(e,t){var n=this;return new h.default((function(r){k.Scene.load(e,w.Handler.create(n,r,null,!0),w.Handler.create(n,t,null,!1))}))},t.mergeProgressObserver=function(e,t){return x(this,void 0,void 0,f.default.mark((function n(){var a,i,o,u,l,s,c,v,p,_,k,b;return f.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=[],i=[],o=S(e);try{for(o.s();!(u=o.n()).done;)l=u.value,s=(0,d.default)(l,2),c=s[0],v=s[1],a.push(c.pipe((0,g.startWith)(0))),i.push(v)}catch(e){o.e(e)}finally{o.f()}if(p=a.length,_=(0,m.combineLatest)(a).pipe(r(g)((function(e){return(0,y.default)(e).call(e,(function(e,t){return e+t/p}),0)}))),k=h.default.all(i),!("isLoadingView"in t)){n.next=16;break}return n.next=10,t.load();case 10:(b=n.sent).onShow(),_.subscribe((function(e){b.onProgress(e)})),k.then((function(){b.onHide()})),n.next=17;break;case 16:"function"==typeof t?_.subscribe(t):_.subscribe();case 17:return n.abrupt("return",k);case 18:case"end":return n.stop()}}),n)})))},t.promiseToProgressObserver=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a,i,o=new h.default((function(e){i=e})),u=new m.Observable((function(t){a=t,e.apply(void 0,n).then((function(e){null==a||a.next(1),null==a||a.complete(),i(e)}))}));return[u,o]}},t.toProgressObserver=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a,i,o=new h.default((function(e){i=e})),u=new m.Observable((function(t){a=t,e.apply(void 0,(0,p.default)(n).call(n,[function(e){null==a||a.next(e)}])).then((function(e){null==a||a.next(1),null==a||a.complete(),i(e)}))}));return[u,o]}};var f=c(n(66329)),d=c(n(24142)),h=c(n(93476)),v=c(n(31581)),p=c(n(77766)),y=c(n(32366)),m=n(72649),g=n(13845),_=n(24629),k=n(28294),b=n(75055),w=n(41107);function S(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return C(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=function(e,t,n,r){return new(n||(n=h.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))}},73680:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511);n(63978)(t,"__esModule",{value:!0}),t.registerFontSize=function(e){var t,n=function(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return f(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,d=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return d=e.done,e},e:function(e){h=!0,c=e},f:function(){try{d||null==n.return||n.return()}finally{if(h)throw c}}}}(e);try{for(n.s();!(t=n.n()).done;){var d=t.value,h=new s.BitmapFont,v=d.split("/"),p=v[v.length-1],y="".concat(d,".fnt"),m="".concat(d,".png");h.parseFont(l.loader.getRes(y),l.loader.getRes(m)),c.Text.registerBitmapFont(p,h)}}catch(e){n.e(e)}finally{n.f()}};var l=n(24629),s=n(60397),c=n(81870);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},8928:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t.runAsyncTask=function(e,t){var n,l=function(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return h(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}(v);try{for(l.s();!(n=l.n()).done;){var s=n.value;if(s.dep===t)return s.task}}catch(e){l.e(e)}finally{l.f()}var c=e();return c.then((function(){for(var e=v.length-1;e>=0;e--){var t=v[e].task;if(c===t)return void(0,d.default)(v).call(v,e)}})),v.push({dep:t,task:c}),c},t.tmpAsyncTask=function(e,t){return new c.default((function(n,r){e.push(t),t.then((function(){var r=(0,f.default)(e).call(e,t);-1!==r&&(0,d.default)(e).call(e,r,1),n(e.length)}))}))};var c=s(n(93476)),f=s(n(81643)),d=s(n(92762));function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=[]},24354:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.afterActive=function(e){var t=this;return new o.default((function(n){if(e.active)return n(void 0);e.once("onViewCreated",t,(function(){return n(void 0)}))}))},t.afterEnable=function(e){return new o.default((function(t,n){if(e.active)return t(void 0);c(e,"onEnable",(function(){t(void 0)})),c(e,"onDestroy",(function(){n()}))}))},t.createScene=function(e){return new o.default((function(t){return t(new e)}))},t.injectAfter=c,t.injectProto=function(e,t,n,r){return new o.default((function(a){var o=e.prototype[t];e.prototype[t]=function(){for(var l,c=this,d=arguments.length,h=new Array(d),v=0;v<d;v++)h[v]=arguments[v];var p=o.apply(this,(0,u.default)(l=[]).call(l,h));return f(p,(function(){return s(c,void 0,void 0,i.default.mark((function e(){var t,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.apply(void 0,(0,u.default)(t=[this,p]).call(t,h));case 2:r=e.sent,a(r);case 4:case"end":return e.stop()}}),e,this)})))})),r&&(e.prototype[t]=o),p}}))},t.sleep=function(e){return new o.default((function(t,n){(0,l.default)((function(){t(e)}),1e3*e)}))};var i=a(n(66329)),o=a(n(93476)),u=a(n(77766)),l=a(n(33032)),s=function(e,t,n,r){return new(n||(n=o.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))};function c(e,t,n){return new o.default((function(r){var a=e[t];e[t]=function(){for(var e,t=this,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=a.apply(this,(0,u.default)(e=[]).call(e,l));return f(d,(function(){return s(t,void 0,void 0,i.default.mark((function e(){var t,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==n?void 0:n.apply(void 0,(0,u.default)(t=[this,d]).call(t,l));case 2:a=e.sent,r(a);case 4:case"end":return e.stop()}}),e,this)})))})),d}}))}function f(e,t){e instanceof o.default?e.then((function(e){f(e,t)})):t()}},11369:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(15375)),o=a(n(17061)),u=a(n(55437)),l=a(n(9215)),s=a(n(15359)),c=a(n(13817)),f=a(n(10535)),d=a(n(65710)),h=a(n(94133)),v=a(n(56151)),p=a(n(62288)),y=a(n(13978)),m=a(n(83481)),g=a(n(34720)),_=a(n(33077)),k=a(n(54820)),b=a(n(45170)),w=a(n(64525)),S=a(n(25463)),C=a(n(76079)),x=a(n(60971)),I=a(n(47859)),A=a(n(61141)),E=a(n(55088)),T=a(n(43838)),M=a(n(79967)),B=a(n(92606)),L=a(n(95665)),P=a(n(70315)),O=a(n(7750)),N=n(22825),R=n(81870),U=n(48365),G=n(23835),D=n(84228),F=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"init",value:function(){var e=G.ClassUtils.regClass;e("ui",D.ui),e("view/pop/alert.ts",u.default),e("view/pop/arenaGameStatus.ts",l.default),e("view/pop/arenaTaskTip.ts",s.default),e("view/pop/buyBullet.ts",c.default),e("view/pop/tip.ts",f.default),e("view/pop/topTip.ts",d.default),e("view/pop/voice.ts",h.default),e("view/pop/arenaCompetition.ts",v.default),e("view/pop/arenaGift.ts",p.default),e("view/pop/arenaHelp.ts",y.default),e("view/pop/arenaRank.ts",m.default),e("view/pop/arenaSettle.ts",g.default),e("view/pop/arenaTopPlayer.ts",_.default),e("ctrl/guide/guideDialog.ts",k.default),e("view/pop/help.ts",b.default),e("view/pop/lottery.ts",w.default),e("view/pop/reward.ts",S.default),e("view/pop/record/arenaRewardRecord.ts",C.default),e("view/pop/record/gameRecord.ts",x.default),e("view/pop/record/itemRecord.ts",I.default),e("view/pop/arenaShop.ts",A.default),e("view/pop/shop.ts",E.default),e("view/scenes/arena/arenaView.ts",T.default),e("view/scenes/game/skillItemView.ts",M.default),e("view/scenes/game/gameView.ts",B.default),e("view/scenes/game/gunBoxView.ts",L.default),e("view/scenes/hallView.ts",P.default),e("view/scenes/loadingView.ts",O.default),e("Laya.HTMLDivElement",N.HTMLDivElement),e("Laya.Text",R.Text),e("Laya.Templet",U.Templet)}}]),e}();t.default=F,F.width=1920,F.height=750,F.scaleMode="fixedheight",F.screenMode="horizontal",F.alignV="top",F.alignH="left",F.startScene="pop/alert/tip.scene",F.sceneRoot="",F.debug=!1,F.stat=!0,F.physicsDebug=!1,F.exportSceneToJson=!0,F.init()},76817:function(e,t,n){"use strict";var r,a;n(63978)(t,"__esModule",{value:!0}),t.ArenaStatus=t.ArenaGameStatus=void 0,t.ArenaStatus=r,function(e){e[e.ROOM_STATUS_MAINTAIN=1]="ROOM_STATUS_MAINTAIN",e[e.ROOM_STATUS_DISABLE=2]="ROOM_STATUS_DISABLE",e[e.ROOM_STATUS_ENABLE_PREHEAT=3]="ROOM_STATUS_ENABLE_PREHEAT",e[e.ROOM_STATUS_ENABLE=4]="ROOM_STATUS_ENABLE",e[e.ROOM_STATUS_SETTLEMENT=5]="ROOM_STATUS_SETTLEMENT"}(r||(t.ArenaStatus=r={})),t.ArenaGameStatus=a,function(e){e[e.GAME_STATUS_CLOSE=1]="GAME_STATUS_CLOSE",e[e.GAME_STATUS_FREE=2]="GAME_STATUS_FREE",e[e.GAME_STATUS_NO_SIGNUP=3]="GAME_STATUS_NO_SIGNUP",e[e.GAME_STATUS_SIGNUP_OVER=4]="GAME_STATUS_SIGNUP_OVER",e[e.GAME_STATUS_PLAYING=5]="GAME_STATUS_PLAYING",e[e.GAME_STATUS_TABLE_OUT=6]="GAME_STATUS_TABLE_OUT",e[e.GAME_STATUS_SETTLEMENT=7]="GAME_STATUS_SETTLEMENT"}(a||(t.ArenaGameStatus=a={}))},22426:function(e,t,n){"use strict";var r=n(66890),a=n(52424),i=n(63978),o=n(34074),u=n(8171);i(t,"__esModule",{value:!0}),t.AppCtrl=void 0;var l=u(n(66329)),s=u(n(21003)),c=u(n(24142)),f=u(n(15375)),d=u(n(17061)),h=u(n(93476)),v=u(n(77766)),p=n(38182),y=u(n(68700)),m=n(899),g=u(n(11369)),_=n(66058),k=n(23254),b=n(21560),w=n(26744),S=n(86424),C=n(11263),x=n(51720),I=n(10659),A=n(36620),E=n(77513),T=u(n(55437)),M=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var a={},u=i&&o;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=u?o(e,l):null;s&&(s.get||s.set)?i(a,l,s):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(7750)),B=n(66589),L=n(80356),P=n(16023),O=n(8249),N=n(31070),R=n(59914),U=n(39487),G=n(72243);function D(e){if("function"!=typeof a)return null;var t=new a,n=new a;return(D=function(e){return e?n:t})(e)}var F=function(e,t,n,r){return new(n||(n=h.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},H=function(){function e(){(0,f.default)(this,e),this.bg_monitor=new x.BgMonitor,this.startApp()}return(0,d.default)(e,[{key:"startApp",value:function(){return F(this,void 0,void 0,l.default.mark((function e(){var t,n,r,a,i;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B.ctrlState.app=this,t=new S.AppModel,this.model=t,t.init(),e.next=6,y.default.run(g.default,{defaultVersion:_.Config.CdnVersion,versionPath:"./version.json?v=".concat(_.Config.CdnVersion),basePath:_.Config.cndUrl});case 6:return M.default.event_com.once(M.LoadingEvent.Show,(function(){platform.hideLoading()})),this.keyboard_number=new I.KeyBoardNumber,L.AudioCtrl.init(),e.prev=9,e.next=12,(0,G.connectHallSocket)();case 12:return n=e.sent,r=(0,c.default)(n,2),a=r[0],i=r[1],e.next=18,(0,G.getArenaWs)(1).then((function(e){_.Config.arenaSocketUrl=e}));case 18:if(!a){e.next=21;break}return this.enterGame(i),e.abrupt("return");case 21:e.next=27;break;case 23:if(e.prev=23,e.t0=e.catch(9),!(0,k.isProd)()){e.next=27;break}return e.abrupt("return",this.initSocketErr(e.t0));case 27:return e.prev=27,e.next=30,(0,N.connectArenaHallSocket)(!0);case 30:if(!e.sent){e.next=34;break}return this.enterArenaGame({currency:C.modelState.app.user_info.cur_balance}),e.abrupt("return");case 34:e.next=39;break;case 36:e.prev=36,e.t1=e.catch(27),(0,k.isProd)()&&e.t1===w.ArenaErrCode.TokenExpire&&(0,A.removeItem)("local_arena_token");case 39:return e.next=41,U.HallCtrl.preEnter();case 41:case"end":return e.stop()}}),e,this,[[9,23],[27,36]])})))}},{key:"initSocketErr",value:function(e){if(M.default.load().then((function(){M.default.instance.onShow(),M.default.instance.onProgress(1)})),e===w.ServerErrCode.TokenExpire)return(0,R.tokenExpireTip)();T.default.alert((0,E.tplIntr)(w.ServerErrCode.NetError)).then((function(){location.reload()}))}},{key:"enterGame",value:function(e){return O.GameCtrl.preEnter(e)}},{key:"enterArenaGame",value:function(e){return P.GameCtrl.preEnter(e)}}],[{key:"commonLoad",value:function(e){return F(this,void 0,void 0,l.default.mark((function t(){var n;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.loadRes)((0,v.default)(n=[]).call(n,(0,s.default)(b.res.common),(0,s.default)(b.res.font)),e);case 2:y.default.utils.registerFontSize(b.font_list);case 3:case"end":return t.stop()}}),t)})))}}]),e}();t.AppCtrl=H,H.event=new p.EventCom},66589:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.ctrlState=void 0,t.getGameCurrency=function(){var e;return null===(e=r.game)||void 0===e?void 0:e.currency},t.isTrial=function(){var e;return null===(e=r.game)||void 0===e?void 0:e.isTrial};var r={};t.ctrlState=r},80356:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.AudioEvent=t.AudioCtrl=void 0;var i=a(n(81643)),o=a(n(15375)),u=a(n(17061)),l=a(n(8136)),s=n(24629),c=n(41107),f={VoiceChange:"voice_change",MusicChange:"music_change"};t.AudioEvent=f;var d=function(){function e(){(0,o.default)(this,e)}return(0,u.default)(e,null,[{key:"init",value:function(){s.Laya.stage.on(s.Laya.Event.FOCUS,null,(function(){e.resumeBg()}))}},{key:"setVoice",value:function(e){var t=this.sound_manager;this.voice=e;var n=0===e;n!==t.soundMuted&&(t.soundMuted=n),t.setSoundVolume(e),this.event.emit(f.VoiceChange,e)}},{key:"setMusic",value:function(e){var t=this.sound_manager,n=0===e;n!==t.musicMuted&&(t.musicMuted=n,n||this.playBg(this.bg_url)),t.setMusicVolume(e),this.music=e,this.event.emit(f.MusicChange,e)}},{key:"play",value:function(e){var t=this,n=this.music||1,r=this.sound_manager,a=r.playSound;r.soundMuted||(this.sound_manager.setMusicVolume(.5*n),a(e,1,c.Handler.create(null,(function(){t.sound_manager.setMusicVolume(n)}))))}},{key:"playBg",value:function(e){var t=this.sound_manager,n=t.playMusic,r=t.musicMuted;this.bg_url=e,r||n(e)}},{key:"resumeBg",value:function(){this.sound_manager._musicChannel||this.playBg(this.bg_url)}},{key:"stop",value:function(e){var t=this.sound_manager.stopSound;if(!e)return!0;-1!==(0,i.default)(e).call(e,"bg")&&this.sound_manager.stopMusic(),t(e)}},{key:"stopAll",value:function(){this.sound_manager.stopAll()}}]),e}();t.AudioCtrl=d,d.event=new l.default,d.sound_manager=s.Laya.SoundManager},217:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.BulletCtrl=void 0;var i=a(n(15375)),o=a(n(17061)),u=n(8985),l=n(37440),s=n(54049),c=n(77513),f=n(48652),d=n(70903),h=n(48732),v=function(){function e(t,n){var r=this;(0,i.default)(this,e),this.view=t,this.model=n,this.syncPos=function(){var e=r.view;if(!e.destroyed){var t=r.model,n=t.pos,a=t.velocity,i=(0,s.vectorToDegree)(a)+90;e.rotation=i,e.pos(n.x,n.y)}},this.rage=function(){var e=r.view,t=r.model,n=t.pos,a=t.velocity,i=(0,s.vectorToDegree)(a)+90;e.rotation=i,e.pos(n.x,n.y)},this.init()}return(0,o.default)(e,[{key:"init",value:function(){this.initView(),this.initEvent()}},{key:"initView",value:function(){var e=this.view,t=this.model.skin_level;this.syncPos(),e.visible=!0,e.scale(.8,.8),(0,c.playSkeleton)(e,function(e){return Number(e)>3?0:e}(t),!0),e.zOrder=301}},{key:"initEvent",value:function(){var e=this,t=this.model.event;t.on(u.BulletEvent.Move,this.syncPos,this),t.on(u.BulletEvent.AddNet,(function(e){var t=(0,f.addNet)(e.skin);new h.NetCtrl(t,e)}),this),t.on(l.ModelEvent.Destroy,(function(){e.destroy()}),this)}},{key:"destroy",value:function(){var e,t;(0,d.recoverSkeletonPool)("bullet",this.model.skin,this.view),null===(t=null===(e=this.model)||void 0===e?void 0:e.event)||void 0===t||t.offAllCaller(this),this.model=void 0}}]),e}();t.BulletCtrl=v},63211:function(e,t,n){"use strict";var r=n(1068),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.FishCtrl=void 0;var f=c(n(66329)),d=c(n(15375)),h=c(n(17061)),v=c(n(89395)),p=c(n(45408)),y=c(n(97709)),m=c(n(38191)),g=c(n(52305)),_=c(n(93476)),k=c(n(33032)),b=n(74227),w=n(30260),S=n(26744),C=n(50634),x=n(3828),I=n(42717);function A(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return E(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,g.default)(e);if(t){var i=(0,g.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,m.default)(this,n)}}var M=function(e,t,n,r){return new(n||(n=_.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},B=function(e){(0,y.default)(n,e);var t=T(n);function n(e,r,a){var i;return(0,d.default)(this,n),(i=t.call(this)).view=e,i.model=r,i.game_ctrl=a,i.onBomb=function(e){return M((0,v.default)(i),void 0,void 0,f.default.mark((function t(){var n,r,a,i,o,u,l,s,c,d,h,v,p;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.model,r=this.game_ctrl,a=n.id,i=e.pos,o=e.fish_list,u=e.player,l=u.need_emit,s=u.is_cur_player,l){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,(0,I.waitFishDestroy)(n);case 8:c=[],d=A(o);try{for(d.s();!(h=d.n()).done;)(v=h.value).destroyed||c.push(v.id)}catch(e){d.e(e)}finally{d.f()}p={bombPoint:i,eid:a,fishList:c},s||(p.robotId=u.user_id),r.sendToGameSocket(S.ServerEvent.FishBomb,p);case 14:case"end":return t.stop()}}),t,this)})))},i.setVisible=function(e){i.view.setVisible(e)},i.syncPos=function(){var e=(0,v.default)(i).view,t=i.model,n=t.pos,r=t.velocity,a=t.horizon_turn;t.visible;e.syncPos(n,r,a)},i.beCapture=function(e){(0,k.default)((function(){e()}),500)},i.init(),i}return(0,h.default)(n,[{key:"init",value:function(){var e=this.model.visible;this.addCom(new w.TimeoutCom),this.initEvent(),this.setVisible(e),this.syncPos()}},{key:"initEvent",value:function(){var e=this,t=this.model.event,n=this.view;t.on(C.FishBombEvent.FishBomb,this.onBomb,this),t.on(x.FishEvent.VisibleChange,this.setVisible,this),t.on(x.FishEvent.Move,this.syncPos),t.on(x.FishEvent.BeCast,(function(){n.beCastAni()}),this),t.on(x.FishEvent.BeCapture,this.beCapture,this),t.on(x.FishEvent.StatusChange,(function(e){e===x.FishStatus.Freezed?n.stopSwimAni():n.playSwimAni()}),this),t.on(x.FishEvent.Destroy,(function(){e.destroy()}),this)}},{key:"destroy",value:function(){var e,t,r=this.view;null===(t=null===(e=this.model)||void 0===e?void 0:e.event)||void 0===t||t.offAllCaller(this),r.destroy(),(0,p.default)((0,g.default)(n.prototype),"destroy",this).call(this),this.game_ctrl=void 0,this.model=void 0}}]),n}(b.ComponentManager);t.FishCtrl=B},68889:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.ArenaPlayerCom=void 0;var i=a(n(33032)),o=a(n(15375)),u=a(n(17061)),l=n(66589),s=n(80356),c=n(14082),f=n(83091),d=n(83125),h=n(44517),v=n(77513),p=a(n(10535)),y=n(59446),m=n(44560),g=n(38703),_=function(){function e(t,n){(0,o.default)(this,e),this.model=t,this.game_ctrl=n,this.init()}return(0,u.default)(e,[{key:"init",value:function(){var e=this,t=this.model,n=this.game_ctrl,r=t.event,a=n.view,o=this.model,u=o.bullet_num,_=o.score,k=o.is_cur_player;r.on(d.PlayerEvent.UpdateInfo,(function(){var t=e.model,n=t.bullet_num,r=t.score,i=t.is_cur_player;a.setBulletScoreNum(i,n,r)}),this),r.on(d.PlayerEvent.CaptureFish,(function(e){var n=e.pos,r=e.data,a=r.winScore,i=r.drop,o=e.resolve,u=t.gun.pos;if(n||o(),t.is_cur_player){if(i){var f=(0,l.getGameCurrency)();(0,g.awardSkill)(n,u,i,f)}s.AudioCtrl.play(c.AudioRes.FlySkill)}a?t.is_cur_player&&a>1e3?(0,y.showAwardCircle)(n,a,t.is_cur_player).then(o):(0,m.showAwardCoin)(n,u,a,t.is_cur_player).then(o):o()}),this),a.setScorePanelVisible(k,!0),a.setBulletScoreNum(k,u,_),t.is_cur_player&&t.gun.event.on(f.GunEvent.NotEnoughBulletNum,(function(){e.model.bullet_num&&(0,i.default)((function(){return(0,h.asyncOnly)("NotEnoughBulletNumChangeTurretTip",(function(){return p.default.tip((0,v.tplIntr)("NotEnoughBulletNumChangeTurretTip"))}))}))}),this)}},{key:"destroy",value:function(){var e=this.game_ctrl,t=this.model,n=t.event,r=t.is_cur_player,a=e.view;null==a||a.setScorePanelVisible(r,!1),n.offAllCaller(this)}}]),e}();t.ArenaPlayerCom=_},16023:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t.GameCtrl=void 0;var c=s(n(66329)),f=s(n(21003)),d=s(n(24142)),h=s(n(15375)),v=s(n(17061)),p=s(n(93476)),y=s(n(36384)),m=s(n(33032)),g=s(n(86902)),_=s(n(77766)),k=s(n(13053)),b=n(899),w=n(8928),S=n(89662),C=n(85096),x=n(66589),I=n(80356),A=n(39487),E=n(58465),T=n(95455),M=n(43267),B=n(14082),L=n(21560),P=n(26744),O=n(62673),N=n(50615),R=n(86408),U=n(11263),G=n(54375),D=n(44517),F=n(51720),H=n(52782),z=n(55161),j=n(77513),V=s(n(55437)),K=s(n(56151)),Y=s(n(9215)),W=s(n(62288)),X=s(n(13978)),Q=s(n(34720)),$=s(n(61141)),q=n(79699),J=s(n(94133)),Z=s(n(43838)),ee=n(32354),te=n(40163),ne=s(n(7750)),re=n(22426),ae=n(31070),ie=n(59914),oe=n(63211),ue=n(545),le=n(96747),se=n(68889),ce=n(5918);function fe(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return de(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return de(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var he=function(e,t,n,r){return new(n||(n=p.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},ve=function(){function e(t,n){(0,h.default)(this,e),this.isArena=!0,this.player_list=new y.default,this.view=t,this.model=n,this.model.setGameMode(2)}return(0,v.default)(e,[{key:"init",value:function(e,t){var n=this;this.initEvent(),I.AudioCtrl.playBg(B.AudioRes.GameBg),this.view.showBubbleRefresh(t),(0,ae.waitConnectGameArena)().then((function(t){(0,ce.onGameSocket)(t,n),t.send(P.ArenaEvent.EnterGame,{currency:e})}))}},{key:"initEvent",value:function(){var e=this,t=this.view,n=t.btn_leave,r=t.btn_shop,a=t.btn_gift,i=t.btn_rank,o=t.btn_help,u=t.btn_music,l=S.Event.CLICK;this.onModel(),x.ctrlState.app.bg_monitor.event.on(F.BgMonitorEvent.VisibleChange,(function(e){e||(0,ue.disableCurUserOperation)()}),this),n.on(l,this,(function(t){t.stopPropagation(),V.default.alert((0,j.tplIntr)("leaveTip")).then((function(t){"confirm"===t&&e.sendToGameSocket(P.ServerEvent.TableOut)}))})),(0,H.onNodeWithAni)(r,l,(function(t){t.stopPropagation(),$.default.preEnter({modeId:1,currency:e.currency})})),(0,H.onNodeWithAni)(a,l,(function(e){e.stopPropagation(),W.default.preEnter()})),(0,H.onNodeWithAni)(i,l,(function(t){t.stopPropagation(),(0,q.getCompetitionInfo)(e.currency).then((function(e){K.default.preEnter(e,null,!0)}))})),(0,H.onNodeWithAni)(o,l,(function(t){t.stopPropagation(),(0,q.arenaGetRuleData)(1,e.currency).then((function(e){X.default.preEnter(e)}))})),(0,H.onNodeWithAni)(u,l,(function(e){e.stopPropagation(),J.default.preEnter()}));var s=function(t){return(0,D.asyncOnly)(t+"Alert",(function(){return he(e,void 0,void 0,c.default.mark((function e(){var n=this;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",V.default.alert(t,{hide_cancel:!0}).then((function(){n.leave()})));case 1:case"end":return e.stop()}}),e)})))}))};re.AppCtrl.event.on(P.ArenaErrCode.GuestSignUpFail,(function(t){return(0,D.asyncOnly)(t+"Alert",(function(){return he(e,void 0,void 0,c.default.mark((function e(){var n=this;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",V.default.alert(t).then((function(e){n.leave(),"confirm"===e&&(0,T.login)()})));case 1:case"end":return e.stop()}}),e)})))}))}),this),re.AppCtrl.event.on(P.ServerErrCode.NoMoney,(function(t){return V.default.alert(t).then((function(t){var n;if("confirm"===t){var r=(0,x.getGameCurrency)();(0,E.recharge)(r)}null===(n=e.getSocket())||void 0===n||n.send(P.ServerEvent.RoomOut)}))}),this),re.AppCtrl.event.on(P.ArenaErrCode.Maintenance,s,this),re.AppCtrl.event.on(P.ArenaErrCode.SignUpFail,s,this),re.AppCtrl.event.on(P.ArenaErrCode.UserSignUpDeadline,s,this),re.AppCtrl.event.on(P.ArenaErrCode.NoOpen,s,this),re.AppCtrl.event.on(P.ArenaErrCode.GameEnded,s,this)}},{key:"needUpSideDown",value:function(e){return e>0}},{key:"onModel",value:function(){var e=this,t=this.model.event,n=this.view;t.on(R.GameEvent.AddFish,(function(t){var r=t.type,a=t.group_id,i=t.id,o=t.horizon_turn,u={type:r,currency:t.currency,group_id:a,id:i,horizon_turn:o},l=n.addFish(u);new oe.FishCtrl(l,t,e)}),this),t.on(R.GameEvent.AddPlayer,(function(t){var r=t.server_index;t.is_cur_player&&e.needUpSideDown(r)&&n.upSideDown();var a=n.addGun(),i=new le.PlayerCtrl(a,t,e),o=new se.ArenaPlayerCom(t,e);i.addCom(o),e.player_list.add(i)}),this),t.on(O.FreezingComEvent.Freezing,(function(){I.AudioCtrl.play(B.AudioRes.Freeze),(0,ee.activeFreeze)()}),this),t.on(O.FreezingComEvent.UnFreezing,(function(){(0,ee.stopFreeze)()}),this),t.on(N.ShoalEvent.PreAddShoal,(function(e){I.AudioCtrl.play(B.AudioRes.ShoalComing),(0,te.activeShoalWave)(e)}),this),t.on(R.GameEvent.Destroy,(function(){e.destroy()}),this)}},{key:"buySkillTip",value:function(){V.default.alert((0,j.tplIntr)("buySkillTip")).then((function(e){"confirm"===e&&W.default.preEnter()}))}},{key:"sendToGameSocket",value:function(){var e=(0,M.getSocket)(P.ServerName.ArenaHall);null==e||e.send.apply(e,arguments)}},{key:"offGameSocket",value:function(){var e=(0,M.getSocket)(P.ServerName.ArenaHall);(0,ie.offCommon)(e,this)}},{key:"getSocket",value:function(){return(0,M.getSocket)(P.ServerName.ArenaHall)}},{key:"onEnterGame",value:function(e){var t=this.model,n=e.isTrial,r=e.fish,a=e.users,i=e.frozen,o=e.task,u=e.frozen_left,l=e.fish_list,s=e.isFirstStart,c=e.currency;this.isTrial=n,n&&this.view.setTrialStyle(),s&&Y.default.start(),this.isTrial=n,this.currency=c,this.addPlayers(a),this.addFish(r),i&&(0,m.default)((function(){t.freezing_com.freezing(u,l)})),o&&this.triggerTask(o,!1)}},{key:"calcClientIndex",value:function(e){return this.model.getCurPlayer().server_index<1?e:1-e}},{key:"onShoot",value:function(e){var t=e.direction;(0,g.default)(t).length&&(e.robotId&&(e.userId=e.robotId),this.model.shoot(e))}},{key:"onHit",value:function(e){this.model.captureFish(e)}},{key:"shoalComingTip",value:function(e){this.model.shoalComingTip(e)}},{key:"activeSkill",value:function(e,t){this.model.activeSkill(e,t)}},{key:"disableSkill",value:function(e,t){this.model.disableSkill(e,t)}},{key:"resetSkill",value:function(e,t){this.model.resetSkill(e,t)}},{key:"addFish",value:function(e){if(e){var t,n=fe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.model.addFish(r)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"addPlayers",value:function(e){var t,n=fe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.model.addPlayer(r,this.needUpSideDown)}}catch(e){n.e(e)}finally{n.f()}}},{key:"setPlayersEmit",value:function(e){var t,n=fe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,a=this.model.getPlayerById(r);a&&a.updateInfo({need_emit:!0})}}catch(e){n.e(e)}finally{n.f()}}},{key:"changeBulletCost",value:function(e){var t=e.userId,n=e.multiple;this.model.getPlayerById(t).updateInfo({bullet_cost:n})}},{key:"changeUserNumInfo",value:function(e){var t,n=e.userId,r=e.change_arr,a=this.model.getPlayerById(n),i=fe(r);try{for(i.s();!(t=i.n()).done;){var o=t.value,u=o.type,l=o.num,s=o.id;"skill"===u?a.addSkillNum(s,l):"bullet"===u&&a.updateInfo({bullet_num:a.bullet_num+l})}}catch(e){i.e(e)}finally{i.f()}}},{key:"changeSkin",value:function(e){var t=e.skinId,n=e.userId;t=t.charAt(t.length-1);var r=this.model.getPlayerById(n);(0,z.log)("接收到use skin",t),r.changeSkin(t)}},{key:"triggerTask",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.view;n.showTaskPanel(e,t)}},{key:"taskRefresh",value:function(e){this.view.updateTaskPanel(e)}},{key:"taskFinish",value:function(e){return he(this,void 0,void 0,c.default.mark((function t(){var n,r;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.view,!(r=this.model.getPlayerById(e.userId)).is_cur_player){t.next=6;break}return I.AudioCtrl.play(B.AudioRes.CoinShow),t.next=6,n.taskFinish(e);case 6:r.updateInfo({score:r.score+e.award});case 7:case"end":return t.stop()}}),t,this)})))}},{key:"GameSettle",value:function(e){return he(this,void 0,void 0,c.default.mark((function t(){var n=this;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.default.end();case 2:return this.reset(),t.next=5,Q.default.preEnter(e).then((function(t){"continue"===t?(0,q.competitionSignUp)(e.currency).then((function(e){e.code!==P.ARENA_OK_CODE?(0,ae.arenaErrHandler)(e.code):(null==n||n.model.destroy(),x.ctrlState.app.enterArenaGame({currency:e.currency}))})):n.leave()}));case 5:case"end":return t.stop()}}),t,this)})))}},{key:"tableOut",value:function(e){var t=this.model,n=e.userId;if((0,U.isCurUser)(n,!0))this.leave();else{var r=t.getPlayerById(n);if(!r)return(0,z.error)("Game:>captureFish:> cant find player for userId=".concat(n,"!"));r.destroy()}}},{key:"leave",value:function(){(0,ue.disableAllUserOperation)(),null==this||this.model.destroy(),A.HallCtrl.preEnter()}},{key:"reset",value:function(){this.model.clear(),this.view.hideTaskPanel()}},{key:"destroy",value:function(){var t,n=x.ctrlState.app.bg_monitor;null===(t=this.model)||void 0===t||t.event.offAllCaller(this),n.event.offAllCaller(this),re.AppCtrl.event.offAllCaller(this),this.offGameSocket(),this.view=void 0,this.model=void 0,e.instance=void 0,(0,j.setProps)(x.ctrlState,{game:void 0}),(0,j.setProps)(U.modelState,{game:void 0})}}],[{key:"preEnter",value:function(t){return he(this,void 0,void 0,c.default.mark((function n(){var r=this;return c.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.instance){n.next=2;break}return n.abrupt("return",this.instance);case 2:return n.abrupt("return",(0,w.runAsyncTask)((function(){return he(r,void 0,void 0,c.default.mark((function n(){var r,a,i,o,u,l,s,h,v,p,y,m=this;return c.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=this.genBgNum(),i=(0,d.default)(a,2),o=i[0],u=i[1],l=(0,_.default)(r=[u]).call(r,(0,f.default)(L.res.game)),t.currency?(0,ue.waitEnterGame)().then((function(e){var n=(0,d.default)(e,2),r=n[0],a=n[1];return he(m,void 0,void 0,c.default.mark((function e(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:if("YOUCHAIN"!==(0,E.getChannel)()||a.isTrial){e.next=5;break}return e.next=5,V.default.alert((0,j.tplIntr)("delayUpdateAccount"));case 5:(0,ue.tipExchange)(t);case 6:case"end":return e.stop()}}),e)})))})):(0,ue.waitEnterGame)().then((function(e){var t=(0,d.default)(e,2),n=t[0],r=t[1];return he(m,void 0,void 0,c.default.mark((function e(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&!r.isTrial&&r.currency){e.next=2;break}return e.abrupt("return");case 2:(0,G.tipPlatformCurrency)(r.currency);case 3:case"end":return e.stop()}}),e)})))})),n.next=5,(0,b.mergeProgressObserver)([(0,b.toProgressObserver)(Z.default.preEnter)(),(0,b.toProgressObserver)(b.fakeLoad)(1),(0,b.toProgressObserver)(re.AppCtrl.commonLoad)(),(0,b.toProgressObserver)(b.loadRes)(l)],ne.default);case 5:return s=n.sent,h=(0,d.default)(s,1),v=h[0],p=new R.GameModel,y=new e(v,p),this.instance=y,y.init(t.currency,o),(0,j.setProps)(x.ctrlState,{game:y}),(0,j.setProps)(U.modelState,{game:p}),n.abrupt("return",y);case 15:case"end":return n.stop()}}),n,this)})))}),this));case 3:case"end":return n.stop()}}),n,this)})))}},{key:"genBgNum",value:function(){var e=(0,k.default)(1,3);return[e,{url:"image/game/normal_bg/bg".concat(e,".jpg"),type:C.Loader.IMAGE}]}}]),e}();t.GameCtrl=ve},5918:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t.convertEnterGame=C,t.onGameSocket=function(e,t){var n,r;(0,p.commonSocket)(e,t),(0,m.bindSocketEvent)(e,t,(n={},(0,f.default)(n,_.ServerEvent.EnterGame,(function(e,n){if(n!==_.ARENA_OK_CODE)return(0,v.arenaErrHandler)(n);t.reset(),r=e.currency,t.onEnterGame(C(e))})),(0,f.default)(n,_.ServerEvent.TableIn,(function(e,n){if(n!==_.ARENA_OK_CODE)return(0,v.arenaErrHandler)(n);var r=function(e){var t=e.userId,n=e.seatId,r=e.multiple,a=e.needEmit,i=e.turretSkin,o=e.bulletNum,u=x(c,!1);return{user_id:t,server_index:n-1,bullet_cost:r,gun_skin:"".concat(Number(i)-1e3),nickname:"",avatar:"",bullet_num:o||0,need_emit:a||!1,is_cur_player:!1,skills:u}}(e);t.addPlayers([r])})),(0,f.default)(n,_.ServerEvent.NeedEmitUser,(function(e,n){if(n!==_.ARENA_OK_CODE)return(0,v.arenaErrHandler)(n);(0,k.isCurUser)(e.userId,!0)&&t.setPlayersEmit(e.robotIds)})),(0,f.default)(n,_.ServerEvent.TableOut,(function(e,n){if(n!==_.ARENA_OK_CODE)return(0,v.arenaErrHandler)(n);t.tableOut(e)})),(0,f.default)(n,_.ServerEvent.Shoot,(function(e,n){if(n!==_.ARENA_OK_CODE)return(0,v.arenaErrHandler)(n);t.onShoot(e)})),(0,f.default)(n,_.ServerEvent.Hit,(function(e,n){if(n!==_.ARENA_OK_CODE)return(0,v.arenaErrHandler)(n);t.onHit(e)})),(0,f.default)(n,_.ServerEvent.UseFreeze,(function(e,n){if(n!==_.ARENA_OK_CODE&&(0,v.arenaErrHandler)(n))return;n===_.ARENA_OK_CODE?t.activeSkill(g.SkillMap.Freezing,function(e){var t=e.userId,n=e.number,r=e.duration,a=e.frozenFishList;return{user_id:t,used_time:0,num:n,fish_list:a,duration:r/1e3}}(e)):t.resetSkill(g.SkillMap.Freezing,(0,k.getCurUserId)())})),(0,f.default)(n,_.ServerEvent.autoShoot,(function(e,n){if(n!==_.ARENA_OK_CODE)return(0,v.arenaErrHandler)(n);e.autoShoot?t.activeSkill(g.SkillMap.Auto,function(e){var t=e.userId,n=e.autoShoot;return{user_id:t,autoShoot:n}}(e)):t.disableSkill(g.SkillMap.Auto,e.userId)})),(0,f.default)(n,_.ServerEvent.LockFish,(function(e,n){if(n!==_.ARENA_OK_CODE)return(0,v.arenaErrHandler)(n);n===_.ARENA_OK_CODE?t.activeSkill(g.SkillMap.LockFish,function(e){var t=e.userId,n=e.eid,r=e.needActive,a=e.duration,i=e.number;return{user_id:t,fish:n,needActive:r,duration:a/1e3,used_time:0,num:Number(i)}}(e)):t.resetSkill(g.SkillMap.Freezing,(0,k.getCurUserId)())})),(0,f.default)(n,_.ServerEvent.AddFish,(function(e,n){if(n!==_.ARENA_OK_CODE)return(0,v.arenaErrHandler)(n);t.addFish(e)})),(0,f.default)(n,_.ServerEvent.FishShoal,(function(e,n){if(n!==_.ARENA_OK_CODE)return(0,v.arenaErrHandler)(n);t.shoalComingTip((0,d.default)(e)),t.addFish(e.fish)})),(0,f.default)(n,_.ServerEvent.ChangeTurret,(function(e,n){if(n!==_.ARENA_OK_CODE)return(0,v.arenaErrHandler)(n);t.changeBulletCost(e)})),(0,f.default)(n,_.ServerEvent.UseSkin,(function(e,n){if(n!==_.ARENA_OK_CODE)return(0,v.arenaErrHandler)(n);t.changeSkin(e)})),(0,f.default)(n,_.ArenaEvent.TriggerTask,(function(e,n){if(n!==_.ARENA_OK_CODE)return(0,v.arenaErrHandler)(n);t.triggerTask(e)})),(0,f.default)(n,_.ArenaEvent.TaskRefresh,(function(e,n){if(n!==_.ARENA_OK_CODE)return(0,v.arenaErrHandler)(n);t.taskRefresh(e)})),(0,f.default)(n,_.ArenaEvent.TaskFinish,(function(e,n){if(n!==_.ARENA_OK_CODE)return(0,v.arenaErrHandler)(n);t.taskFinish(e)})),(0,f.default)(n,_.ArenaEvent.GameSettle,(function(e,n){if(n!==_.ARENA_OK_CODE)return(0,v.arenaErrHandler)(n);t.GameSettle(e)})),(0,f.default)(n,_.ServerEvent.ExchangeBullet,(function(e,t){if(t!==_.ARENA_OK_CODE)return(0,v.arenaErrHandler)(t);var n=(0,k.getCurPlayer)(),r=n.gun.getAllBulletCost();n.updateInfo({bullet_num:e.balance-r}),(0,b.tipExchange)(e)})),(0,f.default)(n,y.SocketEvent.Reconnected,(function(){e.send(_.ServerEvent.EnterGame,{replay:!0,currency:r})})),n))};var c,f=s(n(67513)),d=s(n(97093)),h=s(n(51942)),v=n(31070),p=n(59914),y=n(49659),m=n(43267),g=n(66058),_=n(26744),k=n(11263),b=n(545);function w(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return S(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return S(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t=e.isGuest,n=e.rate,r=e.users,a=e.items,i=e.fish,o=e.isFirstStart,u=e.task,l=e.table,s=l.frozen,f=l.frozenLeft,d=e.currency,v=[];c=a;var p,y=w(r);try{for(y.s();!(p=y.n()).done;){var m=p.value,_=m.userId,b=m.seatId,S=m.bulletNum,C=m.multiple,I=m.turretSkin,A=m.lockFish,E=m.lockLeft,T=m.needEmit,M=m.score,B=(0,k.isCurUser)(_,!0),L=(0,k.isCurUser)(_,!0)||T,P=x(a,B);A&&(P[g.SkillMap.LockFish]=(0,h.default)((0,h.default)({},P[g.SkillMap.LockFish]),{lock_fish:A,lock_left:E/1e3,needActive:!0}));var O={user_id:_,server_index:b-1,bullet_num:S,bullet_cost:C,gun_skin:"".concat(Number(I)-1e3),nickname:"",avatar:"",score:M,is_cur_player:B,skills:P,need_emit:L};B?v.unshift(O):v.push(O)}}catch(e){y.e(e)}finally{y.f()}var N=[];if(s&&i){var R,U=w(i);try{for(U.s();!(R=U.n()).done;){var G=R.value;if(G.frozen)if(G.group){var D,F=w(G.group);try{for(F.s();!(D=F.n()).done;){var H=D.value;N.push(H.eid)}}catch(e){F.e(e)}finally{F.f()}}else N.push(G.eid)}}catch(e){U.e(e)}finally{U.f()}}return{isTrial:t,exchange_rate:n,fish:i,users:v,frozen:s,isFirstStart:o,task:u,currency:d,frozen_left:f/1e3,fish_list:N}}function x(e,t){var n,r={},a=w(e);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=i.itemId,u=i.number,l=i.usedTime,s=i.coolTime,c=i.duration;r[i.itemId]={item_id:o,num:t?Number(u):0,used_time:t?l/1e3:0,cool_time:s/1e3,duration:c/1e3}}}catch(e){a.e(e)}finally{a.f()}return r}},8249:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t.GameCtrl=void 0;var c=s(n(66329)),f=s(n(21003)),d=s(n(24142)),h=s(n(15375)),v=s(n(17061)),p=s(n(93476)),y=s(n(36384)),m=s(n(86902)),g=s(n(77766)),_=s(n(13053)),k=n(899),b=n(8928),w=n(89662),S=n(85096),C=n(66589),x=n(80356),I=n(39487),A=n(58465),E=n(95455),T=n(43267),M=n(14082),B=n(21560),L=n(26744),P=n(62673),O=n(50615),N=n(86408),R=n(11263),U=n(54375),G=n(44517),D=n(51720),F=n(52782),H=n(55161),z=n(77513),j=s(n(55437)),V=s(n(45170)),K=s(n(64525)),Y=s(n(55088)),W=s(n(94133)),X=n(32354),Q=n(40163),$=s(n(92606)),q=s(n(7750)),J=n(22426),Z=n(59914),ee=n(63211),te=n(545),ne=n(51945),re=n(82087),ae=n(96747);function ie(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return oe(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return oe(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ue=function(e,t,n,r){return new(n||(n=p.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},le=function(){function e(t,n){(0,h.default)(this,e),this.currency="",this.isArena=!1,this.player_list=new y.default,this.view=t,this.model=n}return(0,v.default)(e,[{key:"init",value:function(e,t){var n=this;this.initEvent(),x.AudioCtrl.playBg(M.AudioRes.GameBg),this.view.showBubbleRefresh(t),(0,E.waitConnectGame)(e).then((function(){(0,re.onGameSocket)((0,T.getSocket)(L.ServerName.Game),n)}))}},{key:"initEvent",value:function(){var e=this,t=this.view,n=t.btn_help,r=t.btn_gift,a=t.btn_voice,i=t.btn_leave,o=t.btn_shop,u=w.Event.CLICK;this.onModel(),C.ctrlState.app.bg_monitor.event.on(D.BgMonitorEvent.VisibleChange,(function(e){e||(0,te.disableCurUserOperation)()}),this),(0,F.onNodeWithAni)(n,u,(function(e){e.stopPropagation(),V.default.preEnter()})),(0,F.onNodeWithAni)(r,u,(function(e){e.stopPropagation(),K.default.preEnter()})),(0,F.onNodeWithAni)(a,u,(function(e){e.stopPropagation(),W.default.preEnter()})),(0,F.onNodeWithAni)(o,u,(function(e){e.stopPropagation(),Y.default.preEnter()})),(0,F.onNodeWithAni)(i,u,(function(t){t.stopPropagation(),j.default.alert((0,z.tplIntr)("leaveTip")).then((function(t){"confirm"===t&&e.sendToGameSocket(L.ServerEvent.RoomOut)}))})),J.AppCtrl.event.on(L.ServerErrCode.Maintaining,(function(){var t;null===(t=e.getSocket())||void 0===t||t.send(L.ServerEvent.RoomOut)}),this),J.AppCtrl.event.on(L.ServerErrCode.ReExchange,(function(t){return(0,te.disableCurUserOperation)(),(0,G.asyncOnly)(t,(function(){return ue(e,void 0,void 0,c.default.mark((function e(){var n=this;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j.default.alert(t,{close_on_side:!1}).then((function(e){var t,r;if("confirm"===e)return null===(t=n.getSocket())||void 0===t?void 0:t.send(L.ServerEvent.ExchangeBullet);null===(r=n.getSocket())||void 0===r||r.send(L.ServerEvent.RoomOut)})));case 1:case"end":return e.stop()}}),e)})))}))}),this),J.AppCtrl.event.on(L.ServerErrCode.NoMoney,(function(t){return j.default.alert(t).then((function(t){var n;if("confirm"===t){var r=(0,C.getGameCurrency)();(0,A.recharge)(r)}null===(n=e.getSocket())||void 0===n||n.send(L.ServerEvent.RoomOut)}))}),this),J.AppCtrl.event.on(L.ServerErrCode.NoMoney,(function(e){return j.default.alert(e,{hide_cancel:!0}).then((function(){var e=(0,T.getSocket)(L.ServerName.Game);null==e||e.send(L.ServerEvent.RoomOut)}))}),this),J.AppCtrl.event.on(L.ServerErrCode.OverLimit,(function(e){return j.default.alert(e,{hide_cancel:!0}).then((function(){var e=(0,T.getSocket)(L.ServerName.Game);null==e||e.send(L.ServerEvent.RoomOut)}))}),this),J.AppCtrl.event.on(L.ServerErrCode.TrialTimeGame,(function(e){return j.default.alert(e,{hide_cancel:!0}).then((function(){var e=(0,T.getSocket)(L.ServerName.Game);null==e||e.send(L.ServerEvent.RoomOut)}))}),this)}},{key:"buySkillTip",value:function(){j.default.alert((0,z.tplIntr)("buySkillTip")).then((function(e){"confirm"===e&&Y.default.preEnter()}))}},{key:"needUpSideDown",value:function(e){return e>1}},{key:"onModel",value:function(){var e=this,t=this.model.event,n=this.view;t.on(N.GameEvent.AddFish,(function(t){var r=t.type,a=t.group_id,i=t.id,o=t.horizon_turn,u={type:r,group_id:a,currency:t.currency,id:i,horizon_turn:o},l=n.addFish(u);new ee.FishCtrl(l,t,e)}),this),t.on(N.GameEvent.AddPlayer,(function(t){var r=t.server_index;if(t.is_cur_player){e.needUpSideDown(r)&&n.upSideDown();var a="left";1!==r&&2!==r||(a="right"),n.setBulletBoxPos(a)}var i=n.addGun(),o=new ae.PlayerCtrl(i,t,e),u=new ne.NormalPlayerCom(t,e);o.addCom(u),e.player_list.add(o)}),this),t.on(P.FreezingComEvent.Freezing,(function(){x.AudioCtrl.play(M.AudioRes.Freeze),(0,X.activeFreeze)()}),this),t.on(P.FreezingComEvent.UnFreezing,(function(){(0,X.stopFreeze)()}),this),t.on(O.ShoalEvent.PreAddShoal,(function(e){x.AudioCtrl.play(M.AudioRes.ShoalComing),(0,Q.activeShoalWave)(e)}),this),t.on(N.GameEvent.Destroy,(function(){e.destroy()}),this)}},{key:"sendToGameSocket",value:function(){var e=(0,T.getSocket)(L.ServerName.Game);null==e||e.send.apply(e,arguments)}},{key:"offGameSocket",value:function(){var e=(0,T.getSocket)(L.ServerName.Game);(0,Z.offCommon)(e,this)}},{key:"getSocket",value:function(){return(0,T.getSocket)(L.ServerName.Game)}},{key:"onEnterGame",value:function(e){var t=this.model,n=this.view,r=e.isTrial,a=e.fish,i=e.users,o=e.frozen,u=e.frozen_left,l=e.fish_list,s=e.exchange_rate,c=e.currency;this.isTrial=r,r&&n.setTrialStyle(),this.addPlayers(i),this.addFish(a),o&&t.freezing_com.freezing(u,l),n.setExchangeRate(s,c)}},{key:"calcClientIndex",value:function(e){return this.model.getCurPlayer().server_index<=1?e:3-e}},{key:"onShoot",value:function(e){var t=e.direction;(0,m.default)(t).length&&(e.robotId&&(e.userId=e.robotId),this.model.shoot(e))}},{key:"onHit",value:function(e){this.model.captureFish(e)}},{key:"shoalComingTip",value:function(e){this.model.shoalComingTip(e)}},{key:"activeSkill",value:function(e,t){this.model.activeSkill(e,t)}},{key:"disableSkill",value:function(e,t){this.model.disableSkill(e,t)}},{key:"resetSkill",value:function(e,t){this.model.resetSkill(e,t)}},{key:"addFish",value:function(e){var t,n=ie(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.model.addFish(r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"addPlayers",value:function(e){var t,n=ie(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.model.addPlayer(r,this.needUpSideDown)}}catch(e){n.e(e)}finally{n.f()}}},{key:"setPlayersEmit",value:function(e){var t,n=ie(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,a=this.model.getPlayerById(r);a&&a.updateInfo({need_emit:!0})}}catch(e){n.e(e)}finally{n.f()}}},{key:"changeBulletCost",value:function(e){var t=e.userId,n=e.multiple;this.model.getPlayerById(t).updateInfo({bullet_cost:n})}},{key:"changeUserNumInfo",value:function(e){var t,n=e.userId,r=e.change_arr,a=this.model.getPlayerById(n),i=ie(r);try{for(i.s();!(t=i.n()).done;){var o=t.value,u=o.type,l=o.num,s=o.id;"skill"===u?a.addSkillNum(s,l):"bullet"===u&&a.updateInfo({bullet_num:a.bullet_num+l})}}catch(e){i.e(e)}finally{i.f()}}},{key:"changeSkin",value:function(e){var t=e.skinId,n=e.userId;t=t.charAt(t.length-1);var r=this.model.getPlayerById(n);(0,H.log)("接收到use skin",t),r.changeSkin(t)}},{key:"tableOut",value:function(e){var t=this,n=this.model,r=e.userId,a=e.isTimeOut;if((0,R.isCurUser)(r)){var i=a?(0,z.tplIntr)(L.ServerErrCode.TrialTimeGame):(0,z.tplIntr)("kickedTip");(0,te.disableAllUserOperation)(),this.offGameSocket(),(0,T.disconnectSocket)(L.ServerName.Game),j.default.alert(i,{hide_cancel:!0}).then((function(){t.roomOut({userId:r})}))}else{var o=n.getPlayerById(r);if(!o)return(0,H.error)("Game:>captureFish:> cant find player for userId=".concat(r,"!"));o.destroy()}}},{key:"roomOut",value:function(e){var t=this.model,n=e.userId;(0,R.isCurUser)(n)&&(this.offGameSocket(),(0,T.disconnectSocket)(L.ServerName.Game),t.destroy(),I.HallCtrl.preEnter())}},{key:"reset",value:function(){this.model.clear()}},{key:"destroy",value:function(){var t,n=C.ctrlState.app.bg_monitor;null===(t=this.model)||void 0===t||t.event.offAllCaller(this),n.event.offAllCaller(this),J.AppCtrl.event.offAllCaller(this),this.view=void 0,this.model=void 0,e.instance=void 0,(0,z.setProps)(C.ctrlState,{game:void 0}),(0,z.setProps)(R.modelState,{game:void 0})}}],[{key:"preEnter",value:function(t){return ue(this,void 0,void 0,c.default.mark((function n(){var r=this;return c.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.instance){n.next=2;break}return n.abrupt("return",this.instance);case 2:return n.abrupt("return",(0,b.runAsyncTask)((function(){return ue(r,void 0,void 0,c.default.mark((function n(){var r,a,i,o,u,l,s,h,v,p,y,m=this;return c.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.currency?(0,te.waitEnterGame)().then((function(e){var n=(0,d.default)(e,2),r=n[0],a=n[1];return ue(m,void 0,void 0,c.default.mark((function e(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:if("YOUCHAIN"!==(0,A.getChannel)()||a.isTrial){e.next=5;break}return e.next=5,j.default.alert((0,z.tplIntr)("delayUpdateAccount"));case 5:(0,te.tipExchange)(t);case 6:case"end":return e.stop()}}),e)})))})):(0,te.waitEnterGame)().then((function(e){var t=(0,d.default)(e,2),n=t[0],r=t[1];return ue(m,void 0,void 0,c.default.mark((function e(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&!r.isTrial&&r.currency){e.next=2;break}return e.abrupt("return");case 2:(0,U.tipPlatformCurrency)(r.currency);case 3:case"end":return e.stop()}}),e)})))})),a=this.genBgNum(),i=(0,d.default)(a,2),o=i[0],u=i[1],l=(0,g.default)(r=[u]).call(r,(0,f.default)(B.res.game)),n.next=5,(0,k.mergeProgressObserver)([(0,k.toProgressObserver)($.default.preEnter)(),(0,k.toProgressObserver)(k.fakeLoad)(.5),(0,k.toProgressObserver)(J.AppCtrl.commonLoad)(),(0,k.toProgressObserver)(k.loadRes)(l)],q.default);case 5:return s=n.sent,h=(0,d.default)(s,1),v=h[0],p=new N.GameModel,(y=new e(v,p)).currency=t.currency,this.instance=y,y.init(t.socketUrl,o),(0,z.setProps)(C.ctrlState,{game:y}),(0,z.setProps)(R.modelState,{game:p}),n.abrupt("return",y);case 16:case"end":return n.stop()}}),n,this)})))}),this));case 3:case"end":return n.stop()}}),n,this)})))}},{key:"genBgNum",value:function(){var e=(0,_.default)(1,3);return[e,{url:"image/game/normal_bg/bg".concat(e,".jpg"),type:S.Loader.IMAGE}]}}]),e}();t.GameCtrl=le},545:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t.changeUserAccount=function(e,t){v.ctrlState.game.changeUserNumInfo({userId:e,change_arr:t})},t.disableAllUserOperation=function(){var e;if(!g.modelState.game)return;var t,n=function(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return b(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return b(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}(null===(e=g.modelState.game)||void 0===e?void 0:e.getPlayers());try{for(n.s();!(t=n.n()).done;){var l=(0,f.default)(t.value,2),s=(l[0],l[1]);if(s.need_emit)s.disableSkill(y.SkillMap.Auto),s.getSkill(y.SkillMap.LockFish).unLock()}}catch(e){n.e(e)}finally{n.f()}},t.disableCurUserOperation=function(){var e=g.modelState.game.getCurPlayer();if(!e)return;e.disableSkill(y.SkillMap.Auto),e.getSkill(y.SkillMap.LockFish).unLock()},t.getItemType=function(e){if("3001"===e)return"bullet";if(0===(0,h.default)(e).call(e,"200"))return"skill";return},t.tipExchange=function(e){if(!e.currency)return;k.default.tip((0,_.tplIntr)("enterGameCostTip",{bringAmount:e.bringAmount,bulletNum:e.bulletNum,currency:e.currency}),null,{use_exist:!1})},t.waitEnterGame=function(){return w(this,void 0,void 0,c.default.mark((function e(){var t=this;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new d.default((function(e,n){return w(t,void 0,void 0,c.default.mark((function t(){return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,p.waitCreateSocket)(m.ServerName.Game);case 2:t.sent.event.once(m.ServerEvent.EnterGame,(function(t,n){if(200!==n)return e([!1]);e([!0,t])}));case 4:case"end":return t.stop()}}),t)})))})));case 1:case"end":return e.stop()}}),e)})))},t.waitGameExchangeOrLeave=function e(){return w(this,void 0,void 0,c.default.mark((function t(){return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new d.default((function(t,n){return w(this,void 0,void 0,c.default.mark((function n(){var r;return c.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,p.waitCreateSocket)(m.ServerName.Game);case 2:(r=n.sent).event.once(m.ServerEvent.ExchangeBullet,(function(n,a){if(r.event.offAllCaller(e),200!==a)return t(!1);t(!0)}),e),r.event.on(m.ServerEvent.RoomOut,(function(n){var a=n.userId;(0,g.isCurUser)(a)&&(r.event.offAllCaller(e),t(!0))}),e);case 5:case"end":return n.stop()}}),n)})))})));case 1:case"end":return t.stop()}}),t)})))};var c=s(n(66329)),f=s(n(24142)),d=s(n(93476)),h=s(n(81643)),v=n(66589),p=n(43267),y=n(66058),m=n(26744),g=n(11263),_=n(77513),k=s(n(10535));function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(e,t,n,r){return new(n||(n=d.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))}},51945:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.NormalPlayerCom=void 0;var i=a(n(15375)),o=a(n(17061)),u=n(66589),l=n(80356),s=n(59914),c=n(14082),f=n(26744),d=n(83091),h=n(83125),v=n(59446),p=n(44560),y=n(38703),m=function(){function e(t,n){(0,i.default)(this,e),this.model=t,this.game_ctrl=n,this.init()}return(0,o.default)(e,[{key:"init",value:function(){var e=this,t=this.model,n=this.game_ctrl,r=t.event,a=t.gun.event,i=n.view;r.on(h.PlayerEvent.CaptureFish,(function(e){var n=e.pos,r=e.data,a=r.win,i=r.drop,o=e.resolve,s=t.gun.pos;if(n||o(),t.is_cur_player){if(i){var f=(0,u.getGameCurrency)();(0,y.awardSkill)(n,s,i,f)}l.AudioCtrl.play(c.AudioRes.FlySkill)}a?t.is_cur_player&&a>1e3?(0,v.showAwardCircle)(n,a,t.is_cur_player).then(o):(0,p.showAwardCoin)(n,s,a,t.is_cur_player).then(o):o()}),this),t.is_cur_player&&(i.setBulletNum(t.bullet_num),r.on(h.PlayerEvent.UpdateInfo,(function(){var t=e.model.bullet_num;i.setBulletNum(t)})),a.on(d.GunEvent.NotEnoughBulletNum,(function(){e.game_ctrl.getSocket();e.game_ctrl.isTrial?(0,s.errorHandler)(f.ServerErrCode.TrialNotBullet):(0,s.errorHandler)(f.ServerErrCode.ReExchange)}),this))}},{key:"destroy",value:function(){this.model.event.offAllCaller(this)}}]),e}();t.NormalPlayerCom=m},82087:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t.convertEnterGame=S,t.onGameSocket=function(e,t){var n;(0,v.commonSocket)(e,t),(0,y.bindSocketEvent)(e,t,(n={},(0,f.default)(n,g.ServerEvent.EnterGame,(function(e,n){if(n!==g.OK_CODE)return(0,v.errorHandler)(n,e);t.onEnterGame(S(e))})),(0,f.default)(n,g.ServerEvent.TableIn,(function(e,n){if(n!==g.OK_CODE)return(0,v.errorHandler)(n,e);var r=function(e){var t=e.userId,n=e.index,r=e.multiple,a=e.turretSkin,i=x(c,!1);return{user_id:t,server_index:n-1,bullet_cost:r,gun_skin:"".concat(Number(a)-1e3),nickname:"",avatar:"",bullet_num:0,need_emit:!1,is_cur_player:!1,skills:i}}(e);t.addPlayers([r])})),(0,f.default)(n,g.ServerEvent.NeedEmitUser,(function(e,n){if(n!==g.OK_CODE)return(0,v.errorHandler)(n,e);(0,_.isCurUser)(e.userId)&&t.setPlayersEmit(e.robotIds)})),(0,f.default)(n,g.ServerEvent.TableOut,(function(e,n){if(n!==g.OK_CODE)return(0,v.errorHandler)(n,e);t.tableOut(e)})),(0,f.default)(n,g.ServerEvent.Shoot,(function(e,n){if(n!==g.OK_CODE)return(0,v.errorHandler)(n,e);t.onShoot(e)})),(0,f.default)(n,g.ServerEvent.Hit,(function(e,n){if(n!==g.OK_CODE)return(0,v.errorHandler)(n,e);t.onHit(e)})),(0,f.default)(n,g.ServerEvent.FishBomb,(function(e,n){n===g.OK_CODE?t.activeSkill(m.SkillMap.Bomb,C(e)):t.resetSkill(m.SkillMap.Bomb,(0,_.getCurUserId)())})),(0,f.default)(n,g.ServerEvent.UseBomb,(function(e,n){if(n===g.OK_CODE){var r=C(e);t.activeSkill(m.SkillMap.Bomb,(0,d.default)((0,d.default)({},r),{is_bomb_fish:!0}))}else t.resetSkill(m.SkillMap.Bomb,(0,_.getCurUserId)())})),(0,f.default)(n,g.ServerEvent.UseFreeze,(function(e,n){n===g.OK_CODE?t.activeSkill(m.SkillMap.Freezing,function(e){var t=e.userId,n=e.count,r=e.duration,a=e.frozenFishList;return{user_id:t,used_time:0,num:n,fish_list:a,duration:r/1e3}}(e)):t.resetSkill(m.SkillMap.Freezing,(0,_.getCurUserId)())})),(0,f.default)(n,g.ServerEvent.autoShoot,(function(e){e.autoShoot?t.activeSkill(m.SkillMap.Auto,function(e){var t=e.userId,n=e.autoShoot;return{user_id:t,autoShoot:n}}(e)):t.disableSkill(m.SkillMap.Auto,e.userId)})),(0,f.default)(n,g.ServerEvent.LockFish,(function(e,n){n===g.OK_CODE?t.activeSkill(m.SkillMap.LockFish,function(e){var t=e.userId,n=e.eid,r=e.needActive,a=e.duration,i=e.count;return{user_id:t,fish:n,needActive:r,duration:a/1e3,used_time:0,num:Number(i)}}(e)):t.resetSkill(m.SkillMap.Freezing,(0,_.getCurUserId)())})),(0,f.default)(n,g.ServerEvent.AddFish,(function(e){t.addFish(e.fish)})),(0,f.default)(n,g.ServerEvent.FishShoal,(function(e){t.shoalComingTip((0,h.default)(e)),t.addFish(e.fish)})),(0,f.default)(n,g.ServerEvent.RoomOut,(function(e){t.roomOut(e)})),(0,f.default)(n,g.ServerEvent.ChangeTurret,(function(e,n){if(n!==g.OK_CODE)return(0,v.errorHandler)(n,e);t.changeBulletCost(e)})),(0,f.default)(n,g.ServerEvent.UseSkin,(function(e,n){if(n!==g.OK_CODE)return(0,v.errorHandler)(n,e);t.changeSkin(e)})),(0,f.default)(n,g.ServerEvent.ExchangeBullet,(function(e,t){if(t!==g.OK_CODE)return(0,v.errorHandler)(t,e);var n=(0,_.getCurPlayer)(),r=n.gun.getAllBulletCost();n.updateInfo({bullet_num:e.balance-r}),(0,k.tipExchange)(e)})),(0,f.default)(n,p.SocketEvent.Reconnected,(function(){t.reset(),e.send(g.ServerEvent.EnterGame,{replay:!0})})),n))};var c,f=s(n(67513)),d=s(n(51942)),h=s(n(97093)),v=n(59914),p=n(49659),y=n(43267),m=n(66058),g=n(26744),_=n(11263),k=n(545);function b(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return w(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return w(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e){var t=e.isTrial,n=e.rate,r=e.users,a=e.items,i=e.fish,o=e.frozen,u=e.frozenLeft,l=e.currency,s=[];c=a;var f,h=b(r);try{for(h.s();!(f=h.n()).done;){var v=f.value,p=v.userId,y=v.index,g=v.bulletNum,k=v.multiple,w=v.turretSkin,S=v.lockFish,C=v.lockLeft,I=v.needEmit,A=(0,_.isCurUser)(p),E=(0,_.isCurUser)(p)||I,T=x(a,A);S&&(T[m.SkillMap.LockFish]=(0,d.default)((0,d.default)({},T[m.SkillMap.LockFish]),{lock_fish:S,lock_left:C/1e3,needActive:!0}));var M={user_id:p,server_index:y-1,bullet_num:g,bullet_cost:k,gun_skin:"".concat(Number(w)-1e3),nickname:"",avatar:"",is_cur_player:A,skills:T,need_emit:E};A?s.unshift(M):s.push(M)}}catch(e){h.e(e)}finally{h.f()}var B=[];if(o){var L,P=b(i);try{for(P.s();!(L=P.n()).done;){var O=L.value;O.frozen&&B.push(O.eid)}}catch(e){P.e(e)}finally{P.f()}}return{isTrial:t,exchange_rate:n,fish:i,users:s,frozen:o,currency:l,frozen_left:u/1e3,fish_list:B}}function C(e){return{user_id:e.userId,pos:e.bombPoint,num:e.count,used_time:0,fish_list:e.killedFish}}function x(e,t){var n,r={},a=b(e);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=i.itemId,u=i.count,l=i.usedTime,s=i.coolTime,c=i.duration;r[i.itemId]={item_id:o,num:t?Number(u):0,used_time:t?l/1e3:0,cool_time:s/1e3,duration:c/1e3}}}catch(e){a.e(e)}finally{a.f()}return r}},88672:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t.GameTestCtrl=void 0;var c=s(n(66329)),f=s(n(24142)),d=s(n(15375)),h=s(n(17061)),v=s(n(93476)),p=s(n(36384)),y=n(899),m=n(22426),g=n(66589),_=n(59914),k=n(43267),b=n(21560),w=n(26744),S=n(86408),C=n(11263),x=n(77513),I=s(n(92606)),A=s(n(7750)),E=n(63211),T=n(51945),M=n(82087),B=n(96747),L=n(8253);function P(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return O(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return O(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=function(e,t,n,r){return new(n||(n=v.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},R=function(){function e(t,n){(0,d.default)(this,e),this.view=t,this.model=n,this.currency="",this.isArena=!1,this.player_list=new p.default,C.modelState.game=n,this.onModel(),(0,L.genUserInfo)(this)}return(0,h.default)(e,[{key:"changeUserNumInfo",value:function(e){}},{key:"needUpSideDown",value:function(){return!1}},{key:"onModel",value:function(){var e=this,t=this.model.event,n=this.view;t.on(S.GameEvent.AddFish,(function(t){var r=t.type,a=t.id,i=t.horizon_turn,o=t.currency,u=n.addFish({type:r,id:a,horizon_turn:i,currency:o});e.fish_view=u;new E.FishCtrl(u,t,e)}),this),t.on(S.GameEvent.AddPlayer,(function(t){var r=n.addGun(),a=new B.PlayerCtrl(r,t,e),i=new T.NormalPlayerCom(t,e);a.addCom(i),e.player_list.add(a)}),this),t.on(S.GameEvent.Destroy,(function(){e.destroy()}),this)}},{key:"sendToGameSocket",value:function(){var e=(0,k.getSocket)(w.ServerName.Game);null==e||e.send.apply(e,arguments)}},{key:"offGameSocket",value:function(){var e=(0,k.getSocket)(w.ServerName.Game);(0,_.offCommon)(e,this)}},{key:"buySkillTip",value:function(){}},{key:"getSocket",value:function(){return(0,k.getSocket)(w.ServerName.Game)}},{key:"calcClientIndex",value:function(){return 1}},{key:"onShoot",value:function(e){this.model.shoot(e)}},{key:"onHit",value:function(e){this.model.captureFish(e)}},{key:"addFish",value:function(e){var t,n=P(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.model.addFish(r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"removePlayerCtrl",value:function(e){this.player_list.delete(e)}},{key:"destroy",value:function(){var e,t;this.offGameSocket(),null===(t=null===(e=this.model)||void 0===e?void 0:e.event)||void 0===t||t.offAllCaller(this),this.model=void 0,this.view=void 0,(0,x.setProps)(g.ctrlState,{game:void 0}),this.player_list=new p.default}}],[{key:"preEnter",value:function(){return N(this,void 0,void 0,c.default.mark((function t(){var n,r,a,i,o,u;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,y.mergeProgressObserver)([(0,y.toProgressObserver)(I.default.preEnter)(),(0,y.promiseToProgressObserver)(L.mockSocket)(),(0,y.toProgressObserver)(y.fakeLoad)(1),(0,y.toProgressObserver)(m.AppCtrl.commonLoad)(),(0,y.toProgressObserver)(y.loadRes)(b.res.gameTutorial)],A.default);case 2:return n=t.sent,r=(0,f.default)(n,2),a=r[0],i=r[1],o=new S.GameModel,(u=new e(a,o)).view.showBubbleRefresh(1),(0,M.onGameSocket)(i,u),t.abrupt("return",u);case 11:case"end":return t.stop()}}),t)})))}}]),e}();t.GameTestCtrl=R},8253:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.genFishInfo=function(e){var t=12e8,n={eid:"001",fishId:"".concat(1),displaceType:"path",pathNo:"".concat(3),totalTime:t,usedTime:6e8};e.model.addFish(n)},t.genUserInfo=function(e){var t,n=e.model,r=d.modelState.app.user_info.user_id,a={user_id:r,server_index:0,bullet_cost:1,bullet_num:1,gun_skin:"1",nickname:r,avatar:"test",need_emit:!0,is_cur_player:!0,skills:(t={},(0,o.default)(t,c.SkillMap.Freezing,{item_id:c.SkillMap.Freezing,num:1,cool_time:10,used_time:0}),(0,o.default)(t,c.SkillMap.LockFish,{item_id:c.SkillMap.LockFish,num:20,cool_time:10,used_time:0}),(0,o.default)(t,c.SkillMap.Bomb,{item_id:c.SkillMap.Bomb,num:20,cool_time:10,used_time:0}),t)};n.addPlayer(a,e.needUpSideDown)},t.mockShoot=function(){return v(this,void 0,void 0,i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.modelState.app.user_info.user_id,n=(0,s.getSocket)(f.ServerName.Game),n.event.emit(f.ServerEvent.Shoot,{userId:t,direction:{x:1.3,y:-1}},200),e.abrupt("return",(0,h.sleep)(2));case 4:case"end":return e.stop()}}),e)})))},t.mockSocket=function(){return v(this,void 0,void 0,i.default.mark((function e(){var t,n,r,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.modelState.app.user_info.user_id,(0,s.mockSocketCtor)(l.MockWebSocket),e.next=4,(0,s.createSocket)({url:"",publicKey:"",code:"",name:"game",host:""});case 4:return n=e.sent,r=n.sendEvent,a=n.event,r.on(f.ServerEvent.Shoot,(function(e){(0,h.sleep)(.01).then((function(){a.emit(f.ServerEvent.Shoot,{userId:t,direction:e.direction},200)}))})),r.on(f.ServerEvent.Hit,(function(e){(0,h.sleep)(.1).then((function(){a.emit(f.ServerEvent.Hit,{userId:t,eid:e.eid,win:2},200)}))})),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))},t.resetMockSocketCtor=function(e){if(!e)return;var t=e.model;(0,s.disconnectSocket)(f.ServerName.Game),(0,s.mockSocketCtor)(void 0),t.destroy()};var i=a(n(66329)),o=a(n(67513)),u=a(n(93476)),l=n(91549),s=n(43267),c=n(66058),f=n(26744),d=n(11263),h=n(90564),v=function(e,t,n,r){return new(n||(n=u.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))}},48732:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.NetCtrl=void 0;var i=a(n(33032)),o=a(n(15375)),u=a(n(17061)),l=n(37440),s=n(77513),c=n(48652),f=n(70903),d=function(){function e(t,n){(0,o.default)(this,e),this.view=t,this.model=n,this.init()}return(0,u.default)(e,[{key:"init",value:function(){var e=this.view,t=this.model,n=t.skin_level,r=c.viewState.game.upside_down,a=t.pos,i=a.x,o=a.y;e.pos(i,o),r&&(e.scaleY=-1),(0,s.playSkeleton)(e,n,!1),this.initEvent(),e.zOrder=301}},{key:"initEvent",value:function(){var e=this,t=(this.view,this.model.event);t.on(l.ModelEvent.Destroy,(function(){var n=e.model.skin;(0,i.default)((function(){(0,f.recoverSkeletonPool)("net",n,e.view)}),1e3),t.offAllCaller(e)}),this)}}]),e}();t.NetCtrl=d},96747:function(e,t,n){"use strict";var r=n(1068),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.PlayerCtrl=void 0;var f=c(n(81643)),d=c(n(77766)),h=c(n(24142)),v=c(n(15375)),p=c(n(17061)),y=c(n(45408)),m=c(n(97709)),g=c(n(38191)),_=c(n(52305)),k=c(n(86116)),b=n(24629),w=n(74227),S=n(30260),C=n(89662),x=n(80356),I=n(14082),A=n(66058),E=n(26744),T=n(83091),M=n(83125),B=n(34085),L=n(11263),P=n(36620),O=n(55161),N=n(77513),R=n(48652),U=n(66589),G=n(217),D=n(67005);function F(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return H(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,_.default)(e);if(t){var i=(0,_.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,g.default)(this,n)}}var j=[1,2,3,4,5,10,15,20],V=function(e){(0,m.default)(n,e);var t=z(n);function n(e,r,a){var i;return(0,v.default)(this,n),(i=t.call(this)).view=e,i.model=r,i.game_ctrl=a,i.time_out=new S.TimeoutCom,i.addCom(i.time_out),i.init(),i}return(0,p.default)(n,[{key:"init",value:function(){this.initGun(),this.initEvent()}},{key:"initGun",value:function(){var e=this.view,t=this.model,n=this.game_ctrl,r=t.server_index,a=t.gun.pos;n.needUpSideDown(r)&&e.fixServerTopPos();var i=n.calcClientIndex(r);n.needUpSideDown(i)&&e.fixClientTopPos(),e.setPos(a.x,a.y)}},{key:"initEvent",value:function(){var e=this,t=this.view,n=this.model,r=n.user_id,a=n.gun,i=n.is_cur_player,o=n.skill_map,u=n.event,l=a.event,s=a.direction,c=a.pos,f=t.btn_minus,d=t.btn_add;u.on(M.PlayerEvent.Destroy,(function(){e.destroy()}),this),l.on(T.GunEvent.AddBullet,(function(e){var n=e.bullet_group,o=e.velocity,u=a.rage;t.fire(o,r),i&&(t.stopPosTip(),x.AudioCtrl.play(I.AudioRes.Fire));var l,s=F(n.bullet_map);try{for(s.s();!(l=s.n()).done;){var c=(0,h.default)(l.value,2)[1],f=t.addBullet(c.skin,u);new G.BulletCtrl(f,c)}}catch(e){s.e(e)}finally{s.f()}}),this),t.setDirection(s),l.on(T.GunEvent.DirectionChange,(function(e){t.setDirection(e)}),this),l.on(T.GunEvent.LevelChange,(function(n){i&&e.detectDisableChangeBulletCost(n.bullet_cost),t.setBulletCost(n)}),this),t.on(C.Event.CLICK,t,(function(e){e.stopPropagation()}));var v,p=0,y=F(o);try{for(y.s();!(v=y.n()).done;){var m=(0,h.default)(v.value,2)[1];if(m instanceof B.AutoShootModel){if(i){var g=(0,R.getAutoShootSkillItem)();this.handleAutoShoot(m,g)}}else{if(i){var _=(0,R.getSkillItemByIndex)(p);new D.SkillCtrl(m,this,_)}else new D.SkillCtrl(m,this);p++}}}catch(e){y.e(e)}finally{y.f()}l.on(T.GunEvent.WillAddBullet,(function(t){if(e.model){var n=e.model,r=n.need_emit,a=n.user_id,i=n.is_cur_player;if(r){var o={direction:{x:t.x,y:t.y},userId:a};i||(o.robotId=a,o.userId=(0,L.getCurPlayer)().user_id),e.game_ctrl.sendToGameSocket(E.ServerEvent.Shoot,o)}}}),this),l.on(T.GunEvent.CastFish,(function(t){var n=t.fish,r=n.id,a=n.group_id,i=t.level,o=e.model,u=o.user_id,l=o.is_cur_player,s={eid:r,multiple:i};a&&(s.gid=a),l||(s.robotId=u),s.eid?e.game_ctrl.sendToGameSocket(E.ServerEvent.Hit,s):e.model.updateInfo({bullet_num:e.model.bullet_num+i})}),this),i&&(t.setMySelfStyle(),this.resetGetBulletCost(),l.on(T.GunEvent.NotEnoughBulletNum,(function(){if(a.status===T.GunStatus.AutoShoot){var t=e.model.getSkill(A.SkillMap.Auto);console.warn("test:>NotEnoughBulletNum"),e.time_out.createTimeout((function(){t.toggle()}),0)}}),this),l.on(T.GunEvent.AutoShoot,(function(e){(0,R.setAutoShootLight)(e)}),this),(0,R.getGameView)().on(C.Event.CLICK,t,(function(){var e=(0,R.getPoolMousePos)(),t=new k.default.Vector(e.x-c.x,e.y-c.y);a.preAddBullet(t)})),f.on(C.Event.CLICK,f,(function(t){t.stopPropagation(),e.sendChangeBulletCost("minus")})),d.on(C.Event.CLICK,d,(function(t){t.stopPropagation(),e.sendChangeBulletCost("add")})))}},{key:"handleAutoShoot",value:function(e,t){t.on(C.Event.CLICK,this.view,(function(t){t.stopPropagation(),(0,O.log)("test:>autoShoot:>click"),e.toggle()}))}},{key:"detectDisableChangeBulletCost",value:function(e){var t=this.view,n=t.btn_minus,r=t.btn_add,a=(0,f.default)(j).call(j,e);(0,N.unDarkNode)(n),(0,N.unDarkNode)(r),a<=0?(0,N.darkNode)(n):a>=j.length-1&&(0,N.darkNode)(r)}},{key:"resetGetBulletCost",value:function(){var e,t,n=this,r=this.game_ctrl.isTrial,a=(0,L.getCurUserId)(this.game_ctrl.isArena),i=(0,U.getGameCurrency)(),o=(0,P.getItem)((0,d.default)(e=(0,d.default)(t="".concat(a,":")).call(t,i,":")).call(e,r));o!==this.model.bullet_cost+""&&Number(o)&&this.time_out.createTimeout((function(){n.game_ctrl.sendToGameSocket(E.ServerEvent.ChangeTurret,{multiple:Number(o)})}),800)}},{key:"sendChangeBulletCost",value:function(e){var t,n,r=this.game_ctrl.isTrial,a=this.model.bullet_cost,i=(0,f.default)(j).call(j,a),o="add"===e?i+1:i-1;if(!(o<0||o>j.length-1)){x.AudioCtrl.play(I.AudioRes.Click);var u=j[o];this.detectDisableChangeBulletCost(u),this.game_ctrl.sendToGameSocket(E.ServerEvent.ChangeTurret,{multiple:u});var l=(0,L.getCurUserId)(this.game_ctrl.isArena),s=(0,U.getGameCurrency)();(0,P.setItem)((0,d.default)(t=(0,d.default)(n="".concat(l,":")).call(n,s,":")).call(t,r),u+"")}}},{key:"destroy",value:function(){var e=this.view,t=this.model,r=t.gun.event,a=t.event;(0,R.getGameView)().offAllCaller(e),b.Laya.stage.offAllCaller(e),a.offAllCaller(this),r.offAllCaller(this),(0,R.getAutoShootSkillItem)().offAllCaller(this.view),e.destroy(),this.view=void 0,this.game_ctrl=void 0,this.model=void 0,(0,y.default)((0,_.default)(n.prototype),"destroy",this).call(this)}}]),n}(w.ComponentManager);t.PlayerCtrl=V},67005:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.SkillCtrl=void 0;var i=a(n(15375)),o=a(n(17061)),u=n(36065),l=n(69718),s=n(43776),c=n(4603),f=function(){function e(t,n,r){(0,i.default)(this,e),this.view=r,this.model=t,this.player=n,this.game_ctrl=n.game_ctrl,this.initEvent(),this.setInfo()}return(0,o.default)(e,[{key:"initEvent",value:function(){var e=this,t=this.view,n=this.model,r=this.player,a=n.skill_core.event;if(a.on(s.SkillEvent.ActiveSkill,(function(t){(0,c.skillActiveHandler)(n,t,r.model,e.game_ctrl)}),this),t){a.on(s.SkillEvent.StatusChange,(function(e){e===s.SkillStatus.Active?t.highlight():e===s.SkillStatus.Disable||e===s.SkillStatus.Normal?(t.unHighlight(),t.clearCoolTime(),(0,c.skillDisableHandler)(n)):e===s.SkillStatus.PreActive&&(n instanceof u.BombModel||n instanceof l.LockFishModel)&&t.highlight()}),this),a.on(s.SkillEvent.UpdateInfo,(function(){e.setInfo()}),this);var i=0;a.on(s.SkillEvent.UpdateRadio,(function(e){i%3&&1!==e?i++:(i++,1===e&&(i=0),t.showCoolTime(e))}),this),a.on(s.SkillEvent.Destroy,(function(){e.destroy()}),this),this.bindTrigger=(0,c.onTrigger)(n,t).subscribe((function(){n.skill_core.status===s.SkillStatus.Normal?(0,c.skillPreActiveHandler)(n,e.game_ctrl):n.skill_core.status===s.SkillStatus.PreActive&&(0,c.skillNormalActiveHandler)(n)}))}}},{key:"setInfo",value:function(){var e=this.view,t=this.model.skill_core,n=t.num,r=t.item_id;e&&(e.setId(r),e.setNum(n))}},{key:"destroy",value:function(){var e,t,n;null===(n=null===(t=null===(e=this.model)||void 0===e?void 0:e.skill_core)||void 0===t?void 0:t.event)||void 0===n||n.offAllCaller(this),this.bindTrigger.unsubscribe(),this.model=void 0}}]),e}();t.SkillCtrl=f},4603:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.getShortcut=function(e){if(e instanceof p.LockFishModel)return"F1";if(e instanceof v.FreezeModel)return"F2";if(e instanceof h.BombModel)return"F3"},t.onTrigger=function(e,t){var n=112;e instanceof p.LockFishModel?n=112:e instanceof v.FreezeModel?n=113:e instanceof h.BombModel&&(n=114);var r=(0,k.onKeyBoardEvent)(n),a=(0,k.onNodeEvent)(t,u.Event.CLICK);return(0,o.merge)(r,a)},t.skillActiveHandler=function(e,t,n,r){return new i.default((function(a,i){if(e instanceof p.LockFishModel){var o=t.fish,u=t.is_tip,c=t.gun_pos;if(!n.is_cur_player){if((0,_.debug)("lock:>skill:>skillActiveHandler",u),n.need_emit&&u&&o){var d={eid:o.id,robotId:n.user_id};o.group_id&&(d.gid=o.group_id),r.sendToGameSocket(f.ServerEvent.LockFish,d)}return}u&&w.default.tip((0,b.tplIntr)("aimFish"),2);var v=!u;(0,S.activeAimFish)(o,v,c),(0,x.onFishClick)().subscribe((function(e){var t=e.id,n=e.group_id,a={eid:t};n&&(a.gid=n),r.sendToGameSocket(f.ServerEvent.LockFish,a)}))}else if(e instanceof h.BombModel){var y=x.viewState.game.pool;(0,C.activeExploding)(t),(0,g.offMouseMove)(y),l.AudioCtrl.play(s.AudioRes.Bomb),a(void 0)}}))},t.skillDisableHandler=function(e){return new i.default((function(t,n){e instanceof p.LockFishModel?((0,S.stopAim)("aim"),(0,x.offFishClick)()):e instanceof h.BombModel?(0,x.offPoolClick)():t(void 0)}))},t.skillNormalActiveHandler=function(e){if(e.skill_core.status!==y.SkillStatus.PreActive)return;e.skill_core.setStatus(y.SkillStatus.Normal),e instanceof p.LockFishModel&&((0,x.offFishClick)(),w.default.hide(),(0,S.stopAim)("aim"));if(e instanceof h.BombModel){var t=x.viewState.game.pool;w.default.hide(),(0,S.stopAim)("aim_big"),(0,x.offPoolClick)(),(0,g.offMouseMove)(t)}},t.skillPreActiveHandler=function(e,t){if(e.skill_core.num<=0)return t.buySkillTip();if(e.skill_core.status!==y.SkillStatus.Normal)return;if(e.skill_core.setStatus(y.SkillStatus.PreActive),e instanceof v.FreezeModel)t.sendToGameSocket(f.ServerEvent.UseFreeze);else if(e instanceof h.BombModel){w.default.tip((0,b.tplIntr)("posBombTip"),2);var n=x.viewState.game.pool,r=c.Config.PoolWidth,a=c.Config.PoolHeight;(0,S.activeAim)({x:r/2,y:a/2}),(0,g.onMouseMove)(n,(function(e){return(0,S.activeAim)(e)})),(0,x.onPoolClick)(!0).subscribe((function(e){(0,g.offMouseMove)(n),(0,S.stopAim)("aim_big");var r=(0,d.getBeBombFishIds)(e);t.sendToGameSocket(f.ServerEvent.UseBomb,{bombPoint:e,fishList:r})}))}else if(e instanceof p.LockFishModel){var i=e.skill_core.player,o=(i.user_id,i.is_cur_player),u=i.need_emit,l=(0,m.getAimFish)();if(!o&&u)return;var s=m.modelState.game.getCurPlayer();w.default.tip((0,b.tplIntr)("aimFish"),2),(0,S.activeAimFish)(l,!1,s.gun.pos),(0,x.onFishClick)(!0).subscribe((function(e){var n=e.id,r=e.group_id,a={eid:n,needActive:!0};r&&(a.gid=r),t.sendToGameSocket(f.ServerEvent.LockFish,a)}))}};var i=a(n(93476)),o=n(72649),u=n(89662),l=n(80356),s=n(14082),c=n(66058),f=n(26744),d=n(42717),h=n(36065),v=n(33302),p=n(69718),y=n(43776),m=n(11263),g=n(52782),_=n(55161),k=n(37478),b=n(77513),w=a(n(65710)),S=n(81756),C=n(1141),x=n(48652)},86204:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.awaitStageClick=function(){var e=this;return new o.default((function(t,n){f.Laya.stage.on(h.Event.CLICK,e,(function(){t()}))}))},t.extraShape=C,t.getBoundsOfNode=k,t.getPromptByShape=b,t.showPromptByNode=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"top",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"btn";return g(this,void 0,void 0,i.default.mark((function o(){var u,l,s,c,f,d,h,v,y;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return l="rect",e.sprite?(u=e.sprite,l=e.shape):u=e,s=m.guide_state.guide_dialog,c=k(u,s),f=c.x,d=c.y,h=c.width,v=c.height,y="rect"===l?new p.Rectangle(f,d,h,v):{x:f+h/2,y:d+v/2,radius:Math.max(h,v)},i.next=7,S(y,t,n,r,a);case 7:case"end":return i.stop()}}),o)})))},t.showPromptByShape=S,t.triggerClick=function(e){e.event(h.Event.CLICK,{type:h.Event.CLICK})};var i=a(n(66329)),o=a(n(93476)),u=a(n(81643)),l=a(n(14310)),s=a(n(32366)),c=a(n(51942)),f=n(24629),d=n(22833),h=n(89662),v=n(85399),p=n(98693),y=n(90564),m=n(10503),g=function(e,t,n,r){return new(n||(n=o.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(0,u.default)(t).call(t,r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof l.default){var a=0;for(r=(0,l.default)(e);a<r.length;a++)(0,u.default)(t).call(t,r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=n/2,a=e.localToGlobal(new v.Point(-r,-r));a=t.globalToLocal(a,!0);var i=e.localToGlobal(new v.Point(e.width+r,e.height+r));i=t.globalToLocal(i,!0);var o=a,u=o.x,l=o.y,s=i.x-u,c=i.y-l;return s<0&&(u=i.x,l=i.y,s=a.x-u,c=a.y-l),{x:u,y:l,width:s,height:c}}function b(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=m.guide_state.prompt,i=a.getSize();if(e instanceof p.Rectangle){var o=e.x,u=e.y,l=e.width,s=e.height;switch(t){case"top":n={x:o,y:u-i.height-r};break;case"right":n={x:o+l+r,y:u};break;case"bottom":n={x:o,y:u+s+r};break;case"left":n={x:o-i.width-r,y:u}}}else{var c=e.x,f=e.y,d=e.radius;switch(t){case"top":n={x:c-d,y:f-d-i.height-r};break;case"right":n={x:c+d+r,y:f-d};break;case"bottom":n={x:c-d,y:f+d+r};break;case"left":n={x:c-d-i.width-r,y:f-d}}}return n}function w(e){return g(this,void 0,void 0,i.default.mark((function t(){var n,r,a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=m.guide_state.prompt,r=n.getSize(),a=(0,s.default)(e).call(e,(function(e,t){var n=t.split("<br/>").length;return 1===n&&(n=Math.ceil((0,d.getStringLength)(t)/50)),n>e&&(e=n),e}),0),n.setSize(r.width,35*a),t.next=6,(0,y.sleep)(.5);case 6:case"end":return t.stop()}}),t)})))}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"top",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"btn";return g(this,void 0,void 0,i.default.mark((function o(){var u,l,s,c;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return 20,u=m.guide_state.guide_dialog,l=m.guide_state.prompt,m.guide_state.btn_next,e=C(e,20),i.next=5,w(t);case 5:return s=b(e,n),c=l.prompt({pos:s,dir:n},t,!1),i.next=9,u.drawBlankWaitClick(e,r,a,c);case 9:return i.next=11,l.hide();case 11:u.clearBlank();case 12:case"end":return i.stop()}}),o)})))}function C(e,t){if(e instanceof p.Rectangle){var n=e.x,r=e.y,a=e.width,i=e.height;return new p.Rectangle(n-t/2,r-t/2,a+t,i+t)}var o=e.radius,u=_(e,["radius"]);return(0,c.default)((0,c.default)({},u),{radius:o+t/2})}},6671:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.PointerGuide=void 0;var i=a(n(15375)),o=a(n(17061)),u=n(90564),l=function(){function e(t){(0,i.default)(this,e),this.name="pointer",this.view=t}return(0,o.default)(e,[{key:"moveToTarget",value:function(e,t){var n=this;t&&(this.target=t);var r=this.target;if(r){var a=this.view;this.showPointer("static"),(0,u.move)(a,e,r,500).then((function(){n.showPointer("target")}))}}},{key:"show",value:function(e,t,n){var r=this.view;r.visible=!1,this.showPointer(t),r.pos(e.x,e.y),"target"===t&&(this.target={x:e.x,y:e.y}),(0,u.fade_in)(r,500).then(n)}},{key:"isShow",value:function(){return this.view.visible=!1}},{key:"showPointer",value:function(e){e=e||"static";var t=this.view,n=t.pointer_img,r=t.pointer_ani;this.resetView(),"static"===e?n.visible=!0:(r.visible=!0,r.play(0,!0))}},{key:"hidePointer",value:function(){this.resetView(),this.target=null,this.hide()}},{key:"resetView",value:function(){var e=this.view,t=this.view,n=t.pointer_img,r=t.pointer_ani;e.alpha=1,n.visible=!1,r.visible=!1,r.stop()}},{key:"hide",value:function(){var e=this.view;(0,u.stopAni)(e),e.visible=!1}}]),e}();t.PointerGuide=l},96192:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t.PromptGuide=void 0;var c=s(n(24142)),f=s(n(15375)),d=s(n(17061)),h=s(n(81643)),v=s(n(14310)),p=s(n(51942)),y=s(n(93476)),m=s(n(33032)),g=s(n(3649)),_=n(24629),k=n(89662),b=n(90564),w=n(77513);function S(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return C(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(0,h.default)(t).call(t,r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof v.default){var a=0;for(r=(0,v.default)(e);a<r.length;a++)(0,h.default)(t).call(t,r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},I={fontSize:25,color:"#ffe7a7"},A=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,f.default)(this,e),this.auto_hide=!0,this.step=-1,this.is_going=!1,this.name="prompt",this.view=t,this.style=(0,p.default)((0,p.default)({},I),n);var r=t.html_div;r.style.width=579,r.style.whiteSpace="nowrap"}return(0,d.default)(e,[{key:"prompt",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new y.default((function(a,i){n.reset(),n.view.pos(e.pos.x,e.pos.y),"string"==typeof t||t[0].color?n.tip_msg=[t]:n.tip_msg=t,n.complete_resolve=a,n.auto_hide=r,n.is_going=!0,n.step_map=n.analysisTip(n.tip_msg),n.showTip(),_.Laya.stage.on(k.Event.CLICK,n,(function(){n.jumpLevelLastStep()})),n.show(e.dir)}))}},{key:"jumpLevelLastStep",value:function(){var e,t=this.step_map,n=this.step,r=0,a=0,i=S(t);try{for(i.s();!(e=i.n()).done;){if((a=(r+=e.value)-1)>n)break}}catch(e){i.e(e)}finally{i.f()}this.showTip(a)}},{key:"getStepInfo",value:function(e){for(var t=this.step_map,n=0,r=0,a=0,i=!1,o=!1,u=0;u<t.length;u++){var l=t[u];if(e<=(a+=l)-1){n=u,r=e-(a-l);break}}var s=t[n];return n>=t.length-1&&r>=s-1&&(i=!0),r>=s-1&&(o=!0),{level_index:n,level_step_index:r,is_level_last:o,is_last:i}}},{key:"showTip",value:function(e){var t=this,n=this.tip_msg;e=e||0,this.step=e;var r=this.getStepInfo(e),a=r.level_index,i=r.level_step_index,o=r.is_last,u=r.is_level_last,l=this.view.html_div,s=70,c=n[a];l.innerHTML=this.getTipByLen(c,i+1),clearTimeout(this.timeout),o?this.timeout=(0,m.default)((function(){t.complete()}),this.auto_hide?1e3:0):(u&&(s=1e3),this.timeout=(0,m.default)((function(){t.showTip(++e)}),s))}},{key:"getTipByLen",value:function(e,t){var n=[],r=this.style;if("string"==typeof e){var a,i=E(e,t),o=S((0,c.default)(i,1)[0]);try{for(o.s();!(a=o.n()).done;){var u=a.value;n.push((0,p.default)((0,p.default)({},r),{msg:u}))}}catch(e){o.e(e)}finally{o.f()}}else{var l,s=S(e);try{for(s.s();!(l=s.n()).done;){var f=l.value,d=f.msg,h=x(f,["msg"]),v=E(d,t),y=(0,c.default)(v,2),m=y[0];t=y[1];var g,_=(0,p.default)((0,p.default)({},r),h),k=S(m);try{for(k.s();!(g=k.n()).done;){var b=g.value;n.push((0,p.default)((0,p.default)({},_),{msg:b}))}}catch(e){k.e(e)}finally{k.f()}if(t<=0)break}}catch(e){s.e(e)}finally{s.f()}}return this.jsonToHtml(n)}},{key:"jsonToHtml",value:function(e){var t,n="",r=S(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,i='<span style="font-size:{fontSize}px;color:{color};">{msg}</span>';for(var o in a){if("<br/>"===a[o])i="<br/>";else{var u=new RegExp("{"+o+"}","g");i=i.replace(u,a[o])}}n+=i}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"show",value:function(e){var t;switch(e){case"top":t=b.slide_down_in;break;case"right":t=b.slide_left_in;break;case"bottom":t=b.slide_up_in;break;default:t=b.slide_right_in}t(this.view,800)}},{key:"analysisTip",value:function(e){var t,n=[],r=S(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,i=a.length;if("string"!=typeof a){i=0;var o,u=S(a);try{for(u.s();!(o=u.n()).done;){i+=o.value.msg.length}}catch(e){u.e(e)}finally{u.f()}}n.push(i)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"showCompletedTip",value:function(){if(this.is_going){clearTimeout(this.timeout);var e=this.getCurTipCompleteStepInfo();e.is_complete?this.complete():e.in_wait?this.showTip(++e.step):this.showTip(e.step)}}},{key:"getCurTipCompleteStepInfo",value:function(){for(var e=this.step,t=this.step_map,n=0,r=!1,a=!1,i=0,o=t.length;i<o;i++){if(e<(n+=t[i])){e=n;break}if(e===n){r=!0,i===o-1&&(a=!0);break}}return{step:e,in_wait:r,is_complete:a}}},{key:"complete",value:function(){this.complete_resolve&&(0,w.callFunc)(this.complete_resolve),this.auto_hide&&this.hide(),this.reset()}},{key:"getSize",value:function(){var e=this.view;return{width:e.width,height:e.height}}},{key:"setSize",value:function(e,t){var n=this.view;n.width=e,n.height=t}},{key:"reset",value:function(){this.tip_msg=null,this.complete_resolve=null,this.auto_hide=!0,this.step=-1,this.step_map=null,this.is_going=!1,_.Laya.stage.offAllCaller(this)}},{key:"hide",value:function(){var e=this.view;e.html_div.innerHTML="",e.visible=!1}}]),e}();function E(e,t){var n=e.split("<br/>"),r=[];if(1===e.length)r.push((0,g.default)(e).call(e,0,t)),t=0;else for(var a=0;a<n.length;a++){var i=n[a],o=(t-=i.length)>0?i:(0,g.default)(i).call(i,0,i.length+t);if(r.push(o),a!==n.length-1&&t>0&&(r.push("<br/>"),t--),t<=0)break}return[r,t]}t.PromptGuide=A,window.spliceStr=E},50739:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.gotoGuide=v,t.guide_arr=void 0;var i,o=a(n(66329)),u=a(n(93476)),l=n(36620),s=n(2006),c=n(99479),f=function(e,t,n,r){return new(n||(n=u.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},d=[];t.guide_arr=d;var h=!1;function v(e,t){return f(this,void 0,void 0,o.default.mark((function n(){return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(d.push({group_id:e,functionId:t}),h){n.next=5;break}return h=!0,n.next=5,p();case 5:case"end":return n.stop()}}),n)})))}function p(){return f(this,void 0,void 0,o.default.mark((function e(){var t,n,r,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i||(i=new c.GuideMain),e.next=3,i.start();case 3:if(!(d.length>0)){e.next=11;break}return t=d.shift(),n=t.group_id,r=t.functionId,a=y[n],e.next=8,a();case 8:i.onGuideUpdate(n,r),e.next=3;break;case 11:h=!1,i.end();case 13:case"end":return e.stop()}}),e)})))}window.gotoGuide=v;var y={1:function(){return f(void 0,void 0,void 0,o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new s.NewUserGuide,e.next=3,t.start("1");case 3:(0,l.setItem)("guide","end");case 4:case"end":return e.stop()}}),e)})))}}},54820:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(66329)),u=i(n(15375)),l=i(n(17061)),s=i(n(45408)),c=i(n(97709)),f=i(n(38191)),d=i(n(52305)),h=i(n(93476)),v=i(n(54103)),p=n(24629),y=i(n(68700)),m=n(89662),g=n(98693),_=n(71706),k=n(58465),b=n(84228),w=n(90564),S=n(52782),C=n(77513),x=n(10503);function I(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var A=function(e,t,n,r){return new(n||(n=h.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},E=function(e){(0,c.default)(n,e);var t=I(n);function n(){var e;return(0,u.default)(this,n),(e=t.call(this)).zOrder=99,e.isShowEffect=void 0,e}return(0,l.default)(n,[{key:"onAwake",value:function(){var e=this;this.init(),(0,k.onLangChange)(this,(function(){e.initLang()}))}},{key:"initLang",value:function(){var e=this.start_label;this.skip_label.text=(0,C.tplIntr)("tourSkip"),e.text=(0,C.tplIntr)("tourStart")}},{key:"onResize",value:function(){var e=p.Laya.stage,t=e.width,n=e.height,r=this.mask_area,a=this.mask_wrap,i=this.inner;if(r){var o=t>1920?1920:t;r.width=o,r.height=n,r.x=(this.width-r.width)/2,r.y=(this.height-a.height)/2,r.graphics.clear(),r.graphics.drawRect(0,0,r.width,n,"#000000"),this.x=(t-this.width)/2,this.y=(n-this.height)/2,i.width=t>1920?1920:t}}},{key:"init",value:function(){this.initDom(),this.initEvent()}},{key:"initDom",value:function(){var e=this.mask_wrap;this.cacheAs="bitmap";var t=new p.Laya.Sprite;e.addChild(t),t.alpha=.8,t.mouseEnabled=!0,this.mask_area=t;var n=new p.Laya.Sprite;e.addChild(n),n.blendMode="destination-out",this.blank_area=n,n.mouseEnabled=!0;var r=new _.HitArea;n.hitArea=r,this.blank_area=n,t&&this.onResize()}},{key:"setBtnNextDir",value:function(e){var t=this.btn_next;"left"===e?(t.right=NaN,t.rotation=180,t.left=30):(t.left=NaN,t.right=30,t.rotation=0)}},{key:"initEvent",value:function(){var e,t=this,n=this.btn_skip,r=this.mask_area;p.Laya.stage.on(m.Event.RESIZE,this,(0,v.default)(e=this.onResize).call(e,this)),r.on(m.Event.CLICK,this,(function(e){var n=t.force,r=x.guide_state.pointer,a=t.getMousePoint(),i=a.x,o=a.y;if(!n)return r.hide(),t.forceNext();r.isShow()&&(r.show({x:i,y:o}),r.moveToTarget({x:i,y:o},t.click_center))})),n.on(m.Event.CLICK,this,(function(e){t.forceSkip()}))}},{key:"forceNext",value:function(){var e=this.handler;e&&((0,C.callFunc)(e.next),this.handler=void 0)}},{key:"forceSkip",value:function(){var e=this.handler;e?((0,C.callFunc)(e.skip,"skip"),this.handler=void 0):this.destroy()}},{key:"showNextHandler",value:function(e,t){var n=this,r=this.btn_next,a=this.btn_start,i=this.blank_area,o=x.guide_state.pointer;t.then((function(){"btn"===e?((0,w.fade_in)(r),r.once(m.Event.CLICK,r,(function(){n.forceNext(),r.offAll(),(0,w.fade_out)(r)}))):"point"===e?(i.once(m.Event.CLICK,n,(function(e){i.offAll(),e.stopPropagation(),o.hide(),n.forceNext()})),o.show(n.click_center,"target")):"start"===e&&((0,w.fade_in)(a),a.once(m.Event.CLICK,a,(function(){n.forceNext(),a.offAll(),(0,w.fade_out)(a)})))}))}},{key:"drawBlankWaitClick",value:function(e,t,n,r){var a=this;return new h.default((function(i,o){var u=a.blank_area,l=u.hitArea.hit;if(a.blank_shape=e,a.handler={next:i,skip:o},a.force=t,a.click_center=function(e){return e instanceof g.Rectangle?{x:e.x+e.width/2,y:e.y+e.height/2}:{x:e.x,y:e.y}}(e),a.showBlank(),u.graphics.clear(),a.showNextHandler(n,r),e instanceof g.Rectangle){var s=(0,S.getRectRadiusPath)(e.x,e.y,e.width,e.height,10);u.graphics.drawPath(0,0,s,{fillStyle:"#00ffff"}),l.drawRect(e.x,e.y,e.width,e.height,{fillStyle:"#FFFFFF"})}else u.graphics.drawCircle(e.x,e.y,e.radius,"#000000"),l.drawCircle(e.x,e.y,e.radius,"#000000")}))}},{key:"showBlank",value:function(){var e=this.mask_area;e.graphics.clear(),e.graphics.drawRect(0,0,e.width,e.height,"#000000")}},{key:"clearBlank",value:function(){var e=this.blank_area,t=this.mask_area;this.blank_shape=void 0;var n=e.hitArea.hit;e.graphics.clear(),t.graphics.clear(),n.clear(),this.handler=void 0,this.click_center=void 0}},{key:"hide",value:function(){this.clearBlank(),this.close()}},{key:"destroy",value:function(){(0,k.offLangChange)(this),(0,s.default)((0,d.default)(n.prototype),"destroy",this).call(this)}}],[{key:"preEnter",value:function(){return A(this,void 0,void 0,o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.default.director.openDialog("pop/guide/GuideDialog.scene");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))}}]),n}(b.ui.pop.guide.GuideDialogUI);t.default=E},2006:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.NewUserGuide=void 0;var i=a(n(66329)),o=a(n(21003)),u=a(n(15375)),l=a(n(17061)),s=a(n(93476)),c=n(8253),f=n(39487),d=n(90564),h=n(55161),v=n(77513),p=n(88672),y=n(86204),m=n(10503),g=function(e,t,n,r){return new(n||(n=s.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},_=function(){function e(){(0,u.default)(this,e)}return(0,l.default)(e,[{key:"start",value:function(e){return g(this,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.showStartPrompt();case 2:if(!e.sent){e.next=6;break}return e.next=6,this.next();case 6:case"end":return e.stop()}}),e,this)})))}},{key:"showStartPrompt",value:function(){return g(this,void 0,void 0,i.default.mark((function e(){var t,n,r,a,u,l,s,g,_,k,b,w;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=m.guide_state.guide_dialog,r=f.HallCtrl.instance){e.next=5;break}return e.abrupt("return");case 5:return a=r.view,u=a.header.btn_coin_select,l=a.guide2,e.next=8,(0,y.showPromptByNode)(u,[(0,v.tplIntr)("tour1")],"bottom",!0);case 8:return e.next=10,(0,y.showPromptByNode)(l,[(0,v.tplIntr)("tour2")],"top",!0);case 10:return r.destroy(),e.next=13,p.GameTestCtrl.preEnter();case 13:return t=e.sent,n.open(!1),s=t.view.bullet_box,e.next=18,(0,d.sleep)(1);case 18:return g=(0,o.default)(t.player_list)[0],_=g.view,k=s.x>667?"left":"right",n.setBtnNextDir(k),_.stopPosTip(),e.next=25,(0,y.showPromptByNode)(s,[(0,v.tplIntr)("tour3")],k,!0);case 25:return _.setMySelfStyle(),e.next=28,(0,d.sleep)(1);case 28:return e.next=30,(0,y.showPromptByNode)(_,[(0,v.tplIntr)("tour4")],"top",!0);case 30:return(0,d.sleep)(2),(0,c.genFishInfo)(t),b=t.fish_view,e.next=35,(0,y.showPromptByNode)({sprite:b,shape:"circle"},[(0,v.tplIntr)("tour5")],"top",!0,"point");case 35:return e.next=37,(0,c.mockShoot)();case 37:return e.next=39,(0,d.sleep)(1);case 39:return w=t.view.skill_box,n.setBtnNextDir("right"),e.next=43,(0,y.showPromptByNode)(w,[(0,v.tplIntr)("tour6")],"top",!0,"start");case 43:return(0,c.resetMockSocketCtor)(t),e.abrupt("return",!0);case 47:if(e.prev=47,e.t0=e.catch(0),"skip"!==e.t0){e.next=54;break}return(0,c.resetMockSocketCtor)(t),e.abrupt("return",!0);case 54:(0,h.error)(e.t0);case 55:case"end":return e.stop()}}),e,null,[[0,47]])})))}},{key:"next",value:function(){return g(this,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.HallCtrl.instance){e.next=5;break}return f.HallCtrl.instance.destroy(),f.HallCtrl.leave(),e.next=5,(0,d.sleep)(.1);case 5:return e.next=7,f.HallCtrl.preEnter();case 7:case"end":return e.stop()}}),e)})))}}]),e}();t.NewUserGuide=_},99479:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.GuideMain=void 0;var i=a(n(66329)),o=a(n(15375)),u=a(n(17061)),l=a(n(93476)),s=n(90564),c=n(6671),f=n(96192),d=a(n(54820)),h=n(10503),v=function(e,t,n,r){return new(n||(n=l.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},p=function(){function e(){(0,o.default)(this,e),this.name="guide_main"}return(0,u.default)(e,[{key:"start",value:function(){return v(this,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"onGuideUpdate",value:function(e,t){}},{key:"init",value:function(){return v(this,void 0,void 0,i.default.mark((function e(){var t,n,r,a,o,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.guide_dialog){e.next=3;break}return this.guide_dialog.open(!1),e.abrupt("return");case 3:return e.next=5,d.default.preEnter();case 5:t=e.sent,n=t.prompt_ui,r=t.pointer_ui,a=t.btn_next,o=new f.PromptGuide(n,{fontSize:25,color:"#ffe7a7"}),u=new c.PointerGuide(r),this.guide_dialog=t,this.prompt=o,this.pointer=u,(0,s.setStyle)(h.guide_state,{guide_dialog:t,prompt:o,pointer:u,btn_next:a});case 13:case"end":return e.stop()}}),e,this)})))}},{key:"end",value:function(){return v(this,void 0,void 0,i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.guide_state.guide_dialog,n=h.guide_state.prompt,e.next=3,n.hide();case 3:t.hide();case 4:case"end":return e.stop()}}),e)})))}}]),e}();t.GuideMain=p},10503:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.guide_state=void 0;t.guide_state={}},31070:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.arenaErrHandler=B,t.bindArenaHallSocket=function(e){return x(this,void 0,void 0,u.default.mark((function t(){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i){t.next=3;break}return t.next=3,I();case 3:(0,w.bindSocketEvent)(i,e,(0,o.default)({},d.ArenaEvent.ArenaStatus,(function(e,t){h.modelState.app.arena_info.updateInfo(e)}))),E(i,e);case 5:case"end":return t.stop()}}),t)})))},t.commonArenaSocket=E,t.connectArenaHallSocket=I,t.connectArenaSocket=T,t.getArenaGuestToken=M,t.getArenaSocket=function(){return i},t.offArenaHallSocket=function(e){i&&(0,w.offSocketEvent)(i,e)},t.sendToArenaHallSocket=A,t.waitConnectGameArena=function(){return x(this,void 0,void 0,u.default.mark((function e(){var t,n,r,a;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,w.getSocket)(d.ServerName.ArenaHall)){e.next=6;break}return n=c.Config.arenaSocketUrl,r=c.Config.PublicKey,a=c.Config.Host,e.next=5,T({url:n,publicKey:r,host:a,code:c.Config.code,name:d.ServerName.ArenaHall});case 5:t=e.sent;case 6:return i=t,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))};var i,o=a(n(67513)),u=a(n(66329)),l=a(n(93476)),s=n(76817),c=n(66058),f=n(23254),d=n(26744),h=n(11263),v=n(36620),p=n(55161),y=n(77513),m=a(n(55437)),g=a(n(10535)),_=n(22426),k=n(66589),b=n(49659),w=n(43267),S=n(59914),C=n(58465),x=function(e,t,n,r){return new(n||(n=l.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))};function I(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return x(this,void 0,void 0,u.default.mark((function t(){var n,r,a,o,f;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(0,w.getSocket)(d.ServerName.ArenaHall)){t.next=10;break}return r=c.Config.arenaSocketUrl,a=c.Config.PublicKey,o=c.Config.Host,t.next=5,T({url:r,publicKey:a,host:o,code:c.Config.code,name:d.ServerName.ArenaHall});case 5:if(n=t.sent,i=n,n){t.next=10;break}throw(0,p.error)("ConnectFailed:".concat(d.ServerName.ArenaHall)),Error(d.ServerErrCode.NetError+"");case 10:if(!e){t.next=17;break}return t.next=13,new l.default((function(e,t){i.event.once(d.ServerEvent.ErrCode,(function(e,n){return t((null==e?void 0:e.code)||n)}),null),i.event.once(d.ArenaEvent.ArenaStatus,(function(t,n){if(n!==d.ARENA_OK_CODE)return e();h.modelState.app.arena_info.updateInfo(t),e(t)})),A(d.ArenaEvent.ArenaStatus,{currency:h.modelState.app.user_info.cur_balance})}));case 13:if((f=t.sent)&&f.roomStatus===s.ArenaStatus.ROOM_STATUS_ENABLE&&(f.userStatus===s.ArenaGameStatus.GAME_STATUS_SIGNUP_OVER||f.userStatus===s.ArenaGameStatus.GAME_STATUS_PLAYING)){t.next=16;break}return t.abrupt("return",!1);case 16:return t.abrupt("return",!0);case 17:case"end":return t.stop()}}),t)})))}function A(){var e;(e=i).send.apply(e,arguments)}function E(e,t){var n;(0,w.bindSocketEvent)(e,t,(n={},(0,o.default)(n,d.ArenaEvent.ErrCode,(function(e,t){B(t=(null==e?void 0:e.code)||t)})),(0,o.default)(n,b.SocketEvent.Reconnecting,(function(e){0===e&&(0,S.tipReconnect)()})),(0,o.default)(n,b.SocketEvent.Reconnected,(function(){(0,S.tipComeBack)(!0)})),(0,o.default)(n,b.SocketEvent.End,(function(){m.default.alert((0,y.tplIntr)("logoutTip"),{hide_cancel:!0}).then((function(){location.reload()}))})),n))}function T(e){return x(this,void 0,void 0,u.default.mark((function t(){var n,r,a;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,w.createSocket)(e,(0,f.isProd)()?3:1,(0,f.isProd)()?3:0);case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return");case 5:if(!(r=c.Config.token)){t.next=9;break}return n.setParams({jwt:r,userId:(0,y.getParams)("userId")}),t.abrupt("return",n);case 9:if(a=(0,v.getItem)("local_arena_token")){t.next=15;break}return t.next=13,M(n);case 13:a=t.sent,(0,v.setItem)("local_arena_token",a,7);case 15:return n.setParams({jwt:a,userId:(0,y.getParams)("userId")}),(0,p.log)("本地Guess arenaToken:",a),t.abrupt("return",n);case 18:case"end":return t.stop()}}),t)})))}function M(e){return new l.default((function(t,n){e.event.once(d.ArenaEvent.Guess,(function(e){t(e.jwt)})),e.send(d.ArenaEvent.Guess)}))}function B(e){return x(this,void 0,void 0,u.default.mark((function t(){var n,r,a;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e!==d.ArenaErrCode.Maintenance){t.next=5;break}return _.AppCtrl.event.emit(d.ArenaErrCode.Maintenance,(0,y.tplIntr)("maintainQuitTip")),t.abrupt("return",!0);case 5:if(e!==d.ArenaErrCode.NoMoney){t.next=10;break}return n=(0,y.tplIntr)(d.ServerErrCode.NoMoney),t.abrupt("return",m.default.alert(n).then((function(e){if("confirm"===e){var t=(0,k.getGameCurrency)()||h.modelState.app.user_info.cur_balance;(0,C.recharge)(t)}})));case 10:e===d.ArenaErrCode.NoOpen?_.AppCtrl.event.emit(d.ArenaErrCode.NoOpen,(0,y.tplIntr)("gameNoOpen")):e===d.ArenaErrCode.GameEnded?_.AppCtrl.event.emit(d.ArenaErrCode.GameEnded,(0,y.tplIntr)("GameEnded")):e===d.ArenaErrCode.SignUpFail?(r=(0,y.tplIntr)("SignUpFail"),_.AppCtrl.event.emit(d.ArenaErrCode.SignUpFail,r)):e===d.ArenaErrCode.GuestSignUpFail?(a=(0,y.tplIntr)("GuestSignUpFail"),_.AppCtrl.event.emit(d.ArenaErrCode.GuestSignUpFail,a)):e===d.ArenaErrCode.UserSignUpDeadline?_.AppCtrl.event.emit(d.ArenaErrCode.UserSignUpDeadline,(0,y.tplIntr)("UserSignUpDeadline")):e===d.ArenaErrCode.BulletLack?g.default.tip((0,y.tplIntr)("BulletLack")):e===d.ArenaErrCode.BuyGiftFail||e===d.ArenaErrCode.BuyShopFail?g.default.tip((0,y.tplIntr)("BuyFail")):e===d.ArenaErrCode.ItemNotExist?g.default.tip((0,y.tplIntr)("ItemNotExist")):e===d.ArenaErrCode.GiftOnlyOnce&&g.default.tip((0,y.tplIntr)("GiftOnlyOnce"));case 11:case"end":return t.stop()}}),t)})))}},59914:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.commonSocket=function(e,t){var n;(0,c.bindSocketEvent)(e,t,(n={},(0,u.default)(n,f.ServerEvent.ErrCode,(function(t,n){(n=(null==t?void 0:t.code)||n)===f.ServerErrCode.TokenExpire?((0,c.disconnectSocket)(e.config.name),_()):n===f.ServerErrCode.OtherLogin&&((0,c.disconnectSocket)(e.config.name),p.default.alert((0,v.tplIntr)("OtherLogin"),{hide_cancel:!0}).then((function(){location.reload()})))})),(0,u.default)(n,s.SocketEvent.Reconnecting,(function(e){0===e&&k()})),(0,u.default)(n,s.SocketEvent.Reconnected,(function(){b(!0)})),(0,u.default)(n,s.SocketEvent.End,(function(){p.default.alert((0,v.tplIntr)("logoutTip"),{hide_cancel:!0}).then((function(){location.reload()}))})),n)),l.ctrlState.app.bg_monitor.event.on(d.BgMonitorEvent.VisibleChange,(function(t){t&&("OPEN"===e.status?b():e.reconnect())}),t)},t.errorHandler=function(e,t){var n=(0,v.tplIntr)(e);if(e===f.ServerErrCode.Maintaining)return platform.hideLoading(),m.AppCtrl.event.emit(f.ServerErrCode.Maintaining,(0,v.tplIntr)("maintainTip")),p.default.alert((0,v.tplIntr)("maintainTip"),{hide_cancel:!0}).then((function(){(0,o.default)((function(){location.reload()}))}));if(e===f.ServerErrCode.ReExchange)return m.AppCtrl.event.emit(f.ServerErrCode.ReExchange,(0,v.tplIntr)(f.ServerErrCode.ReExchange));if(e===f.ServerErrCode.NoMoney){var r=(0,v.tplIntr)(f.ServerErrCode.NoMoney);if(null==t?void 0:t.minAmount){var a=t.minAmount,i=t.currency;r=(0,v.tplIntr)("NoMoneyAmount",{minAmount:a,currency:i})}return m.AppCtrl.event.emit(f.ServerErrCode.NoMoney,r)}if(e===f.ServerErrCode.NeedLogin)return(0,g.login)();if(e===f.ServerErrCode.TrialTimeGame||e===f.ServerErrCode.TrialNotBullet)return m.AppCtrl.event.emit(f.ServerErrCode.TrialTimeGame,n);if(e===f.ServerErrCode.TrialTimeHall)return y.default.tip((0,v.tplIntr)(f.ServerErrCode.TrialTimeGame));if(e===f.ServerErrCode.TrialClose)return y.default.tip((0,v.tplIntr)(f.ServerErrCode.TrialClose));if(e===f.ServerErrCode.NetError||e===f.ServerErrCode.EnterGameError)return p.default.alert((0,v.tplIntr)(f.ServerErrCode.NetError),{hide_cancel:!0}).then((function(){location.reload()}));if(e===f.ServerErrCode.OverLimit)return m.AppCtrl.event.emit(f.ServerErrCode.OverLimit,(0,v.tplIntr)(f.ServerErrCode.OverLimit));n&&y.default.tip(n)},t.offCommon=function(e,t){null==e||e.event.offAllCaller(t),l.ctrlState.app.bg_monitor.event.offAllCaller(t)},t.tipComeBack=b,t.tipCount=function(e,t){y.default.tip(e,{count:t,show_count:!0,auto_hide:!1,click_through:!1})},t.tipReconnect=k,t.tokenExpireTip=_;var i,o=a(n(33032)),u=a(n(67513)),l=n(66589),s=n(49659),c=n(43267),f=n(26744),d=n(51720),h=n(36620),v=n(77513),p=a(n(55437)),y=a(n(10535)),m=n(22426),g=n(95455);function _(){(0,h.removeItem)("local_token"),p.default.alert((0,v.tplIntr)("logoutTip"),{hide_cancel:!0}).then((function(){location.reload()}))}function k(){y.default.tip((0,v.tplIntr)("NetError"),{count:20,show_count:!0,auto_hide:!1,click_through:!1,repeat:!0,on_instance_create:function(e){return i=e}})}function b(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(null==i||i.stopCountAndClose()),y.default.tip((0,v.tplIntr)("NetComeBack"),{},{use_exist:!0})}},39487:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.HallCtrl=void 0;var i=a(n(66329)),o=a(n(24142)),u=a(n(15375)),l=a(n(17061)),s=a(n(93476)),c=n(899),f=n(8928),d=n(66589),h=n(80356),v=n(50739),p=n(14082),y=n(26744),m=n(11263),g=n(36620),_=a(n(55437)),k=a(n(10535)),b=a(n(70315)),w=a(n(7750)),S=n(22426),C=n(31070),x=n(58465),I=n(72243),A=n(52080),E=n(95455),T=function(e,t,n,r){return new(n||(n=s.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},M=function(){function e(t){var n=this;(0,u.default)(this,e),this.selectCoin=function(e){if(-1!==e){var t=n.view,r=t.header.coin_menu.list,a=m.modelState.app.user_info,i=r.array[e].coin_name;a.setCurBalance(i),t.toggleCoinMenu(!1)}},this.selectFlag=function(e){if(-1!==e){var t=n.view,r=t.header.flag_menu.list,a=m.modelState.app.user_info,i=r.array[e].flag_type;a.setLang(i),t.toggleFlagMenu(!1)}},this.view=t,this.init()}return(0,l.default)(e,[{key:"enterGame",value:function(e){return this.destroy(),d.ctrlState.app.enterGame(e)}},{key:"roomIn",value:function(){var e=this,t=arguments.length<=0?void 0:arguments[0];return(0,I.roomIn)(t,this).then((function(n){return(0,A.setRoomInData)(t),e.enterGame(n)}))}},{key:"enterArena",value:function(e){return this.destroy(),d.ctrlState.app.enterArenaGame(e)}},{key:"init",value:function(){return T(this,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,I.bindHallSocket)(this);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:return e.prev=7,e.next=10,(0,C.bindArenaHallSocket)(this);case 10:(0,C.sendToArenaHallSocket)(y.ArenaEvent.ArenaStatus,{currency:m.modelState.app.user_info.cur_balance}),e.next=15;break;case 13:e.prev=13,e.t1=e.catch(7);case 15:if(h.AudioCtrl.playBg(p.AudioRes.HallBg),this.initModelEvent(),"end"===(0,g.getItem)("guide")){e.next=19;break}return e.abrupt("return",(0,v.gotoGuide)("1","1"));case 19:this.initEvent(),(0,A.hallViewEvent)(this);case 21:case"end":return e.stop()}}),e,this,[[0,5],[7,13]])})))}},{key:"initEvent",value:function(){var e=function(e){k.default.tip(e)};S.AppCtrl.event.on(y.ArenaErrCode.GuestSignUpFail,(function(e){return _.default.alert(e).then((function(e){"confirm"===e&&(0,E.login)()}))}),this),S.AppCtrl.event.on(y.ServerErrCode.NoMoney,(function(e){return _.default.alert(e).then((function(e){if("confirm"===e){var t=m.modelState.app.user_info.cur_balance;(0,x.recharge)(t)}}))}),this),S.AppCtrl.event.on(y.ArenaErrCode.Maintenance,e,this),S.AppCtrl.event.on(y.ArenaErrCode.SignUpFail,e,this),S.AppCtrl.event.on(y.ArenaErrCode.UserSignUpDeadline,e,this),S.AppCtrl.event.on(y.ArenaErrCode.NoOpen,e,this),S.AppCtrl.event.on(y.ArenaErrCode.GameEnded,e,this)}},{key:"initModelEvent",value:function(){var e=this.view,t=m.modelState.app,n=t.user_info;t.arena_info;(0,x.onCurBalanceChange)(this,(function(t){var r=n.account_map.get(t),a=r.num,i=r.icon,o=r.hide;e.setCurBalance(t,i,a),e.setRechargeBtnVisible(Boolean(!o))})),(0,x.onLangChange)(this,(function(t){e.setFlag(t)})),(0,x.onAccountChange)(this,(function(t){e.setCoinData(t)})),(0,x.onNicknameChange)(this,(function(t){e.setNickname(t)})),(0,x.onArenaInfoChange)(this,(function(t){e.updateArenaInfo(t)}))}},{key:"destroy",value:function(){h.AudioCtrl.stop(p.AudioRes.HallBg),(0,x.offBindEvent)(this),(0,I.offHallSocket)(this),S.AppCtrl.event.offAllCaller(this),(0,C.offArenaHallSocket)(this),e.leave()}}],[{key:"preEnter",value:function(){return T(this,void 0,void 0,i.default.mark((function t(){var n,r=this;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.instance){t.next=2;break}return t.abrupt("return",this.instance);case 2:return n=[(0,c.toProgressObserver)(b.default.preEnter)(),(0,c.toProgressObserver)(c.fakeLoad)(.5),(0,c.toProgressObserver)(S.AppCtrl.commonLoad)(),(0,c.toProgressObserver)(S.AppCtrl.commonLoad)()],t.abrupt("return",(0,f.runAsyncTask)((function(){return T(r,void 0,void 0,i.default.mark((function t(){var r,a,u,l;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.mergeProgressObserver)(n,w.default);case 2:return r=t.sent,a=(0,o.default)(r,1),u=a[0],l=new e(u),this.instance=l,t.abrupt("return",l);case 8:case"end":return t.stop()}}),t,this)})))}),this));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"leave",value:function(){this.instance=void 0}}]),e}();t.HallCtrl=M},58465:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.alertNetErrRefresh=function(){return f.default.alert((0,c.tplIntr)(o.ServerErrCode.NetError),{hide_cancel:!0}).then((function(){location.reload()}))},t.bindEvent=function(e,t,n){for(var r in n)e.on(r,n[r],t)},t.getChannel=function(){var e,t,n;return null===(n=null===(t=null===(e=window.paladin)||void 0===e?void 0:e.sys)||void 0===t?void 0:t.config)||void 0===n?void 0:n.channel},t.getLang=function(){var e,t;return null===(t=null===(e=l.modelState.app)||void 0===e?void 0:e.user_info)||void 0===t?void 0:t.lang},t.offBindEvent=function(e){var t=l.modelState.app,n=t.user_info,r=t.setting,a=t.arena_info,i=n.event,o=r.event;i.offAllCaller(e),o.offAllCaller(e),a.event.offAllCaller(e)},t.offLangChange=function(e){l.modelState.app.user_info.event.offAllCaller(e)},t.onAccountChange=function(e,t){var n=l.modelState.app.user_info,r=n.event,a=n.account_map;r.on(s.UserInfoEvent.AccountChange,t,e),(0,i.default)((function(){a&&t(a)}))},t.onArenaInfoChange=function(e,t){var n=l.modelState.app.arena_info;n.event.on(u.ArenaModelEvent.UpdateInfo,t,e),(0,i.default)((function(){t(n)}))},t.onCurBalanceChange=function(e,t){var n=l.modelState.app.user_info,r=n.cur_balance;n.event.on(s.UserInfoEvent.CurBalanceChange,t,e),(0,i.default)((function(){r&&t(r)}))},t.onLangChange=function(e,t){var n=l.modelState.app.user_info,r=n.event,a=n.lang;r.on(s.UserInfoEvent.LangChange,t,e),(0,i.default)((function(){a&&t(a)}))},t.onNicknameChange=function(e,t){var n=l.modelState.app.user_info,r=n.event,a=n.nickname;r.on(s.UserInfoEvent.NicknameChange,t,e),(0,i.default)((function(){a||(a=(0,c.tplIntr)("guest")),t(a)}))},t.recharge=function(e){var t,n,r=l.modelState.app.user_info,a=r.account_map,i=r.cur_balance;if(e=e||i,a.get(e).hide)return;if(!paladin.sys.config.isLogin)return paladin.account.login();null===(t=window)||void 0===t||t.paladin.pay.recharge({data:{currency:e,gameNo:null===(n=window)||void 0===n?void 0:n.paladin.sys.config.gameId,isHorizontal:!0}})},t.withdraw=function(){var e,t,n=l.modelState.app.user_info,r=n.account_map,a=n.cur_balance;if(r.get(a).hide)return;null===(e=window)||void 0===e||e.paladin.pay.withdraw({data:{currency:a,gameNo:null===(t=window)||void 0===t?void 0:t.paladin.sys.config.gameId,isHorizontal:!0}})};var i=a(n(33032)),o=n(26744),u=n(4634),l=n(11263),s=n(87759),c=n(77513),f=a(n(55437))},72243:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.bindHallSocket=function(e){return g(this,void 0,void 0,u.default.mark((function t(){var n;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i){t.next=3;break}return t.next=3,_();case 3:(0,y.commonSocket)(i,e),(0,f.bindSocketEvent)(i,e,(n={},(0,o.default)(n,c.SocketEvent.Reconnected,(function(){k(h.ServerEvent.UserAccount)})),(0,o.default)(n,h.ServerEvent.UserAccount,(function(e,t){if(t!==h.OK_CODE)return(0,y.errorHandler)(t,e);v.modelState.app.initUserInfo(e)})),n));case 5:case"end":return t.stop()}}),t)})))},t.checkReplay=b,t.connectHallSocket=_,t.getArenaWs=function(e){return g(this,void 0,void 0,u.default.mark((function t(){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new l.default((function(t,n){var r=(0,f.getSocket)(h.ServerName.Hall);r.event.once(h.ServerEvent.GetArenaWsUrl,(function(e,r){if(r!==h.OK_CODE)return(0,y.errorHandler)(r),void n();t(e)})),r.send(h.ServerEvent.GetArenaWsUrl,{modeId:e})})));case 1:case"end":return t.stop()}}),t)})))},t.offHallSocket=function(e){if(!i)return;(0,f.offSocketEvent)(i,e),(0,y.offCommon)(i,e),(0,f.disconnectSocket)(h.ServerName.Hall),i=void 0},t.roomIn=function(e,t){var n=this;return new l.default((function(r,a){var i=(0,f.getSocket)(h.ServerName.Hall);i.event.once(h.ServerEvent.RoomIn,(function(e,a,i){return g(n,void 0,void 0,u.default.mark((function n(){var i;return u.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a!==h.ServerErrCode.AlreadyInRoom){n.next=8;break}return n.next=3,b(t);case 3:return(i=n.sent).isReplay&&r((0,s.default)((0,s.default)({},e),i)),n.abrupt("return");case 8:if(200===a){n.next=10;break}return n.abrupt("return",(0,y.errorHandler)(a,e));case 10:r(e);case 11:case"end":return n.stop()}}),n)})))}),t);var o=v.modelState.app.user_info.cur_balance;i.send(h.ServerEvent.RoomIn,(0,s.default)((0,s.default)({},e),{currency:o,domain:""}))}))},t.sendToHallSocket=k;var i,o=a(n(67513)),u=a(n(66329)),l=a(n(93476)),s=a(n(51942)),c=n(49659),f=n(43267),d=n(66058),h=n(26744),v=n(11263),p=n(55161),y=n(59914),m=n(95455),g=function(e,t,n,r){return new(n||(n=l.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))};function _(){return g(this,void 0,void 0,u.default.mark((function e(){var t,n,r,a,o;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,f.getSocket)(h.ServerName.Hall)){e.next=10;break}return n=d.Config.SocketUrl,r=d.Config.PublicKey,a=d.Config.Host,e.next=5,(0,m.connectSocket)({url:n,publicKey:r,host:a,code:d.Config.code,name:h.ServerName.Hall});case 5:if(t=e.sent,i=t,t){e.next=10;break}throw(0,p.error)("ConnectFailed:".concat(h.ServerName.Hall)),Error(h.ServerErrCode.NetError+"");case 10:return e.next=12,new l.default((function(e,t){i.event.once(h.ServerEvent.ErrCode,(function(e,n){return t((null==e?void 0:e.code)||n)}),null),i.event.once(h.ServerEvent.UserAccount,(function(t,n){if(n!==h.OK_CODE)return(0,y.errorHandler)(n,t);v.modelState.app.initUserInfo(t),e(void 0)})),k(h.ServerEvent.UserAccount,{domain:d.Config.Host})}));case 12:return e.next=14,b();case 14:if(!(o=e.sent).isReplay){e.next=17;break}return e.abrupt("return",[!0,o]);case 17:return e.abrupt("return",[!1]);case 18:case"end":return e.stop()}}),e)})))}function k(){var e;(e=i).send.apply(e,arguments)}function b(e){return g(this,void 0,void 0,u.default.mark((function t(){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new l.default((function(t,n){var r=(0,f.getSocket)(h.ServerName.Hall);r.event.once(h.ServerEvent.CheckReplay,(function(e){t(e)}),e),r.send(h.ServerEvent.CheckReplay)})));case 1:case"end":return t.stop()}}),t)})))}},52080:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.getRoomInData=I,t.hallViewEvent=function(e){var t=this,n=e.view,r=n.normal_box,a=n.match_box,u=n.header,v=n.btn_play_now,p=n.btn_competition,A=u.coin_menu.list,E=u.flag_menu.list,T=u.btn_coin_select,M=u.btn_get,B=u.btn_charge,L=u.btn_home,P=u.btn_app,O=u.btn_leave,N=u.btn_voice,R=u.flag_box,U=u.btn_login,G=u.coin_menu,D=u.flag_menu,F=u.btn_game_record,H=u.btn_item_record,z=u.btn_recharge,j=u.btn_withdraw,V=u.btn_arena_record;A.selectHandler=new s.Handler(A,e.selectCoin,void 0,!1),E.selectHandler=new s.Handler(A,e.selectFlag,void 0,!1);var K=l.Event.CLICK,Y=r.getChildByName("ani"),W=r.getChildByName("btn_try"),X=r.getChildByName("btn_play"),Q=(a.getChildByName("ani"),a.getChildByName("btn_try")),$=a.getChildByName("btn_play");(0,h.onNode)(X,K,(function(n){return x(t,void 0,void 0,i.default.mark((function t(){var n,r,a,u,l;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.AudioCtrl.play(f.AudioRes.Click),n=(0,S.getLang)(),r=(0,y.covertLang)(n),a=X.getChildByName("ani"),u=(0,y.playSkeletonOnce)(Y,"active_".concat(r)),l=(0,y.playSkeletonOnce)(a,"active_".concat(r)),o.default.all([l,u]).then((function(){e.roomIn({roomId:1,isTrial:0},e),(0,y.playSkeleton)(a,"standby_".concat(r),!0)}));case 7:case"end":return t.stop()}}),t)})))})),(0,h.onNode)(W,K,(function(){return x(t,void 0,void 0,i.default.mark((function t(){var n,r,a,u,l;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.AudioCtrl.play(f.AudioRes.Click),n=(0,S.getLang)(),r=(0,y.covertLang)(n),a=W.getChildByName("ani"),u=(0,y.playSkeletonOnce)(a,"active_".concat(r)),l=(0,y.playSkeletonOnce)(Y,"active_".concat(r)),o.default.all([u,l]).then((function(){e.roomIn({roomId:1,isTrial:1},e),(0,y.playSkeleton)(a,"standby_".concat(r),!0)}));case 7:case"end":return t.stop()}}),t)})))})),(0,h.onNode)($,K,(function(){return x(t,void 0,void 0,i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.AudioCtrl.play(f.AudioRes.Click),e.roomIn({roomId:2,isTrial:0},e);case 2:case"end":return t.stop()}}),t)})))})),(0,h.onNodeWithAni)(p,K,(function(){return x(t,void 0,void 0,i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.AudioCtrl.play(f.AudioRes.Click),(t=p.getChildByName("clickLight")).visible=!0,(0,y.playSkeletonOnce)(t,0).then((function(){t.visible=!1;var e=d.modelState.app.user_info.cur_balance;(0,g.getCompetitionInfo)(e).then((function(t){m.default.preEnter(t,e)}))}));case 4:case"end":return e.stop()}}),e)})))})),(0,h.onNodeWithAni)(z,K,(function(){return x(t,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.AudioCtrl.play(f.AudioRes.Click),(0,S.recharge)();case 2:case"end":return e.stop()}}),e)})))})),"CCTIP"===(0,S.getChannel)()&&(j.visible=!0,n.onResize(),(0,h.onNodeWithAni)(j,K,(function(){return x(t,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.AudioCtrl.play(f.AudioRes.Click),(0,S.withdraw)();case 2:case"end":return e.stop()}}),e)})))})));(0,h.onNode)(Q,K,(function(){return x(t,void 0,void 0,i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.AudioCtrl.play(f.AudioRes.Click),e.roomIn({roomId:2,isTrial:1},e);case 2:case"end":return t.stop()}}),t)})))})),(0,h.onNode)(v,K,(function(){return x(t,void 0,void 0,i.default.mark((function t(){var n,r,a,u,l;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=(0,S.getLang)(),r=(0,y.covertLang)(n),a=v.getChildByName("ani"),c.AudioCtrl.play(f.AudioRes.Click),u=(0,y.playSkeletonOnce)(Y,"active_".concat(r)),l=(0,y.playSkeletonOnce)(a,"active_".concat(r)),o.default.all([l,u]).then((function(){e.roomIn(I(),e),(0,y.playSkeleton)(a,"standby_".concat(r),!0)}));case 7:case"end":return t.stop()}}),t)})))})),T.on(K,e,(function(e){c.AudioCtrl.play(f.AudioRes.Click),(0,h.isClosest)(e.target,G)||n.toggleCoinMenu(!G.visible)})),R.on(K,e,(function(e){c.AudioCtrl.play(f.AudioRes.Click),n.toggleFlagMenu(!D.visible)})),(0,h.onNodeWithAni)(M,K,(function(){c.AudioCtrl.play(f.AudioRes.Click)})),(0,h.onNodeWithAni)(B,K,(function(){c.AudioCtrl.play(f.AudioRes.Click)})),(0,h.onNodeWithAni)(L,K,(function(){c.AudioCtrl.play(f.AudioRes.Click)})),(0,h.onNodeWithAni)(P,K,(function(){c.AudioCtrl.play(f.AudioRes.Click)})),(0,h.onNodeWithAni)(U,K,(function(){(0,C.login)(),c.AudioCtrl.play(f.AudioRes.Click)})),(0,h.onNodeWithAni)(O,K,(function(){c.AudioCtrl.play(f.AudioRes.Click),(0,C.logout)()})),(0,h.onNodeWithAni)(N,K,(function(){c.AudioCtrl.play(f.AudioRes.Click),w.default.preEnter()})),(0,h.onNodeWithAni)(F,K,(function(){c.AudioCtrl.play(f.AudioRes.Click),k.default.preEnter()})),(0,h.onNodeWithAni)(H,K,(function(){c.AudioCtrl.play(f.AudioRes.Click),b.default.preEnter()})),(0,h.onNodeWithAni)(V,K,(function(){c.AudioCtrl.play(f.AudioRes.Click),_.default.preEnter()}))},t.setRoomInData=function(e){(0,v.setItem)("roomIn",(0,u.default)(e))};var i=a(n(66329)),o=a(n(93476)),u=a(n(59340)),l=n(89662),s=n(41107),c=n(80356),f=n(14082),d=n(11263),h=n(52782),v=n(36620),p=n(55161),y=n(77513),m=a(n(56151)),g=n(79699),_=a(n(76079)),k=a(n(60971)),b=a(n(47859)),w=a(n(94133)),S=n(58465),C=n(95455),x=function(e,t,n,r){return new(n||(n=o.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))};function I(){try{var e=(0,v.getItem)("roomIn");if(e)return JSON.parse(e)}catch(e){(0,p.error)("getRoomInData:error:>",e)}return{roomId:1,isTrial:1}}},95455:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.connectSocket=y,t.enterGame=p,t.getGuestToken=m,t.leaveGame=function(){(0,h.disconnectSocket)(s.ServerName.Game)},t.login=function(){"YSTAR"===(0,d.getParams)("c")?platform.register():platform.login()},t.logout=function(){platform.logout()},t.waitConnectGame=function(e){return v(this,void 0,void 0,i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=(0,h.getSocket)(s.ServerName.Game))){t.next=3;break}return t.abrupt("return",n);case 3:return t.next=5,p(e||u.Config.SocketUrl);case 5:(n=t.sent).send(s.ServerEvent.EnterGame);case 7:case"end":return t.stop()}}),t)})))};var i=a(n(66329)),o=a(n(93476)),u=n(66058),l=n(23254),s=n(26744),c=n(36620),f=n(55161),d=n(77513),h=n(43267),v=function(e,t,n,r){return new(n||(n=o.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))};function p(e){return v(this,void 0,void 0,i.default.mark((function t(){var n,r,a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.ServerName.Game,r=u.Config.PublicKey,a=u.Config.Host,t.next=4,y({url:e,publicKey:r,name:n,host:a});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))}function y(e){return v(this,void 0,void 0,i.default.mark((function t(){var n,r,a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,h.createSocket)(e,(0,l.isProd)()?3:1,(0,l.isProd)()?3:0);case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return");case 5:if(!(r=u.Config.token)){t.next=9;break}return n.setParams({jwt:r,userId:(0,d.getParams)("userId")}),t.abrupt("return",n);case 9:if(a=(0,c.getItem)("local_token")){t.next=15;break}return t.next=13,m(n);case 13:a=t.sent,(0,c.setItem)("local_token",a,7);case 15:return n.setParams({jwt:a,userId:(0,d.getParams)("userId")}),(0,f.log)("本地guess token:",a),t.abrupt("return",n);case 18:case"end":return t.stop()}}),t)})))}function m(e){return new o.default((function(t,n){e.event.once(s.ServerEvent.GetGuestToken,(function(e){t(e.jwt)})),e.send(s.ServerEvent.GetGuestToken)}))}},91549:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.MockWebSocket=void 0;var i=a(n(93476)),o=a(n(15375)),u=a(n(17061)),l=n(38182),s=n(55161),c=function(){function e(t){(0,o.default)(this,e),this.event=new l.EventCom,this.sendEvent=new l.EventCom,this.status="OPEN",this.config=t}return(0,u.default)(e,[{key:"setParams",value:function(e){(0,s.log)(e)}},{key:"connect",value:function(){return i.default.resolve(!0)}},{key:"reconnect",value:function(){}},{key:"send",value:function(e,t){this.sendEvent.emit(e,t),(0,s.log)("mockWebSocket:>",e,t)}},{key:"disconnect",value:function(){this.event.destroy(),this.sendEvent.destroy(),(0,s.log)("disconnect")}}]),e}();t.MockWebSocket=c},49659:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.WebSocketWrapCtrl=t.SocketEvent=void 0;var o=i(n(66329)),u=i(n(15375)),l=i(n(17061)),s=i(n(97709)),c=i(n(38191)),f=i(n(52305)),d=i(n(93476)),h=i(n(77766)),v=i(n(51942)),p=i(n(59340)),y=n(74227),m=n(38182),g=n(83762),_=n(55161),k=n(43267);function b(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var w,S=function(e,t,n,r){return new(n||(n=d.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))};!function(e){e.OnData="0",e.PingTimeOut="1",e.Ping="2",e.Pong="3",e.Error="4",e.MsgAck="5"}(w||(w={}));var C={ping:"2",pong:"3"},x={Connect:"connect",Reconnecting:"reconnecting",Reconnected:"reconnected",Error:"error",End:"end",CheckError:"CheckError"};t.SocketEvent=x;var I=function(e){(0,s.default)(n,e);var t=b(n);function n(e){var r;return(0,u.default)(this,n),(r=t.call(this)).params={},r.onData=function(e){var t,n=r.config.name,a=e.substring(1);switch(e.charAt(0)){case w.OnData:var i;if(!(t=(0,k.decrypt)(n,a)))return;var o=t,u=o.cmd,l=o.res,s=o.data,c=o.code,f=o.msg;(0,_.log)((0,h.default)(i="".concat(n,":>接收:>")).call(i,u),t),r.event.emit(u,l||s,c,f);case w.Error:case w.MsgAck:}},r.onEnd=function(){r.event.emit(x.End)},r.onReconnect=function(e){r.event.emit(x.Reconnecting,e)},r.onReconnected=function(){r.event.emit(x.Reconnected)},r.config=e,r.init(),g.WebSocketCtrl.log=_.log,r}return(0,l.default)(n,[{key:"init",value:function(){var e=new m.EventCom;this.addCom(e),this.event=e}},{key:"connect",value:function(){return S(this,void 0,void 0,o.default.mark((function e(){var t,n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,k.genUrl)(this.config),n=new g.WebSocketCtrl({name:this.config.name,url:t,handlers:{onData:this.onData,onEnd:this.onEnd,onReconnect:this.onReconnect,onReconnected:this.onReconnected},ping_pong_map:C}),e.next=4,n.connect();case 4:return(r=e.sent)&&(this.ws=n),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"status",get:function(){return this.ws?this.ws.status:"CLOSED"}},{key:"setParams",value:function(e){this.params=(0,v.default)((0,v.default)({},this.params),e)}},{key:"send",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.ws,a=this.params,i=this.config.name;(0,_.log)((0,h.default)(t="".concat(i,":>发送:>")).call(t,e),n);var o={cmd:e,params:(0,v.default)((0,v.default)({},a),n)},u="0"+(0,k.encrypt)(i,(0,p.default)(o));r.send(u)}},{key:"disconnect",value:function(){this.event.destroy(),this.ws.disconnect(),this.ws=void 0}},{key:"reconnect",value:function(){var e=this.ws;if(!e)return(0,_.error)("WebSocketWrapCtrl:> is disconnected!");"CLOSED"===e.status&&this.ws.reconnect()}}]),n}(y.ComponentManager);t.WebSocketWrapCtrl=I},43267:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.bindSocketEvent=function(e,t,n){var r=e.event;for(var a in n)r.on(a,n[a],t)},t.createComKey=w,t.createSocket=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return m(this,void 0,void 0,o.default.mark((function r(){var a,u,l,c,f,d,h;return o.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a=0;case 1:if(!(a<t)){r.next=21;break}return c=e.name,f=i||y.WebSocketWrapCtrl,d=new f(e),r.next=7,d.connect();case 7:if(h=r.sent,(0,p.log)((0,s.default)(u=(0,s.default)(l="test:>createSocket:>".concat(c,":>")).call(l,a+1,"=")).call(u,h)),!h){r.next=15;break}return k.emit(b,c,d),_.set(c,d),r.abrupt("return",d);case 15:return r.next=17,(0,v.sleep)(n);case 17:return r.abrupt("continue",18);case 18:a++,r.next=1;break;case 21:case"end":return r.stop()}}),r)})))},t.decrypt=function(e,t){try{var n=g.get(e),r=c.default.AES.decrypt(t,c.default.enc.Utf8.parse(n),{mode:c.default.mode.ECB,padding:c.default.pad.Pkcs7}).toString(c.default.enc.Utf8);return JSON.parse(r)}catch(e){return(0,p.error)("cant decrypt data"),""}},t.disconnectSocket=function(e){var t=_.get(e);t&&(t.disconnect(),_.delete(e))},t.encrypt=function(e,t){var n=g.get(e);return c.default.AES.encrypt(t,c.default.enc.Utf8.parse(n),{mode:c.default.mode.ECB,padding:c.default.pad.Pkcs7}).toString()},t.genUrl=function(e){var t,n=e.url,r=e.publicKey,a=e.code,i=(e.host,e.name),o=(0,s.default)(t="".concat(n,"/gws?auth=")).call(t,S(i,r));a&&(o+="&code=".concat(a));return o},t.getAuth=S,t.getSocket=function(e){return _.get(e)},t.mockSocketCtor=function(e){i=e},t.offSocketEvent=function(e,t){e.event.offAllCaller(t)},t.onCreateSocket=function(e,t){return new d.Observable((function(n){var r=function(r,a){r===e&&(n.next(a),t&&n.complete())};k.on(b,r,null),n.add((function(){k.off(b,null,r)}));var a=_.get(e);a&&r(e,a)}))},t.socketEventToPromise=function(e,t,n){return function(r){return new u.default((function(a,i){e.event.once(t,(function(e,t){t===n?a(e):i({code:t,data:e})})),e.send(t,r)}))}},t.waitCreateSocket=function(e){return new u.default((function(t,n){var r=_.get(e);if(r)return t(r);k.once(b,(function(n,r){n===e&&t(r)}))}))};var i,o=a(n(66329)),u=a(n(93476)),l=a(n(39392)),s=a(n(77766)),c=a(n(47814)),f=n(36582),d=n(72649),h=n(38182),v=n(90564),p=n(55161),y=n(49659),m=function(e,t,n,r){return new(n||(n=u.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},g=new l.default,_=new l.default,k=new h.EventCom,b="create";function w(e){var t=(new Date).toString(),n=Date.parse(t).toString()+Date.parse(t).toString()+Date.parse(t).toString().substring(0,6);return g.set(e,n),n}function S(e,t){var n=w(e),r=new f.JSEncrypt;return r.setPublicKey(t),r.encrypt(n)}},14082:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.AudioRes=void 0;t.AudioRes={Click:"sound/click.mp3",HallBg:"sound/hall_bg.mp3",GameBg:"sound/game_bg.mp3",Fire:"sound/fire.mp3",Bomb:"sound/bomb.mp3",Freeze:"sound/freezing.mp3",ShoalComing:"sound/shoal_coming.mp3",CoinFew:"sound/coin_few.mp3",CoinShow:"sound/coin_show.mp3",CoinLot:"sound/coin_lot.mp3",LeaveGame:"sound/leave_game.mp3",PopShow:"sound/pop_show.mp3",FlySkill:"sound/pop_show.mp3",CoinCircle:"sound/pop_show.mp3"}},66058:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.SkillNameMap=t.SkillMap=t.ItemMap=t.Config=void 0;var i,o,u=a(n(67513)),l={PublicKey:"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDMUws+7NKknmImMYUsSr4DOKYVrs1s7BQzGBgkkTptjGiektUmxm3BNZq34ugF6Vob9V0vU5r0S7vfyuOTC87uFeGe+rBJf7si4kE5wsJiEBlLNZjrz0T30xHGJlf+eizYVKPkpo3012rKvHN0obBlN7iBsdiGpLGP3sPAgO2tFQIDAQAB",SocketUrl:"",code:"",arenaSocketUrl:"",token:"",lang:"en",isLogin:!1,Host:"",CdnVersion:window.version,cndUrl:"",BulletSpeed:25,PoolWidth:1920,PoolHeight:750,BulletZoneWidth:1334,ShootTimeSpace:200,BombRadius:150,ClearFishTime:2.5};t.Config=l,t.SkillMap=o,function(e){e.LockFish="2001",e.Freezing="2002",e.Bomb="2003",e.Bullet="3001",e.Auto="A2004",e.Super="A2004"}(o||(t.SkillMap=o={}));var s=(i={},(0,u.default)(i,o.Freezing,"freeze"),(0,u.default)(i,o.Bomb,"bomb"),(0,u.default)(i,o.LockFish,"aim"),(0,u.default)(i,o.Auto,"auto"),(0,u.default)(i,o.Super,"super"),i);t.SkillNameMap=s;t.ItemMap={3001:"BTC",3002:"ETH",3003:"XRP"}},70555:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.Coordinates=void 0;t.Coordinates={gun_global_pos:{0:{x:670,y:696},1:{x:1250,y:696},2:{x:1250,y:54},3:{x:670,y:54}},grand_prix_gun_global_pos:{0:{x:960,y:696},1:{x:960,y:54}},guns_inside_pos:{start_point:{x:74.5,y:20},origin_point:{x:74.5,y:74.5}},bullet_offset:{11:[0],12:[15,-15],13:[15,-15],21:[0],22:[10,-10],23:[10,-10],31:[0],32:[10,-10],33:[10,-10],41:[0],42:[20,-20],43:[20,-20],51:[0],52:[0],53:[0]},guns_inbox_pos:{x:104,y:78},shadowPos:{default:{x:0,y:80},1:{x:0,y:60,scaleX:.35,scaleY:.35},2:{x:0,y:70,scaleX:.49,scaleY:.49},3:{x:0,y:70,scaleX:.5,scaleY:.5},4:{x:0,y:100,scaleX:.8,scaleY:1.2},5:{x:0,y:80,scaleY:.8,scaleX:.84},6:{x:0,y:70,scaleX:.43,scaleY:.43},7:{x:0,y:80,scaleX:.5,scaleY:.5},8:{x:0,y:120,scaleX:.6,scaleY:1},9:{x:0,y:120,scaleX:.7,scaleY:1.1},10:{x:0,y:80,scaleX:.9,scaleY:1.4},11:{x:0,y:150},12:{x:0,y:150,scaleX:1.8},13:{x:0,y:150,scaleX:2.2,scaleY:1.5},14:{x:0,y:150,scaleX:2.5,scaleY:1.2},15:{x:0,y:200,scaleX:3,scaleY:2},16:{x:0,y:60,scaleX:2},17:{x:0,y:150,scaleX:1.2,scaleY:1.8},18:{x:0,y:100},19:{x:0,y:120,scaleX:1.4,scaleY:1.4},20:{x:0,y:120,scaleX:2}}}},23254:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.env=void 0,t.isProd=function(){return!0};var r="PROD";t.env=r},46665:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.GunInfo=void 0;t.GunInfo={LevelUp:[3,10],HoleNum:[1,2,2]}},89970:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.Lang=t.InternationalTip=t.InternationalRes=t.International=void 0;var i,o,u,l,s,c,f,d=a(n(67513)),h=n(26744);t.Lang=f,function(e){e.Zh="zh-Hans",e.Zh_HK="zh-Hant",e.Kor="ko",e.En="en",e.Jp="ja"}(f||(t.Lang=f={}));t.InternationalRes={};var v=(c={},(0,d.default)(c,f.En,(i={deposit:"Deposit",withdrawal:"Withdrawal",balance:"Balance",bullet:"Bullet",automaticFiring:"Automatic firing",buyBullet:"Purchase Bullets",casualMode:"Casual Mode",tournamentMode:"Tournament Mode",trialField:"Demo game",realField:"Real game",stayTuned:"Stay Tuned",quickStart:"Quick Start",NumBullet:"Bullets",guest:"Guest",volumeSetting:"Volume Setting",music:"Music",soundEffects:"Sound",tips:"Reminder",cancel:"Cancel",confirm:"Confirm",luckyDraw:"Prize Draw",redemption:"Exchange",buySuccess:"Congratulations on acquiring!",luckyDrawTip2:"Congrats! You’ve got ",Num:"Remaining",shop:"Shop",skin:"Skin",lock:"Lock",freeze:"Freeze",bomb:"Bomb",voucher:"Voucher",use:"Use",inUse:"In Use",item:"Item",youAreHere:"You are here",purchase:"Purchase",buyBulletCost:"Must spend",leaveTip:"Are you sure you want to leave the game?",reEnter:"You are in the game now, do you want to re-enter?",kickedTip:"You have been kicked out of the game room, do you want to refresh the page and re-enter the game room?",buyBulletTip:"Out of ammo, do you want to purchase more?",buySkillTip:"You don’t have this skill, do you want to purchase it?",logoutTip:"Login disconnected, do you want to refresh the current page?",posBombTip:"Please select a location on the screen to place the bomb",aimFish:"Please select the fish you want to attack",help:"Help",times:"times",help1:"1. Fish Points: Different fishes have different values, with the number of bullets obtained after capturing a fish being equal to the multiple of the cannon currently being used multiplied by the number of Fish Points. For example, if a fish with 50 Fish Points is captured using a 10x cannon, the number of bullets obtained is 50x10=500. Each different type of fish and their corresponding numbers of Fish Points are as follows:",help2:"2. Skill description: Players can apply the following skills in the game.",help2Super:"Super Skill: This is a passive skill which is automatically triggered after a certain number of fish have been captured by the player. It increases bullet power and doubles the firing speed.",help2Freeze:"Freezing Skill: Active skill which can be obtained either by killing certain types of fish or by directly purchasing. It can freeze most of the fish on the screen.",help2Lock:"Lock Skill: Active skill which can be obtained either by killing certain types of fish or by directly purchasing. It can automatically lock in place the fish on the screen which have the highest number of Fish Points; players can also select the fish which they want to lock in place.",help2Bomb:"Bomb Skill: Active skill which can be directly purchased. It will randomly kill groups of nearby fish on the screen.",help3:"3. Available cannon multiples: ",help31:"1,2,3,4,5,10,15,20",help4:"4. Other instructions",help41:"Redemption: Players can get some Fish Vouchers after capturing certain types of fish. Fish Vouchers can be redeemed in exchange for rewards.",help42:"Lucky draw: Players can qualify for 1 lucky draw after capturing 10 fish that each have at least 100 Fish Points. Rewards include bullets and currency.",help43:"Purchases: Players can purchase bullets inside the main hall, and can also purchase cannon skins or bullet effects by clicking on the cannon icon in the game.",tourSkip:"Skip",tourStart:"Start game",tour1:"Click the drop-down button to select the currency",tour2:"Game room will change <br/>according to which currency is selected",tour3:"In the demo game you can only experience the game, <br/>you must be in the real game in order to earn currency",tour4:"The system will automatically convert your digital currency into<br/> bullets when you enter a real game; any remaining <br/> bullets will be converted back into currency after you <br/> have left the room.",tour5:"Control your cannon, click and catch <br/>fish to get more bullets",tour6:"Use items to help you catch more <br/> and bigger fish",noData:"No data",NetError:"Problem with Internet connection, reconnecting",NetComeBack:"Welcome back!",OtherLogin:"Login error, please refresh and try again.",InputEmptyWarn:"Input value cannot be blank!",Delete:"Delete",buyItemTip:"Confirm cost {cost_num} {cost_name},purchase {num} {name}.",buySkinTip:"Confirm cost {num} {name},purchase {item}.",beyondBulletNum:"Exceeds current ammunition limit",itemListTitle:"Items stored",itemList1:"Item types",itemList2:"Sum of purchases",itemList3:"Sum of prizes",search:"Inquire",gameNo:"Sessions",remainingNum:"Amount remaining",gameListTitle:"Game record",cost:"Use up",prize:"Winnings",delayUpdateAccount:"Updates to your balance might be delayed until blocks on the chain can be confirmed, please be patient.",enterGameCostTip:"The system converts {bringAmount} {currency} into {bulletNum} bullets. \n After you leave the room, any remaining bullets \n will then be converted back into your {currency}.",NoMoneyAmount:"The current currency surplus is insufficient, the minimum requirement to enter the market is {minAmount}{currency}, please go to top up or switch to other currencies.",platformDiffCurrencyEnterGameErr:"You have unfinished games, the system will automatically repeat.",arenaHelpRule11:"",arenaHelpRule12:"",arenaHelpRule13:"",arenaHelpRule21:"",arenaHelpRule22:"",arenaHelpRule23:"",arenaHelpRule24:"",arenaHelpRule31:"",arenaHelpRule32:"",arenaHelpRule33:"",arenaHelpRule34:"",arenaHelpRule35:"",arenaHelpRule41:"",arenaHelpRule42:"",arenaAwardTitle:"",arenaAwardItemTitle0:"",arenaAwardItemTitle1:"",arenaAwardItemTitle2:"",arenaAwardItemTitle3:"",continueGame:"",noStart:"",preStartTime:"",noOpen:"",sign:"",feeStr:"",feeFreeStr:"",noUser:"",allFirstPlace:"",firstPlace:"",secondPlace:"",thirdPlace:"",score:"",openTime:"",notInRank:"",arenaNotEndCurrency:"",arenaNotSupportCurrency:"",maintainQuitTip:"",maintainTip:"",keyboardEmpTip:"",arenaAwardDayRank:"",arenaAwardGradeRank:"",arenaTitle:"",matchTitle:"",maintaining:"",taskStartTip:"",taskCompletedTip:"",arenaTopPlayerTitle:"",arenaSettleTitle:"",arenaSettleReSign:"",arenaSettleReStatic:"",arenaSettleTpl:"",arenaSettle1:"",arenaSettle2:"",arenaRankScore:"",arenaRankAward1:"",arenaRankAward2:"",arenaRankTitle:"",arenaRankTab0:"",arenaRankTab1:"",arenaHelpTitle:"",arenaHelpTab0:"",arenaHelpTab1:"",arenaHelpTab2:"",arenaHelpTab3:"",arenaGiftTitle:"",arenaCompetitionTitle:"",arenaCompetitionSmallTip1:"",arenaCompetitionSmallTip2:"",arenaCompetitionSmallTip3:"",arenaCompetitionTip:"",arenaRewardTpl:"",gameNoOpen:"",GameEnded:"",SignUpFail:"",GuestSignUpFail:"",BulletLack:"",BuyFail:"",ItemNotExist:"",NotEnoughBulletNumChangeTurretTip:"",GiftOnlyOnce:"",UserSignUpDeadline:"",GiftBulletTip:""},(0,d.default)(i,h.ServerErrCode.NoMoney,"Insufficient funds, please add funds or change to another currency."),(0,d.default)(i,"noMoneyConfirm","Add funds"),(0,d.default)(i,h.ServerErrCode.ReExchange,"Out of ammo. Continue exchanging?"),(0,d.default)(i,h.ServerErrCode.TrialTimeGame,"Demo playing time is up, please go to the real game to continue playing."),(0,d.default)(i,h.ServerErrCode.TrialNotBullet,"Out of ammo, please reload the game or go the real game to continue."),(0,d.default)(i,h.ServerErrCode.NetError,"Network error, please reload the game "),(0,d.default)(i,h.ServerErrCode.TrialClose,"Demo mode is off."),(0,d.default)(i,h.ServerErrCode.OverLimit,"Your spending have reached the maximum limit."),(0,d.default)(i,h.ServerErrCode.ToQuick,"Operation done too frequently"),i)),(0,d.default)(c,f.Kor,(o={deposit:"충전",withdrawal:"출금",balance:"잔액",bullet:"총알",automaticFiring:"자동 발사",buyBullet:"총알 구매",casualMode:"레저 모드",tournamentMode:"경기 모드",trialField:"시연장",realField:"게임장",stayTuned:"준비 중",quickStart:"시작",NumBullet:"잔여 총알",guest:"관전",volumeSetting:"음량 설정",music:"음악",soundEffects:"음향",tips:"주의",cancel:"취소",confirm:"확인",luckyDraw:"추첨",redemption:"교환",buySuccess:"구매 완료",luckyDrawTip2:"축하드립니다",Num:"잔금",shop:"상점",skin:"장비",lock:"목표 지정",freeze:"얼음",bomb:"폭탄",voucher:"쿠폰",use:"사용",inUse:"사용중",item:"도구",youAreHere:"현 위치",purchase:"구매",buyBulletCost:"비용 수요",leaveTip:"나가시겠습니까?",reEnter:"게임 진행 중입니다. 다시 진입 하시겠습니까?",kickedTip:"방에서 탈퇴 당하셨습니다. 다시 진입 하시겠습니까?",buyBulletTip:"총알 수량이 부족합니다. 구입 하시겠습니까?",buySkillTip:"해당 기능이 없습니다. 구입 하시겠습니까?",logoutTip:"로그인이 끊겼습니다. 페이지 새로 고침 하시겠습니까?",posBombTip:"위치를 선택하여 폭탄을 배치하세요.",aimFish:"공격하실 물고기를 선택하세요.",help:"도움",times:"배",help1:"1. 물고기 점수 설명: 물고기에 따라 점수가 다릅니다. 한 마리를 잡고 받을 수 있는 총알의 수량는 현재 사용 중인 포좌의 배수에 이 물고기의 점수를 곱한 것과 같습니다. 예를 들어 50배의 물고기 한 마리를 잡았을 때 10배의 포좌를 사용하였으면 받을 수 있는 총알 수량은 50X10=500입니다.각 물고기의 점수는 아래와 같습니다.",help2:"2. 기능 사용 설명: 게임 진행중 플레이어는 다음과 같은 기능을 사용할 수 있습니다.",help2Super:"슈퍼기능: 자동 기능, 플레이어가 일정량의 물고기를 포획한 후 자동으로 발사 됩니다.",help2Freeze:"얼음 기능:수동 기능, 일정한 량의 물고기를 포획하면 받을 수 있 구매도 가능합니다. 해당 기능을 사용하면 게임중 대부분의 물고기들은 움직이지 않습니다.",help2Lock:"목표 지정 기능: 수동 기능, 일정한 량의 물고기를 포획하면 받 을 수 있고 구매도 가능합니다.  해당 기능을 사용하면 게임중의 가장  점수가 높은 물고기에 목표 지정이 됩니다. 또한 플레이어는 수동으로 한마리를 지정할 수 있습니다.",help2Bomb:"폭탄: 수동 기능, 구매하여야 합니다. 사용후 랜덤으로 한 무리의 물고기를 폭격할 수 있습니다.",help3:"3. 선택 가능한 포좌의 배수는 아래와 같습니다.",help31:"1,2,3,4,5,10,15,20",help4:"4. 기타 설명",help41:"환전: 플레이어가 지정된 물고기를 포획할 때, 물고기 쿠폰을 받게 되고, 쿠폰을 모으면 경품을 교환할 수 있게 됩니다.",help42:"추첨: 플레이어는 100점 이상의 물고기를 10마리 잡은 후, 추첨 기회가 한번 주어집니다. 추첨 보상은 총알이나 코인입니다.",help43:"구매: 플레이어는 첫 페이지에서 ‘구매’를 클릭하여 총알을 구입할 수도 있고, 게임 내에서 ‘포좌’를 클릭하여 포좌 종류 또한 특수 기능 총알을 구입할 수도 있습니다. 기능의 수가 0일 때 이 기능 아이콘을 클릭하여 기능을 구입할 수 있습니다.",tourSkip:"Exit",tourStart:"Start",tour1:"내리기 버튼을 클릭하여 코인 종류를 선택합니다.",tour2:"코인 종류에 따라 게임방이 다를 수 있습니다.",tour3:"시연장에서 유저는 체험만 가능하고 기엠장에서는 디지털 화폐를 획득할 수 있습니다",tour4:"게임이 본격적으로 시작되면 시스템이 자동으로 디지털 화폐를 총알로 바꿔드립니다. 게임방을 떠난 후, 남은 모든 총알은 다시 디지털 화폐로 교환됩니다.",tour5:"포좌를 컨트롤하고 물고기 포획을 클릭하면 더 <br/> 많은 총알을 받을 수 있습니다.",tour6:"도구를 사용하여 더 많고 더 큰 물고기를 <br/> 포획할 수 있습니다.",noData:"데이터 없음",NetError:"네트워크 오류, 다시 연결 중",NetComeBack:"돌아오신 걸 환영합니다!",OtherLogin:"다른 곳에서 로그인 시도, 새로고침해 주세요",InputEmptyWarn:"빈칸을 입력해주세요!",Delete:"삭제",buyItemTip:"{cost_num}개의 {cost_name}를 소비하여, {num}개의 {name}를 구매",buySkinTip:"{num}개의 {name}를 소비하여, {item} 구매",beyondBulletNum:"현재 총알 수량 초과",itemListTitle:"아이템 보관량",itemList1:"아이템",itemList2:"총 구매 수량",itemList3:"총 게임 보너스",search:"조회",gameNo:"횟수",remainingNum:"남은 수량",gameListTitle:"게임 기록",cost:"소비",prize:"수익",delayUpdateAccount:"잔고에 변동이 생겼습니다. 블록체인에 문제가 생김으로  다소 지연이 될 수 있으니 양해 부탁드립니다.",enterGameCostTip:"시스템이 {bringAmount}{currency}를 {bulletNum}개의 총알로 바꿔드립니다.\n 게임을 나가실때 남은 총알은 {currency}로 바꿔드립니다.",NoMoneyAmount:"현재 화폐 잔액이 부족합니다. 최소{minAmount}{currency} 소유해야 입장이 가능합니다. 충전하시거나 다른 화폐로 교환해주세요.",platformDiffCurrencyEnterGameErr:"완료되지 않은 게임이 있으면 시스템이 자동으로 반복됩니다.",arenaHelpRule11:"",arenaHelpRule12:"",arenaHelpRule13:"",arenaHelpRule21:"",arenaHelpRule22:"",arenaHelpRule23:"",arenaHelpRule24:"",arenaHelpRule31:"",arenaHelpRule32:"",arenaHelpRule33:"",arenaHelpRule34:"",arenaHelpRule35:"",arenaHelpRule41:"",arenaHelpRule42:"",arenaAwardTitle:"",arenaAwardItemTitle0:"",arenaAwardItemTitle1:"",arenaAwardItemTitle2:"",arenaAwardItemTitle3:"",continueGame:"",noStart:"",preStartTime:"",noOpen:"",sign:"",feeStr:"",feeFreeStr:"",noUser:"",allFirstPlace:"",firstPlace:"",secondPlace:"",thirdPlace:"",score:"",openTime:"",notInRank:"",arenaNotEndCurrency:"",arenaNotSupportCurrency:"",maintainQuitTip:"",maintainTip:"",keyboardEmpTip:"",arenaAwardDayRank:"",arenaAwardGradeRank:"",arenaTitle:"",matchTitle:"",maintaining:"",taskStartTip:"",taskCompletedTip:"",arenaTopPlayerTitle:"",arenaSettleTitle:"",arenaSettleReSign:"",arenaSettleReStatic:"",arenaSettleTpl:"",arenaSettle1:"",arenaSettle2:"",arenaRankScore:"",arenaRankAward1:"",arenaRankAward2:"",arenaRankTitle:"",arenaRankTab0:"",arenaRankTab1:"",arenaHelpTitle:"",arenaHelpTab0:"",arenaHelpTab1:"",arenaHelpTab2:"",arenaHelpTab3:"",arenaGiftTitle:"",arenaCompetitionTitle:"",arenaCompetitionSmallTip1:"",arenaCompetitionSmallTip2:"",arenaCompetitionSmallTip3:"",arenaCompetitionTip:"",arenaRewardTpl:"",gameNoOpen:"",GameEnded:"",SignUpFail:"",GuestSignUpFail:"",BulletLack:"",BuyFail:"",ItemNotExist:"",NotEnoughBulletNumChangeTurretTip:"",GiftOnlyOnce:"",UserSignUpDeadline:"",GiftBulletTip:""},(0,d.default)(o,h.ServerErrCode.NoMoney,"현재 보유 중인 화폐 수량이 부족합니다. 입금 또는 다른 화폐를 환전해주세요."),(0,d.default)(o,"noMoneyConfirm","충전하기"),(0,d.default)(o,h.ServerErrCode.ReExchange,"총알 부족, 계속 교환 하시겠습니까?"),(0,d.default)(o,h.ServerErrCode.TrialTimeGame,"무료 플레이 종료. 정식 버전을 이용해주세요"),(0,d.default)(o,h.ServerErrCode.TrialNotBullet,"총알 부족, 다시 입장하거나 정식 버전을 이용해 주세요."),(0,d.default)(o,h.ServerErrCode.NetError,"네트워크 오류. 새로고침 후 다시 시도해 주세요."),(0,d.default)(o,h.ServerErrCode.TrialClose,"체험모드 종료"),(0,d.default)(o,h.ServerErrCode.OverLimit,"귀하의 소비가 제한에 도달했습니다."),(0,d.default)(o,h.ServerErrCode.ToQuick,"너무 자주 작동"),o)),(0,d.default)(c,f.Jp,(u={deposit:"⼊⾦",withdrawal:"送⾦",balance:"殘⾼",bullet:"弾薬",automaticFiring:"⾃動攻撃",buyBullet:"弾薬購⼊",casualMode:"レジャーモード",tournamentMode:"競技モード",trialField:"體験 ゲームルーム",realField:"本番ゲームルーム",stayTuned:"未開放",quickStart:"即開始",NumBullet:"弾薬",guest:"ゲスト",volumeSetting:"⾳量設定",music:"⾳楽",soundEffects:"⾳聲効果",tips:"注意",cancel:"キャンセル",confirm:"確認",luckyDraw:"抽選",redemption:"交換",buySuccess:"購⼊完了",luckyDrawTip2:"恭喜你獲得",Num:"殘り",shop:"ショップ",skin:"スタイル",lock:"ロック",freeze:"冷凍",bomb:"爆弾",voucher:"賞券",use:"使⽤",inUse:"使⽤中",item:"スキル",youAreHere:"ここにいる",purchase:"購⼊",buyBulletCost:"消費必要",leaveTip:"ゲーム終了しますか。",reEnter:"　現在ゲーム中ですが、再び開始しますか？",kickedTip:"プレールームから出てました。もう⼀度⼊場します か？",buyBulletTip:"弾薬殘數が不⾜になり、ご購⼊しますか。",buySkillTip:"スキルまだない、ご購⼊しますか。",logoutTip:"ログイン接続できません。ページを再読み込みしますか。",posBombTip:"畫⾯中、爆弾を置く場所を選択してください。",aimFish:"攻撃したい⿂を選択してください。",help:"ヘルプ",times:"倍",help1:"⿂ポイント説明：それぞれの⿂ポイントの數値は異なります。１つの⿂を捕獲すること により、獲得弾薬は現在使⽤中の砲臺の倍數をかける⿂ポイントの數値となります。 例えば、50倍の⿂を捕獲する場合は、10倍で撃ちまして、獲得弾薬は50X10=500となり ます。それぞれのポイントは以下のようです。",help2:"スキル使⽤説明：プレーヤーはゲーム中で以下のスキルで使⽤可能です。",help2Super:"スーパースキル：受動スキル、プレーヤーが捕獲した⿂におけて、⼀定の數量に達 すると、弾薬の威⼒が増加し、攻撃スピードが加速となります。",help2Freeze:"冷凍スキル：主動スキル、特定な⿂を攻撃することによって獲得し、もしくは購⼊ もできます。使⽤後、畫⾯內の多數な⿂を凍結されます。",help2Lock:"ロックスキル：主動スキル、特定な⿂を攻撃することによって獲得し、もしくは購 ⼊もできます。使⽤後、畫⾯內の⾼の⿂ポイントに⾃動的に的中し、プレーヤー が⾃由選択もできます。",help2Bomb:"爆弾：主動スキル、購⼊で獲得できます。使⽤後、畫⾯內のランダムで１つ群の⿂ に攻撃します。",help3:"選択可能の倍數は以下のようです。",help31:"1,2,3,4,5,10,15,20",help4:"その他説明：",help41:"交換：プレーヤーは、特定な⿂を捕獲することにより、⿂券が獲得できます。その ⼀定の數量の⿂券を収集すると、景品と交換可能です",help42:"抽選：プレーヤーは、10匹100ポイント以上の⿂を捕獲すると、1回の抽選に參加可 能です。景品は弾薬と通貨を含みます。",help43:"購⼊：プレーヤーは、ホームで購⼊ボタンをクリックし、弾薬を購⼊できます。ま た、ゲーム中で砲臺ボタンをクリックし、砲臺スタイルと弾薬特効を購⼊できま す。スキルの數は0の時、スキルボタンを押して購⼊できます。",tourSkip:"Exit",tourStart:"Start",tour1:"ボタンで通貨タイプを選択",tour2:"通貨タイプが異なることにより、ゲーム <br/> ルームが切替されます。",tour3:"體験ルームプレーはゲームの體験のみ可能です。本番プレールームで仮想通貨が獲得 可能です。",tour4:"本番ゲームルームに⼊場の際、システムは⾃動的に仮想通貨を弾薬に交換されます。 また、お客様は退場の際、殘りの弾薬が⾃動的に仮想通貨に交換されます。ご安⼼くだ さい。",tour5:"砲臺をコントロールし、クリックかつ⿂<br/>の捕獲、もっと弾薬が獲得可能",tour6:"スキルの使⽤で、もっと⼤きくて多い⿂を<br/>捕獲可能です。",noData:"データなし",NetError:"異常なネットワーク、再接続",NetComeBack:"お帰りなさい！",OtherLogin:"サイト外でログオフし、更新して再試行してください",InputEmptyWarn:"入力した値は空にできません...！",Delete:"削除する",buyItemTip:"費用{cost_num}{cost_name}、購入{num}{name}を確認します。",buySkinTip:"費用{num}{name}、購入{item}を確認します。",beyondBulletNum:"現在の弾丸数を超える",itemListTitle:"アイテムの在庫",itemList1:"道具",itemList2:"合計購入金額",itemList3:"ゲームギフトの合計",search:"問い合わせ",gameNo:"セッション",remainingNum:"残高",gameListTitle:"ゲーム記録",cost:"消費する",prize:"収益",delayUpdateAccount:"チェーンのブロック確認により、資金の変更が遅れる場合があります。しばらくお待ちください",enterGameCostTip:"システムで{bringAmount}{currency}を{bulletNum}弾に変換します。\n部屋を出る時、残りの弾丸を{currency}に交換されます",NoMoneyAmount:"現在の残高が不足しており、参加には最低{minAmount}{currency}を保有する必要があります。入金または他のトークンに切り替えてください。",platformDiffCurrencyEnterGameErr:"まだ終わっていないゲームがありますので、システムは自動的にリセットして差し上げます。",arenaHelpRule11:"",arenaHelpRule12:"",arenaHelpRule13:"",arenaHelpRule21:"",arenaHelpRule22:"",arenaHelpRule23:"",arenaHelpRule24:"",arenaHelpRule31:"",arenaHelpRule32:"",arenaHelpRule33:"",arenaHelpRule34:"",arenaHelpRule35:"",arenaHelpRule41:"",arenaHelpRule42:"",arenaAwardTitle:"",arenaAwardItemTitle0:"",arenaAwardItemTitle1:"",arenaAwardItemTitle2:"",arenaAwardItemTitle3:"",continueGame:"",noStart:"",preStartTime:"",noOpen:"",sign:"",feeStr:"",feeFreeStr:"",noUser:"",allFirstPlace:"",firstPlace:"",secondPlace:"",thirdPlace:"",score:"",openTime:"",notInRank:"",arenaNotEndCurrency:"",arenaNotSupportCurrency:"",maintainQuitTip:"",maintainTip:"",keyboardEmpTip:"",arenaAwardDayRank:"",arenaAwardGradeRank:"",arenaTitle:"",matchTitle:"",maintaining:"",taskStartTip:"",taskCompletedTip:"",arenaTopPlayerTitle:"",arenaSettleTitle:"",arenaSettleReSign:"",arenaSettleReStatic:"",arenaSettleTpl:"",arenaSettle1:"",arenaSettle2:"",arenaRankScore:"",arenaRankAward1:"",arenaRankAward2:"",arenaRankTitle:"",arenaRankTab0:"",arenaRankTab1:"",arenaHelpTitle:"",arenaHelpTab0:"",arenaHelpTab1:"",arenaHelpTab2:"",arenaHelpTab3:"",arenaGiftTitle:"",arenaCompetitionTitle:"",arenaCompetitionSmallTip1:"",arenaCompetitionSmallTip2:"",arenaCompetitionSmallTip3:"",arenaCompetitionTip:"",arenaRewardTpl:"",gameNoOpen:"",GameEnded:"",SignUpFail:"",GuestSignUpFail:"",BulletLack:"",BuyFail:"",ItemNotExist:"",NotEnoughBulletNumChangeTurretTip:"",GiftOnlyOnce:"",UserSignUpDeadline:"",GiftBulletTip:""},(0,d.default)(u,h.ServerErrCode.NoMoney,"現在の通貨残高が不足しています。再チャージするか、他の通貨に切り替えてください。"),(0,d.default)(u,"noMoneyConfirm","チャージ"),(0,d.default)(u,h.ServerErrCode.ReExchange,"弾丸が不十分な場合は、引き換えてください！"),(0,d.default)(u,h.ServerErrCode.TrialTimeGame,"体験期間が過ぎました。会場でご利用ください。"),(0,d.default)(u,h.ServerErrCode.TrialNotBullet,"弾丸が足りません。再入力するか、公式会場でプレイしてください。"),(0,d.default)(u,h.ServerErrCode.NetError,"ネットワークが異常です。更新してもう一度お試しください。"),(0,d.default)(u,h.ServerErrCode.TrialClose,"デモモードオフ"),(0,d.default)(u,h.ServerErrCode.OverLimit,"消費金額が上限に達しました"),(0,d.default)(u,h.ServerErrCode.ToQuick,"操作が多すぎる"),u)),(0,d.default)(c,f.Zh,(l={deposit:"充值",withdrawal:"提币",balance:"余额",bullet:"子弹",automaticFiring:"自动开炮",buyBullet:"购买子弹",casualMode:"休闲模式",tournamentMode:"竞技模式",trialField:"试玩场",realField:"正式场",stayTuned:"敬请期待",quickStart:"快速开始",NumBullet:"剩余子弹",guest:"游客",volumeSetting:"音量设置",music:"音乐",soundEffects:"音效",tips:"提示",cancel:"取消",confirm:"确定",luckyDraw:"抽奖",redemption:"兑换",buySuccess:"购买成功",luckyDrawTip2:"恭喜你获得",Num:"剩余",shop:"商店",skin:"皮肤",lock:"锁定",freeze:"冰冻",bomb:"炸弹",voucher:"奖券",use:"使用",inUse:"使用中",item:"道具",youAreHere:"您在此处",purchase:"购买",buyBulletCost:"需要花费",leaveTip:"确定要离开游戏吗?",reEnter:"你当前在游戏中是否重新进入?",kickedTip:"你被踢出房间, 刷新重新进入?",buyBulletTip:"子弹数目不够, 是否购买?",buySkillTip:"你还没有当前技能, 是否购买!",logoutTip:"登陆断开, 是否刷新页面!",posBombTip:"请选择屏幕中的位置放置炸弹",aimFish:"请选中你要攻击的鱼",help:"帮助",times:"倍",help1:"1.\t鱼分说明：不同的鱼有不同的分值，捕获一条鱼得的子弹数等于当前使用的炮台倍数乘以这条鱼的分数。比如捕获一条50倍的鱼，用的10倍的炮，获得的子弹数量就是50X10=500。 不同鱼的鱼分如下",help2:"2.\t技能使用说明：玩家在游戏过程中可以使用下列技能。",help2Super:"超级技能：被动技能，玩家捕获一定数量的鱼后自动触发，子弹威力加强、射速加倍。",help2Freeze:"冰冻技能：主动技能，可以通过打死某些鱼获得，也可购买，使用后冻住 当前屏幕内的大部分鱼。",help2Lock:"锁定技能：主动技能，可以通过打死某些鱼获得，也可购买，使用后会 自动锁定当前屏幕内鱼分最高的那条鱼，玩家也可以自己点击选择某一条鱼。",help2Bomb:"炸弹：主动技能，购买获得，使用后会随机炸死屏幕内的一群鱼。",help3:"3. 可选的炮倍数如下：",help31:"1,2,3,4,5,10,15,20",help4:"4. 其他说明",help41:"兑换：玩家捕获某些鱼时，会得到一些鱼券，收集一定数量的鱼券可以兑换奖品。",help42:"抽奖：玩家捕获10条鱼分100以上的鱼后，可以抽一次，奖品包括子弹和货币。",help43:"购买：玩家可以在大厅点击购买来购买子弹，也可以在游戏内点击炮台购买炮台皮肤或子弹特效。当技能的数量是0时，可以点击此技能图标来购买技能。",tourSkip:"退出引导",tourStart:"开始游戏",tour1:"点击下拉按钮选择币种",tour2:"选择币种不同，<br/>游戏房间也会随之切换",tour3:"在试玩场您只能体验游戏，<br/>在正式场才能赢得数字货币",tour4:"进入正式场后，系统会自动将您的数字货币兑换成子弹；<br/>请放心，在您离开房间后，所有剩余子弹将会再兑换成您的数字货币",tour5:"控制您的炮台，点击并捕捉鱼群，<br/>获得更多子弹",tour6:"可以使用道具，帮助您捕获<br/>更多更大的鱼",noData:"暂无数据",NetError:"网络异常, 正在重新连接",NetComeBack:"欢迎回来!",OtherLogin:"异地登录，请刷新重试",InputEmptyWarn:"输入的值不能为空...!",Delete:"删除",buyItemTip:"确认花费{cost_num}个{cost_name}, 购买{num}个{name}.",buySkinTip:"确认花费{num}个{name}, 购买{item}.",beyondBulletNum:"超出当前的子弹数目",itemListTitle:"道具存量",itemList1:"道具类型",itemList2:"购买数量总和",itemList3:"游戏赠送总和",search:"查询",gameNo:"场次",remainingNum:"剩余数量",gameListTitle:"游戏记录",cost:"消耗",prize:"收益",delayUpdateAccount:"您的余额变动因链上区块确认可能有所延迟，请耐心等待。",enterGameCostTip:"系統將{bringAmount}{currency}兌換成{bulletNum}子彈，\n離開房間時，會將剩餘子彈兌換成您的{currency}。",NoMoneyAmount:"当前货币余额不足，最小需携带{minAmount}{currency}才可进场，请去充值或者切换其他货币。",platformDiffCurrencyEnterGameErr:"您还有未完成的游戏，系统自动帮您复盘。",arenaHelpRule11:"a) 捕鱼大奖赛，以活动形式指定时间段开放，每个时段结束前{deadlineTime}分钟停止报名",arenaHelpRule12:"b)大奖赛每次开放均可获赠{freeNum}次免费挑战的次数（游客玩家和正式账号获得一次），免费挑战次数不累积",arenaHelpRule13:"c) 重复挑战需要报名消耗货币，消耗的货币数量每次都一样",arenaHelpRule21:"a) 报名成功后，每个玩家可以射击{initBulletNum}发子弹，击杀鱼后可以获得鱼倍率对应的积分，1倍=1积分。",arenaHelpRule22:"b) 大奖赛中炮台倍率越高，击杀鱼的概率也相应增加",arenaHelpRule23:"c) 玩家开炮后，若剩余子弹为500倍数，触发悬赏任务，完成可获得额外积分奖励",arenaHelpRule24:"d) 所有子弹打完后，本次挑战结束。最终积分可以参与排名(注意:子弹未打完的成绩不参与排名)",arenaHelpRule31:"a)每日取单次最高积分进入排名(至少需要{rankingScoreDown}分才可参与排名)",arenaHelpRule32:"b)积分相同的情况下，先达到的玩家排名在前",arenaHelpRule33:"c)日排行奖励发放时间为每日23:35，最终排名以23:30之后为准。( 注意: 23:00之前的排名奖励仅作预览，不是实际发放奖励)",arenaHelpRule34:"d) 总冠军奖励发放时间为每次活动结束后第二天0:05，单次积分最高的玩家为总冠军，获得额外的大奖",arenaHelpRule35:"e) 比赛的奖励直接发放到账号上，玩家可以在大厅界面查看大奖赛奖励发放记录",arenaHelpRule41:"a) 炮台加成 使用不同炮台皮肤，比赛中命中率加成不一样，不累加命中",arenaHelpRule42:"炮台皮肤      命中加成 \n 皮肤1           {gun1001}%\n 皮肤2           {gun1002}%\n 皮肤3           {gun1003}%\n 皮肤4           {gun1004}%\n 皮肤5           {gun1005}%\n",arenaAwardTitle:"奖励查询",arenaAwardItemTitle0:"用户",arenaAwardItemTitle1:"名次",arenaAwardItemTitle2:"时间",arenaAwardItemTitle3:"奖励",continueGame:"继续游戏",noStart:"比赛暂未开始",preStartTime:"{time}開啓",noOpen:"暫未开启",sign:"报名",feeStr:"费用：{fee}{currency}",feeFreeStr:"费用：本次免费",noUser:"虚位以待",allFirstPlace:"总冠军",firstPlace:"冠军",secondPlace:"亚军",thirdPlace:"季军",score:"积分: {score}",openTime:"活动时间：{startTime}-{endTime}",notInRank:"暂未上榜",arenaNotEndCurrency:"有未结束比赛，请点击继续游戏",arenaNotSupportCurrency:"本模式不支持{currency1}货币，已为你自动转换{currency2}",maintainQuitTip:"游戏维护中，请退出游戏！",maintainTip:"游戏维护中",keyboardEmpTip:"输入的值不能为空",arenaAwardDayRank:"日排行奖励",arenaAwardGradeRank:"每期总排行奖励",arenaTitle:"大奖赛",matchTitle:"大奖赛",maintaining:"维护中",taskStartTip:'完成悬赏任务，<span style="color: #ffffbb">有积分奖励</span>！',taskCompletedTip:"恭喜你完成悬赏任务，获得奖励{score}积分",arenaTopPlayerTitle:"捕鱼达人",arenaSettleTitle:"比赛结算",arenaSettleReSign:"重新参赛 {fee}{currency}",arenaSettleReStatic:"本次捕获分数：{score}",arenaSettleTpl:"{userId}\n当前排名：{ranking}\n今日最高捕获分数： {maxDayScore}\n本次捕获分数：{score}",arenaSettle1:"*比赛结束前，奖励可能产生变化",arenaSettle2:"排行奖励",arenaRankScore:"获得积分：{score}",arenaRankAward1:"预计奖励：{award}",arenaRankAward2:"奖励：{award}",arenaRankTitle:"每日排行",arenaRankTab0:"今日排行",arenaRankTab1:"昨日排行",arenaHelpTitle:"大奖赛规则",arenaHelpTab0:"参赛规则",arenaHelpTab1:"比赛规则",arenaHelpTab2:"奖励规则",arenaHelpTab3:"积分加成",arenaGiftTitle:"竞技礼包",arenaCompetitionTitle:"大奖赛",arenaCompetitionSmallTip1:"开放时间",arenaCompetitionSmallTip2:"我的积分",arenaCompetitionSmallTip3:"我的排名",arenaCompetitionTip:"排名5分钟刷新一次 日排名奖励在23:30后发放",arenaRewardTpl:"第{grade}期",gameNoOpen:"比赛暂未开启",GameEnded:"比赛已结束",SignUpFail:"报名失败",GuestSignUpFail:"报名失败，请登录账号再报名",BulletLack:"子弹数不足",BuyFail:"购买失败",ItemNotExist:"道具不存在",NotEnoughBulletNumChangeTurretTip:"子弹数量不足请切换炮台倍数",GiftOnlyOnce:"礼包当天只能买一次！",UserSignUpDeadline:"当前不是报名时间，请在规定时间内比赛报名",GiftBulletTip:"仅当日有效，次日0点失效，每场最多额外增加200发子弹"},(0,d.default)(l,h.ServerErrCode.NoMoney,"当前货币余额不足，请去充值或切换其他货币."),(0,d.default)(l,"noMoneyConfirm","去充值"),(0,d.default)(l,h.ServerErrCode.ReExchange,"子弹不足是否继续兑换!"),(0,d.default)(l,h.ServerErrCode.TrialTimeGame,"已超出试玩时长，请去正式场进行游戏"),(0,d.default)(l,h.ServerErrCode.TrialNotBullet,"子弹不足，请重新进入或去正式场进行游戏"),(0,d.default)(l,h.ServerErrCode.NetError,"网络异常, 请刷新重试"),(0,d.default)(l,h.ServerErrCode.TrialClose,"试玩模式关闭"),(0,d.default)(l,h.ServerErrCode.OverLimit,"消费金额已达上限"),(0,d.default)(l,h.ServerErrCode.ToQuick,"操作太频繁"),l)),(0,d.default)(c,f.Zh_HK,(s={deposit:"充值",withdrawal:"提幣",balance:"餘額",bullet:"子彈",automaticFiring:"自動開炮",buyBullet:"購買子彈",casualMode:"休閒模式",tournamentMode:"競技模式",trialField:"試玩場",realField:"正式場",stayTuned:"敬請期待",quickStart:"快速開始",NumBullet:"剩餘子彈",guest:"遊客",volumeSetting:"音量設定",music:"音樂",soundEffects:"音效",tips:"提示",cancel:"取消",confirm:"確定",luckyDraw:"抽獎",redemption:"兌換",buySuccess:"購買成功",luckyDrawTip2:"恭喜你獲得",Num:"弾薬",shop:"商店",skin:"皮膚",lock:"鎖定",freeze:"冰凍",bomb:"炸彈",voucher:"獎券",use:"使用",inUse:"使用中",item:"道具",youAreHere:"您在此處",purchase:"購買",buyBulletCost:"需要花費",leaveTip:"確定要離開遊戲嗎?",reEnter:"你當前在遊戲中是否重新進入?",kickedTip:"你被踢出房間, 刷新重新進入?",buyBulletTip:"子彈數目不夠, 是否購買?",buySkillTip:"你還冇有當前技能, 是否購買!",logoutTip:"登陸斷開, 收否刷新頁麵!",posBombTip:"請選擇屏幕中的位置放置炸彈",aimFish:"請選中你要攻擊的魚",help:"幫助",times:"倍",help1:"1.\t魚分說明：不同的魚有不同的分值，捕獲一條魚得的子彈數等於當前使用的炮臺倍數乘以這條魚的分數。比如捕獲一條50倍的魚，用的10倍的炮，獲得的子彈數量就是50X10=500。 不同魚的魚分如下",help2:"2.\t技能使用說明：玩家在遊戲過程中可以使用下列技能。",help2Super:"超級技能：被動技能，玩家捕獲一定數量的魚後自動觸發，子彈威力加強、射速加倍。",help2Freeze:"冰凍技能：主動技能，可以通過打死某些魚獲得，也可購買，使用後凍住 當前屏幕內的大部分魚。",help2Lock:"鎖定技能：主動技能，可以通過打死某些魚獲得，也可購買，使用後會 自動鎖定當前屏幕內魚分最高的那條魚，玩家也可以自己點擊選擇某一條魚。",help2Bomb:"炸彈：主動技能，購買獲得，使用後會隨機炸死屏幕內的一群魚。",help3:"3. 可選的炮倍數如下：",help31:"1,2,3,4,5,10,15,20",help4:"4.\t其他說明",help41:"兌換：玩家捕獲某些魚時，會得到一些魚券，收集一定數量的魚券可以兌換獎品。",help42:"抽獎：玩家捕獲10條魚分100以上的魚後，可以抽一次，獎品包括子彈和貨幣。",help43:"購買：玩家可以在大廳點擊購買來購買子彈，也可以在遊戲內點擊炮臺購買炮臺皮膚或子彈特效。當技能的數量是0時，可以點擊此技能圖標來購買技能。",tourSkip:"退出引導",tourStart:"開始遊戲",tour1:"點擊下拉按鈕選擇幣種",tour2:"選擇幣種不同，<br/>遊戲房間也會隨之切換",tour3:"在試玩場您隻能體驗遊戲，<br/>在正式場才能贏得數字貨幣",tour4:"進入正式場後，係統會自動將您的數字貨幣兌換成子彈；<br/>請放心，在您離開房間後，所有剩餘子彈將會再兌換成您的數字貨幣",tour5:"控製您的炮臺，點擊並捕捉魚群，<br/>獲得更多子彈",tour6:"可以使用道具，幫助您捕獲<br/>更多更大的魚",noData:"暫無數據",NetError:"網絡異常, 正在重新連接",NetComeBack:"歡迎回來!",OtherLogin:"異地登錄，請刷新重試",InputEmptyWarn:"輸入的值不能為空...!",Delete:"刪除",buyItemTip:"確認花費{cost_num}個{cost_name}, 購買{num}個{name}.",buySkinTip:"確認花費{num}個{name}, 購買{item}.",beyondBulletNum:"超出當前的子彈數目",itemListTitle:"道具存量",itemList1:"道具類型",itemList2:"購買數量總和",itemList3:"遊戲贈送總和",search:"查詢",gameNo:"場次",remainingNum:"剩餘數量",gameListTitle:"遊戲記錄",cost:"消耗",prize:"收益",delayUpdateAccount:"您的餘額變動因鏈上區塊確認可能有所延遲，請耐心等待。",enterGameCostTip:"系統將{bringAmount}{currency}兌換成{bulletNum}子彈，\n離開房間時，會將剩餘子彈兌換成您的{currency}。",NoMoneyAmount:"當前貨幣餘額不足，最小需攜帶{minAmount}{currency}才可進場，請去充值或者切換其他貨幣。",platformDiffCurrencyEnterGameErr:"您還有未完成的遊戲，係統自動幫您複盤。",arenaHelpRule11:"a) 捕魚大獎賽，以活動形式指定時間段開放，每個時段結束前{deadlineTime}分鍾停止報名",arenaHelpRule12:"b)大獎賽每次開放均可獲贈{freeNum}次免費挑戰的次數（遊客玩家和正式賬號獲得一次），免費挑戰次數不纍積",arenaHelpRule13:"c) 重複挑戰需要報名消耗貨幣，消耗的貨幣數量每次都一樣",arenaHelpRule21:"a) 報名成功後，每個玩家可以射擊{initBulletNum}發子彈，擊殺魚後可以獲得魚倍率對應的積分，1倍=1積分。",arenaHelpRule22:"b) 大獎賽中炮臺倍率越高，擊殺魚的概率也相應增加",arenaHelpRule23:"c) 玩家開炮後，若剩餘子彈為500倍數，觸發懸賞任務，完成可獲得額外積分獎勵",arenaHelpRule24:"d) 所有子彈打完後，本次挑戰結束。最終積分可以參與排名(註意:子彈未打完的成績不參與排名)",arenaHelpRule31:"a)每日取單次最高積分進入排名(至少需要{rankingScoreDown}分才可參與排名)",arenaHelpRule32:"b)積分相同的情況下，先達到的玩家排名在前",arenaHelpRule33:"c)日排行獎勵發放時間為每日23:35，最終排名以23:30之後為準。( 註意: 23:00之前的排名獎勵僅作預覽，不是實際發放獎勵)",arenaHelpRule34:"d) 總冠軍獎勵發放時間為每次活動結束後第二天0:05，單次積分最高的玩家為總冠軍，獲得額外的大獎",arenaHelpRule35:"e) 比賽的獎勵直接發放到賬號上，玩家可以在大廳界麵查看大獎賽獎勵發放記錄",arenaHelpRule41:"a) 炮臺加成 使用不同炮臺皮膚，比賽中命中率加成不一樣，不纍加命中",arenaHelpRule42:"炮臺皮膚      命中加成 \n 皮膚1           {gun1001}%\n 皮膚2           {gun1002}%\n 皮膚3           {gun1003}%\n 皮膚4           {gun1004}%\n 皮膚5           {gun1005}%\n",arenaAwardTitle:"獎勵查詢",arenaAwardItemTitle0:"用户",arenaAwardItemTitle1:"名次",arenaAwardItemTitle2:"時間",arenaAwardItemTitle3:"獎勵",continueGame:"繼續遊戲",noStart:"比賽暫未開始",preStartTime:"{time}開啓",noOpen:"暫未開啓",sign:"報名",feeStr:"費用：{fee}{currency}",feeFreeStr:"費用：本次免費",noUser:"虛位以待",allFirstPlace:"總冠軍",firstPlace:"冠軍",secondPlace:"亞軍",thirdPlace:"季軍",score:"積分: {score}",openTime:"活動時間：{startTime}-{endTime}",notInRank:"暫未上榜",arenaNotEndCurrency:"有未结束比赛，请点击继续游戏",arenaNotSupportCurrency:"本模式不支持{currency1}貨幣，已為你自動轉換{currency2}",maintainQuitTip:"遊戲維護中，請退出遊戲！",maintainTip:"遊戲維護中",keyboardEmpTip:"輸入的值不能為空",arenaAwardDayRank:"日排行獎勵",arenaAwardGradeRank:"每期總排行獎勵",arenaTitle:"大獎賽",matchTitle:"大獎賽",maintaining:"維護中",taskStartTip:'完成懸賞任務，<span style="color: #ffffbb">有積分獎勵</span>！',taskCompletedTip:"恭喜你完成懸賞任務，獲得獎勵{score}積分",arenaTopPlayerTitle:"捕魚達人",arenaSettleTitle:"比賽結算",arenaSettleReSign:"重新參賽 {fee}{currency}",arenaSettleReStatic:"本次捕獲分數：{score}",arenaSettleTpl:"{userId}\n當前排名：{ranking}\n今日最高捕獲分數： {maxDayScore}\n本次捕獲分數：{score}",arenaSettle1:"*比賽結束前，獎勵可能産生變化",arenaSettle2:"排行獎勵",arenaRankScore:"獲得積分：{score}",arenaRankAward1:"預計獎勵：{award}",arenaRankAward2:"獎勵：{award}",arenaRankTitle:"每日排行",arenaRankTab0:"今日排行",arenaRankTab1:"昨日排行",arenaHelpTitle:"大獎賽規則",arenaHelpTab0:"參賽規則",arenaHelpTab1:"比賽規則",arenaHelpTab2:"獎勵規則",arenaHelpTab3:"積分加成",arenaGiftTitle:"競技禮包",arenaCompetitionTitle:"大獎賽",arenaCompetitionSmallTip1:"開放時間",arenaCompetitionSmallTip2:"我的積分",arenaCompetitionSmallTip3:"我的排名",arenaCompetitionTip:"排名5分鍾刷新一次 日排名獎勵在23:30後發放",arenaRewardTpl:"第{grade}期",gameNoOpen:"比賽暫未開啓",GameEnded:"比賽已結束",SignUpFail:"報名失敗",GuestSignUpFail:"報名失敗，請登錄賬號再報名",BulletLack:"子彈數不足",BuyFail:"購買失敗",ItemNotExist:"道具不存在",NotEnoughBulletNumChangeTurretTip:"子彈數量不足請切換炮臺倍數",GiftOnlyOnce:"礼包当天只能买一次！",UserSignUpDeadline:"當前不是報名時間，請在規定時間內比賽報名",GiftBulletTip:"仅当日有效，次日0点失效，每场最多额外增加200发子弹"},(0,d.default)(s,h.ServerErrCode.NoMoney,"當前貨幣餘額不足，請去充值或切換其他貨幣."),(0,d.default)(s,"noMoneyConfirm","去充值"),(0,d.default)(s,h.ServerErrCode.ReExchange,"子彈不足是否繼續兌換!"),(0,d.default)(s,h.ServerErrCode.TrialTimeGame,"已超出試玩時長，請去正式場進行遊戲"),(0,d.default)(s,h.ServerErrCode.TrialNotBullet,"子彈不足，請重新進入或去正式場進行遊戲"),(0,d.default)(s,h.ServerErrCode.NetError,"網絡異常, 請刷新重試"),(0,d.default)(s,h.ServerErrCode.TrialClose,"試玩模式關閉"),(0,d.default)(s,h.ServerErrCode.OverLimit,"消費金額已達上限"),(0,d.default)(s,h.ServerErrCode.ToQuick,"操作太頻繁"),s)),c);t.International=v;var p=v;t.InternationalTip=p},47291:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.PATH=void 0;t.PATH={1:[[1465,757,1583,400,1304,143,1008,-6]],2:[[790,753,1404,321,444,475,1046,-6]],3:[[1384,755,1412,380,578,547,774,-7]],4:[[473,754,157,324,884,-7]],5:[[955,758,1158,474,1561,476,915,-8]],6:[[1466,753,1397,532,372,486,755,-6]],7:[[381,759,587,465,1083,260],[1083,260,1242,172,1014,-4]],8:[[1087,756,860,636,747,377],[747,377,682,209,684,100,810,-6]],9:[[100,753,106,214,651,508],[651,508,1094,697,1033,111,988,-8]],10:[[1831,754,1765,593,1280,509],[1280,509,1002,478,970,99,943,-8]],11:[[1686,-5,1753,284,1231,415],[1231,415,937,484,494,521,502,759]],12:[[1550,-8,1344,285,848,491],[848,491,689,579,917,754]],13:[[584,-4,389,477,690,546],[690,546,991,616,1011,753]],14:[[1384,-2,1464,178,1087,511],[1087,511,988,600,1018,751]],15:[[547,-4,519,371,1353,204,1157,757]],16:[[976,-8,773,277,370,274,1015,759]],17:[[465,-2,534,219,1559,265,1176,756]],18:[[1531,755,1726,274,1425,204],[1425,204,1124,135,1104,-3]],19:[[1810,-2,1804,536,1260,242],[1260,242,817,54,878,639,923,759]],20:[[100,-3,166,158,651,242],[651,242,929,273,961,652,988,758]],21:[[1934,697,1883,265,1390,332],[1390,332,593,415,97,-4]],22:[[1932,486,1084,905,793,600],[793,600,466,235,1079,173,1028,-7]],23:[[1932,375,1586,585,1157,488],[1157,488,799,408,617,172,575,-8]],24:[[1932,537,1435,746,1005,650],[1005,650,648,570,465,172,424,-8]],25:[[1932,133,1802,132,1528,550],[1528,550,1320,858,830,240,594,-10]],26:[[1932,610,1802,611,1528,193],[1528,193,1320,-115,830,503,594,753]],27:[[1933,203,1615,677,1229,395],[1229,395,903,181,485,252,274,751]],28:[[1934,697,1710,448,1390,332],[1390,332,969,206,360,754]],29:[[-12,261,837,-158,1127,148],[1127,148,1455,512,841,574,892,754]],30:[[-12,372,334,163,764,259],[764,259,1121,339,1304,575,1345,755]],31:[[-12,210,486,1,915,97],[915,97,1273,177,1455,575,1497,755]],32:[[-12,614,118,615,393,197],[393,197,600,-110,1090,507,1326,757]],33:[[-12,137,118,136,393,554],[393,554,600,862,1090,244,1326,-6]],34:[[-13,544,306,70,691,352],[691,352,1017,566,1436,495,1647,-3]],35:[[-13,50,211,299,531,415],[531,415,952,541,1561,-7]],36:[[-11,359,162,129,601,122],[601,122,1144,120,1932,429]],37:[[-9,306,289,715,650,706],[650,706,1010,696,1930,36]],38:[[-13,285,725,697,1178,713],[1178,713,1630,729,1929,522]],39:[[-11,418,348,181,590,176],[590,176,832,172,944,333,1267,389],[1267,389,1496,404,1628,400,1933,242]],40:[[-10,291,1051,295,1410,254],[1410,254,1770,213,1930,73]],41:[[230,753,147,389,282,197],[282,197,314,151,366,118,468,113],[468,113,1024,82,1680,140,1931,235]],42:[[-12,31,967,636,1440,495],[1440,495,1855,338,1932,160]],43:[[-12,370,322,598,827,598],[827,598,1331,598,1263,388,1931,440]],44:[[-9,494,998,805,1350,670],[1350,670,1755,471,1929,343]],45:[[-12,165,749,554,1225,428],[1225,428,1627,325,1932,27]],46:[[-10,658,719,311,1028,287],[1028,287,1479,231,1931,383]],47:[[-11,608,975,727,1328,613],[1328,613,1681,498,1930,-3]],48:[[-13,204,867,12,1257,9],[1257,9,1646,6,1766,132,1933,135]],49:[[-11,38,1182,19,1431,104],[1431,104,1680,189,1932,458]],50:[[-12,494,1140,869,1701,524],[1701,524,1871,415,1930,318]],51:[[-12,165,476,55,927,98],[927,98,1377,140,1566,417,1695,416],[1695,416,1823,415,1908,320,1933,304]],52:[[-8,705,1291,19,1621,52],[1621,52,1676,52,1720,75,1746,94],[1746,94,1770,112,1835,151,1934,284]],53:[[169,-18,166,315,497,360],[497,360,828,405,1930,291]],54:[[-9,517,525,164,1046,167],[1046,167,1567,169,1932,256]],55:[[-11,-6,634,776,1107,704],[1107,704,1404,660,1929,326]],56:[[-9,333,80,586,340,602],[340,602,601,618,1920,493,1931,493]],57:[[-12,263,98,104,203,61],[203,61,391,-23,1872,694,1929,749]],58:[[-11,463,200,610,566,525],[566,525,854,456,1285,112,1929,126]],59:[[-8,287,641,28,838,125],[838,125,1035,223,944,693,1932,734]],60:[[-13,752,333,510,632,327],[632,327,1143,47,1201,508,1624,504],[1624,504,1821,486,1918,352,1929,349]],61:[[-12,340,160,194,392,170],[392,170,625,145,854,530,999,606],[999,606,1407,849,1768,318,1932,164]],62:[[-10,621,692,896,734,544],[734,544,781,-24,1054,281,1420,238],[1420,238,1792,179,1933,18]],63:[[-12,693,228,404,412,384],[412,384,597,364,729,551,839,583],[839,583,1140,702,1200,303,1933,305]],64:[[103,756,22,202,515,244],[515,244,715,242,931,527,1188,519],[1188,519,1719,500,1933,678]],65:[[-8,128,379,27,570,516],[570,516,733,957,1075,143,1365,131],[1365,131,1590,109,1763,482,1933,511]],66:[[-13,400,550,37,546,339],[546,339,563,1015,1689,686,1305,323],[1305,323,984,52,1744,-8,1934,18]],67:[[-12,5,449,148,516,344],[516,344,642,717,1154,146,1931,250]],68:[[35,-7,66,570,528,665],[528,665,887,734,868,245,1033,147],[1033,147,1315,-37,1783,218,1931,110]],69:[[-11,629,647,348,908,385],[908,385,1170,422,1191,691,1416,657],[1416,657,1641,622,1906,370,1933,345]],70:[[50,-7,255,726,792,138,1942,588]],71:[[-10,97,220,584,676,563],[676,563,934,546,1080,427,1270,380],[1270,380,1672,280,1727,416,1931,324]],72:[[1934,409,1762,555,1530,579],[1530,579,1297,604,1068,219,923,143],[923,143,515,-100,154,431,-10,585]],73:[[1932,128,1230,-147,1188,205],[1188,205,1141,773,868,468,502,511],[502,511,130,570,-11,731]],74:[[1934,56,1694,345,1510,365],[1510,365,1325,385,1193,198,1083,166],[1083,166,782,47,722,446,-11,444]],75:[[1819,-7,1900,546,1407,505],[1407,505,1207,507,991,222,734,230],[734,230,203,249,-11,71]],76:[[1930,621,1543,722,1352,233],[1352,233,1189,-208,847,606,557,618],[557,618,332,640,159,267,-11,238]],77:[[1935,349,1372,712,1376,410],[1376,410,1359,-266,233,63,617,426],[617,426,938,697,178,757,-12,731]],78:[[1933,744,1473,601,1406,405],[1406,405,1280,32,768,603,-9,499]],79:[[1887,755,1856,179,1394,84],[1394,84,1035,15,1054,504,889,602],[889,602,607,785,139,531,-9,639]],80:[[1872,756,1667,23,1130,611,-20,161]],81:[[-9,5,394,792,2128,442,913,61],[913,61,267,-96,330,754,1085,683],[1085,683,1402,652,1447,273,1929,166]],82:[[-13,702,962,925,1964,-151,391,81],[391,81,52,123,131,754,885,683],[885,683,1203,652,1936,595,1527,-6]],83:[[1933,701,958,924,21,210,1425,61],[1425,61,2036,-5,1594,753,840,682],[840,682,522,651,309,238,642,-6]],84:[[1932,37,-164,61,-551,535,1273,686],[1273,686,2065,753,1492,-16,513,57],[513,57,101,88,260,599,374,754]],85:[[1933,378,527,963,-428,215,1228,61],[1228,61,2076,-5,1462,753,414,682],[414,682,-27,651,-65,238,398,-6]],86:[[-9,47,966,-176,3121,590,516,668],[516,668,64,679,135,96,890,167],[890,167,1900,328,1329,510,996,755]],87:[[-13,702,962,925,3128,25,340,233],[340,233,-518,356,1093,909,1052,521],[1052,521,848,-205,1556,230,1588,-6]],88:[[-9,672,1124,776,1903,180,499,31],[499,31,-111,-35,542,985,1085,653],[1085,653,1379,438,309,192,1929,135]],89:[[-13,398,1442,689,1990,-4,340,130],[340,130,3,165,518,973,724,599],[724,599,1158,-351,1277,722,1931,670]],90:[[-9,369,966,591,2128,442,913,61],[913,61,267,-96,88,754,842,683],[842,683,1227,621,803,37,1929,166]],91:[[1929,744,1527,-43,-207,307,1007,688],[1007,688,1654,845,1590,-5,836,66],[836,66,519,97,473,476,-8,583]],92:[[1933,47,959,-176,-44,900,1529,667],[1529,667,1868,626,1789,-5,1035,66],[1035,66,718,97,-15,154,393,755]],93:[[-13,48,962,-175,1900,539,495,688],[495,688,-115,754,327,-4,1081,67],[1081,67,1398,98,1611,511,1278,755]],94:[[-12,712,2084,687,2471,214,648,63],[648,63,-145,-4,429,764,1408,692],[1408,692,1820,660,1661,150,1546,-5]],95:[[-13,371,1394,-214,2348,533,693,688],[693,688,-155,754,458,-4,1507,67],[1507,67,1947,98,1985,510,1523,755]],96:[[1929,702,955,924,-1200,159,1404,81],[1404,81,1857,70,1785,653,1031,581],[1031,581,21,421,592,238,925,-6]],97:[[1933,47,959,-176,-1207,724,1580,516],[1580,516,2439,393,828,-160,868,228],[868,228,1072,954,365,519,333,755]],98:[[1929,77,797,-27,17,569,1421,718],[1421,718,2032,784,1378,-236,836,96],[836,96,542,311,1611,557,-8,613]],99:[[1933,351,478,60,-70,752,1580,619],[1580,619,1917,584,1402,-224,1197,150],[1197,150,763,1099,644,27,-11,79]],100:[[1929,380,955,158,-207,307,1007,688],[1007,688,1654,845,1833,-5,1078,66],[1078,66,694,128,1117,712,-8,583]]}},21560:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t.res=t.font_list=void 0;var c=s(n(77766)),f=s(n(81643)),d=s(n(24142)),h=n(85096),v=n(64467),p=n(14082),y=n(53531);function m(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return g(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _={font:[],audio:[],common:[],game:[{url:"res/image/game.png",type:h.Loader.IMAGE}],gameTutorial:[{url:"res/image/game.png",type:h.Loader.IMAGE}]};t.res=_;var k=["1","pos_tip","coin","award_light"];for(var b in y.SPRITE){var w=y.SPRITE[b];if("gun"!==b)for(var S in w){var C=w[S];if("DragonBone"===C.type){var x,I,A=C.path,E=[{url:"".concat(A,".sk"),type:h.Loader.BUFFER},{url:"".concat(A,".png"),type:h.Loader.IMAGE}];if(-1!==(0,f.default)(k).call(k,S))(I=_.gameTutorial).push.apply(I,E);(x=_.game).push.apply(x,E)}}else for(var T in w)for(var M=1;M<=3;M++){var B,L=m((0,v.getGunSkinMap)("".concat(T),"".concat(M)));try{for(L.s();!(B=L.n()).done;){var P,O,N,R=(0,d.default)(B.value,2),U=R[0],G=R[1],D=(0,c.default)(P="".concat(U)).call(P,G),F=[{url:"ani/gun/".concat(D,".sk"),type:h.Loader.BUFFER},{url:"ani/gun/".concat(D,".png"),type:h.Loader.IMAGE}];if((O=_.game).push.apply(O,F),-1!==(0,f.default)(k).call(k,T))(N=_.gameTutorial).push.apply(N,F)}}catch(e){L.e(e)}finally{L.f()}}}var H=["font/score_num","font/numYellow40","font/lottery","font/numWhite40","font/alphabet"];t.font_list=H;for(var z=0,j=H;z<j.length;z++){var V=j[z];_.font.push({url:"".concat(V,".fnt"),type:h.Loader.XML},{url:"".concat(V,".png"),type:h.Loader.IMAGE})}for(var K in p.AudioRes){var Y=p.AudioRes[K];_.audio.push({url:Y,type:h.Loader.SOUND})}var W=["pop/alert/alert.json","pop/alert/topTip.json","pop/alert/tip.json","pop/alert/alert.json","image/pop/alert/alert_bg_01.png","image/pop/alert/alert_bg_02.png","image/pop/alert/btn_close.png","image/pop/alert/alert_con_bg.png","image/pop/alert/btn_cancel.png","image/pop/alert/btn_confirm.png"];for(var X in W){var Q=W[X];_.common.push(Q)}},26744:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.ServerName=t.ServerEvent=t.ServerErrCode=t.OK_CODE=t.ArenaEvent=t.ArenaErrCode=t.ARENA_OK_CODE=void 0;var i=a(n(51942));t.ServerName={Game:"game",Hall:"hall",ArenaHall:"arena_hall"};t.OK_CODE=200;var o;t.ARENA_OK_CODE=0,t.ServerErrCode=o,function(e){e[e.TokenExpire=1002]="TokenExpire",e[e.OtherLogin=1003]="OtherLogin",e[e.AlreadyInRoom=109]="AlreadyInRoom",e[e.NoMoney=101]="NoMoney",e[e.Maintaining=111]="Maintaining",e[e.ReExchange=112]="ReExchange",e[e.NeedLogin=114]="NeedLogin",e[e.TrialTimeGame=117]="TrialTimeGame",e[e.OverLimit=121]="OverLimit",e[e.ToQuick=122]="ToQuick",e[e.TrialNotBullet=116]="TrialNotBullet",e[e.TrialTimeHall=507]="TrialTimeHall",e[e.TrialClose=509]="TrialClose",e[e.EnterGameError=505]="EnterGameError",e[e.NetError=511]="NetError"}(o||(t.ServerErrCode=o={}));var u,l={TableIn:"tableIn",TableOut:"tableOut",EnterGame:"enterGame",Shoot:"shoot",Hit:"hit",RobotHit:"robotHit",ChangeTurret:"changeTurret",AddFish:"addFish",FishShoalWarn:"fishShoalWarn",FishShoal:"fishShoal",UseLock:"useLock",LockFish:"lockFish",UseBomb:"useBomb",FishBomb:"fishBomb",UseFreeze:"useFreeze",FreezeOver:"freezeOver",PowerUp:"powerUp",autoShoot:"autoShoot",SetRobotReport:"setRobotReport"},s=(0,i.default)((0,i.default)({RoomIn:"roomIn",RoomOut:"roomOut",CheckReplay:"checkReplay",GetArenaWsUrl:"getArenaWsUrl",ExchangeBullet:"exchangeBullet",GetItemList:"getItemList",GetBulletList:"getBulletList",GetRecentBullet:"getRecentBullet"},l),{ErrCode:"conn::error",UserAccount:"userAccount",GetDomain:"getDomain",Lottery:"lottery",LotteryList:"lotteryList",ExchangeList:"exchangeList",TicketExchange:"ticketExchange",NeedEmitUser:"needEmitUser",ShopList:"shopList",UseSkin:"useSkin",Buy:"buy",GetGuestToken:"getRequestId",GetUserInfo:"getUserInfo"});t.ServerEvent=s,t.ArenaErrCode=u,function(e){e[e.NoMoney=302]="NoMoney",e[e.TokenExpire=11]="TokenExpire",e[e.NoOpen=201]="NoOpen",e[e.GameEnded=202]="GameEnded",e[e.SignUpFail=303]="SignUpFail",e[e.GuestSignUpFail=308]="GuestSignUpFail",e[e.UserSignUpDeadline=309]="UserSignUpDeadline",e[e.BulletLack=304]="BulletLack",e[e.BuyGiftFail=305]="BuyGiftFail",e[e.BuyShopFail=306]="BuyShopFail",e[e.GiftOnlyOnce=307]="GiftOnlyOnce",e[e.ItemNotExist=401]="ItemNotExist",e[e.Maintenance=601]="Maintenance"}(u||(t.ArenaErrCode=u={}));var c=(0,i.default)((0,i.default)({Guess:"guest",ArenaStatus:"arenaStatus",CompetitionInfo:"competitionInfo",GetDayRanking:"getDayRanking",GetHallOfFame:"getHallOfFame",MatchChampionList:"matchChampionList",AwardList:"awardList",MatchList:"matchList",GetRuleData:"getRuleData",SignUp:"signUp",GameSettle:"gameSettle",TriggerTask:"triggerTask",TaskRefresh:"taskRefresh",TaskFinish:"taskFinish",ShopList:"shopList",BuyGoods:"buyGoods",GiftList:"giftList",BuyGift:"buyGift"},l),{ErrCode:"error"});t.ArenaEvent=c},70430:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.SHAPE=void 0;t.SHAPE={bullet:{shape_list:[{type:"Circle",radius:20}]},net:{shape_list:[{type:"Circle",radius:67}]},fish:{1:{shape_list:[{type:"Circle",radius:25}]},2:{shape_list:[{type:"Box",width:30,height:60,position:{x:0,y:-15}}]},3:{shape_list:[{type:"Circle",radius:30}]},4:{shape_list:[{type:"Circle",radius:45}]},5:{shape_list:[{type:"Box",width:50,height:100,position:{x:0,y:-50}}]},6:{shape_list:[{type:"Circle",radius:25}]},7:{shape_list:[{type:"Circle",radius:30,position:{x:-10,y:0}}]},8:{shape_list:[{type:"Box",width:40,height:80,position:{x:0,y:0}},{type:"Box",width:100,height:40,position:{x:0,y:0}}]},9:{shape_list:[{type:"Circle",radius:59}]},10:{shape_list:[{type:"Box",width:40,height:100},{type:"Circle",radius:20,position:{x:-50,y:-40}},{type:"Circle",radius:20,position:{x:55,y:-45}}]},11:{shape_list:[{type:"Box",width:60,height:50,position:{x:0,y:30}},{type:"Circle",radius:40,position:{x:0,y:-35}}]},12:{shape_list:[{type:"Box",width:70,height:150}]},13:{shape_list:[{type:"Box",width:70,height:220,position:{x:0,y:25}},{type:"Box",width:90,height:30,position:{x:0,y:160}}]},14:{shape_list:[{type:"Box",width:50,height:230,position:{x:0,y:30}},{type:"Box",width:160,height:30,position:{x:0,y:-100}}]},15:{shape_list:[{type:"Box",width:110,height:300,position:{x:0,y:-10}},{type:"Box",width:30,height:80,position:{x:0,y:180}},{type:"Box",width:100,height:30,position:{x:0,y:230}}]},16:{shape_list:[{type:"Circle",radius:80,position:{x:0,y:10}}]},17:{shape_list:[{type:"Circle",radius:70}]},18:{shape_list:[{type:"Box",width:100,height:200,position:{x:0,y:-20}}]},19:{shape_list:[{type:"Box",width:90,height:210}]},20:{shape_list:[{type:"Box",width:220,height:80}]}}}},53531:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.SPRITE=void 0;t.SPRITE={gun:{1:["base","light","gun"],2:["light","gun"],3:["light","gun"],4:["light","gun"],5:["body","gun"]},bullet:{1:{type:"DragonBone",path:"ani/gun/bullet1"},2:{type:"DragonBone",path:"ani/gun/bullet2"},3:{type:"DragonBone",path:"ani/gun/bullet3"},4:{type:"DragonBone",path:"ani/gun/bullet4"},5:{type:"DragonBone",path:"ani/gun/bullet5"}},net:{1:{type:"DragonBone",path:"ani/gun/net1"},2:{type:"DragonBone",path:"ani/gun/net2"},3:{type:"DragonBone",path:"ani/gun/net3"},4:{type:"DragonBone",path:"ani/gun/net4"},5:{type:"DragonBone",path:"ani/gun/net5"}},fish_shadow:{1:{type:"Img",path:"images/game/fish_shadow1"}},fish:{1:{type:"DragonBone",offset:[50,41,33,43],path:"ani/fish/fish1",ani_type:"horizon_turn",scale:.7},2:{type:"DragonBone",offset:[63,50,62,50],path:"ani/fish/fish2",scale:.7},3:{type:"DragonBone",offset:[47,67,38,58],path:"ani/fish/fish3",ani_type:"horizon_turn",scale:.7},4:{type:"DragonBone",offset:[82,90,86,91],path:"ani/fish/fish4",scale:.8},5:{type:"DragonBone",offset:[137,43,168,43],path:"ani/fish/fish5",scale:.7},6:{type:"DragonBone",offset:[49,47,36,44],path:"ani/fish/fish6",ani_type:"horizon_turn",scale:.7},7:{type:"DragonBone",offset:[47,56,38,55],path:"ani/fish/fish7",ani_type:"horizon_turn",scale:.7},8:{type:"DragonBone",offset:[44,79,120,80],path:"ani/fish/fish8",scale:.8},9:{type:"DragonBone",offset:[85,93,88,86],path:"ani/fish/fish9",scale:.8},10:{type:"DragonBone",offset:[84,91,87,88],path:"ani/fish/fish10",scale:.8},11:{type:"DragonBone",offset:[86,72,150,68],path:"ani/fish/fish11",ani_type:"horizon_turn",scale:.8},12:{type:"DragonBone",offset:[176,74,175,75],path:"ani/fish/fish12",scale:.8},13:{type:"DragonBone",offset:[162,103,201,102],path:"ani/fish/fish13",scale:.9},14:{type:"DragonBone",offset:[148,99,311,99],path:"ani/fish/fish14",scale:.9},15:{type:"DragonBone",offset:[229,157,290,156],path:"ani/fish/fish15",scale:.9},16:{type:"DragonBone",offset:[157,130,68,131],path:"ani/fish/fish16",ani_type:"horizon_turn",turn_ani:!0,coin_flag:!0,coin_color:"#ffd52c",scale:.9},17:{type:"DragonBone",offset:[122,92,150,92],path:"ani/fish/fish17",coin_flag:!0,coin_color:"#af5200",scale:.9},18:{type:"DragonBone",offset:[141,183,188,183],path:"ani/fish/fish18",coin_flag:!0,coin_color:"#412770",scale:.9},19:{type:"DragonBone",offset:[147,140,133,156],path:"ani/fish/fish19",ani_type:"horizon_turn",turn_ani:!0,coin_flag:!0,coin_color:"#ffde00",scale:.9},20:{type:"DragonBone",offset:[110,183,54,138],path:"ani/fish/fish20",ani_type:"horizon_turn",turn_ani:!0,coin_flag:!0,coin_color:"#7a3f04",scale:.9,coin_pos:{x:50,y:-30}},G1:{group:[{type:"2",pos:{x:20.5,y:49.5}},{type:"2",pos:{x:20,y:-51.5}}],offset:[101.5,83.5,98.5,0]},G2:{group:[{type:"1",pos:{x:3.5,y:49}},{type:"1",pos:{x:3.5,y:-71}},{type:"1",pos:{x:-76.5,y:-11}}],offset:[108.5,47.5,93.5,0]},G3:{group:[{type:"6",pos:{x:365,y:-15}},{type:"6",pos:{x:205,y:-15}},{type:"6",pos:{x:285,y:55}},{type:"6",pos:{x:285,y:-75}}],offset:[118.5,410.5,98.5,0]},G4:{group:[{type:"3",pos:{x:88,y:98.5}},{type:"3",pos:{x:77,y:-119.5}},{type:"3",pos:{x:-85,y:69.5}},{type:"3",pos:{x:-85,y:-77.5}},{type:"3",pos:{x:15,y:-5.5}}],offset:[164.5,154.5,143.5,0]}},fish_icon:{1:{type:"Img",path:"images/game/normal/icon_fish1"},2:{type:"Img",path:"images/game/normal/icon_fish2"}},other:{freezing:{type:"DragonBone",path:"ani/other/freezing"},exploding:{type:"DragonBone",path:"ani/other/exploding"},shoal_wave:{type:"DragonBone",path:"ani/other/shoal_wave"},pos_tip:{type:"DragonBone",path:"ani/other/pos_tip"},aim_big:{type:"DragonBone",path:"ani/other/aim_big"},aim:{type:"DragonBone",path:"ani/other/aim"},energy_light:{type:"DragonBone",path:"ani/other/energy_light"},award_circle:{type:"DragonBone",path:"ani/other/award_circle"},award_light:{type:"DragonBone",path:"ani/other/award_light"},coin:{type:"DragonBone",path:"ani/other/coin"},coin_light:{type:"DragonBone",path:"ani/other/coin_light"},skill_border_light:{type:"DragonBone",path:"ani/other/skill_border_light"}}}},53865:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.init=o;var r=n(66058),a=n(22426);n(47638);var i=n(77513);function o(){var e=platform.getInfo();r.Config.SocketUrl=e.socket_url,r.Config.token=e.token,r.Config.isLogin=e.isLogin,r.Config.cndUrl=e.cdn;var t=(0,i.getParams)("arenaSocket");t&&(r.Config.arenaSocketUrl=t),r.Config.lang=(0,i.getParams)("lang")||e.lang}o(),new a.AppCtrl},86424:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.AppModel=void 0;var o=i(n(15375)),u=i(n(17061)),l=i(n(89395)),s=i(n(97709)),c=i(n(38191)),f=i(n(52305)),d=n(74227),h=n(38182),v=n(4634),p=n(11263),y=n(18657),m=n(87759);function g(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var _=function(e){(0,s.default)(n,e);var t=g(n);function n(){var e;return(0,o.default)(this,n),e=t.call(this),p.modelState.app=(0,l.default)(e),e.setting=new y.SettingModel,e.user_info=new m.UserInfoModel,e.arena_info=new v.ArenaModel,e.addCom(new h.EventCom),e}return(0,u.default)(n,[{key:"init",value:function(){this.user_info.init()}},{key:"initUserInfo",value:function(e){this.user_info.initUserInfo(e),this.setting.initUserInfo(e)}}]),n}(d.ComponentManager);t.AppModel=_},4634:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.ArenaModelEvent=t.ArenaModel=void 0;var o=i(n(15375)),u=i(n(17061)),l=i(n(97709)),s=i(n(38191)),c=i(n(52305)),f=n(74227),d=n(38182);function h(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var v={UpdateInfo:"updateInfo"};t.ArenaModelEvent=v;var p=function(e){(0,l.default)(n,e);var t=h(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).addCom(new d.EventCom),e}return(0,u.default)(n,[{key:"event",get:function(){return this.getCom(d.EventCom)}},{key:"updateInfo",value:function(e){if(e){var t=e.roomStatus,n=e.userStatus,r=e.startDate,a=e.userId,i=e.endDate;this.room_status=t,this.user_status=n,this.user_id=a,this.open_timezone=[r,i],this.event.emit(v.UpdateInfo,this)}else this.event.emit(v.UpdateInfo,this)}}]),n}(f.ComponentManager);t.ArenaModel=p},91207:function(e,t,n){"use strict";var r=n(66890),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(52424),c=n(63978),f=n(34074),d=n(8171);c(t,"__esModule",{value:!0}),t.BodyCom=void 0;var h=d(n(15375)),v=d(n(17061)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},i=c&&f;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=i?f(e,o):null;u&&(u.get||u.set)?c(a,o,u):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(86116)),y=n(21705);function m(e){if("function"!=typeof s)return null;var t=new s,n=new s;return(m=function(e){return e?n:t})(e)}function g(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return _(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,h.default)(this,e),this.angle=0,this.pos={x:0,y:0},this.shapes=t,this.horizon_turn=n}return(0,v.default)(e,[{key:"update",value:function(e,t){t&&this.setAngle(t),this.setPos(e)}},{key:"setPos",value:function(e){var t=e.x,n=e.y,r=this.pos,a=r.x,i=r.y;if(t!==a||n!==i){var o,u=g(this.shapes);try{for(u.s();!(o=u.n()).done;){var l=o.value,s=l.shape,c=l.pos,f=this.angle;if(this.horizon_turn){var d=c.x,h=c.y;s.pos=new p.Vector(t+d,n+h)}else{var v=c.clone().rotate(f),y=v.x,m=v.y;s.pos=new p.Vector(t+y,n+m)}}}catch(e){u.e(e)}finally{u.f()}this.pos={x:t,y:n}}}},{key:"setAngle",value:function(e){var t=Math.atan2(e.y,e.x),n=this.shapes;if(t+=Math.PI/2,this.horizon_turn)this.angle*t<0&&(this.shapes=(0,y.scaleXShapeInfos)(this.shapes));else{var r,a=g(n);try{for(a.s();!(r=a.n()).done;){var i=r.value.shape;i instanceof p.Polygon&&i.setAngle(t)}}catch(e){a.e(e)}finally{a.f()}}this.angle=t}},{key:"destroy",value:function(){this.shapes=void 0,this.angle=0,this.pos={x:0,y:0}}}]),e}();t.BodyCom=k},34970:function(e,t,n){"use strict";var r=n(66890),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(52424),c=n(63978),f=n(34074);c(t,"__esModule",{value:!0}),t.detectCollision=function(e,t){var n,r=e.shapes,a=t.shapes,i=v(r);try{for(i.s();!(n=i.n()).done;){var o,u=n.value.shape,l=v(a);try{for(l.s();!(o=l.n()).done;){var s=o.value.shape,c=new d.Response,f=!1;if(u instanceof d.Polygon&&s instanceof d.Polygon&&(f=d.testPolygonPolygon(u,s,c)),u instanceof d.Circle&&s instanceof d.Polygon&&(f=d.testCirclePolygon(u,s,c)),u instanceof d.Polygon&&s instanceof d.Circle&&(f=d.testCirclePolygon(s,u,c)),u instanceof d.Circle&&s instanceof d.Circle&&(f=d.testCircleCircle(s,u,c)),f)return!0}}catch(e){l.e(e)}finally{l.f()}return!1}}catch(e){i.e(e)}finally{i.f()}};var d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},i=c&&f;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=i?f(e,o):null;u&&(u.get||u.set)?c(a,o,u):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(86116));function h(e){if("function"!=typeof s)return null;var t=new s,n=new s;return(h=function(e){return e?n:t})(e)}function v(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return p(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},62673:function(e,t,n){"use strict";var r=n(1068),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.GameFreezeCom=t.FreezingComEvent=void 0;var f=c(n(24142)),d=c(n(15375)),h=c(n(17061)),v=c(n(97709)),p=c(n(38191)),y=c(n(52305)),m=n(74227),g=n(30260),_=n(3828);function k(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return b(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,y.default)(e);if(t){var i=(0,y.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,p.default)(this,n)}}var S={Freezing:"freezing",UnFreezing:"un_freezing"};t.FreezingComEvent=S;var C=function(e){(0,v.default)(n,e);var t=w(n);function n(e){var r;return(0,d.default)(this,n),(r=t.call(this)).game=e,r.addCom(new g.TimeoutCom),r}return(0,h.default)(n,[{key:"freezing",value:function(e,t){var n=this,r=this.game,a=this.freezing_timeout,i=r.event,o=this.getCom(g.TimeoutCom);a&&o.clear(a),this.freezing_timeout=o.createTimeout((function(){n.unFreezing()}),1e3*e);var u,l=k(t);try{for(l.s();!(u=l.n()).done;){var s=u.value,c=r.getFishById(s);c&&c.setStatus(_.FishStatus.Freezed)}}catch(e){l.e(e)}finally{l.f()}i.emit(S.Freezing)}},{key:"unFreezing",value:function(){var e=this.game,t=this.freezing_timeout,n=e.fish_map,r=e.event,a=this.getCom(g.TimeoutCom);t&&a.clear(t);var i,o=k(n);try{for(o.s();!(i=o.n()).done;){(0,f.default)(i.value,2)[1].setStatus(_.FishStatus.Normal)}}catch(e){o.e(e)}finally{o.f()}r.emit(S.UnFreezing)}}]),n}(m.ComponentManager);t.GameFreezeCom=C},84662:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.GunAutoShootCom=void 0;var o=i(n(15375)),u=i(n(17061)),l=i(n(97709)),s=i(n(38191)),c=i(n(52305)),f=n(74227),d=n(83091);function h(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var v=function(e){(0,l.default)(n,e);var t=h(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this)).gun=e,r}return(0,u.default)(n,[{key:"active",value:function(){var e=this.gun,t=e.event;console.log("test:>autoShoot:>GunAutoShootCom:>active"),t.on(d.GunEvent.SwitchOn,(function(){e.preAddBullet(e.direction,!0)}),this),t.on(d.GunEvent.RemoveBullet,(function(){e.preAddBullet(e.direction,!0)}),this),e.setStatus(d.GunStatus.AutoShoot),e.preAddBullet(e.direction,!0),e.event.emit(d.GunEvent.AutoShoot,!0)}},{key:"clear",value:function(){var e=this.gun,t=e.event;e.setStatus(d.GunStatus.Normal),t.offAllCaller(this),e.event.emit(d.GunEvent.AutoShoot,!1),console.log("test:>autoShoot:>GunAutoShootCom:>clear")}},{key:"destroy",value:function(){this.clear(),this.gun.delCom(this),this.gun=void 0}}]),n}(f.ComponentManager);t.GunAutoShootCom=v},62822:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.DisplaceMoveCom=void 0;var i=a(n(15375)),o=a(n(17061)),u=n(63723),l=function(){function e(t){var n=this;(0,i.default)(this,e),this.is_stop=!1,this.onTick=function(e){var t=n.is_stop,r=n.update_fn;t||r(n.displace.update(e))},this.displace=t}return(0,o.default)(e,[{key:"onUpdate",value:function(e){this.update_fn=e}},{key:"start",value:function(){this.tick_index?this.is_stop=!1:(this.is_stop=!1,this.tick_index=(0,u.createTick)(this.onTick),this.onTick(0))}},{key:"stop",value:function(){this.is_stop=!0}},{key:"getRadio",value:function(){return this.displace.radio}},{key:"destroy",value:function(){(0,u.clearTick)(this.tick_index),this.displace=void 0,this.update_fn=void 0,this.is_stop=!1,this.tick_index=0}}]),e}();t.DisplaceMoveCom=l},39473:function(e,t,n){"use strict";var r=n(66890),a=n(52424),i=n(63978),o=n(34074),u=n(8171);i(t,"__esModule",{value:!0}),t.LockMoveCom=void 0;var l=u(n(51942)),s=u(n(54103)),c=u(n(15375)),f=u(n(17061)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},u=i&&o;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=u?o(e,l):null;s&&(s.get||s.set)?i(a,l,s):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(86116)),h=n(63723);function v(e){if("function"!=typeof a)return null;var t=new a,n=new a;return(v=function(e){return e?n:t})(e)}var p=function(){function e(t,n,r,a){var i=this;(0,c.default)(this,e),this.is_stop=!1,this.update=function(e){var t=i.target,n=i.pos,r=i.is_stop,a=i.velocity_size;if(!r&&t.pos){var o=n.x,u=n.y,s=t.pos,c=s.x,f=s.y,h=new d.Vector(c-o,f-u).normalize().scale(a);n.x+=h.x*e,n.y+=h.y*e,i.detectOnHit()?(i.update_fn({pos:(0,l.default)({},t.pos),velocity:h}),i.on_hit(t)):i.update_fn({pos:(0,l.default)({},i.pos),velocity:h})}},this.target=r,this.pos=(0,l.default)({},t),this.start_pos=(0,l.default)({},t),this.velocity_size=n.len(),this.on_hit=a}return(0,f.default)(e,[{key:"start",value:function(){var e;this.tick_index?this.is_stop=!1:(this.is_stop=!1,this.tick_index=(0,h.createTick)((0,s.default)(e=this.update).call(e,this)),this.update(0))}},{key:"stop",value:function(){this.is_stop=!0}},{key:"onUpdate",value:function(e){this.update_fn=e}},{key:"detectOnHit",value:function(){var e=this.pos,t=this.start_pos,n=this.target.pos,r=new d.Vector(n.x-t.x,n.y-t.y).normalize();return!(new d.Vector(n.x-e.x,n.y-e.y).normalize().dot(r)>0)&&(this.pos=n,!0)}},{key:"destroy",value:function(){(0,h.clearTick)(this.tick_index),this.tick_index=0,this.target=void 0,this.on_hit=void 0,this.pos=void 0,this.start_pos=void 0,this.velocity_size=0,this.update_fn=void 0,this.is_stop=!1}}]),e}();t.LockMoveCom=p},77488:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.VelocityMoveCom=void 0;var i=a(n(54103)),o=a(n(15375)),u=a(n(17061)),l=a(n(86116)),s=n(66058),c=n(63723),f=function(){function e(t,n){(0,o.default)(this,e),this.is_stop=!1,this.pos=t,this.velocity=n}return(0,u.default)(e,[{key:"start",value:function(){var e;this.tick_index?this.is_stop=!1:(this.is_stop=!1,this.tick_index=(0,c.createTick)((0,i.default)(e=this.update).call(e,this)),this.update(0))}},{key:"stop",value:function(){this.is_stop=!0}},{key:"update",value:function(e){var t=this.pos,n=this.velocity;this.is_stop||(t.x+=n.x*e,t.y+=n.y*e,this.detectHitWall(),this.update_fn({pos:t,velocity:n}))}},{key:"onUpdate",value:function(e){this.update_fn=e}},{key:"detectHitWall",value:function(){var e=s.Config.PoolHeight,t=s.Config.PoolWidth,n=s.Config.BulletZoneWidth,r=this.velocity,a=this.pos,i=r.x,o=r.y,u=(t-n)/2,c=u+n;a.x>c&&(a.x=c-(a.x-c),i=-Math.abs(r.x)),a.x<u&&(a.x=u+(u-a.x),i=Math.abs(r.x)),a.y>e&&(a.y=e-(a.y-e),o=-Math.abs(r.y)),a.y<0&&(a.y=-a.y,o=Math.abs(r.y)),this.velocity=new l.default.Vector(i,o),this.pos=a}},{key:"destroy",value:function(){(0,c.clearTick)(this.tick_index),this.tick_index=0,this.velocity=void 0,this.update_fn=void 0,this.is_stop=!1}}]),e}();t.VelocityMoveCom=f},50615:function(e,t,n){"use strict";var r=n(1068),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.ShoalEvent=t.ShoalCom=void 0,t.quickLeaveFish=T;var f=c(n(39392)),d=c(n(24142)),h=c(n(15375)),v=c(n(17061)),p=c(n(97709)),y=c(n(38191)),m=c(n(52305)),g=n(74227),_=n(66058),k=n(93774),b=n(42146),w=n(47589),S=n(62822);function C(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return x(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,m.default)(e);if(t){var i=(0,m.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,y.default)(this,n)}}var A={PreAddShoal:"pre_add_shoal"};t.ShoalEvent=A;var E=function(e){(0,p.default)(n,e);var t=I(n);function n(e){var r;return(0,h.default)(this,n),(r=t.call(this)).shoal_map=new f.default,r.game=e,r}return(0,v.default)(n,[{key:"preAddShoal",value:function(e){var t=this.game,n=t.event,r=t.fish_map;n.emit(A.PreAddShoal,e);var a,i=C(r);try{for(i.s();!(a=i.n()).done;){T((0,d.default)(a.value,2)[1],e)}}catch(e){i.e(e)}finally{i.f()}}},{key:"addShoal",value:function(e){}},{key:"removeShoal",value:function(e){this.shoal_map.delete(e)}},{key:"genFish",value:function(){}},{key:"destroy",value:function(){}}]),n}(g.ComponentManager);function T(e,t){var n=e.pos;if(!e.visible)return e.destroy();var r,a=_.Config.ClearFishTime,i=_.Config.PoolWidth,o=(0,b.calcNormalLen)("after",e.type),u={y:n.y};t?(r=i-n.x+o,u.x=i+o):(u.x=-o,r=n.x+o);var l=[{curve:new w.Line(n,u),length:r,radio:1}],s=new k.Displace(a,0,l,!1),c=new S.DisplaceMoveCom(s);e.setMoveCom(c),e.init()}t.ShoalCom=E},50634:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.FishBombEvent=t.FishBombCom=void 0;var i=a(n(20116)),o=a(n(15375)),u=a(n(17061)),l=n(42717),s={FishBomb:"fish_bomb"};t.FishBombEvent=s;var c=function(){function e(t){(0,o.default)(this,e),this.fish=t}return(0,u.default)(e,[{key:"active",value:function(e){var t,n=this.fish,r=n.pos,a=n.id,o={pos:r,player:e};e.need_emit&&(o.fish_list=(0,i.default)(t=(0,l.getBeBombFish)(r)).call(t,(function(e){return e.id!==a})));n.event.emit(s.FishBomb,o)}},{key:"destroy",value:function(){var e;null===(e=this.fish.event)||void 0===e||e.offAllCaller(this),this.fish=void 0}}]),e}();t.FishBombCom=c},3828:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.FishStatus=t.FishModel=t.FishEvent=void 0;var o=i(n(93476)),u=i(n(15375)),l=i(n(17061)),s=i(n(89395)),c=i(n(45408)),f=i(n(97709)),d=i(n(38191)),h=i(n(52305)),v=n(74227),p=n(38182),y=n(64467),m=n(21705),g=n(77513),_=n(37440),k=n(91207);function b(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,h.default)(e);if(t){var i=(0,h.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var w,S={Destroy:_.ModelEvent.Destroy,Move:"move",BeCast:"be_cast",BeCapture:"be_capture",StatusChange:"status_change",VisibleChange:"visible_change"};t.FishEvent=S,t.FishStatus=w,function(e){e[e.Normal=0]="Normal",e[e.QuickLeave=1]="QuickLeave",e[e.Freezed=2]="Freezed",e[e.Dead=3]="Dead"}(w||(t.FishStatus=w={}));var C=function(e){(0,f.default)(n,e);var t=b(n);function n(e,r){var a;return(0,u.default)(this,n),(a=t.call(this)).status=w.Normal,a.horizon_turn=!1,a.visible=!1,a.onMoveChange=function(e){var t=(0,s.default)(a).body,n=e.pos,r=e.velocity,i=e.is_complete,o=e.visible;if(i)return a.destroy();a.setVisible(o),o&&(a.pos=n,a.velocity=r,t.update(n,r),a.event.emit(S.Move,{pos:n,velocity:r}))},a.game=r,a.initCom(e),a}return(0,l.default)(n,[{key:"initCom",value:function(e){var t=e.type,n=e.group_id,r=e.id,a=e.score,i=e.currency;(0,g.setProps)(this,{type:t,id:r,group_id:n,score:a||0,currency:i});var o=!1;"horizon_turn"===(0,y.getSpriteInfo)("fish",t).ani_type&&(o=!0);var u=(0,m.getShapes)("fish",Number(t)),l=new k.BodyCom(u,o),s=new p.EventCom;this.event=s,this.body=l,this.horizon_turn=o,this.addCom(new p.EventCom,l)}},{key:"init",value:function(){this.move_com.start()}},{key:"setMoveCom",value:function(e){var t=this.move_com;t&&(t.destroy(),this.delCom(t)),e.onUpdate(this.onMoveChange),this.move_com=e,this.addCom(e)}},{key:"setStatus",value:function(e){e!==this.status&&(this.status=e,this.event.emit(S.StatusChange,e),e===w.Freezed?this.move_com.stop():this.move_com.start())}},{key:"setVisible",value:function(e){e!==this.visible&&(this.visible=e,this.event.emit(S.VisibleChange,e))}},{key:"beCast",value:function(){this.event&&this.event.emit(S.BeCast)}},{key:"beCapture",value:function(){var e=this;return new o.default((function(t,n){if(e.event){var r=e.pos;e.event.emit(S.BeCapture,(function(){t(r),e.destroy()}))}else n(),e.destroy()}))}},{key:"destroy",value:function(){this.destroyed||(this.event.emit(S.Destroy),this.setStatus(w.Dead),this.game.removeFish(this),this.game=void 0,this.id=void 0,this.type=void 0,this.pos=void 0,this.velocity=void 0,this.visible=!1,this.horizon_turn=!1,this.move_com=void 0,this.event=void 0,this.body=void 0,(0,c.default)((0,h.default)(n.prototype),"destroy",this).call(this))}}]),n}(v.ComponentManager);t.FishModel=C},42717:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t.createBombBody=R,t.createFish=function(e,t){var n=e.eid,r=e.fishId,a=e.score,i=e.currencyFish,o=(0,I.createFishDisplace)(e);if(!o)return;var u=new T.DisplaceMoveCom(o),l={id:n,type:r,score:a,currency:i},s=new B.FishModel(l,t);s.setMoveCom(u),(0,x.isBombFish)(s)&&s.addCom(new M.FishBombCom(s));return s},t.createFishGroup=function(e,t){var n=e.eid,l=e.fishId,s=e.group,c=e.score,h=e.currencyFish,v=[],p=(0,x.getSpriteInfo)("fish",l).group;if(!p)return v;var k=(0,I.createFishDisplace)(e),b=new T.DisplaceMoveCom(k),w=(s.length,new y.default);b.onUpdate((function(e){var t,n=function(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return L(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return L(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}(w);try{for(n.s();!(t=n.n()).done;){(0,(0,f.default)(t.value,2)[1].update_fn)(e)}}catch(e){n.e(e)}finally{n.f()}}));for(var S=function(e){var r,a,i=p[e],o=i.type,u=i.pos,l=s[e].eid,y=(r=function(e){var t=e.pos,n=O(e,["pos"]),r=(0,_.default)({},n);return t&&(r.pos={x:t.x+u.x,y:t.y+u.y}),r},a=e,[function(e){w.set(a,{update_fn:function(t){var n=r(t);e(n)},id:a,isStop:void 0})},function(){w.delete(a),0===w.size&&b.destroy()},function(){var e;w.get(a).isStop=!1,(0,m.default)(e=(0,d.default)((0,g.default)(w).call(w))).call(e,(function(e){return!0===e.isStop}))||b.start()},function(){var e;w.get(a).isStop=!0,(0,m.default)(e=(0,d.default)((0,g.default)(w).call(w))).call(e,(function(e){return!1===e.isStop}))||b.stop()}]),k=(0,f.default)(y,4),S=k[0],C=k[1],I={start:k[2],stop:k[3],onUpdate:S,destroy:C},A={id:l,group_id:n,type:o,score:c,currency:h},E=new B.FishModel(A,t);E.setMoveCom(I),(0,x.isBombFish)(E)&&E.addCom(new M.FishBombCom(E)),v.push(E)},C=0;C<s.length;C++)S(C);return v},t.getBeBombFish=N,t.getBeBombFishIds=function(e){var t;return(0,k.default)(t=N(e)).call(t,(function(e){return e.id}))},t.playerCaptureFish=function(e,t,n){return P(this,void 0,void 0,c.default.mark((function r(){var a,i,o,u;return c.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(0,x.isBombFish)(t)&&t.getCom(M.FishBombCom).active(e),r.next=3,t.beCapture();case 3:a=r.sent,i=n.drop,o=n.win,u=n.winScore,a||(0,A.error)("cant find fish pos"),e.captureFish(a,{win:o,winScore:u,drop:i});case 7:case"end":return r.stop()}}),r)})))},t.waitFishDestroy=function(e){var t=this,n=e.event;return new h.default((function(r,a){if(e.destroyed)return(0,b.default)(r);n.once(B.FishEvent.Destroy,(function(){(0,b.default)(r)}),t)}))};var c=s(n(66329)),f=s(n(24142)),d=s(n(21003)),h=s(n(93476)),v=s(n(81643)),p=s(n(14310)),y=s(n(39392)),m=s(n(94473)),g=s(n(89400)),_=s(n(51942)),k=s(n(2991)),b=s(n(33032)),w=s(n(86116)),S=n(66058),C=n(11263),x=n(64467),I=n(42146),A=n(55161),E=n(91207),T=n(62822),M=n(50634),B=n(3828);function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e,t,n,r){return new(n||(n=h.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(0,v.default)(t).call(t,r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof p.default){var a=0;for(r=(0,p.default)(e);a<r.length;a++)(0,v.default)(t).call(t,r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function N(e){var t=R();t.update(e);var n=(0,C.getCollisionAllFish)(t);return t.destroy(),n}function R(){var e={shape:new w.default.Circle(new w.default.Vector(0,0),S.Config.BombRadius),pos:new w.default.Vector(0,0)};return new E.BodyCom([e],!1)}},86408:function(e,t,n){"use strict";var r=n(1068),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.GameModel=t.GameEvent=void 0;var f=c(n(39392)),d=c(n(24142)),h=c(n(15375)),v=c(n(17061)),p=c(n(45408)),y=c(n(97709)),m=c(n(38191)),g=c(n(52305)),_=n(74227),k=n(38182),b=n(30260),w=n(37440),S=n(55161),C=n(62673),x=n(50615),I=n(42717),A=n(83125);function E(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return T(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,g.default)(e);if(t){var i=(0,g.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,m.default)(this,n)}}var B={AddFish:"add_fish",AddPlayer:"add_player",Freezing:"freezing",Destroy:w.ModelEvent.Destroy};t.GameEvent=B;var L=function(e){(0,y.default)(n,e);var t=M(n);function n(){var e;return(0,h.default)(this,n),(e=t.call(this)).game_mode=1,e.currency="",e.fish_map=new f.default,e.player_map=new f.default,e.initCom(),e}return(0,v.default)(n,[{key:"setGameMode",value:function(e){this.game_mode=e}},{key:"initCom",value:function(){this.addCom(new k.EventCom,new b.TimeoutCom)}},{key:"event",get:function(){return this.getCom(k.EventCom)}},{key:"freezing_com",get:function(){var e=this.getCom(C.GameFreezeCom);return e||(e=new C.GameFreezeCom(this),this.addCom(e)),e}},{key:"addFish",value:function(e){var t=e.group,n=this.fish_map;if(t){var r,a=(0,I.createFishGroup)(e,this),i=E(a);try{for(i.s();!(r=i.n()).done;){var o=r.value;n.set(o.id,o),this.event.emit(B.AddFish,o),o.init()}}catch(e){i.e(e)}finally{i.f()}return a}var u=(0,I.createFish)(e,this);if(u)return n.set(u.id,u),this.event.emit(B.AddFish,u),u.init(),u}},{key:"removeFish",value:function(e){this.fish_map.delete(e.id)}},{key:"getFishById",value:function(e){return this.fish_map.get(e)}},{key:"getAllFish",value:function(){return this.fish_map}},{key:"captureFish",value:function(e){var t=e.userId,n=e.eid,r=e.backAmount,a=this.getPlayerById(t);if(a.is_cur_player&&console.log("test:>bulletNum:>Hit",e),a){if(r&&a.updateInfo({bullet_num:a.bullet_num+r}),n){var i=this.getFishById(n);i?(0,I.playerCaptureFish)(a,i,e):(0,S.error)("Game:>captureFish:> cant find fish for ".concat(n))}}else(0,S.error)("Game:>captureFish:> cant find player for ".concat(t))}},{key:"shoal_com",get:function(){var e=this.getCom(x.ShoalCom);return e||(e=new x.ShoalCom(this),this.addCom(e)),e}},{key:"addPlayer",value:function(e,t){var n=new A.PlayerModel(e,this);return n.setClientInfo(t),this.player_map.set(e.user_id,n),this.event.emit(B.AddPlayer,n),n.init(),n}},{key:"getCurPlayer",value:function(){var e,t=E(this.player_map);try{for(t.s();!(e=t.n()).done;){var n=(0,d.default)(e.value,2)[1];if(n.is_cur_player)return n}}catch(e){t.e(e)}finally{t.f()}}},{key:"getPlayers",value:function(){return this.player_map}},{key:"getPlayerById",value:function(e){return this.player_map.get(e)}},{key:"removePlayer",value:function(e){this.player_map.delete(e.user_id)}},{key:"activeSkill",value:function(e,t){var n=this.getPlayerById(t.user_id);n?n.activeSkill(e,t):(0,S.error)("Game:>activeSkill:> cant find player:>".concat(t.user_id))}},{key:"disableSkill",value:function(e,t){var n=this.getPlayerById(t);n?n.disableSkill(e):(0,S.error)("Game:>resetSkill:> cant find player:>".concat(t))}},{key:"resetSkill",value:function(e,t){var n=this.getPlayerById(t);n?n.resetSkill(e):(0,S.error)("Game:>resetSkill:> cant find player:>".concat(t))}},{key:"shoot",value:function(e){var t=this.getPlayerById(e.userId);t.is_cur_player&&console.log("test:>bulletNum:>shoot",e),t?t.gun.addBullet(e.direction,!t.is_cur_player):(0,S.error)("Game:>shoot:> cant find player:>".concat(e.userId))}},{key:"shoalComingTip",value:function(e){this.shoal_com.preAddShoal(e)}},{key:"clear",value:function(){var e,t=this.fish_map,n=E(this.player_map);try{for(n.s();!(e=n.n()).done;){(0,d.default)(e.value,2)[1].destroy()}}catch(e){n.e(e)}finally{n.f()}var r,a=E(t);try{for(a.s();!(r=a.n()).done;){(0,d.default)(r.value,2)[1].destroy()}}catch(e){a.e(e)}finally{a.f()}this.currency="",this.fish_map.clear(),this.player_map.clear()}},{key:"destroy",value:function(){this.event.emit(B.Destroy),this.clear(),(0,p.default)((0,g.default)(n.prototype),"destroy",this).call(this)}}]),n}(_.ComponentManager);t.GameModel=L},37577:function(e,t,n){"use strict";var r=n(1068),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.BulletGroupEvent=t.BulletGroup=void 0;var f=c(n(39392)),d=c(n(72119)),h=c(n(24142)),v=c(n(15375)),p=c(n(17061)),y=c(n(89395)),m=c(n(45408)),g=c(n(97709)),_=c(n(38191)),k=c(n(52305)),b=n(74227),w=n(38182),S=n(37440),C=n(77513),x=n(8985);function I(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return A(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,k.default)(e);if(t){var i=(0,k.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,_.default)(this,n)}}var T={Destroy:S.ModelEvent.Destroy};t.BulletGroupEvent=T;var M=function(e){(0,g.default)(n,e);var t=E(n);function n(e,r){var a;(0,v.default)(this,n),(a=t.call(this)).bullet_map=new f.default,a.casted=!1,a.id=(0,C.genRandomStr)(),a.castFn=function(e){var t=(0,y.default)(a),n=t.gun,r=t.casted,i=t.bullet_map,o=t.bullet_cost;if(!r){var u=n.player,l=u.is_cur_player,s=u.need_emit;a.casted=!0,s&&n.castFish(e,o),n.removeBullet((0,y.default)(a)),a.gun=void 0;var c,f=I(i);try{for(f.s();!(c=f.n()).done;){(0,h.default)(c.value,2)[1].addNet(l)}}catch(e){f.e(e)}finally{f.f()}a.destroy()}},a.bullet_cost=r.bullet_cost,a.gun=r;var i=new w.EventCom;return a.event=i,a.addCom(i),a.initBullet(e),a}return(0,p.default)(n,[{key:"init",value:function(){var e,t=I(this.bullet_map);try{for(t.s();!(e=t.n()).done;){(0,h.default)(e.value,2)[1].init()}}catch(e){t.e(e)}finally{t.f()}}},{key:"initBullet",value:function(e){var t,n=e.bullets_pos,r=e.lock,a=e.velocity,i=this.gun,o=i.skin,u=i.bullet_cost,l=i.skin_level,s=I((0,d.default)(n).call(n));try{for(s.s();!(t=s.n()).done;){var c=(0,h.default)(t.value,2),f=c[0],v={skin:o,pos:c[1],bullet_cost:u,lock:r,skin_level:l,velocity:a.clone(),cast_fn:this.castFn},p=new x.BulletModel(v);this.bullet_map.set(f,p)}}catch(e){s.e(e)}finally{s.f()}}},{key:"destroy",value:function(){if(!this.destroyed){var e,t=this.bullet_map,r=I(t);try{for(r.s();!(e=r.n()).done;){(0,h.default)(e.value,2)[1].destroy()}}catch(e){r.e(e)}finally{r.f()}t.clear(),this.event.emit(T.Destroy),this.event=void 0,this.gun=void 0,this.bullet_cost=0,(0,m.default)((0,k.default)(n.prototype),"destroy",this).call(this)}}}]),n}(b.ComponentManager);t.BulletGroup=M},8985:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.BulletModel=t.BulletEvent=void 0;var o=i(n(51942)),u=i(n(15375)),l=i(n(17061)),s=i(n(89395)),c=i(n(45408)),f=i(n(97709)),d=i(n(38191)),h=i(n(52305)),v=n(74227),p=n(38182),y=n(30260),m=n(66058),g=n(21705),_=n(77513),k=n(37440),b=n(11263),w=n(91207),S=n(39473),C=n(77488),x=n(89684);function I(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,h.default)(e);if(t){var i=(0,h.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var A={Move:"move",AddNet:"add_net"};t.BulletEvent=A;var E=function(e){(0,f.default)(n,e);var t=I(n);function n(e){var r;return(0,u.default)(this,n),(r=t.call(this)).need_detect_collision=!0,r.onMoveChange=function(e){var t=(0,s.default)(r).need_detect_collision,n=e.pos,a=e.velocity,i=r.body;if(i.update(n,a),r.pos=n,r.velocity=a,r.event.emit(A.Move,{pos:n,velocity:a}),r.need_detect_collision=!t,t){var o=(0,b.getCollisionFish)(i);o&&r.onHit(o)}},r.onLockMoveChange=function(e){var t=e.pos,n=e.velocity;r.pos=(0,o.default)({},e.pos),r.velocity=n,r.event.emit(A.Move,{pos:t,velocity:n})},r.onHit=function(e){var t=(0,s.default)(r),n=t.cast_fn,a=t.move_com;a.destroy(),r.delCom(a),r.move_com=void 0,r.getCom(y.TimeoutCom).createTimeout((function(){r.destroyed||n(e)}))},r.addNet=function(e){var t=(0,s.default)(r).pos,n=new x.NetModel({pos:t,show_cast:e},(0,s.default)(r));r.event.emit(A.AddNet,n)},(0,_.setProps)((0,s.default)(r),(0,o.default)((0,o.default)({},e),{velocity:e.velocity.scale(m.Config.BulletSpeed)})),r.initCom(),r}return(0,l.default)(n,[{key:"initCom",value:function(){var e,t=this.pos,n=this.velocity,r=this.lock,a=new p.EventCom,i=[a];if(r)e=new S.LockMoveCom(t,n,r,this.onHit),i.push(e),e.onUpdate(this.onLockMoveChange);else{var o=(0,g.getShapes)("bullet"),u=new w.BodyCom(o);e=new C.VelocityMoveCom(t,n),i.push(e,u),e.onUpdate(this.onMoveChange),this.body=u}i.push(new y.TimeoutCom),this.move_com=e,this.event=a,this.addCom.apply(this,i)}},{key:"init",value:function(){this.move_com.start()}},{key:"destroy",value:function(){this.event.emit(k.ModelEvent.Destroy),this.cast_fn=void 0,this.event=void 0,this.body=void 0,(0,c.default)((0,h.default)(n.prototype),"destroy",this).call(this)}}]),n}(v.ComponentManager);t.BulletModel=E},83091:function(e,t,n){"use strict";var r=n(66890),a=n(1068),i=n(3649),o=n(66419),u=n(65420),l=n(19996),s=n(41511),c=n(52424),f=n(63978),d=n(34074),h=n(8171);f(t,"__esModule",{value:!0}),t.GunStatus=t.GunModel=t.GunEvent=void 0;var v=h(n(39392)),p=h(n(77766)),y=h(n(24142)),m=h(n(15375)),g=h(n(17061)),_=h(n(45408)),k=h(n(97709)),b=h(n(38191)),w=h(n(52305)),S=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var a={},i=f&&d;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=i?d(e,o):null;u&&(u.get||u.set)?f(a,o,u):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(86116)),C=n(74227),x=n(38182),I=n(30260),A=n(66058),E=n(64467),T=n(84662),M=n(37577);function B(e){if("function"!=typeof c)return null;var t=new c,n=new c;return(B=function(e){return e?n:t})(e)}function L(e,t){var n=void 0!==u&&l(e)||e["@@iterator"];if(!n){if(s(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return P(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return o(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,w.default)(e);if(t){var i=(0,w.default)(this).constructor;n=a(r,arguments,i)}else n=r.apply(this,arguments);return(0,b.default)(this,n)}}var N,R={WillAddBullet:"will_add_bullet",AddBullet:"add_bullet",MaxBulletNum:"max_bullet_num",RemoveBullet:"remove_bullet",DirectionChange:"direction_change",SwitchOn:"switch_on",SpeedUpStatus:"speed_up_status",CastFish:"cast_fish",LevelChange:"level_change",AutoShoot:"auto_shoot",NotEnoughBulletNum:"not_enough_bullet_num"};t.GunEvent=R,t.GunStatus=N,function(e){e[e.Normal=0]="Normal",e[e.AutoShoot=1]="AutoShoot",e[e.LockFish=2]="LockFish"}(N||(t.GunStatus=N={}));var U=function(e){(0,k.default)(n,e);var t=O(n);function n(e,r){var a;return(0,m.default)(this,n),(a=t.call(this)).direction=new S.Vector(0,-1),a.max_bullet_num=25,a.bullet_map=new v.default,a.status=N.Normal,a.is_speedup=!1,a.shoot_space=A.Config.ShootTimeSpace,a.is_on=!0,a.rage=!1,a.skin=e,a.player=r,a.initCom(),a}return(0,g.default)(n,[{key:"initCom",value:function(){var e=new x.EventCom,t=new I.TimeoutCom;this.addCom(e,t),this.event=e,this.timeout=t}},{key:"init",value:function(){this.initDirection(),this.setBulletCost(this.player.bullet_cost)}},{key:"setClientInfo",value:function(e){var t=this.player,n=t.server_index,r=t.game,a=(0,E.getGunPos)(n,r.game_mode),i=e(n);this.pos=a,i?this.setDirection(new S.Vector(0,1)):this.setDirection(new S.Vector(0,-1))}},{key:"initDirection",value:function(){var e=this.player,t=e.server_index;2===e.game.game_mode?t<1?this.setDirection(new S.Vector(0,-1)):this.setDirection(new S.Vector(0,1)):t<2?this.setDirection(new S.Vector(0,-1)):this.setDirection(new S.Vector(0,1))}},{key:"setDirection",value:function(e){var t=this;e!==this.direction&&(this.direction=e,this.getCom(I.TimeoutCom).createTimeout((function(){t.event.emit(R.DirectionChange,e)}),this.shoot_space))}},{key:"changeSkin",value:function(e){this.skin=e,this.setBulletCost(this.bullet_cost,!0)}},{key:"setBulletCost",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e!==this.bullet_cost||t){var n=this.skin,r=this.timeout,a=this.event,i=this.shoot_space,o=(0,E.getGunLevelSkinInfo)(e),u=o.level_skin,l=o.hole_num;this.bullet_cost=e,this.skin_level=u,this.hole_num=l,r.createTimeout((function(){a.emit(R.LevelChange,{bullet_cost:e,skin:n,level_skin:u,hole_num:l})}),i)}}},{key:"setStatus",value:function(e){e!==this.status&&(this.status=e)}},{key:"toggleSpeedUp",value:function(e){if(e!==this.is_speedup){var t=this.event;this.is_speedup=e,t.emit(R.SpeedUpStatus,e),this.shoot_space=!0===e?A.Config.ShootTimeSpace/2:A.Config.ShootTimeSpace}}},{key:"autoShoot",get:function(){var e=this.getCom(T.GunAutoShootCom);return e||(e=new T.GunAutoShootCom(this),this.addCom(e)),e}},{key:"preAddBullet",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.status,a=this.is_on,i=this.event,o=this.shoot_space,u=this.player,l=this.bullet_cost;if(u.is_cur_player||2===u.game.game_mode&&u.need_emit){if(u.bullet_num-l<0)return void(u.is_cur_player&&i.emit(R.NotEnoughBulletNum));if(this.bullet_map.size>=this.max_bullet_num)return void i.emit(R.MaxBulletNum)}if((n||r!==N.LockFish)&&(e=e.clone().normalize(),this.setDirection(e),(n||r!==N.AutoShoot)&&a)){i.emit(R.WillAddBullet,e),this.is_on=!1;var s=this.getCom(I.TimeoutCom);s.createTimeout((function(){t.is_on=!0,i.emit(R.SwitchOn)}),o)}}},{key:"addBullet",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.bullet_cost,a=this.skin,i=this.skin_level,o=this.lock_fish,u=this.player,l=this.event,s=this.bullet_map,c=e.x,f=e.y,d=new S.Vector(c,f).normalize();if(!(u.bullet_num<r&&u.is_cur_player)){n&&this.setDirection(d);var h=(0,E.getBulletStartPos)(u.server_index,u.game.game_mode,d.clone(),(0,p.default)(t="".concat(a)).call(t,i)),v={bullets_pos:h,velocity:d,lock:o},y=new M.BulletGroup(v,this);s.set(y.id,y),l.emit(R.AddBullet,{bullet_group:y,velocity:d,lock:o}),y.init(),u.updateInfo({bullet_num:u.bullet_num-r})}}},{key:"castFish",value:function(e,t){this.event.emit(R.CastFish,{fish:e,level:t})}},{key:"getAllBulletCost",value:function(){var e,t=0,n=L(this.bullet_map);try{for(n.s();!(e=n.n()).done;){t+=(0,y.default)(e.value,2)[1].bullet_cost}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"removeBullet",value:function(e){this.bullet_map.delete(e.id),this.event.emit(R.RemoveBullet)}},{key:"destroy",value:function(){var e,t=L(this.bullet_map);try{for(t.s();!(e=t.n()).done;){(0,y.default)(e.value,2)[1].destroy()}}catch(e){t.e(e)}finally{t.f()}this.player=void 0,this.lock_fish=void 0,this.setStatus(N.Normal),this.toggleSpeedUp(!1),this.bullet_map.clear(),(0,_.default)((0,w.default)(n.prototype),"destroy",this).call(this)}}]),n}(C.ComponentManager);t.GunModel=U},89684:function(e,t,n){"use strict";var r=n(1068),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.NetModel=t.NetEvent=void 0;var f=c(n(15375)),d=c(n(17061)),h=c(n(45408)),v=c(n(97709)),p=c(n(38191)),y=c(n(52305)),m=n(74227),g=n(38182),_=n(30260),k=n(11263),b=n(21705),w=n(37440),S=n(91207);function C(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return x(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,y.default)(e);if(t){var i=(0,y.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,p.default)(this,n)}}var A={CastFish:"cast_fish"};t.NetEvent=A;var E=function(e){(0,v.default)(n,e);var t=I(n);function n(e,r){var a;(0,f.default)(this,n),a=t.call(this);var i=e.show_cast,o=e.pos;return a.bullet_cost=r.bullet_cost,a.skin=r.skin,a.skin_level=r.skin_level,a.show_cast=i,a.pos=o,a.init(),a}return(0,d.default)(n,[{key:"body",get:function(){return this.getCom(S.BodyCom)}},{key:"init",value:function(){var e=this,t=this.show_cast,n=(0,b.getShapes)("net"),r=new S.BodyCom(n);r.update(this.pos);var a=new _.TimeoutCom,i=new g.EventCom;this.addCom(i,a,r),this.event=i,t&&a.createTimeout((function(){var t,n=(0,k.getCollisionAllFish)(r),a=C(n);try{for(a.s();!(t=a.n()).done;){t.value.beCast()}}catch(e){a.e(e)}finally{a.f()}e.event.emit(A.CastFish,n)}),0),a.createTimeout((function(){e.destroy()}),100)}},{key:"destroy",value:function(){this.event.emit(w.ModelEvent.Destroy),this.pos=void 0,this.bullet_cost=void 0,this.skin=void 0,this.skin_level=void 0,this.show_cast=!1,(0,h.default)((0,y.default)(n.prototype),"destroy",this).call(this)}}]),n}(m.ComponentManager);t.NetModel=E},83125:function(e,t,n){"use strict";var r=n(1068),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.PlayerModel=t.PlayerEvent=void 0;var f=c(n(66329)),d=c(n(24142)),h=c(n(15375)),v=c(n(17061)),p=c(n(45408)),y=c(n(97709)),m=c(n(38191)),g=c(n(52305)),_=c(n(93476)),k=c(n(81643)),b=c(n(14310)),w=c(n(39392)),S=c(n(51942)),C=n(74227),x=n(38182),I=n(37440),A=n(55161),E=n(77513),T=n(3828),M=n(83091),B=n(6053);function L(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return P(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,g.default)(e);if(t){var i=(0,g.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,m.default)(this,n)}}var N=function(e,t,n,r){return new(n||(n=_.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},R=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(0,k.default)(t).call(t,r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof b.default){var a=0;for(r=(0,b.default)(e);a<r.length;a++)(0,k.default)(t).call(t,r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},U={CaptureFish:T.FishEvent.BeCapture,UpdateInfo:"update_info",Destroy:I.ModelEvent.Destroy};t.PlayerEvent=U;var G=function(e){(0,y.default)(n,e);var t=O(n);function n(e,r){var a;return(0,h.default)(this,n),(a=t.call(this)).score=0,a.skill_map=new w.default,a.game=r,a.addCom(new x.EventCom),a.createGun(e),a}return(0,v.default)(n,[{key:"event",get:function(){return this.getCom(x.EventCom)}},{key:"createGun",value:function(e){var t=e.gun_skin,n=e.skills,r=e.server_index,a=R(e,["gun_skin","skills","server_index"]),i=new M.GunModel(t,this);this.gun=i,this.updateInfo((0,S.default)({server_index:r},a)),this.initSkill(n)}},{key:"setClientInfo",value:function(e){this.gun.setClientInfo(e)}},{key:"init",value:function(){var e=this.skill_map;this.gun.init();var t,n=L(e);try{for(n.s();!(t=n.n()).done;){(0,d.default)(t.value,2)[1].init()}}catch(e){n.e(e)}finally{n.f()}}},{key:"updateInfo",value:function(e){var t,n=e.bullet_cost;e.bullet_num<0&&this.is_cur_player&&((0,A.error)("test:> some thing case bullet num < 0"),e.bullet_num=0),(0,E.setProps)(this,e),e.bullet_cost&&this.gun.setBulletCost(n),null===(t=this.event)||void 0===t||t.emit(U.UpdateInfo)}},{key:"initSkill",value:function(e){var t=this.skill_map;for(var n in B.SkillCtorMap){var r=B.SkillCtorMap[n];if(r){var a=e[n]||{},i=(0,S.default)({player:this},a);t.set(n,new r(i))}}}},{key:"activeSkill",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.skill_map.get(e);n.active(t)}},{key:"disableSkill",value:function(e){this.skill_map.get(e).disable()}},{key:"resetSkill",value:function(e){this.skill_map.get(e).reset()}},{key:"getSkill",value:function(e){return this.skill_map.get(e)}},{key:"addSkillNum",value:function(e,t){var n=this.skill_map.get(e);n?(t=n.skill_core.num+t,n.skill_core.setNum(t)):(0,A.error)("cant find skill for ".concat(e))}},{key:"captureFish",value:function(e,t){return N(this,void 0,void 0,f.default.mark((function n(){var r,a,i,o,u,l,s,c,d=this;return f.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new _.default((function(n,r){var a;null===(a=d.event)||void 0===a||a.emit(U.CaptureFish,{pos:e,data:t,resolve:n})}));case 2:if(!this.destroyed){n.next=4;break}return n.abrupt("return");case 4:if(r=t.win,a=t.winScore,i=t.drop,o=this.bullet_num,u=this.score,this.updateInfo({bullet_num:o+(r||0),score:u+(a||0)}),i){l=L(i);try{for(l.s();!(s=l.n()).done;)c=s.value,this.addSkillNum(c.itemId,c.itemNum)}catch(e){l.e(e)}finally{l.f()}}case 8:case"end":return n.stop()}}),n,this)})))}},{key:"changeSkin",value:function(e){this.gun.changeSkin(e)}},{key:"destroy",value:function(){var e,t=this.gun,r=this.skill_map,a=this.game,i=L(r);try{for(i.s();!(e=i.n()).done;){(0,d.default)(e.value,2)[1].destroy()}}catch(e){i.e(e)}finally{i.f()}t.destroy(),a.removePlayer(this),this.event.emit(U.Destroy),this.skill_map.clear(),this.gun=void 0,(0,p.default)((0,g.default)(n.prototype),"destroy",this).call(this)}}]),n}(C.ComponentManager);t.PlayerModel=G},34085:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.AutoShootModel=void 0;var o=i(n(15375)),u=i(n(17061)),l=i(n(97709)),s=i(n(38191)),c=i(n(52305)),f=n(74227),d=n(43776);function h(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var v=function(e){(0,l.default)(n,e);var t=h(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this)).initCom(e),r}return(0,u.default)(n,[{key:"initCom",value:function(e){var t=new d.SkillCoreCom(e);this.addCom(t),this.skill_core=t}},{key:"toggle",value:function(){this.skill_core.status===d.SkillStatus.Normal?this.active():this.disable()}},{key:"init",value:function(){this.skill_core.init()}},{key:"reset",value:function(){var e=this.skill_core;e.player.gun.autoShoot.clear(),e.setStatus(d.SkillStatus.Normal)}},{key:"active",value:function(){var e=this.skill_core;this.skill_core.player.gun.autoShoot.active(),e.setStatus(d.SkillStatus.Active)}},{key:"disable",value:function(){this.reset()}}]),n}(f.ComponentManager);t.AutoShootModel=v},36065:function(e,t,n){"use strict";var r=n(1068),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.BombModel=void 0;var f=c(n(15375)),d=c(n(17061)),h=c(n(97709)),v=c(n(38191)),p=c(n(52305)),y=n(74227),m=n(11263),g=n(42717),_=n(43776);function k(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return b(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,v.default)(this,n)}}var S=function(e){(0,h.default)(n,e);var t=w(n);function n(e){var r;return(0,f.default)(this,n),(r=t.call(this)).initCom(e),r}return(0,d.default)(n,[{key:"initCom",value:function(e){var t=new _.SkillCoreCom(e);this.addCom(t),this.skill_core=t}},{key:"init",value:function(){this.skill_core.init()}},{key:"active",value:function(e){var t,n=e.num,r=e.fish_list,a=e.pos,i=e.used_time,o=e.is_bomb_fish,u=this.skill_core,l=u.player,s=k(r);try{for(s.s();!(t=s.n()).done;){var c=t.value,f=c.eid,d=c.win,h=c.drop,v=(0,m.getFishById)(f);v?(0,g.playerCaptureFish)(l,v,{win:d,drop:h}):l.updateInfo({bullet_num:l.bullet_num+d})}}catch(e){s.e(e)}finally{s.f()}u.activeEvent(a),o&&u.active({num:n,used_time:i})}},{key:"reset",value:function(){this.skill_core.reset()}},{key:"disable",value:function(){this.skill_core.disable()}}]),n}(y.ComponentManager);t.BombModel=S},33302:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.FreezeModel=void 0;var o=i(n(15375)),u=i(n(17061)),l=i(n(97709)),s=i(n(38191)),c=i(n(52305)),f=n(74227),d=n(11263),h=n(43776);function v(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var p=function(e){(0,l.default)(n,e);var t=v(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this)).initCom(e),r}return(0,u.default)(n,[{key:"initCom",value:function(e){var t=new h.SkillCoreCom(e);this.addCom(t),this.skill_core=t}},{key:"init",value:function(){this.skill_core.init()}},{key:"reset",value:function(){this.skill_core.reset()}},{key:"active",value:function(e){var t=this.skill_core,n=e.used_time,r=e.fish_list,a=e.duration;d.modelState.game.freezing_com.freezing(a-n,r),t.active(e)}},{key:"disable",value:function(){this.skill_core.disable()}}]),n}(f.ComponentManager);t.FreezeModel=p},69718:function(e,t,n){"use strict";var r=n(1068),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.LockFishModel=t.GunLockFishEvent=void 0;var f=c(n(24142)),d=c(n(15375)),h=c(n(17061)),v=c(n(89395)),p=c(n(45408)),y=c(n(97709)),m=c(n(38191)),g=c(n(52305)),_=c(n(81643)),k=c(n(14310)),b=c(n(39392)),w=c(n(51942)),S=c(n(33032)),C=c(n(86116)),x=n(74227),I=n(30260),A=n(3828),E=n(11263),T=n(55161),M=n(37577),B=n(83091),L=n(43776);function P(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return O(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,g.default)(e);if(t){var i=(0,g.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,m.default)(this,n)}}var R=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(0,_.default)(t).call(t,r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof k.default){var a=0;for(r=(0,k.default)(e);a<r.length;a++)(0,_.default)(t).call(t,r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},U={StartLock:"start_lock",StopLock:"stop_lock"};t.GunLockFishEvent=U;var G=function(e){(0,y.default)(n,e);var t=N(n);function n(e){var r;return(0,d.default)(this,n),(r=t.call(this)).bullet_list=new b.default,r.onLockMove=function(){var e=(0,v.default)(r),t=e.gun,n=e.fish,a=e.skill_core;if(null==n?void 0:n.visible){var i=n.pos,o=i.x,u=i.y,l=t.pos,s=l.x,c=l.y;t.setDirection(new C.default.Vector(o-s,u-c)),a.player.need_emit&&((0,E.detectInScreen)(n.pos)||(r.unLock(),r.tipLock()))}},r.unLock=function(){var e=(0,v.default)(r),t=e.fish,n=e.gun,a=e.bullet_list;if(t&&n){var i,o=n.player,u=0,l=P(a);try{for(l.s();!(i=l.n()).done;){var s=(0,f.default)(i.value,2)[1];u+=s.bullet_cost,n.removeBullet(s),s.destroy()}}catch(e){l.e(e)}finally{l.f()}o.updateInfo({bullet_num:o.bullet_num+u}),a.clear(),n.event.emit(U.StopLock),n.setStatus(B.GunStatus.Normal),n.lock_fish=void 0,n.event.offAllCaller((0,v.default)(r)),t.event.offAllCaller((0,v.default)(r)),r.fish=null}},r.initCom(e),r}return(0,h.default)(n,[{key:"init",value:function(){var e=this,t=this.timeout,n=this.skill_core,r=this.init_info,a=r.lock_fish,i=r.lock_left,o=R(r,["lock_fish","lock_left"]);i?t.createTimeout((function(){e.active((0,w.default)((0,w.default)({},o),{fish:a,duration:i+o.used_time,needActive:!0}))})):n.init(),this.gun=this.skill_core.player.gun}},{key:"reset",value:function(){this.skill_core.reset()}},{key:"initCom",value:function(e){var t=new L.SkillCoreCom(e),n=new I.TimeoutCom;this.addCom(t,n),this.skill_core=t,this.timeout=n,this.init_info=e}},{key:"active",value:function(e){var t=this,n=this.skill_core,r=e.fish,a=e.needActive;if(n.status===L.SkillStatus.Active||a){a&&n.active(e,(function(e){e===L.SkillStatus.Disable&&t.unLock()}));var i=(0,E.getFishById)(r);if(!i)return(0,T.error)("cant find fish for eid=".concat(r));this.lock(i)}}},{key:"tipLock",value:function(){var e=this.gun,t=this.skill_core,n=(0,E.getAimFish)();t.activeEvent({fish:n,is_tip:!0,gun_pos:e.pos})}},{key:"lock",value:function(e){var t=this.gun,n=this.skill_core;this.unLock(),this.bindLockFish(e),n.activeEvent({fish:e,is_tip:!1,gun_pos:t.pos})}},{key:"bindLockFish",value:function(e){var t=this,n=this.gun,r=(this.skill_core,n.event),a=e.event;this.fish=e,n.lock_fish=e,this.onLockMove(),a.on(A.FishEvent.Move,this.onLockMove,this),a.on(A.FishEvent.Destroy,(function(){t.unLock(),(0,S.default)((function(){t.tipLock()}))}),this),n.setStatus(B.GunStatus.LockFish),n.preAddBullet(n.direction,!0),r.on(B.GunEvent.SwitchOn,(function(){n.preAddBullet(n.direction,!0)}),this);var i=0;r.on(B.GunEvent.AddBullet,(function(e){if(e.lock){var n=e.bullet_group,r=i+"";i++,t.bullet_list.set(r,n),n.event.on(M.BulletGroupEvent.Destroy,(function(){t.bullet_list.delete(r)}),t)}}),this)}},{key:"disable",value:function(){this.skill_core.disable()}},{key:"destroy",value:function(){var e,t=this.fish;null===(e=null==t?void 0:t.event)||void 0===e||e.offAllCaller(this),this.unLock(),this.fish=void 0,this.skill_core=void 0,this.gun=void 0,(0,p.default)((0,g.default)(n.prototype),"destroy",this).call(this)}}]),n}(x.ComponentManager);t.LockFishModel=G},43776:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.SkillStatus=t.SkillEvent=t.SkillCoreCom=void 0;var o,u=i(n(51942)),l=i(n(15375)),s=i(n(17061)),c=i(n(89395)),f=i(n(45408)),d=i(n(97709)),h=i(n(38191)),v=i(n(52305)),p=n(74227),y=n(38182),m=n(45359),g=n(77513);function _(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,v.default)(e);if(t){var i=(0,v.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,h.default)(this,n)}}t.SkillStatus=o,function(e){e.Normal="normal",e.PreActive="pre_active",e.Disable="disable",e.Active="active"}(o||(t.SkillStatus=o={}));var k={UpdateInfo:"update_info",StatusChange:"status_change",UpdateRadio:"update_radio",ActiveSkill:"active_skill",DisableSkill:"disable_skill",Destroy:"destroy"};t.SkillEvent=k;var b=function(e){(0,d.default)(n,e);var t=_(n);function n(e){var r;return(0,l.default)(this,n),(r=t.call(this)).cool_time=10,r.used_time=0,r.status=o.Normal,(0,g.setProps)((0,c.default)(r),(0,u.default)({},e)),r.initCom(),r}return(0,s.default)(n,[{key:"initCom",value:function(){var e=new y.EventCom;this.addCom(e),this.event=e}},{key:"init",value:function(){var e=this.used_time,t=this.num;e&&(this.active({used_time:e,num:t}),(0,g.setProps)(this,{used_time:0})),this.event.emit(k.UpdateInfo)}},{key:"setNum",value:function(e){this.num=e,this.event.emit(k.UpdateInfo)}},{key:"setStatus",value:function(e){this.status!==e&&(this.status=e,this.event.emit(k.StatusChange,e))}},{key:"activeEvent",value:function(e){this.event.emit(k.ActiveSkill,e)}},{key:"active",value:function(e,t){var n=this;if(this.status===o.Active)return!1;var r=this.cool_time,a=this.event,i=e.used_time,u=e.num,l=e.duration||i,s=r-i,c=l-i;c>s&&(c=s),this.setNum(u),this.setStatus(o.Active),this.count_index=(0,m.startCount)(s,.05,(function(e){var i=(1-e)*s,u=e*(s/r);a.emit(k.UpdateRadio,u),i>=c&&n.status!==o.Disable&&(n.disable(),(0,g.callFunc)(t,n.status)),0===u&&(n.reset(),(0,g.callFunc)(t,n.status))}))}},{key:"reset",value:function(){this.status!==o.Active&&(this.setStatus(o.Normal),(0,m.clearCount)(this.count_index))}},{key:"disable",value:function(){this.setStatus(o.Disable)}},{key:"destroy",value:function(){this.event.emit(k.Destroy),this.setStatus(o.Normal),(0,m.clearCount)(this.count_index),(0,f.default)((0,v.default)(n.prototype),"destroy",this).call(this)}}]),n}(p.ComponentManager);t.SkillCoreCom=b},6053:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.SkillCtorMap=void 0;var i,o=a(n(67513)),u=n(66058),l=n(34085),s=n(36065),c=n(33302),f=n(69718),d=(i={},(0,o.default)(i,u.SkillMap.Freezing,c.FreezeModel),(0,o.default)(i,u.SkillMap.Bomb,s.BombModel),(0,o.default)(i,u.SkillMap.LockFish,f.LockFishModel),(0,o.default)(i,u.SkillMap.Auto,l.AutoShootModel),i);t.SkillCtorMap=d},37440:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.ModelEvent=void 0;t.ModelEvent={Destroy:"destroy"}},11263:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t.detectInScreen=w,t.getAimFish=function(){var e,t=b.game,n=(0,p.default)((0,c.default)(e=t.getAllFish()).call(e));return n=(0,f.default)(n).call(n,(function(e){return e.visible&&w(e.pos)})),(n=(0,d.default)(n).call(n,(function(e,t){return t.score-e.score})))[0]},t.getCollisionAllFish=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=b.game.getAllFish(),a=_(r);try{for(a.s();!(t=a.n()).done;){var i=(0,v.default)(t.value,2),o=i[1];if(-1===(0,h.default)(n).call(n,o)){var u=o.body,l=o.visible;l&&(0,g.detectCollision)(e,u)&&n.push(o)}}}catch(e){a.e(e)}finally{a.f()}return n},t.getCollisionFish=function(e){var t,n=_(b.game.getAllFish());try{for(n.s();!(t=n.n()).done;){var r=(0,v.default)(t.value,2)[1],a=r.body;if((0,g.detectCollision)(e,a))return r}}catch(e){n.e(e)}finally{n.f()}},t.getCurPlayer=function(){return b.game.getCurPlayer()},t.getCurUserId=function(e){if(e)return b.app.arena_info.user_id;return b.app.user_info.user_id},t.getFishById=function(e){return b.game.getFishById(e)},t.getPlayerById=function(e){return b.game.getPlayerById(e)},t.getUserInfo=function(){return b.app.user_info},t.isCurUser=function(e,t){if(t)return e===b.app.arena_info.user_id;return e===b.app.user_info.user_id},t.modelState=void 0;var c=s(n(89400)),f=s(n(20116)),d=s(n(47302)),h=s(n(81643)),v=s(n(24142)),p=s(n(21003)),y=n(24629),m=n(66058),g=n(34970);function _(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return k(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return k(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b={};function w(e){var t=y.Laya.stage.width,n=(m.Config.PoolWidth-t)/2,r=n+t,a=e.x;return a>n&&a<r}t.modelState=b},18657:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.SettingModel=t.SettingEvent=void 0;var o=i(n(24142)),u=i(n(15375)),l=i(n(17061)),s=i(n(97709)),c=i(n(38191)),f=i(n(52305)),d=n(74227),h=n(38182),v=n(54375);function p(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var y={VoiceChange:"voice_change",MusicChange:"music_change"};t.SettingEvent=y;var m=function(e){(0,s.default)(n,e);var t=p(n);function n(){var e;return(0,u.default)(this,n),(e=t.call(this)).addCom(new h.EventCom),e}return(0,l.default)(n,[{key:"initUserInfo",value:function(e){var t=e.userId,n=(0,v.getAudio)(t),r=(0,o.default)(n,2),a=r[0],i=r[1];this.voice=a,this.music=i}},{key:"event",get:function(){return this.getCom(h.EventCom)}},{key:"setVoice",value:function(e){e!==this.voice&&(this.voice=e,(0,v.setVoice)(e),this.event.emit(y.VoiceChange,e))}},{key:"setMusic",value:function(e){e!==this.music&&(this.music=e,(0,v.setMusic)(e),this.event.emit(y.MusicChange,e))}}]),n}(d.ComponentManager);t.SettingModel=m},87759:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.UserInfoModel=t.UserInfoEvent=void 0;var o=i(n(39392)),u=i(n(15375)),l=i(n(17061)),s=i(n(97709)),c=i(n(38191)),f=i(n(52305)),d=n(74227),h=n(38182),v=n(66058),p=n(54375);function y(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var m={CurBalanceChange:"cur_balance_change",LangChange:"lang_change",AccountChange:"account_change",NicknameChange:"nick_name_change"};t.UserInfoEvent=m;var g=function(e){(0,s.default)(n,e);var t=y(n);function n(){var e;return(0,u.default)(this,n),(e=t.call(this)).lang="en",e.cur_balance="BTC",e.account_map=new o.default,e}return(0,l.default)(n,[{key:"init",value:function(){var e=v.Config.lang;this.setLang(e)}},{key:"initUserInfo",value:function(e){var t=e.userId,n=e.showName,r=e.balances;this.setUserId(t),this.setNickname(n),this.setAccount(r)}},{key:"event",get:function(){var e=this.getCom(h.EventCom);return e||(e=new h.EventCom,this.addCom(e)),e}},{key:"setCurBalance",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,p.setCacheBalance)(e,null===(t=this.account_map.get(e))||void 0===t?void 0:t.num),(e!==this.cur_balance||n)&&(this.cur_balance=e,this.event.emit(m.CurBalanceChange,e))}},{key:"setLang",value:function(e){e!==this.lang&&(this.lang=e,this.event.emit(m.LangChange,e))}},{key:"setUserId",value:function(e){this.user_id=e}},{key:"setNickname",value:function(e){this.nickname=e,this.event.emit(m.NicknameChange,this.nickname)}},{key:"setAccount",value:function(e){var t;for(var n in e){t||(t=n);var r=e[n],a=r.balance,i=r.imageUrl,o=r.hide;this.account_map.set(n,{num:Number(a),icon:i,hide:o})}this.event.emit(m.AccountChange,this.account_map);var u=(0,p.getCacheCurrency)(this.account_map);this.setCurBalance(u||t,!0)}}]),n}(d.ComponentManager);t.UserInfoModel=g},54375:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.getAudio=function(e){var t=(0,l.getItem)("".concat(e,":voice")),n=(0,l.getItem)("".concat(e,":music")),r=n?Number(n):.5,a=t?Number(t):.5;return o.AudioCtrl.setVoice(a),o.AudioCtrl.setMusic(r),[a,r]},t.getCacheCurrency=function(e){var t=paladin.getCurrency();if(t&&e.get(t))return t;if(e.size)return(0,i.default)(e)[0]},t.getCurrencyIcon=function(e){var t,n=(0,u.getUserInfo)().account_map;return null===(t=n.get(e))||void 0===t?void 0:t.icon},t.setCacheBalance=function(e,t){if(void 0===e)return;paladin.account.currency({name:e,balance:t});var n=(0,u.getCurUserId)();return(0,l.setItem)("".concat(n,":balance"),e)},t.setMusic=function(e){var t=(0,u.getCurUserId)();o.AudioCtrl.setMusic(e),(0,l.setItem)("".concat(t,":music"),e+"")},t.setVoice=function(e){var t=(0,u.getCurUserId)();o.AudioCtrl.setVoice(e),(0,l.setItem)("".concat(t,":voice"),e+"")},t.tipPlatformCurrency=function(e){var t=paladin.getCurrency();e!==t&&c.default.tip((0,s.tplIntr)("platformDiffCurrencyEnterGameErr"))};var i=a(n(69301)),o=n(80356),u=n(11263),l=n(36620),s=n(77513),c=a(n(10535))},47638:function(e,t,n){"use strict";var r=n(8171)(n(86029));Math.log2=r.default||function(e){return Math.log(e)*Math.LOG2E}},84228:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.ui=void 0;var o=i(n(15375)),u=i(n(17061)),l=i(n(45408)),s=i(n(97709)),c=i(n(38191)),f=i(n(52305)),d=n(28294),h=n(23835),v=n(96530),p=n(93408),y=n(33879),m=n(75055),g=n(78362),_=n(44476),k=n(22825),b=n(81870),w=n(58336),S=n(75485),C=n(79698),x=n(51931),I=n(57768),A=n(42595),E=n(70078),T=n(37564);function M(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var B,L=h.ClassUtils.regClass;t.ui=B,function(e){!function(e){!function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[v.Label,p.Box,y.Button,m.Dialog,g.Sprite,_.Image],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/alert/alert")}}]),n}(m.Dialog);e.alertUI=t,L("ui.pop.alert.alertUI",t);var n=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[_.Image,p.Box,v.Label,m.Dialog],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/alert/arenaGameStatus")}}]),n}(m.Dialog);e.arenaGameStatusUI=n,L("ui.pop.alert.arenaGameStatusUI",n);var r=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[_.Image,v.Label,m.Dialog],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/alert/arenaTaskTip")}}]),n}(m.Dialog);e.arenaTaskTipUI=r,L("ui.pop.alert.arenaTaskTipUI",r);var a=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[v.Label,_.Image,y.Button,m.Dialog,p.Box,g.Sprite],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/alert/buyBullet")}}]),n}(m.Dialog);e.buyBulletUI=a,L("ui.pop.alert.buyBulletUI",a);var i=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,_.Image,k.HTMLDivElement,m.Dialog],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/alert/tip")}}]),n}(m.Dialog);e.tipUI=i,L("ui.pop.alert.tipUI",i);var c=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[_.Image,v.Label,m.Dialog],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/alert/topTip")}}]),n}(m.Dialog);e.topTipUI=c,L("ui.pop.alert.topTipUI",c);var h=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[v.Label,b.Text,m.Dialog,p.Box,g.Sprite,_.Image,y.Button],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/alert/voice")}}]),n}(m.Dialog);e.voiceUI=h,L("ui.pop.alert.voiceUI",h);var S=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,w.ProgressBar,y.Button],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/alert/voiceProgress")}}]),n}(d.Scene);e.voiceProgressUI=S,L("ui.pop.alert.voiceProgressUI",S)}(e.alert||(e.alert={}))}(e.pop||(e.pop={}))}(B||(t.ui=B={})),function(e){!function(e){!function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,v.Label,y.Button,S.List,m.Dialog,_.Image,g.Sprite],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/arenaCompetitionInfo/arenaCompetitionInfo")}}]),n}(m.Dialog);e.arenaCompetitionInfoUI=t,L("ui.pop.arenaCompetitionInfo.arenaCompetitionInfoUI",t);var n=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[_.Image,v.Label,C.View,g.Sprite,p.Box],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/arenaCompetitionInfo/rankItem")}}]),n}(C.View);e.rankItemUI=n,L("ui.pop.arenaCompetitionInfo.rankItemUI",n)}(e.arenaCompetitionInfo||(e.arenaCompetitionInfo={}))}(e.pop||(e.pop={}))}(B||(t.ui=B={})),function(e){!function(e){!function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[y.Button,v.Label,S.List,m.Dialog,p.Box,g.Sprite],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/arenaGift/arenaGift")}}]),n}(m.Dialog);e.arenaGiftUI=t,L("ui.pop.arenaGift.arenaGiftUI",t);var n=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[_.Image,v.Label,y.Button,C.View,p.Box,g.Sprite],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/arenaGift/itemView")}}]),n}(C.View);e.itemViewUI=n,L("ui.pop.arenaGift.itemViewUI",n)}(e.arenaGift||(e.arenaGift={}))}(e.pop||(e.pop={}))}(B||(t.ui=B={})),function(e){!function(e){!function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[v.Label,x.Tab,y.Button,I.ViewStack,m.Dialog,p.Box,g.Sprite,_.Image,A.VBox],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/arenaHelp/arenaHelp")}}]),n}(m.Dialog);e.arenaHelpUI=t,L("ui.pop.arenaHelp.arenaHelpUI",t)}(e.arenaHelp||(e.arenaHelp={}))}(e.pop||(e.pop={}))}(B||(t.ui=B={})),function(e){!function(e){!function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[v.Label,x.Tab,y.Button,I.ViewStack,S.List,m.Dialog,p.Box,g.Sprite,_.Image,E.Clip],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/arenaRank/arenaRank")}}]),n}(m.Dialog);e.arenaRankUI=t,L("ui.pop.arenaRank.arenaRankUI",t)}(e.arenaRank||(e.arenaRank={}))}(e.pop||(e.pop={}))}(B||(t.ui=B={})),function(e){!function(e){!function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[v.Label,y.Button,_.Image,m.Dialog,p.Box,g.Sprite],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/arenaSettle/arenaSettle")}}]),n}(m.Dialog);e.arenaSettleUI=t,L("ui.pop.arenaSettle.arenaSettleUI",t)}(e.arenaSettle||(e.arenaSettle={}))}(e.pop||(e.pop={}))}(B||(t.ui=B={})),function(e){!function(e){!function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[v.Label,S.List,_.Image,m.Dialog,p.Box,g.Sprite,y.Button],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/arenaTopPlayer/arenaTopPlayer")}}]),n}(m.Dialog);e.arenaTopPlayerUI=t,L("ui.pop.arenaTopPlayer.arenaTopPlayerUI",t);var n=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[v.Label,C.View,g.Sprite],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/arenaTopPlayer/item")}}]),n}(C.View);e.itemUI=n,L("ui.pop.arenaTopPlayer.itemUI",n)}(e.arenaTopPlayer||(e.arenaTopPlayer={}))}(e.pop||(e.pop={}))}(B||(t.ui=B={})),function(e){!function(e){!function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,y.Button,v.Label,m.Dialog],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/guide/GuideDialog")}}]),n}(m.Dialog);e.GuideDialogUI=t,L("ui.pop.guide.GuideDialogUI",t);var n=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[T.Skeleton,g.Sprite],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/guide/GuidePointer")}}]),n}(d.Scene);e.GuidePointerUI=n,L("ui.pop.guide.GuidePointerUI",n);var r=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[k.HTMLDivElement,C.View,_.Image],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/guide/GuidePrompt")}}]),n}(C.View);e.GuidePromptUI=r,L("ui.pop.guide.GuidePromptUI",r)}(e.guide||(e.guide={}))}(e.pop||(e.pop={}))}(B||(t.ui=B={})),function(e){!function(e){!function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,v.Label,S.List,m.Dialog,_.Image,y.Button,g.Sprite,x.Tab,I.ViewStack],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/help/help")}}]),n}(m.Dialog);e.helpUI=t,L("ui.pop.help.helpUI",t);var n=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[_.Image,v.Label,C.View],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/help/helpItem")}}]),n}(C.View);e.helpItemUI=n,L("ui.pop.help.helpItemUI",n);var r=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,_.Image,v.Label,C.View,g.Sprite],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/help/skillItem")}}]),n}(C.View);e.skillItemUI=r,L("ui.pop.help.skillItemUI",r)}(e.help||(e.help={}))}(e.pop||(e.pop={}))}(B||(t.ui=B={})),function(e){!function(e){!function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[T.Skeleton,_.Image,C.View,p.Box,g.Sprite],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.createView(n.uiView)}}]),n}(C.View);t.uiView={type:"View",props:{width:119,height:119},compId:2,child:[{type:"Box",props:{y:-1,x:-1},compId:18,child:[{type:"SkeletonPlayer",props:{y:59,x:58,visible:!1,var:"light",url:"image/pop/lottery/exchange_circle_light.sk",runtime:"Laya.Skeleton"},compId:15},{type:"Image",props:{y:0,x:-3,width:128,skin:"image/pop/lottery/lottery_item_bg.png",height:128},compId:16,child:[{type:"Sprite",props:{y:-16,x:-16,texture:"image/pop/lottery/lottery_item_light.png"},compId:17}]},{type:"Image",props:{y:60,x:60,width:140,var:"light_circle",skin:"image/pop/lottery/light_circle.png",scaleY:1.1,scaleX:1.1,pivotY:70,pivotX:70,height:140,alpha:.8},compId:21},{type:"SkeletonPlayer",props:{y:61,x:60,width:1,visible:!1,var:"box_ani",url:"image/pop/lottery/box.sk",height:100,runtime:"Laya.Skeleton"},compId:22},{type:"Image",props:{y:25,x:22,var:"box_img",skin:"image/pop/lottery/box_normal.png"},compId:26}]}],loadList:["image/pop/lottery/exchange_circle_light.sk","image/pop/lottery/lottery_item_bg.png","image/pop/lottery/lottery_item_light.png","image/pop/lottery/light_circle.png","image/pop/lottery/box.sk","image/pop/lottery/box_normal.png"],loadList3D:[]},e.itemUI=t,L("ui.pop.lottery.itemUI",t);var n=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[y.Button,v.Label,_.Image,g.Sprite,p.Box],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.createView(n.uiView)}}]),n}(d.Scene);n.uiView={type:"Scene",props:{width:211,height:253},compId:2,child:[{type:"Image",props:{y:0,x:3.5,skin:"image/pop/lottery/lottery_item2_bg.png",sizeGrid:"42,60,37,53"},compId:17,child:[{type:"SkeletonPlayer",props:{y:127,x:101,url:"image/pop/lottery/exchange_item_light.sk",runtime:"Laya.Skeleton"},compId:13},{type:"Image",props:{y:144,x:1,width:202,skin:"image/pop/lottery/lottery_item2_banner.png",sizeGrid:"0,127,0,31",height:28},compId:19}]},{type:"Sprite",props:{y:20,x:49,texture:"image/pop/lottery/lottery_item2_nbg.png"},compId:4},{type:"Button",props:{y:177,x:37,var:"btn_buy",stateNum:1,skin:"image/pop/lottery/btn_lottery_bug.png"},compId:5,child:[{type:"Label",props:{y:12,x:65,width:53,var:"price_label",text:"500",height:24,fontSize:24,color:"#174c7d",bold:!0,align:"right"},compId:7},{type:"Image",props:{y:8.5,x:22,width:45,var:"price_tag",skin:"image/pop/lottery/tag_bg.png",height:33},compId:12,child:[{type:"Image",props:{y:4,x:12,width:22,var:"coin_icon",skin:"image/pop/lottery/tag_coin_bg.png",height:22},compId:21}]}]},{type:"Label",props:{y:145,width:156,var:"remain_label",valign:"middle",text:"剩余10/20",strokeColor:"#621615",stroke:2,height:22,fontSize:18,color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:8},{type:"Box",props:{y:44,width:183,height:80,centerX:1},compId:18,child:[{type:"Label",props:{y:15,x:-33,width:145,var:"num_label",valign:"middle",text:"1000",strokeColor:"#692315",stroke:2,pivotY:15,pivotX:73,height:30,fontSize:36,font:"lottery",color:"#f4e090",centerX:0,bold:!0,align:"center"},compId:10},{type:"Label",props:{y:69,x:0,width:155,var:"item_type",valign:"middle",text:"BTC",strokeColor:"#692315",stroke:2,pivotY:30,pivotX:73,height:30,fontSize:36,font:"alphabet",color:"#f4e090",centerX:0,bold:!0,align:"center"},compId:22}]}],loadList:["image/pop/lottery/lottery_item2_bg.png","image/pop/lottery/exchange_item_light.sk","image/pop/lottery/lottery_item2_banner.png","image/pop/lottery/lottery_item2_nbg.png","image/pop/lottery/btn_lottery_bug.png","image/pop/lottery/tag_bg.png","image/pop/lottery/tag_coin_bg.png"],loadList3D:[]},e.item2UI=n,L("ui.pop.lottery.item2UI",n);var r=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[y.Button,v.Label,_.Image,g.Sprite,p.Box],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.createView(n.uiView)}}]),n}(d.Scene);r.uiView={type:"Scene",props:{width:182,height:253},compId:2,child:[{type:"Image",props:{y:0,x:2,width:182,skin:"image/pop/lottery/lottery_item2_bg.png",sizeGrid:"42,60,37,53",height:253},compId:17,child:[{type:"SkeletonPlayer",props:{y:126.5,x:87.5,url:"image/pop/lottery/exchange_item_light.sk",runtime:"Laya.Skeleton"},compId:13},{type:"Image",props:{y:144,x:1,width:173,skin:"image/pop/lottery/lottery_item2_banner.png",sizeGrid:"0,127,0,31",height:28},compId:19}]},{type:"Sprite",props:{y:22,x:33,texture:"image/pop/lottery/lottery_item2_nbg.png"},compId:4},{type:"Button",props:{y:178,x:22,var:"btn_buy",stateNum:1,skin:"image/pop/lottery/btn_lottery_bug.png"},compId:5,child:[{type:"Label",props:{y:12,x:65,width:51,var:"price_label",text:"500",height:24,fontSize:24,color:"#174c7d",bold:!0,align:"right"},compId:7},{type:"Image",props:{y:8.5,x:22,width:45,var:"price_tag",skin:"image/pop/lottery/tag_bg.png",height:33},compId:12,child:[{type:"Image",props:{y:5,x:13.5,width:20,var:"coin_icon",skin:"image/pop/lottery/tag_coin_bg.png",height:20},compId:21}]}]},{type:"Label",props:{y:145,width:156,var:"remain_label",valign:"middle",text:"剩余10/20",strokeColor:"#621615",stroke:2,height:22,fontSize:18,color:"#ffffff",centerX:4,bold:!0,align:"center"},compId:8},{type:"Box",props:{y:45,width:183,height:80,centerX:-1},compId:18,child:[{type:"Label",props:{y:15,x:-33,width:145,var:"num_label",valign:"middle",text:"1000",strokeColor:"#692315",stroke:2,pivotY:15,pivotX:73,height:30,fontSize:36,font:"lottery",color:"#f4e090",centerX:0,bold:!0,align:"center"},compId:10},{type:"Label",props:{y:69,x:0,width:155,var:"item_type",valign:"middle",text:"BTC",strokeColor:"#692315",stroke:2,pivotY:30,pivotX:73,height:30,fontSize:36,font:"alphabet",color:"#f4e090",centerX:0,bold:!0,align:"center"},compId:23}]}],loadList:["image/pop/lottery/lottery_item2_bg.png","image/pop/lottery/exchange_item_light.sk","image/pop/lottery/lottery_item2_banner.png","image/pop/lottery/lottery_item2_nbg.png","image/pop/lottery/btn_lottery_bug.png","image/pop/lottery/tag_bg.png","image/pop/lottery/tag_coin_bg.png"],loadList3D:[]},e.item2fiveUI=r,L("ui.pop.lottery.item2fiveUI",r);var a=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[v.Label,y.Button,_.Image,g.Sprite,p.Box],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.createView(n.uiView)}}]),n}(d.Scene);a.uiView={type:"Scene",props:{width:877,height:230},compId:2,child:[{type:"Image",props:{y:0,x:0,width:877,skin:"image/pop/lottery/lottery_item2_bg.png",sizeGrid:"23,76,31,60",height:240},compId:17},{type:"Sprite",props:{y:3,x:66,texture:"image/pop/lottery/money_bg.png"},compId:19,child:[{type:"SkeletonPlayer",props:{y:156,x:165,url:"image/pop/lottery/exchange_item_light.sk",scaleY:-1,runtime:"Laya.Skeleton"},compId:24},{type:"SkeletonPlayer",props:{y:86,x:165,url:"image/pop/lottery/exchange_item_light.sk",runtime:"Laya.Skeleton"},compId:13},{type:"Sprite",props:{y:58,x:109,texture:"image/pop/lottery/lottery_item2_nbg.png"},compId:4},{type:"Box",props:{y:81,width:210,height:71,centerX:-1},compId:18,child:[{type:"Label",props:{y:15,x:-33,width:145,var:"num_label",valign:"middle",text:"1000",strokeColor:"#692315",stroke:2,pivotY:15,pivotX:73,height:30,fontSize:36,font:"lottery",color:"#f4e090",centerX:0,bold:!0,align:"center"},compId:10},{type:"Label",props:{y:69,x:0,width:155,var:"item_type",valign:"middle",text:"BTC",strokeColor:"#692315",stroke:2,pivotY:30,pivotX:73,height:30,fontSize:36,font:"alphabet",color:"#f4e090",centerX:0,bold:!0,align:"center"},compId:26}]}]},{type:"Box",props:{y:59,x:391,width:475,height:133},compId:25,child:[{type:"Button",props:{y:74,x:168,var:"btn_buy",stateNum:1,skin:"image/pop/lottery/btn_lottery_bug.png"},compId:5,child:[{type:"Label",props:{y:12,x:65,width:51,var:"price_label",text:"500",height:24,fontSize:24,color:"#174c7d",bold:!0,align:"right"},compId:7},{type:"Image",props:{y:7.5,x:22,width:45,var:"price_tag",skin:"image/pop/lottery/tag_bg.png",height:33},compId:22,child:[{type:"Image",props:{y:5,x:13.5,width:20,var:"coin_icon",skin:"image/pop/lottery/tag_coin_bg.png",height:20},compId:23}]}]},{type:"Image",props:{y:0,x:97,width:280,skin:"image/pop/lottery/remain_bg.png",sizeGrid:"10,21,10,23",height:43},compId:21,child:[{type:"Label",props:{y:10,x:7,width:266,var:"remain_label",valign:"middle",text:"剩余: 10/20",height:22,fontSize:24,color:"#fdf3cf",bold:!0,align:"center"},compId:8}]}]}],loadList:["image/pop/lottery/lottery_item2_bg.png","image/pop/lottery/money_bg.png","image/pop/lottery/exchange_item_light.sk","image/pop/lottery/lottery_item2_nbg.png","image/pop/lottery/btn_lottery_bug.png","image/pop/lottery/tag_bg.png","image/pop/lottery/tag_coin_bg.png","image/pop/lottery/remain_bg.png"],loadList3D:[]},e.item2oneUI=a,L("ui.pop.lottery.item2oneUI",a);var i=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[y.Button,v.Label,_.Image,g.Sprite,p.Box],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/lottery/item2two")}}]),n}(d.Scene);e.item2twoUI=i,L("ui.pop.lottery.item2twoUI",i);var c=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,_.Image,S.List,y.Button,v.Label,w.ProgressBar,m.Dialog,g.Sprite],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/lottery/lottery")}}]),n}(m.Dialog);e.lotteryUI=c,L("ui.pop.lottery.lotteryUI",c);var h=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[g.Sprite,v.Label,k.HTMLDivElement,y.Button,m.Dialog],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/lottery/reward")}}]),n}(m.Dialog);e.rewardUI=h,L("ui.pop.lottery.rewardUI",h)}(e.lottery||(e.lottery={}))}(e.pop||(e.pop={}))}(B||(t.ui=B={})),function(e){!function(e){!function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,v.Label,S.List,y.Button,g.Sprite,m.Dialog,_.Image],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/record/arenaRewardRecord")}}]),n}(m.Dialog);e.arenaRewardRecordUI=t,L("ui.pop.record.arenaRewardRecordUI",t);var n=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[S.List,C.View,_.Image,g.Sprite,p.Box,v.Label],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/record/coinMenu")}}]),n}(C.View);e.coinMenuUI=n,L("ui.pop.record.coinMenuUI",n);var r=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[S.List,C.View,_.Image,g.Sprite,p.Box,v.Label],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/record/dateMenu")}}]),n}(C.View);e.dateMenuUI=r,L("ui.pop.record.dateMenuUI",r);var a=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,v.Label,S.List,y.Button,g.Sprite,m.Dialog,_.Image],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/record/gameRecord")}}]),n}(m.Dialog);e.gameRecordUI=a,L("ui.pop.record.gameRecordUI",a);var i=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[S.List,C.View,_.Image,g.Sprite,p.Box,v.Label],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/record/itemMenu")}}]),n}(C.View);e.itemMenuUI=i,L("ui.pop.record.itemMenuUI",i);var c=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,v.Label,S.List,y.Button,g.Sprite,m.Dialog,_.Image],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/record/itemRecord")}}]),n}(m.Dialog);e.itemRecordUI=c,L("ui.pop.record.itemRecordUI",c);var h=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[v.Label,_.Image,g.Sprite],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/record/selectCoinBox")}}]),n}(d.Scene);e.selectCoinBoxUI=h,L("ui.pop.record.selectCoinBoxUI",h);var k=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[v.Label,g.Sprite],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/record/selectItemBox")}}]),n}(d.Scene);e.selectItemBoxUI=k,L("ui.pop.record.selectItemBoxUI",k)}(e.record||(e.record={}))}(e.pop||(e.pop={}))}(B||(t.ui=B={})),function(e){!function(e){!function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,_.Image,S.List,v.Label,m.Dialog,g.Sprite,y.Button],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/shop/arenaShop")}}]),n}(m.Dialog);e.arenaShopUI=t,L("ui.pop.shop.arenaShopUI",t);var n=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[g.Sprite,_.Image,v.Label,I.ViewStack,y.Button,p.Box],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/shop/arenaShopGunItem")}}]),n}(d.Scene);e.arenaShopGunItemUI=n,L("ui.pop.shop.arenaShopGunItemUI",n);var r=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,_.Image,S.List,v.Label,m.Dialog,g.Sprite,y.Button],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/shop/shop")}}]),n}(m.Dialog);e.shopUI=r,L("ui.pop.shop.shopUI",r);var a=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[g.Sprite,_.Image,v.Label,I.ViewStack,y.Button,p.Box],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/shop/shopGunItem")}}]),n}(d.Scene);e.shopGunItemUI=a,L("ui.pop.shop.shopGunItemUI",a);var i=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[g.Sprite,_.Image,v.Label,y.Button],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/shop/shopItemItem")}}]),n}(d.Scene);e.shopItemItemUI=i,L("ui.pop.shop.shopItemItemUI",i)}(e.shop||(e.shop={}))}(e.pop||(e.pop={}))}(B||(t.ui=B={})),function(e){!function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[C.View],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/test")}}]),n}(C.View);e.testUI=t,L("ui.pop.testUI",t)}(e.pop||(e.pop={}))}(B||(t.ui=B={})),function(e){!function(e){!function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,_.Image,T.Skeleton,y.Button,v.Label,g.Sprite],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/arena/game")}}]),n}(d.Scene);e.gameUI=t,L("ui.scenes.arena.gameUI",t);var n=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,g.Sprite,_.Image,T.Skeleton,C.View],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/arena/skillBox")}}]),n}(C.View);e.skillBoxUI=n,L("ui.scenes.arena.skillBoxUI",n)}(e.arena||(e.arena={}))}(e.scenes||(e.scenes={}))}(B||(t.ui=B={})),function(e){!function(e){!function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,_.Image,T.Skeleton,y.Button,v.Label,k.HTMLDivElement],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/game/game")}}]),n}(d.Scene);e.gameUI=t,L("ui.scenes.game.gameUI",t);var n=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,T.Skeleton,_.Image,v.Label,y.Button,C.View],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.createView(n.uiView)}}]),n}(C.View);n.uiView={type:"View",props:{y:111,x:111,width:223,runtime:"view/scenes/game/gunBoxView.ts",mouseThrough:!0,mouseEnabled:!0,height:223,anchorY:.5,anchorX:.5},compId:2,child:[{type:"Box",props:{y:114,x:111,width:149,var:"ani_box",pivotY:77.5,pivotX:74,height:149},compId:7,child:[{type:"Box",props:{y:77.5,x:74,width:59,var:"gun_box",height:45},compId:8,child:[{type:"SkeletonPlayer",props:{var:"base",url:"ani/gun/base11.sk",runtime:"Laya.Skeleton"},compId:9},{type:"SkeletonPlayer",props:{var:"gun",url:"ani/gun/gun11.sk",runtime:"Laya.Skeleton"},compId:10},{type:"SkeletonPlayer",props:{y:0,x:0,var:"light",url:"ani/gun/light11.sk",runtime:"Laya.Skeleton"},compId:11},{type:"SkeletonPlayer",props:{y:0,x:0,var:"body",url:"ani/gun/light11.sk",runtime:"Laya.Skeleton"},compId:18}]}]},{type:"Box",props:{y:142,x:110,width:177,var:"ctrl_wrap",height:51,anchorY:.5,anchorX:.5},compId:22,child:[{type:"Image",props:{y:26,x:88,width:120,var:"score_box",skin:"image/game/time_bg.png",sizeGrid:"0,20,0,22",height:48,anchorY:.5,anchorX:.5},compId:13,child:[{type:"Label",props:{y:2,x:0,width:120,var:"score_label",valign:"middle",text:"100",height:44,font:"score_num",align:"center"},compId:14}]},{type:"Box",props:{y:0,x:0,visible:!1,var:"ctrl_box"},compId:23,child:[{type:"Button",props:{y:0,x:121,var:"btn_add",stateNum:1,skin:"image/game/btn_add.png"},compId:15},{type:"Button",props:{y:0,x:9,var:"btn_minus",stateNum:1,skin:"image/game/btn_minus.png",left:9},compId:16}]}]}],loadList:["ani/gun/base11.sk","ani/gun/gun11.sk","ani/gun/light11.sk","image/game/time_bg.png","image/game/btn_add.png","image/game/btn_minus.png"],loadList3D:[]},e.gunBoxUI=n,L("ui.scenes.game.gunBoxUI",n);var r=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[g.Sprite,p.Box,_.Image,T.Skeleton,C.View],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/game/skillBox")}}]),n}(C.View);e.skillBoxUI=r,L("ui.scenes.game.skillBoxUI",r);var a=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[_.Image,g.Sprite,v.Label,T.Skeleton,C.View],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.createView(n.uiView)}}]),n}(C.View);a.uiView={type:"View",props:{width:94,runtime:"view/scenes/game/skillItemView.ts",mouseThrough:!1,mouseEnabled:!0,height:96},compId:2,child:[{type:"Sprite",props:{y:48,x:47,width:94,texture:"image/game/skill_bg.png",pivotY:48,pivotX:47,height:96},compId:3},{type:"Image",props:{y:7,x:8,width:80,var:"skill_icon",skin:"image/game/skill_aim.png",height:80},compId:7},{type:"Sprite",props:{y:8,x:8,width:81,var:"overlay",texture:"image/game/skill_overlay.png",height:79},compId:6},{type:"Label",props:{y:59,x:8,width:78,var:"num_label",valign:"middle",text:"0",strokeColor:"#000",stroke:3,height:28,fontSize:24,color:"#ffffff",bold:!0,align:"right"},compId:5},{type:"SkeletonPlayer",props:{y:48,x:49,width:100,visible:!1,var:"border_light",url:"ani/other/skill_border_light.sk",height:100,runtime:"Laya.Skeleton"},compId:8},{type:"Label",props:{y:8,x:9,width:78,visible:!1,var:"shortcut_label",valign:"middle",text:"0",strokeColor:"#000",stroke:3,height:28,fontSize:24,color:"#ffffff",bold:!0,align:"left"},compId:9}],loadList:["image/game/skill_bg.png","image/game/skill_aim.png","image/game/skill_overlay.png","ani/other/skill_border_light.sk"],loadList3D:[]},e.skillItemUI=a,L("ui.scenes.game.skillItemUI",a)}(e.game||(e.game={}))}(e.scenes||(e.scenes={}))}(B||(t.ui=B={})),function(e){!function(e){!function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[_.Image,S.List,C.View,g.Sprite,p.Box,v.Label],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/hall/coinMenu")}}]),n}(C.View);e.coinMenuUI=t,L("ui.scenes.hall.coinMenuUI",t);var n=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[_.Image,S.List,C.View,g.Sprite,p.Box],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/hall/flagMenu")}}]),n}(C.View);e.flagMenuUI=n,L("ui.scenes.hall.flagMenuUI",n);var r=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[g.Sprite,p.Box,v.Label,y.Button,T.Skeleton,_.Image],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/hall/hall")}}]),n}(d.Scene);e.hallUI=r,L("ui.scenes.hall.hallUI",r);var a=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,v.Label,y.Button,_.Image,C.View,g.Sprite],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/hall/header")}}]),n}(C.View);e.headerUI=a,L("ui.scenes.hall.headerUI",a)}(e.hall||(e.hall={}))}(e.scenes||(e.scenes={}))}(B||(t.ui=B={})),function(e){!function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[w.ProgressBar,m.Dialog,g.Sprite,p.Box],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/loading")}}]),n}(m.Dialog);e.loadingUI=t,L("ui.scenes.loadingUI",t);var n=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[],e}return(0,u.default)(n,[{key:"createChildren",value:function(){(0,l.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/test")}}]),n}(d.Scene);e.testUI=n,L("ui.scenes.testUI",n)}(e.scenes||(e.scenes={}))}(B||(t.ui=B={}))},90564:function(e,t,n){"use strict";var r=n(66890),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(52424),c=n(63978),f=n(34074),d=n(8171);c(t,"__esModule",{value:!0}),t.blink=function(e,t){T({sprite:e,props_arr:[{alpha:1},{alpha:.3}],time:t||300})},t.buttonClick=function(e){T({sprite:e,props_arr:[{scaleX:1,scaleY:1},{scaleX:.8,scaleY:.8},{scaleX:1,scaleY:1}],time:100,step_fn:function(e){return e>2}})},t.completeAni=L,t.countDown=function(e,t,n,r){return M({callback:r,caller:e,end_props:{x:0},start_props:{x:t},step:t+1,step_fun:function(e){n(Math.floor(e.x))},time:1e3*t})},t.fade_in=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return I(this,void 0,void 0,v.default.mark((function a(){var i,o;return v.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,L(e);case 2:return i={alpha:0,visible:!0},t=t||700,n=n||"circleOut",o={alpha:r},a.abrupt("return",A({ease_fn:n,end_props:o,sprite:e,start_props:i,time:t}).then((function(){e.destroyed||(e.visible=!0,e.alpha=1)})));case 7:case"end":return a.stop()}}),a)})))},t.fade_out=function(e,t,n){return I(this,void 0,void 0,v.default.mark((function r(){var a;return v.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,L(e);case 2:return t=t||700,n=n||"circleOut",a={alpha:0},r.abrupt("return",A({ease_fn:n,end_props:a,sprite:e,time:t}).then((function(){e.destroyed||(e.visible=!1,e.alpha=1)})));case 6:case"end":return r.stop()}}),r)})))},t.move=function(e,t,n,r,a){return I(this,void 0,void 0,v.default.mark((function i(){return v.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,L(e);case 2:return E(e,t),i.abrupt("return",A({sprite:e,end_props:n,time:r,ease_fn:a}));case 4:case"end":return i.stop()}}),i)})))},t.rotate=function(e,t,n,r){var a=Number(e.rotation);a!=a&&(e.rotation=0);return A({sprite:e,end_props:{rotation:t},time:n,ease_fn:r})},t.scale_in=function(e,t,n){return I(this,void 0,void 0,v.default.mark((function r(){var a,i;return v.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,L(e);case 2:return n=n||"circleIn",t=t||400,a={alpha:.2,scaleX:.2,scaleY:.2,visible:!0},i={alpha:1,scaleX:1,scaleY:1},r.abrupt("return",A({sprite:e,start_props:a,end_props:i,time:t,ease_fn:n}));case 7:case"end":return r.stop()}}),r)})))},t.scale_out=function(e,t,n){return I(this,void 0,void 0,v.default.mark((function r(){var a;return v.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,L(e);case 2:return n=n||"circleIn",t=t||400,a={alpha:.2,scaleX:.2,scaleY:.2},r.abrupt("return",A({sprite:e,end_props:a,time:t,ease_fn:n}).then((function(){e.destroyed||E(e,{visible:!1,scaleX:1,scaleY:1,alpha:1})})));case 6:case"end":return r.stop()}}),r)})))},t.setStyle=E,t.sleep=function(e){return new p.default((function(t,n){(0,y.default)((function(){t(e)}),1e3*e)}))},t.slide_down_in=function(e,t,n,r){return I(this,void 0,void 0,v.default.mark((function a(){var i,o,u,l;return v.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r||(i=e.getBounds().height,r=i>50?50:i),a.next=3,L(e);case 3:return n=n||"circleOut",t=t||200,E(e,{alpha:.2,visible:!0}),o=e.y,u={y:o-r},l={alpha:1,y:o},a.next=11,A({sprite:e,start_props:u,end_props:l,time:t,ease_fn:n});case 11:case"end":return a.stop()}}),a)})))},t.slide_down_out=function(e,t,n,r){return I(this,void 0,void 0,v.default.mark((function a(){var i;return v.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r||(i=e.getBounds().height,r=i>50?50:i),a.next=3,L(e);case 3:return a.abrupt("return",new p.default((function(a,i){(0,y.default)((function(){n=n||"circleIn",t=t||200;var i=e.y;return A({sprite:e,end_props:{alpha:0,y:i+r},time:t,ease_fn:n}).then((function(){e.destroyed||(E(e,{visible:!1,alpha:1,y:i}),a(void 0))}))}))})));case 4:case"end":return a.stop()}}),a)})))},t.slide_left_in=function(e,t,n,r){return I(this,void 0,void 0,v.default.mark((function a(){var i,o,u,l;return v.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r||(i=e.getBounds().width,r=i>50?50:i),a.next=3,L(e);case 3:return n=n||"easeIn",t=t||200,E(e,{alpha:.2,visible:!0}),o=e.x,u={x:o+r},l={alpha:1,x:o},a.abrupt("return",A({sprite:e,start_props:u,end_props:l,time:t,ease_fn:n}));case 10:case"end":return a.stop()}}),a)})))},t.slide_left_out=function(e,t,n,r){return I(this,void 0,void 0,v.default.mark((function a(){var i,o,u;return v.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r||(i=e.getBounds().width,r=i>50?50:i),a.next=3,L(e);case 3:return n=n||"circleIn",t=t||200,o=e.x,u={alpha:0,x:o+r},a.abrupt("return",A({sprite:e,end_props:u,time:t,ease_fn:n}).then((function(){e.destroyed||(e.visible=!1,e.alpha=1,e.x=o)})));case 8:case"end":return a.stop()}}),a)})))},t.slide_right_in=function(e,t,n,r){return I(this,void 0,void 0,v.default.mark((function a(){var i,o,u,l;return v.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r||(i=e.getBounds().width,r=i>50?50:i),a.next=3,L(e);case 3:return n=n||"circleOut",t=t||200,E(e,{alpha:.2,visible:!0}),o=e.x,u={x:o-r},l={alpha:1,x:o},a.abrupt("return",A({sprite:e,start_props:u,end_props:l,time:t,ease_fn:n}));case 10:case"end":return a.stop()}}),a)})))},t.slide_right_out=function(e,t,n,r){return I(this,void 0,void 0,v.default.mark((function a(){var i,o,u;return v.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r||(i=e.getBounds().width,r=i>50?50:i),a.next=3,L(e);case 3:return n=n||"circleIn",t=t||200,o=e.x,u={alpha:0,x:o-r},a.abrupt("return",A({sprite:e,end_props:u,time:t,ease_fn:n}).then((function(){e.destroyed||(e.visible=!1,e.alpha=1,e.x=o)})));case 8:case"end":return a.stop()}}),a)})))},t.slide_up_in=function(e,t,n,r){return I(this,void 0,void 0,v.default.mark((function a(){var i,o,u,l;return v.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r||(i=e.getBounds().height,r=i>50?50:i),a.next=3,L(e);case 3:return n=n||"circleOut",t=t||200,E(e,{alpha:.2,visible:!0}),o=e.y,u={y:o+r},l={alpha:1,y:o},a.abrupt("return",A({sprite:e,start_props:u,end_props:l,time:t,ease_fn:n}));case 10:case"end":return a.stop()}}),a)})))},t.slide_up_out=function(e,t,n,r){return I(this,void 0,void 0,v.default.mark((function a(){var i,o,u;return v.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r||(i=e.getBounds().height,r=i>50?50:i),a.next=3,L(e);case 3:return n=n||"circleIn",t=t||200,o=e.y,u={alpha:1,y:o-r},a.next=9,A({sprite:e,end_props:u,time:t,ease_fn:n}).then((function(){e.destroyed||E(e,{visible:!1,alpha:1,y:o})}));case 9:case"end":return a.stop()}}),a)})))},t.stepAni=function(e){var t,n=e.props_arr,r=e.time,a=void 0===r?300:r,i=e.loop,o=void 0===i||i,u=e.step_fn,l=n.length,s=!1;return function(){I(this,void 0,void 0,v.default.mark((function e(){var r,i,c;return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=v.default.mark((function e(r){return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=3;break}return i=r,e.abrupt("return",{v:void 0});case 3:return e.next=5,new p.default((function(e,i){t=(0,y.default)((function(){u(n[r]),e(void 0)}),a)}));case 5:o&&r>=l-1&&(r=-1),i=r;case 7:case"end":return e.stop()}}),e)})),i=0;case 2:if(!(i<l)){e.next=10;break}return e.delegateYield(r(i),"t0",4);case 4:if(c=e.t0,"object"!==(0,h.default)(c)){e.next=7;break}return e.abrupt("return",c.v);case 7:i++,e.next=2;break;case 10:case"end":return e.stop()}}),e)})))}(),function(){clearTimeout(t),s=!0}},t.stopAni=B,t.tween=A,t.tweenLoop=T,t.tweenProps=void 0;var h=d(n(66890)),v=d(n(66329)),p=d(n(93476)),y=d(n(33032)),m=d(n(86902)),g=d(n(92762)),_=n(45840),k=n(41107),b=n(84221),w=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},i=c&&f;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=i?f(e,o):null;u&&(u.get||u.set)?c(a,o,u):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(99310));function S(e){if("function"!=typeof s)return null;var t=new s,n=new s;return(S=function(e){return e?n:t})(e)}function C(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return x(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=function(e,t,n,r){return new(n||(n=p.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))};function A(e){return I(this,void 0,void 0,v.default.mark((function t(){var n,r,a,i,o,u,l;return v.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.sprite,r=e.start_props,a=e.end_props,!n.destroyed){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,L(n);case 5:if(i=e.ease_fn,o=e.time,u=new b.Tween,"string"==typeof(i=i||_.Ease.linearNone)&&(i=_.Ease[i]),E(n,r),0!==o&&!n.is_stop){t.next=14;break}return E(n,a),t.abrupt("return");case 14:for(l in o=o||300,a)n[l]===a[l]&&delete a[l];if((0,m.default)(a).length){t.next=18;break}return t.abrupt("return");case 18:return t.abrupt("return",new p.default((function(e,t){n.tween=u.to(n,a,o,i,k.Handler.create(n,(function(){n.destroyed?t(void 0):e(void 0)})))})));case 19:case"end":return t.stop()}}),t)})))}function E(e,t){if(t)for(var n in t)e[n]=t[n]}function T(e){var t=e.sprite,n=e.props_arr,r=e.time,a=e.ease_fn,i=e.is_jump,o=e.end_jump,u=e.step_fn,l=n.length,s=0,c=0;B(t),function e(){if(!t.destroyed){if(i)!function(e,t,n){new p.default((function(r,a){(0,y.default)((function(){E(e,t),r(void 0)}),n)}))}(t,n[s],r);else{var f=s+1;f>=l&&(o?(s=0,f=1):f=0);var d=n[s],h=n[f];A({ease_fn:a,end_props:h,sprite:t,start_props:d,time:r}).then((function(){(null==u?void 0:u(c))||(0,y.default)(e,0)}))}s++,c++,s>=l&&(s=0)}}()}var M=function(){var e=[];function t(e,t,n){return e+(t-e)*n}function n(t,n){for(var r=e.length-1;r>=0;r--){var a=e[r].caller,i=e[r].off,o=e[r].callback;a===t&&(n&&o&&"function"==typeof o&&o(),i&&"function"==typeof i&&i(),(0,g.default)(e).call(e,r,1))}}return function(r){var a,i=r.callback,o=r.caller,u=r.start_props,l=r.end_props,s=r.time,c=r.time_fun,f=r.step_fun,d=r.step,h=d?s/d:1e3/60,v=s/h;if("string"==typeof c&&(a=_.Ease[c]),a||(a=_.Ease.linearNone),n(o,!0),!u){u={};for(var p=0,y=(0,m.default)(l);p<y.length;p++){var g=y[p];u[g]=o[g]||0}}for(var k=[],b=0,S=(0,m.default)(l);b<S.length;b++){var x=S[b];u[x]!==l[x]&&k.push(x)}if(0!==k.length){var I=w.loop(E,h);e.push({callback:i,caller:o,off:I,step_fun:f});var A=0;return E(1),function(e){n(o,e)}}function E(e){if(o.destroyed||o.is_stop)return n(o);if(A>=v)return n(o,!0);var r={},i=A/v;if(c||(i=a(i,0,1,1)),A>=v){var s,d=C(k);try{for(d.s();!(s=d.n()).done;){var h=s.value;r[h]=l[h]}}catch(e){d.e(e)}finally{d.f()}}else{var p,y=C(k);try{for(y.s();!(p=y.n()).done;){var m=p.value;r[m]=t(u[m],l[m],i)}}catch(e){y.e(e)}finally{y.f()}}if("function"==typeof f)f(r,e);else for(var g in r)r[g]=t(u[g],l[g],i);A+=e}i&&"function"==typeof i&&i()}}();function B(e){if(e)return"function"==typeof e?e():e.time_out?clearTimeout(e.time_out):void(e.tween&&(e.tween.complete(),e.tween.clear()))}function L(e){return new p.default((function(t,n){e&&(e.tween&&(e.tween.complete(),e.tween.clear(),e.tween=void 0),(0,y.default)((function(){t(void 0)})))}))}t.tweenProps=M},44517:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.asyncOnly=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new o.default((function(r,a){var i=c.get(e);if(!i){var o=t();n||(o=o.then((function(t){return c.delete(e),t})).catch((function(t){throw c.delete(e),t}))),i={wait:o,reject:a,resolve:r},c.set(e,i)}i.wait.then((function(e){r(e)})).catch((function(e){a(e)}))}))},t.asyncQue=function(e,t){return new o.default((function(n,r){var a=l.get(e);a||(a={is_running:!1,que:[]},l.set(e,a));var i,o,u=a,c=u.que,f=u.is_running;o={async_fn:t,resolve:n,reject:r},(i=c).length?i[i.length-1]=o:i.push(o),f||s(e)}))},t.clearAsyncOnly=function(e){var t=c.get(e);if(!t)return;(0,u.default)((function(){var n=t.reject;c.delete(e),n("Async Only be rejected")}))},t.clearAsyncQue=function(e){var t=l.get(e),n=t.que.length;if(!t)return;if(0!==n){(0,t.que[n-1].resolve)(!0)}t.que=[],t.is_running=!1};var i=a(n(39392)),o=a(n(93476)),u=a(n(33032)),l=new i.default;function s(e){var t=l.get(e),n=t.que;if(n.length){t.is_running=!0;var r=n.shift();r.async_fn().then((function(){r.resolve(0===n.length),s(e)})).catch((function(){r.reject(0===n.length),s(e)}))}else t.is_running=!1}var c=new i.default},51720:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.BgMonitorEvent=t.BgMonitor=void 0;var i=a(n(31581)),o=a(n(15375)),u=a(n(17061)),l=n(38182),s=n(24629),c={VisibleChange:"VisibleChange"};t.BgMonitorEvent=c;var f=function(){function e(){var t=this;(0,o.default)(this,e),this.event=new l.EventCom,this.visibilityChange=function(){var e=document.visibilityState;"hidden"===e&&t.emitEvent(!1),"visible"===e&&t.emitEvent(!0)},this.init()}return(0,u.default)(e,[{key:"init",value:function(){var e=this;if(null===document||void 0===document?void 0:document.visibilityState)return document.addEventListener("visibilitychange",this.visibilityChange);var t=s.Laya.Browser,n=t.now();if(t.onAndroid){var r=0;this.interval=(0,i.default)((function(){var a=t.now();a-n>1e3&&(r>1?(clearInterval(e.interval),e.emitEvent(!1)):r+=1),n=a}),300)}else this.interval=(0,i.default)((function(){var r=t.now();r-n>1e3&&(clearInterval(e.interval),e.emitEvent(!1)),n=r}),300)}},{key:"emitEvent",value:function(e){this.event.emit(c.VisibleChange,e)}}]),e}();t.BgMonitor=f},45359:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.clearCount=s,t.startCount=function(e,t,n){var r=u++,a=e/t,i=0,c=function(e){if((i+=e)>=a)return n(0),s(r);n((a-i)/a)};(0,o.loop)(c,1e3*t,null);return n(1),l.set(r,{off:function(){(0,o.clear)(c,null)},complete:function(){n(0)}}),r};var i=a(n(39392)),o=n(99310),u=0,l=new i.default;function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=l.get(e);n&&(n.off(),l.delete(e),l.size,t&&n.complete())}},64467:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t.createGunBox=function(e){var t=new v.Box,n=new v.Box;t.size(149,149),n.pos(74,77),t.addChild(n);var r=(0,h.createSkeleton)("ani/gun/gun".concat(e,"/base")),a=(0,h.createSkeleton)("ani/gun/gun".concat(e,"/light")),i=(0,h.createSkeleton)("ani/gun/gun".concat(e,"/gun"));n.addChildren(r,a,i)},t.createSprite=function(e,t){var n,r=S(e,t),a=r.type,i=r.path,o=r.pivot||{x:0,y:0};if("DragonBone"===a)n=(0,h.createSkeleton)(i);else if("Frame"===a)n=(0,h.createAnimation)(i);else if(n=(0,h.createImg)(i),!o.x&&!o.y){var u=n.getBounds();o={x:u.width/2,y:u.height/2}}return n.pivot(o.x,o.y),n},t.getBulletStartPos=function(e,t,n,r){var a,i=p.Coordinates.bullet_offset[r],o=[],u=n.clone().normalize().scale(30,30),l=n.clone().normalize().rotate(Math.PI/2),s=k(i);try{for(s.s();!(a=s.n()).done;){var c=a.value,f=l.clone().scale(c,c),h=e,v=w(h,t),y=p.Coordinates.guns_inside_pos.origin_point,m=p.Coordinates.guns_inside_pos.start_point,g=void 0,b=void 0;h<=1?(g=m.x-y.x,b=m.y-y.y):(g=y.x-m.x,b=y.y-m.y);var S=new d.default.Vector(g,b),C=void 0;C=h<=1?(0,_.vectorToAngle)(n)+Math.PI/2:(0,_.vectorToAngle)(n)-Math.PI/2,S=S.rotate(C),g=v.x+S.x+f.x+u.x,b=v.y+S.y+f.y+u.y,o.push({x:g,y:b})}}catch(e){s.e(e)}finally{s.f()}return o},t.getGunLevelSkinInfo=function(e){for(var t=y.GunInfo.LevelUp,n=y.GunInfo.HoleNum,r=0;r<t.length;r++){var a=t[r];if(e<a)return{level_skin:"".concat(r+1),hole_num:n[r]}}return{level_skin:"".concat(3),hole_num:n[2]}},t.getGunPos=w,t.getGunSkinMap=function(e,t){var n,r=g.SPRITE.gun[e],a=new c.default,i=k(r);try{for(i.s();!(n=i.n()).done;){var o,u=n.value;if("body"===u&&"5"===e)a.set(u,"".concat(e));else a.set(u,(0,f.default)(o="".concat(e)).call(o,t))}}catch(e){i.e(e)}finally{i.f()}return a},t.getShadowInfo=function(e){return p.Coordinates.shadowPos[e]||p.Coordinates.shadowPos.default},t.getShapeInfo=function(e,t){var n=m.SHAPE[e][t]||m.SHAPE[e][1]||m.SHAPE[e];n.as&&(n=g.SPRITE[e][n.as]);return n},t.getSpriteInfo=S,t.isBombFish=function(e){return"9"===e.type};var c=s(n(39392)),f=s(n(77766)),d=s(n(86116)),h=n(6893),v=n(93408),p=n(70555),y=n(46665),m=n(70430),g=n(53531),_=n(54049);function k(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return b(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return b(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return 2===t?p.Coordinates.grand_prix_gun_global_pos[e]:p.Coordinates.gun_global_pos[e]}function S(e,t){var n=g.SPRITE[e][t];return n.as&&(n=g.SPRITE[e][n.as]),n}},3735:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.formatDateRange=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM/DD",r=(0,u.default)(e[0]).utc().format(n),a=(0,u.default)(e[1]).utc().format(n);return(0,i.default)(t="".concat(r,"-")).call(t,a)},t.formatDateTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY/MM/DD";return(0,u.default)(e).format(t)},t.formatUTC0DateTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY/MM/DD";return(0,u.default)(e).utc().format(t)},t.getMonthDateList=function(){for(var e=(0,o.default)(),t=[],n=1;n<=30;n++){var r=(0,u.default)(e).subtract(n,"day");t.push(r)}return t};var i=a(n(77766)),o=a(n(11128)),u=a(n(71276)),l=a(n(30623));u.default.extend(l.default)},93774:function(e,t,n){"use strict";var r=n(66890),a=n(52424),i=n(63978),o=n(34074),u=n(8171);i(t,"__esModule",{value:!0}),t.Displace=void 0;var l=u(n(97093)),s=u(n(15375)),c=u(n(17061)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},u=i&&o;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=u?o(e,l):null;s&&(s.get||s.set)?i(a,l,s):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(86116)),d=n(42146);function h(e){if("function"!=typeof a)return null;var t=new a,n=new a;return(h=function(e){return e?n:t})(e)}var v=function(){function e(t,n,r,a){(0,s.default)(this,e),this.curve_list=[],this.cur_curve_info={},this.is_reverse=!1,this.total_frame=(0,d.timeToFrame)(t),this.used_frame=(0,d.timeToFrame)(n),this.curve_list=r,this.is_reverse=a}return(0,c.default)(e,[{key:"update",value:function(e){var t=this.is_reverse,n=(this.used_frame=this.used_frame+e)/this.total_frame,r=!1;if(this.radio=n,n<=0)return{visible:!1};if(n>=1)return{is_complete:r=!0};t&&(n=1-n);var a=this.getPointAtRadio(n),i=a.position,o=a.direction;return t&&(o=(0,l.default)(o).call(o)),{visible:!0,pos:i,velocity:o,is_complete:r}}},{key:"getPointAtRadio",value:function(e){var t=this.calcCurCurveInfo(e),n=t.curve,r=t.radio_in_curve,a=t.index,i=n.curve.get(r),o=n.curve.derivative(r);if(n.curve.is_static){var u,l,s=this.curve_list;a-1>=0?(u=s[a-1].curve,l=1):(u=s[a+1].curve,l=0),o=u.derivative(l)}return{position:i,direction:new f.Vector(o.x,o.y)}}},{key:"calcCurCurveInfo",value:function(e){var t=this.cur_curve_info,n=this.curve_list,r=this.is_reverse,a=t.end_radio,i=t.start_radio,o=0;if(!r&&a&&e<a||r&&i&&e>i)return o=(e-i)/(a-i),t.radio_in_curve=o,t;for(var u,l,s=0,c=0;c<n.length;c++)if(!(e>(l=n[c]).radio)){0===(s=c)?(u=0,o=e/l.radio):o=(e-(u=n[c-1].radio))/(l.radio-u);break}return t.radio_in_curve=o,t.index=s,t.start_radio=u,t.end_radio=l.radio,t.curve=l,t}}]),e}();t.Displace=v},42146:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.calcFixLen=g,t.calcNormalLen=m,t.createBezier=w,t.createCurvesByFun=k,t.createCurvesByPath=_,t.createFishDisplace=function(e){var t,n=e.fishId,r=e.displaceType,a=e.pathNo,o=e.pathList,u=e.usedTime,l=e.totalTime,c=(0,i.default)(e),h=e.funList,v=e.displaceLen;if("path"===r){var p;if(a?p=s.PATH[a]:o&&(p=o),!p)return void(0,f.error)("cant find path for no:".concat(a));t=_(p,n)}else t=k(h,n,v);return new d.Displace(l/1e3,u/1e3,t,c)},t.createLine=S,t.createOffsetLine=b,t.createSpace=y,t.getLineOutPoint=p,t.timeToFrame=function(e){return Math.ceil(60*e)};var i=a(n(97093)),o=n(54771),u=a(n(86116)),l=a(n(11369)),s=n(47291),c=n(64467),f=n(55161),d=n(93774),h=n(71447),v=n(47589);function p(e,t){var n,r=0;(n=r-e.x)*t.x<0&&(n=(r=l.default.width)-e.x);var a,i,o,u=n*t.y/t.x+e.y,s=r*r+u*u;return(o=i-e.y)*t.y<0&&(o=(i=l.default.height)-e.y),s<(a=o*t.x/t.y+e.x)*a+i*i?{x:r,y:u}:{x:a,y:i}}function y(e,t,n,r){var a,o,l=(0,c.getSpriteInfo)("fish",r),s=l.ani_type;if(l.offset&&"horizon_turn"===s){var f=g(t,r);a=f.fish_len,o=f.derivative}else a=m(e,r),o=new u.default.Vector(n.x,n.y).normalize(),"before"===e&&(o=(0,i.default)(o).call(o));var d=o.scale(a,a),h={x:t.x+d.x,y:t.y+d.y};return{curve:"before"===e?new v.Line(h,t):new v.Line(t,h),length:a}}function m(e,t){var n=(0,c.getSpriteInfo)("fish",t).offset;return n||(0,f.error)("can't find fish sprite offset"),"before"===e?n[0]:n[2]}function g(e,t){var n,r,a=l.default.width,i=l.default.height,o=(0,c.getSpriteInfo)("fish",t);return e.y<=0?(n=Math.max(o.offset[0],o.offset[2]),r=new u.default.Vector(0,-1)):e.x>=a?(n=Math.max(o.offset[1],o.offset[3]),r=new u.default.Vector(1,0)):e.y>=i?(n=Math.max(o.offset[0],o.offset[2]),r=new u.default.Vector(0,1)):(n=Math.max(o.offset[1],o.offset[3]),r=new u.default.Vector(-1,0)),{fish_len:n,derivative:r}}function _(e,t){for(var n=[],r=0,a=0;a<e.length;a++){var i=void 0,o=void 0,u=e[a];if(u.length>=6)o=(i=w(u)).curve;else{if(4!==u.length)continue;o=(i=S(u)).curve}if(n.push(i),0===a){var l=y("before",o.get(0),o.derivative(0),t);n.unshift(l),r+=l.length}if(a===e.length-1){var s=y("after",o.get(1),o.derivative(1),t);n.push(s),r+=s.length}r+=i.length}for(var c=0,f=0,d=n;f<d.length;f++){var h=d[f];c+=h.length,h.radio=c/r}return n}function k(e,t,n){for(var r=0,a=[],i=0;i<e.length;i++){var o={},u=e[i],l=u.funNo,s=u.params,c=u.no_enter_leave,f=u.no_enter_leave,d=u.radio,v=h.FUNCTION[l].apply(this,s);o.curve=v;var p=n*d;if(p||"function"!=typeof v.length||(p=v.length(1)),o.length=p||1,r+=o.length,a.push(o),0===i&&!c){var m=y("before",v.get(0),v.derivative(0),t);a.unshift(m),r+=m.length}if(i===e.length-1){if(f){var g=b(o,"after");a.push(g),r+=g.length,v=g.curve}var _=y("after",v.get(1),v.derivative(1),t);a.push(_),r+=_.length}}for(var k=0,w=0,S=a;w<S.length;w++){var C=S[w];k+=C.length,C.radio=k/r}return a}function b(e,t){var n=0;"after"===t&&(n=1);var r=e.curve.get(n),a=e.curve.derivative(n),o=new u.default.Vector(a.x,a.y);"before"===t&&(o=(0,i.default)(o).call(o));var l=p(r,o),s=new v.Line(l,r);return"after"===t&&(s=new v.Line(r,l)),{curve:s,length:s.length(1)}}function w(e){var t=new o.Bezier(e);return{curve:t,length:t.length()}}function S(e){var t={x:e[0],y:e[1]},n={x:e[2],y:e[3]},r=new v.Line(t,n);return{curve:r,length:r.length(1)}}},71447:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.FUNCTION=void 0;var r=n(47589),a={1:function(e,t,n,r,a){var i=a[1]-a[0],o=1;return i<0&&(o=-1),{get:function(o){return{x:o=a[0]+o*i,y:e*Math.sin(r+t*o)+n}},derivative:function(n){return n=a[0]+n*i,{x:o,y:o*e*t*Math.cos(r+t*n)}}}},2:function(e,t,n){var r=n[1]-n[0],a=r>0?1:-1,i=Math.abs(r)*t,o={x:e.x-a*t,y:750},u=750-e.y,l=e.y,s=u+i+l,c=[0,u/s,(u+i)/s,1];return{get:function(a){for(var i=0,s=0;s<c.length&&!(a<c[s]);s++)i=s;return a=(a-c[i])/(c[i+1]-c[i]),0===i?{x:o.x,y:750-a*u}:1===i?(a=a*r+n[0],{x:e.x+Math.cos(a)*t,y:e.y+Math.sin(a)*t}):{x:o.x,y:l*(1-a)}},derivative:function(e){for(var t=0,i=0;i<c.length&&!(e<c[i]);i++)t=i;return e=(e-c[t])/(c[t+1]-c[t]),1!==t?{x:0,y:-1}:(e=e*r+n[0],{x:a*Math.cos(Math.PI/2+e),y:a*Math.sin(Math.PI/2+e)})}}},3:function(e,t){return new r.Line(e,t)},4:function(e,t,n){var r=n[1]-n[0],a=r>0?1:-1,i=667+e,o=375+t,u=333.5,l=187.5;return{get:function(e){return e=n[0]+e*r,{x:u*Math.cos(e)+i,y:l*Math.sin(e)+o}},derivative:function(e){return e=n[0]+e*r,{x:-a*u*Math.sin(e),y:a*l*Math.cos(e)}},length:function(e){return Math.abs(Math.ceil(e*(2*Math.PI*l+584)*r/(2*Math.PI)))}}}};t.FUNCTION=a},47589:function(e,t,n){"use strict";var r=n(66890),a=n(52424),i=n(63978),o=n(34074),u=n(8171);i(t,"__esModule",{value:!0}),t.Line=void 0;var l=u(n(15375)),s=u(n(17061)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},u=i&&o;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=u?o(e,l):null;s&&(s.get||s.set)?i(a,l,s):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(86116));function f(e){if("function"!=typeof a)return null;var t=new a,n=new a;return(f=function(e){return e?n:t})(e)}var d=function(){function e(t,n){(0,l.default)(this,e),this.is_static=!1,t.x===n.x&&t.y===n.y&&(this.is_static=!0,this.len=0,this.direction=new c.Vector(0,0));var r=t.x,a=t.y,i=n.x,o=n.y-a,u=i-r,s=Math.sqrt(u*u+o*o);this.start_pos=t,this.end_pos=n,this.direction=new c.Vector(u,o).normalize(),this.len=s}return(0,s.default)(e,[{key:"get",value:function(e){var t=e*this.len,n=this.direction.clone().scale(t,t),r=this.start_pos.x,a=this.start_pos.y;return{x:r+n.x,y:a+n.y}}},{key:"derivative",value:function(e){return this.direction}},{key:"length",value:function(e){return this.len}}]),e}();t.Line=d},10659:function(e,t,n){"use strict";var r=n(1068),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.KeyBoardNumber=void 0;var f=c(n(81643)),d=c(n(51942)),h=c(n(69301)),v=c(n(54103)),p=c(n(86902)),y=c(n(21003)),m=c(n(89395)),g=c(n(15375)),_=c(n(17061)),k=c(n(45408)),b=c(n(97709)),w=c(n(38191)),S=c(n(52305)),C=n(24629),x=n(78362),I=n(89662),A=n(93408),E=n(44476),T=n(96530),M=n(45840),B=n(84221);function L(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return P(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,S.default)(e);if(t){var i=(0,S.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,w.default)(this,n)}}var N={confirm:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAWlBMVEUAAADMQkLLQkLLQkL9Y2PLQkLLQkL9Y2PMQkL9Y2PLQkLLQkLdTk75YGD7YmL9Y2P2Xl77YmL9Y2P9Y2P9Y2PLQkL9Y2PLQkL3Xl7cTU3tWFj5YGDoVVXmVFTAQB7jAAAAFnRSTlMA4qyPiltUU9sGBvr59e3cyl/fplYHf9H6ogAAAJVJREFUKM/lzFkOhCAQRdEHCs5TD1WAuv9ttm00xii1Ae/vSS7Wis/7Ree6DHtZRzelm6Z0XyrpUvY/U7S2QNFSvAEDCfXoJW7QkBTooTzK7CR1CBIH1BLXyIX7qKB9nL2G4TmmMxuUiqd7nVh9Acvs3RWdZ7ZYSpjZB3eysCAnwOaXDgVsfsXcAnul0ao6qFLalCv8AOM4RjeBMUEAAAAAAElFTkSuQmCC",delete:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAb1BMVEUAAADLy8ttbGzMzMzMzMxtbGzMzMxtbGzMzMxtbGzMzMxubW3MzMxtbGxtbGyQj4/MzMxtbGxtbGzMzMzMzMzMzMzMzMzMzMzMzMxwb29tbGzMzMxtbGzBwcGtra2NjIy/vr6goKCPjo6kpKSko6Pen5mzAAAAG3RSTlMA/N2piVtVVAYGA+ParPr54ZSKW1Hz5OPf2quDrJY6AAAAqklEQVQoz9XPSQ6DMBBE0TKEeR4yum0Dyf3PGCARLLA76/ztk0oqrMWhfxNy65z7YYytPpeH8v6L6UlaO6Urz+rwRUPpLATiq5svMTrJ1MHn2EfNcQ3BsYBk+2P+8XvgWEFzrFFxXOGumO0MD+NmUyCg0aUjBUgyetn1SVkCRETG8m4wRBHmWiKatBI7CaUnImqxlDZkrUnxKfKO6EXYSoLCK3cqvSJIVngDsvlU0+yaOfMAAAAASUVORK5CYII=",number:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAeFBMVEUAAADGxsa3t7f///////////////////+3t7e3t7fo6Oi3t7fT09P///////+3t7e6urr///+3t7f///+3t7e3t7f///////////////+3t7e3t7f///+3t7fQ0ND29vb19fX7+/v39/fo6Ojh4eHe3t65ubm4uLiqIy5xAAAAHHRSTlMABeKJVQb64VtV/Prp5NvbrqysppSKW1Hz11xTZZ6wfwAAAKVJREFUKM/d00cSgzAQRNEWOefgIIkM97+hMbhwuUBzAP/tq1nMorFlGrlt8aPbPTdMHNURPxXVH2Q6v0xnG6+q8LcaXJkBmKGaQxMVJ6qQUpzCptiGRbEFTva/3FHaoaW4gUexh4DiAEmv1j6BI9UsH2DapNJJY4C7jNc6Li7WSiHbM7ZSlPsMCjHLofn5d5CzKBj2nrE4Fbs4Yk6m+V/ytczZT1+rJlhgr8lBXAAAAABJRU5ErkJggg=="},R=[{text:"1",skin:"number",x:20,y:15},{text:"2",skin:"number",x:280,y:15},{text:"3",skin:"number",x:545,y:15},{text:"4",skin:"number",x:20,y:125},{text:"5",skin:"number",x:280,y:125},{text:"6",skin:"number",x:545,y:125},{text:"7",skin:"number",x:20,y:235},{text:"8",skin:"number",x:280,y:235},{text:"9",skin:"number",x:545,y:235},{text:"0",skin:"number",x:810,y:15},{text:"00",skin:"number",x:810,y:125},{text:".",skin:"number",x:810,y:235},{text:"",skin:"confirm",x:1070,y:15},{text:"",skin:"delete",x:1070,y:235}],U=I.Event.CLICK,G={config:{caller:null,closeOnSide:!0,shadowAlpha:.3,shadowColor:"#000000",nullMsg:"输入的值不能为空",length:11,float:!1,fixed:4,delTxt:"删除",confirmTxt:"确定",input:function(e){},close:function(e,t){}}},D=function(e){(0,b.default)(n,e);var t=O(n);function n(){var e;return(0,g.default)(this,n),(e=t.call(this)).textValue="",e.firstInput=!1,e.init(),e}return(0,_.default)(n,[{key:"destroy",value:function(){C.Laya.stage.off(C.Laya.Event.RESIZE,this,this.onResize),this.keyBoardMask=null,this.keyBoardPanel=null,this.textValue=null,(0,k.default)((0,S.default)(n.prototype),"destroy",this).call(this,!0)}},{key:"init",value:function(){this.size(C.Laya.stage.width,C.Laya.stage.height),this.zOrder=1e3;var e=new j;e.on("input",this,this.onInput),e.on("exit",this,this.onExit);var t=new F;t.on("exit",this,(function(t){e.exit(t)})),this.keyBoardMask=t,this.keyBoardPanel=e,this.addChildren(t,e),C.Laya.stage.on(C.Laya.Event.RESIZE,this,this.onResize)}},{key:"onExit",value:function(e){this.removeSelf(),G.config.close&&G.config.close.call(G.config.caller,e,"confirm"===e?this.textValue+"":null),this.textValue=""}},{key:"onInput",value:function(e){var t=G.config,n=t.delTxt,r=t.confirmTxt,a=t.nullMsg,i=t.input,o=t.float,u=t.fixed,l=t.length;switch(e){case n:var s=this.textValue.split("");s.pop(),this.textValue=s.join(""),this.textValue?this.keyBoardPanel.update(this.textValue,"#ffffff"):this.keyBoardPanel.update(a,"#ff0000"),i&&i.call(G.config.caller,this.textValue);break;case r:this.keyBoardPanel.exit("confirm");break;default:if(this.firstInput&&(this.textValue="",this.firstInput=!1),"."===e){var c;if(!0!==o)return;if(""===this.textValue&&(e="0."),-1!==(0,f.default)(c=this.textValue).call(c,"."))return}if(!0===o){var d=this.textValue.split(".")[1];if(d&&d.length>=u)return}if((this.textValue+e).length>l)return;this.textValue=this.textValue+e,this.textValue=this.textValue.replace(/^0+/,""),i&&i.call(G.config.caller,this.textValue),this.textValue?this.keyBoardPanel.update(this.textValue,"#ffffff"):this.keyBoardPanel.update(a,"#ff0000")}}},{key:"enter",value:function(e,t){var n=this;G.config=(0,d.default)((0,d.default)({},G.config),t),this.textValue=e,this.firstInput=!0,C.Laya.timer.callLater(this,(function(){n.keyBoardMask.update(n.width,n.height,G.config.shadowAlpha,G.config.shadowColor,G.config.closeOnSide),n.keyBoardPanel.enter(n.textValue)})),C.Laya.stage.addChild(this)}},{key:"close",value:function(){this.removeSelf(),this.textValue="",this.keyBoardPanel.exit("force")}},{key:"onResize",value:function(){var e=C.Laya.stage.width,t=C.Laya.stage.height;this.size(e,t),this.keyBoardMask.resize(e,t),this.keyBoardPanel.resize(e,t)}}]),n}(A.Box);t.KeyBoardNumber=D;var F=function(e){(0,b.default)(n,e);var t=O(n);function n(){var e;return(0,g.default)(this,n),(e=t.call(this)).configAlpha=null,e.configColor=null,e.closeOnSide=!1,e.on(U,(0,m.default)(e),(function(){e.closeOnSide&&e.event("exit",["mask",null])})),e}return(0,_.default)(n,[{key:"update",value:function(e,t,n,r,a){this.alpha=this.configAlpha=n,this.configColor=r,this.closeOnSide=a,this.resize(e,t)}},{key:"resize",value:function(e,t){this.size(e,t),this.graphics.clear(),this.graphics.drawRect(0,0,this.width,this.height,this.configColor),this.alpha=this.configAlpha}}]),n}(x.Sprite),H=function(e){(0,b.default)(n,e);var t=O(n);function n(){var e;return(0,g.default)(this,n),(e=t.call(this)).init(),e}return(0,_.default)(n,[{key:"destroy",value:function(){(0,k.default)((0,S.default)(n.prototype),"destroy",this).call(this),this.Mask=null,this.textValue=null,this.originHeight=null}},{key:"init",value:function(){this.originHeight=60;var e=new F;e.update(this.width,this.height,.5,"#000000",!1);var t=new T.Label;t.height=30,t.fontSize=30,t.align="center",this.Mask=e,this.textValue=t,this.addChildren(e,t)}},{key:"update",value:function(e,t){this.textValue.color=t,this.textValue.text=e}},{key:"resize",value:function(e,t){var n=t/1334;this.size(e,this.originHeight*n),this.Mask.resize(this.width,this.height),this.textValue.width=e,this.textValue.bottom=0,this.top=-this.height}}]),n}(A.Box),z=function(e){(0,b.default)(n,e);var t=O(n);function n(e,r){var a;return(0,g.default)(this,n),(a=t.call(this)).init(e,r),a}return(0,_.default)(n,[{key:"destroy",value:function(){(0,k.default)((0,S.default)(n.prototype),"destroy",this).call(this,!0),this.config=null,this.label=null}},{key:"init",value:function(e,t){var n=this;e.width=240,e.height="confirm"===e.skin?210:100,this.config=e,this.skin=N[e.skin],this.sizeGrid="15,15,15,15",this.resize(C.Laya.stage.width,C.Laya.stage.height),this.create(),this.on(U,this,(function(){t(n.config.text)}))}},{key:"create",value:function(){var e=this.config,t=e.text,n=e.skin,r=t;"confirm"===n?r=G.config.confirmTxt:"delete"===n&&(r=G.config.delTxt),this.config.text=r;var a=new T.Label(r);a.color="confirm"===n?"#ffffff":"#1c1c1c",a.font="arial",a.align="center",a.fontSize=40,a.size(this.width,a.fontSize),a.centerY=0,this.label=a,this.addChild(a)}},{key:"enter",value:function(){var e=this.config,t=e.text,n=e.skin,r=t;"confirm"===n?r=G.config.confirmTxt:"delete"===n&&(r=G.config.delTxt),this.config.text=r,this.label.text=r}},{key:"resize",value:function(e,t){var n=e/1334,r=t/1334;this.size(this.config.width*n,this.config.height*r),this.pos(this.config.x*n,this.config.y*r),this.label&&(this.label.width=this.width)}}]),n}(E.Image),j=function(e){(0,b.default)(n,e);var t=O(n);function n(){var e;return(0,g.default)(this,n),(e=t.call(this)).keys=[],e.init(),e}return(0,_.default)(n,[{key:"init",value:function(){var e=C.Laya.stage.height;e=e<750?750:e,this.size(C.Laya.stage.width,e/1334*350),this.bottom=-this.height;var t=new F;t.update(this.width,this.height,.5,"#000000",!1);var n=new H;n.resize(this.width,e),this.inputText=n,this.panelMask=t,this.addChildren(t,n);var r,a=L(R);try{for(a.s();!(r=a.n()).done;){var i,o=r.value;(0,h.default)(this).push(new z(o,(0,v.default)(i=this.onClick).call(i,this)))}}catch(e){a.e(e)}finally{a.f()}this.addChildren.apply(this,(0,y.default)((0,h.default)(this)))}},{key:"onClick",value:function(e){this.event("input",[e])}},{key:"update",value:function(e,t){this.inputText.update(e,t)}},{key:"enter",value:function(e){this.inputText.update(e,"#ffffff"),B.Tween.to(this,{bottom:0},200,M.Ease.cubicOut);var t,n=L((0,h.default)(this));try{for(n.s();!(t=n.n()).done;){t.value.enter()}}catch(e){n.e(e)}finally{n.f()}}},{key:"exit",value:function(e){var t=this;"force"!==e?B.Tween.to(this,{bottom:-this.height},150,M.Ease.cubicOut,C.Laya.Handler.create(this,(function(){t.event("exit",[e])}))):this.bottom=-this.height}},{key:"resize",value:function(e,t){var n=(t=t<750?750:t)/1334;this.size(e,350*n),this.panelMask.resize(this.width,this.height),this.inputText.resize(e,t);for(var r=0,a=(0,p.default)((0,h.default)(this));r<a.length;r++){var i=a[r];(0,h.default)(this)[i].resize(e,t)}}}]),n}(A.Box)},63323:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(15375)),o=a(n(17061)),u=n(24629),l=n(89662),s=function(){function e(t,n){(0,i.default)(this,e),this.view=t,this.on_progress=n,this.initEvent()}return(0,o.default)(e,[{key:"initEvent",value:function(){var e=this,t=this.view,n=l.Event.MOUSE_DOWN,r=l.Event.MOUSE_MOVE,a=l.Event.MOUSE_OVER,i=l.Event.MOUSE_OUT,o=l.Event.MOUSE_UP;t.on(n,this,(function(t){e.onClick(t),u.Laya.stage.on(r,e,e.onMouseMove),u.Laya.stage.on(a,e,e.onMouseOut),u.Laya.stage.on(i,e,e.onMouseOut),u.Laya.stage.on(o,e,e.onMouseOut)}))}},{key:"onClick",value:function(e){e.stopPropagation();var t=this.view.box,n=t.width,r=t.getMousePoint().x/n;r>1&&(r=1),r<0&&(r=0),this.setProgress(r)}},{key:"onMouseMove",value:function(e){var t=this.view.box;e.stopPropagation();var n=t.getMousePoint().x/t.width;n>1&&(n=1),n<0&&(n=0),this.setProgress(n)}},{key:"onMouseOut",value:function(e){e.stopPropagation(),u.Laya.stage.offAllCaller(this)}},{key:"setProgress",value:function(e){var t=this.view,n=t.box,r=t.progress_bar,a=t.progress_btn,i=n.width;e!==this.radio&&(this.radio=e,r.value=e,a.x=e*i,e<.1&&(e=0),this.on_progress(e))}},{key:"destroy",value:function(){this.view=void 0,this.on_progress=void 0}}]),e}();t.default=s},80323:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t._typeIsChecked=T,t.addPressEvent=function(e){e.on(g.Event.MOUSE_DOWN,e,(function(t){e.cus_event={stageX:t.stageX,stageY:t.stageY,status:"MOUSE_DOWN",timestamp:(new Date).getTime()},m.timer.once(1e3,e,(function(){e.event("longPress")}))})),e.on(g.Event.MOUSE_MOVE,e,(function(){e.cus_event&&(e.cus_event={stageX:e.cus_event.stageX,stageY:e.cus_event.stageY,status:"MOUSE_MOVE",time:e.cus_event.time?e.cus_event.time+1:1,timestamp:(new Date).getTime()})})),e.on(g.Event.MOUSE_UP,e,(function(t){if(e.cus_event){if("MOUSE_DOWN"!==e.cus_event.status){var n=t.stageX-e.cus_event.stageX,r=t.stageY-e.cus_event.stageY;n<=20&&r<=20&&(e.cus_event.status="MOUSE_DOWN")}if(m.timer.clearAll(e),"MOUSE_DOWN"===e.cus_event.status){var a=(new Date).getTime()-e.cus_event.timestamp;a<1e3&&e.event("shortPress",a)}}}))},t.calcStrLen=F,t.closestCheck=A,t.compareObj=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n]&&"object"!==(0,c.default)(e[n]))return!1;for(var r in t)if(!e(r))return!1;return!0},t.convertJSONToNode=M,t.convertXMLToNode=function(e){return M(P(e))},t.covertDom=function(e,t){for(var n=new t,r=e.numChildren-1;r>=0;r--)n.addChild(e.getChildAt(r));return n.pos(e.x,e.y),n.name=e.name,n},t.createLog=function(e,t){var n;"right"===t?n="font-weight: bold; color: green":"error"===t&&(n="font-weight: bold; color: red");e=e||G();var r=console[e];r||(r=console.log);if(n)return(0,p.default)(r).call(r,window.console,"%c %s",n);return(0,p.default)(r).call(r,window.console)},t.createLogAll=function(){var e=G(),t=function(){};if(!e)return t;if(!window.console)return t;if("warn"!==e&&"error"!==e)return t;return this.createLog()},t.debugFE=G,t.detectModel=U,t.ellipsisStr=function(e,t,n){n=n||"..","number"==typeof e&&e==e&&(e+="");if(!e||"string"!=typeof e)return"";if(F(e)<=t)return e;var r,a="",i=0,o=k(e);try{for(o.s();!(r=o.n()).done;){var u=r.value;if(/[^\x00-\xff]/.test(u)?i+=2:i+=1,i>t-n.length)break;a+=u}}catch(e){o.e(e)}finally{o.f()}return a+n},t.extend=function(e,t,n){for(var r in t)e[r]=t[r];function a(){this.constructor=e}"function"==typeof e&&"function"==typeof t&&(e.prototype=null===t?(0,y.default)(t):(a.prototype=t.prototype,new a));n&&D(e,n);return e},t.filterElements=function(e,t){return(0,h.default)(e).call(e,(function(e){return E(e,t)}))},t.formatTime=function(e,t){for(var n=Math.floor(e/3600),r=Math.floor(e%3600/60),a=[n,r,e%60],i="",o=!1,u=0;u<a.length;u++){var l=a[u];if(!o&&t&&a.length-u<=t&&(o=!0),l||o)o||(o=!0),i+=(l>9?l+"":"0"+l)+":"}return(0,d.default)(i).call(i,0,-1)},t.getAllChildren=function(e){for(var t=[],n=0;n<e.numChildren;n++)t.push(e.getChildAt(n));return t},t.getAllElements=S,t.getChildren=function(e){for(var t=[],n=0;n<e.numChildren;n++){var r=e.getChildAt(n);t.push(r)}return t},t.getChildrenByName=function(e,t){var n=[];if(e.getChildByName&&e.getChildByName(t))for(var r=0;r<e.numChildren;r++){var a=e.getChildAt(r);a.name===t&&n.push(a)}return n},t.getChildrenByType=function(e,t){var n,r=[];"string"==typeof t?n=w(t):"function"==typeof t&&(n=t);if(!n)return r;for(var a=0;a<e.numChildren;a++){var i=e.getChildAt(a);i instanceof n&&r.push(i)}return r},t.getControllerFromDom=x,t.getCtrlTreePath=function e(t,n){n||(n="");n=t.name+"::"+n;var r=t.parent;if(!r)return(0,d.default)(n).call(n,0,-2);return e(r,n)},t.getElementIndex=function(e){var t=e.parent;if(!parent)return-1;for(var n=0;n<t.numChildren;n++)if(t.getChildAt(n)===e)return n;return-1},t.getElementsByName=function e(t,n){var r=[];if(t.getChildByName&&t.getChildByName(n))for(var a=0;a<t.numChildren;a++){var i=t.getChildAt(a);i.name===n&&r.push(i)}for(var o=0;o<t.numChildren;o++)r=(0,f.default)(r).call(r,e(t.getChildAt(o),n));return r},t.getElementsByProperty=function e(t,n){var r=[],a=n.split(":");if(!a.length)return r;"false"===a[1]?a[1]=!1:"true"===a[1]&&(a[1]=!0);for(var i=0;i<t.numChildren;i++)t.getChildAt(i)[a[0]]===a[1]&&r.push(t.getChildAt(i));for(var o=0;o<t.numChildren;o++)r=(0,f.default)(r).call(r,e(t.getChildAt(o),n));return r},t.getElementsByType=function e(t,n){var r,a=[];"string"==typeof n?r=w(n):"function"==typeof n&&(r=n);if(!r)return a;for(var i=0;i<t.numChildren;i++)t.getChildAt(i)instanceof r&&a.push(t.getChildAt(i));for(var o=0;o<t.numChildren;o++)a=(0,f.default)(a).call(a,e(t.getChildAt(o),n));return a},t.getNodeLocalName=L,t.getQueryString=N,t.getUri=function(e){var t="";for(var n in e)t.length&&(t+="&"),t+=n+"="+e[n];return t},t.isChecked=E,t.isClosest=function e(t,n){if(!t)return!1;if(t===n)return!0;var r=t.parent;return e(r,n)},t.isSpriteLock=function(e){if(e.isLock)return!0;return e.isLock=!0,m.timer.once(1e3,e,(function(){e.isLock=!1})),!1},t.mapType=w,t.nameMap=D,t.parseXmlString=O,t.queryCheck=I,t.queryClosest=function e(t,n){var r=t.parent;if(!r)return null;if(E(r,n))return r;return e(r,n)},t.queryClosestClass=function e(t,n){var r=t.parent;if(!r)return;if(r instanceof n)return r;return e(r,n)},t.queryControllersFromDom=function(e,t){var n,r=C(e,t),a=[],i=k(r);try{for(i.s();!(n=i.n()).done;){var o=x(n.value);o&&a.push(o)}}catch(e){i.e(e)}finally{i.f()}return a},t.queryElements=C,t.querySiblings=function(e){for(var t=[],n=e.parent,r=0;r<n.numChildren;r++){var a=n.getChildAt(r);a!==e&&t.push(a)}return t},t.queryTop=function e(t){var n=t.parent;if(!n)return t;return e(n)},t.xml2json=B,t.xml_str2json=P;var c=s(n(66890)),f=s(n(77766)),d=s(n(3649)),h=s(n(20116)),v=s(n(81643)),p=s(n(54103)),y=s(n(54943)),m=n(24629),g=n(89662),_=n(23835);function k(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return b(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return b(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){for(var t,n=e.split("."),r=0;r<n.length;r++){var a=n[r];if(0===r){if("function"==typeof a){t=a;break}t=_.ClassUtils.getClass(a)}else t=t[a];if(!t)break}return t}function S(e){for(var t=[],n=0;n<e.numChildren;n++){var r=e.getChildAt(n);t.push(r),t=(0,f.default)(t).call(t,S(r))}return t}function C(e,t){var n=[],r=t.split(" ");if(!r)return n;var a,i=k(S(e));try{for(i.s();!(a=i.n()).done;){var o=a.value;I(e,o,r)&&n.push(o)}}catch(e){i.e(e)}finally{i.f()}return n}function x(e){return e.controller?e.controller:null}function I(e,t,n){return!!E(t,n[n.length-1])&&(!!A(e,t,n)||void 0)}function A(e,t,n){var r=n[n.length-1],a=t._parent||t.parent;return E(t,r)&&(n=(0,d.default)(n).call(n,0,-1)),0===n.length||!!a&&A(e,a,n)}function E(e,t){if(-1===(0,v.default)(t).call(t,"|"))return T(e,t);var n,r=k(t.split("|"));try{for(r.s();!(n=r.n()).done;){if(!T(e,n.value))return!1}}catch(e){r.e(e)}finally{r.f()}return!0}function T(e,t){var n=t.split(":"),r=n[0],a=n[1];if("name"===r)return e.name===a;if("type"===r)return e instanceof w(a);if("property"===r){var i=a,o=n[2];return"false"===o?o=!1:"true"===o&&(o=!0),e[i]===o}}function M(e){var t=e.type,n=_.ClassUtils.getClass(t);if(n){var r=new n,a=e.props;for(var i in a){var o=a[i];isNaN(Number(o))||(o=Number(o)),r[i]=o}var u,l=k(e.children);try{for(l.s();!(u=l.n()).done;){var s=M(u.value);s&&r.addChild(s)}}catch(e){l.e(e)}finally{l.f()}return r}}function B(e){var t={};t.type=L(e),t.children=[];for(var n=e.childNodes,r=0;r<n.length;r++){var a=B(n.item(r));t.children.push(a)}if(e.attributes){t.props={};for(var i=0;i<e.attributes.length;i++){var o=e.attributes.item(i);t.props[o.name]=o.value}}return t}function L(e){var t=e.localName;return null===t&&(t=e.baseName),null!==t&&""!==t||(t=e.nodeName),t}function P(e){var t=O(e);return null!==t?B(t):null}function O(e){if(void 0===e)return null;var t,n;window.DOMParser&&(n=new window.DOMParser);try{t=n.parseFromString(e,"text/xml").firstChild}catch(e){t=null}return t}function N(e){var t,n={},r=k(e.split("&"));try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a){var i=a.split("=");n[i[0]]=decodeURIComponent(i[1])}}}catch(e){r.e(e)}finally{r.f()}return n}var R={};function U(e){var t;if(e in R)return R[e];var n=location.href.split("?")[1];if(!n)return!1;var r=N(n=n.replace(location.hash,""))[e];return r&&(t=r),R[e]=t,t}function G(){return U("debugType")||U("debug_status")||U("debugFE")}function D(e,t,n){return n||(n=window),"string"==typeof t&&(t=t.split(".")),1===t.length?n[t[0]]=e:(n[t[0]]||(n[t[0]]={}),D(e,(0,d.default)(t).call(t,1),n[t[0]]))}function F(e){return e.replace(/[^\x00-\xff]/g,"01").length}},44846:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.LayaSlider=void 0;var i=a(n(15375)),o=a(n(17061)),u=n(89662),l=n(98693),s=n(93408),c=n(41107),f=n(84221),d=0,h=500,v=10,p=1/6,y=!0,m=!0,g=null,_=function(){function e(t,n){(0,i.default)(this,e),this.dom={},this.config={},this.tmp={},this.touch_status="end",this.dom.glr=t,this.initConfig(n),this.init()}return(0,o.default)(e,[{key:"next",value:function(){if("end"===this.touch_status){this.detectNextShowIndex("right"),this.animateMove()}}},{key:"prev",value:function(){if("end"===this.touch_status){this.detectNextShowIndex("left"),this.animateMove(!1)}}},{key:"goto",value:function(e){"end"===this.touch_status&&(this.tmp.next_show_index=e,this.animateMove(!1))}},{key:"initConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config.cur_index=e.origin_index||d,this.config.item_space=e.item_space||v,this.config.animate_time=e.animate_time||h,this.config.pagination=e.hasOwnProperty("pagination")?e.pagination:y,e.hasOwnProperty("loop")?this.config.loop=e.loop:this.config.loop=m,this.config.end_call_back=e.end_call_back||g,e.item_width&&(this.config.move_space=e.item_width+this.config.item_space,this.config.move_scope=this.config.move_space*p)}},{key:"init",value:function(){this.initDom(),this.initEvent(),this.config.move_space||(this.config.move_space=this.dom.con.width+this.config.item_space,this.config.move_scope=this.config.move_space*p)}},{key:"initEvent",value:function(){var e=this.dom.list,t=u.Event.MOUSE_DOWN,n=u.Event.MOUSE_MOVE,r=u.Event.MOUSE_UP,a=u.Event.MOUSE_OUT;this.config.pagination&&(this.dom.pagination.selectHandler=c.Handler.create(this,this.paginationHandler,null,!1)),e.on(t,this,this.onTouchStart),e.on(n,this,this.onTouchMove),e.on(r,this,this.onTouchEnd),e.on(a,this,this.onTouchEnd)}},{key:"initDom",value:function(){var e=this.dom.glr;this.dom.con=e.getChildByName("con"),this.dom.list=this.dom.con.getChildByName("list"),this.replaceGlrList(),this.addMask(),this.dom.items=[];for(var t=0;t<this.dom.list.numChildren;t++)this.dom.items.push(this.dom.list.getChildAt(t));var n=this.config.pagination;n&&(this.dom.pagination="boolean"==typeof n?e.getChildByName("pagination"):n)}},{key:"addMask",value:function(){var e=this.dom.con;e.scrollRect=new l.Rectangle(0,0,e.width,e.height)}},{key:"replaceGlrList",value:function(){var e=this.dom,t=e.con,n=e.list,r=new s.Box;r.name="list";for(var a=[],i=0;i<n.numChildren;i++){var o=n.getChildAt(i);o.name="item",o.visible=!0,a.push(o)}for(var u=0;u<a.length;u++)a[u].visible=u===d,r.addChild(a[u]);this.dom.list=r,t.addChild(r),r.space=v,r.cacheAs="none",r.x=n.x,r.y=n.y,t.removeChild(n),n.destroy()}},{key:"paginationHandler",value:function(e,t){if("onEndAnimate"===this.touch_status)return!0;var n;n=this.config.cur_index>e?"left":"right",this.handleMoveEffect(n,e),this.animateMove(t)}},{key:"onTouchStart",value:function(e){var t=this.dom.list;if("onEndAnimate"===this.touch_status)return!0;this.tmp.start_point={x:e.stageX,y:e.stageY},this.tmp.origin_pos={x:t.x},this.touch_status="start"}},{key:"onTouchMove",value:function(e){var t=this.touch_status,n=this.dom.list;if("start"!==t&&"move"!==t)return!0;"start"===t&&(this.touch_status="move"),this.tmp.move_dist={x:e.stageX-this.tmp.start_point.x,y:e.stageY-this.tmp.start_point.y},n.x=this.tmp.origin_pos.x+this.tmp.move_dist.x,this.detectMoveDirection(this.tmp.move_dist.x)}},{key:"detectMoveDirection",value:function(e){var t,n=this.config.loop,r=this.dom.items.length,a=this.config.cur_index;if(e>0)t="left";else{if(!(e<0))return this.tmp.next_show_index=a,!0;t="right"}!n&&(0===a&&"left"===t||a===r-1&&"right"===t)||this.detectNextShowIndex(t)}},{key:"detectNextShowIndex",value:function(e){var t,n=this.config.cur_index,r=this.dom.items.length;(t="left"===e?n-1:n+1)<0?t=r-1:t>=r&&(t=0),this.handleMoveEffect(e,t)}},{key:"handleMoveEffect",value:function(e,t){var n=this.config,r=n.cur_index,a=n.move_space,i=this.dom.items;if(e===this.tmp.move_direction&&t===this.tmp.next_show_index)return!0;this.tmp.move_direction=e,this.tmp.next_show_index=t;for(var o=0;o<i.length;o++)o!==r&&o!==t&&(i[o].x=0,i[o].visible=!1);var u=i[t];u.visible=!0,u.x="left"===e?-a:a}},{key:"onTouchEnd",value:function(){var e,t,n=null===(t=null===(e=this.tmp)||void 0===e?void 0:e.move_dist)||void 0===t?void 0:t.x;return"onEndAnimate"===this.touch_status||("move"===this.touch_status&&n?(n=this.tmp.move_dist.x,Math.abs(n)<this.config.move_scope&&(this.tmp.next_show_index=this.config.cur_index),void 0===this.tmp.next_show_index&&(this.tmp.next_show_index=this.config.cur_index),void this.animateMove()):(this.reset(),!0))}},{key:"animateMove",value:function(e){var t=this.config.end_call_back,n=this.tmp.next_show_index,r=this.config.move_space;this.touch_status="onEndAnimate",this.config.cur_index===n?r=0:(this.config.cur_index=n,"right"===this.tmp.move_direction&&(r=-r));var a=this.dom.list,i={x:r};function o(){this.config.pagination&&(this.dom.pagination.selectedIndex=this.config.cur_index),t&&"function"==typeof t&&t(this.config.cur_index),this.reset()}!1===e?(a.x=r,o.call(this)):f.Tween.to(a,i,this.config.animate_time,null,c.Handler.create(this,o))}},{key:"reset",value:function(){this.resetGlrCon(),this.tmp={},this.touch_status="end"}},{key:"resetGlrCon",value:function(){var e=this.dom,t=e.list,n=e.items,r=this.config.cur_index;t.x=0,n[r].x=0;for(var a=0;a<n.length;a++)a===this.config.cur_index?(n[a].visible=!0,n[a].x=0):n[a].visible=!1}}]),e}();t.LayaSlider=_},4155:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.tween=function(e,t){return new i.default((function(n,r){var a={_val:0,get val(){return this._val},set val(e){this._val=e,t(e)}};l.Tween.to(a,{val:1},e,o.Ease.sineInOut,u.Handler.create(null,(function(){n()})))}))};var i=a(n(93476)),o=n(45840),u=n(41107),l=n(84221)},52782:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t.getRectRadiusPath=function(e,t,n,r,a){return[["moveTo",e+a,t],["lineTo",e+n-a,t],["arcTo",e+n,t,e+n,t+a,a],["lineTo",e+n,t+r-a],["arcTo",e+n,t+r,e+n-a,t+r,a],["lineTo",e+a,t+r],["arcTo",e,t+r,e,t+r-a,a],["lineTo",e,t+a],["arcTo",e,t,e+a,t,a],["closePath"]]},t.isClosest=w,t.offMouseMove=function(e){for(var t=k.length-1;t>=0;t--){var n=k[t],r=n.item,a=n.off;r===e&&(a(),(0,f.default)(k).call(k,t,1))}},t.onMouseMove=function(e,t){var n=p.Event.MOUSE_MOVE,r=function(n){var r=e.getMousePoint(),a=r.x,i=r.y;t({x:a,y:i})};e.on(n,e,r),k.push({item:e,off:function(){e.off(n,e,r)}})},t.onNode=_,t.onNodeWithAni=void 0,t.onStageClick=function(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new d.Observable((function(t){var i=function(e){if(n){var i,o=e.target,u=m(n);try{for(u.s();!(i=u.n()).done;){if(w(o,i.value))return}}catch(e){u.e(e)}finally{u.f()}}t.next(e),r=t,a&&t.complete()};v.Laya.stage.on(p.Event.CLICK,e,i),t.add((function(){v.Laya.stage.off(p.Event.CLICK,e,i)}))}));i.subscribe((function(n){e&&e.destroyed?r&&r.complete():t.call(e,n)}))},t.resizeContain=b,t.resizeParent=function(e,t,n){var r=e.parent;b(r,t),n&&r.width<n&&(r.width=n)};var c=s(n(33032)),f=s(n(92762)),d=n(72649),h=n(13845),v=n(24629),p=n(89662),y=n(90564);function m(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return g(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n,r){var a,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e3,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=new d.Observable((function(n){var u=function(t){!0!==e.is_disable&&(e.is_disable=!0,o&&(0,y.buttonClick)(e),(0,c.default)((function(){e&&e.destroyed||(e.is_disable=!1)}),i),n.next(t),a=n,r&&n.complete())};e.on(t,e,u),n.add((function(){e.off(t,e,u)}))}));u.pipe((0,h.throttleTime)(i||1e3)).subscribe((function(t){e&&e.destroyed?a&&a.complete():n(t)}))}t.onNodeWithAni=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e3;_(e,t,n,r,a,!0)};var k=[];function b(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"horizontal",r=e.numChildren,a=[],i=0,o=0;o<r;o++){var u=e.getChildAt(o);u.visible&&a.push(u)}for(var l=0;l<a.length;l++){var s=a[l];"horizontal"===n?(s.x=i,s.anchorX&&(s.x+=s.width/2)):(s.y=i,s.anchorY&&(s.y+=s.height/2)),"horizontal"===n?l!==a.length-1?i+=s.width+t:i+=s.width:l!==a.length-1?i+=s.height+t:i+=s.height}"horizontal"===n?e.width=i:e.height=i}function w(e,t){return!!e&&(e===t||w(e.parent,t))}},36620:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.getItem=function(e){var t=localStorage.getItem(e);if(!t)return t;var n=t.split("|"),r=(0,i.default)(n,3),a=r[0],o=r[1],l=r[2];if(!o)return a;var s=Number(o),c=Number(l);if((0,u.default)()-c<s)return a;return localStorage.removeItem(e),null},t.removeItem=function(e){localStorage.removeItem(e)},t.setItem=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n){var r,a,i=24*Number(n)*60*60*1e3;t=(0,o.default)(r=(0,o.default)(a="".concat(t,"|")).call(a,i,"|")).call(r,(0,u.default)())}localStorage.setItem(e,t)};var i=a(n(24142)),o=a(n(77766)),u=a(n(11128))},55161:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.log=t.error=t.debug=void 0;var i=a(n(54103)),o=a(n(17123)),u=n(77513);function l(e){if(!(0,u.getParams)("GodMode"))return function(){};var t=console[e];return t||(t=console.log),(0,i.default)(t).call(t,window.console)}var s=console.log;t.log=s;var c=console.warn;t.debug=c;var f=console.error;t.error=f,(0,o.default)((function(){t.log=s=l(),t.debug=c=l("debug"),t.error=f=l("error")}))},54049:function(e,t,n){"use strict";var r=n(66890),a=n(52424),i=n(63978),o=n(34074);i(t,"__esModule",{value:!0}),t.angleToDegree=c,t.angleToVector=function(e){return new u.Vector(Math.cos(e),Math.sin(e))},t.degreeToAngle=function(e){return e*Math.PI/180},t.degreeToVector=function(e){var t=e*Math.PI/180;return{x:Math.cos(t),y:Math.sin(t)}},t.frameToTime=function(e){return Math.ceil(e/60)},t.timeToFrame=function(e){return Math.ceil(60*e)},t.vectorToAngle=s,t.vectorToDegree=function(e){return c(s(e))};var u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},u=i&&o;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var c=u?o(e,s):null;c&&(c.get||c.set)?i(a,s,c):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(n(86116));function l(e){if("function"!=typeof a)return null;var t=new a,n=new a;return(l=function(e){return e?n:t})(e)}function s(e){return Math.atan2(e.y,e.x)}function c(e){return 180*e/Math.PI}},68267:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.Pagination=void 0;var i=a(n(15375)),o=a(n(17061)),u=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"updateData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;e===this.item_total_num&&this.item_page_num===t&&this.pagination_num===n||(this.item_total_num=e,this.item_page_num=t,this.pagination_num=n,this.cur_page=0,this.analyse())}},{key:"reset",value:function(){this.item_total_num=0,this.item_page_num=0,this.pagination_num=0,this.cur_page=0}},{key:"next",value:function(){this.has_next&&(this.cur_page+=1,this.analyse())}},{key:"prev",value:function(){this.has_prev&&(this.cur_page-=1,this.analyse())}},{key:"setCurPage",value:function(e){e<0&&(e=0),e>this.page_num-1&&(e=this.page_num-1),this.cur_page=e,this.analyse()}},{key:"rightSpread",value:function(){if(this.has_right_spread){var e=this.cur_page+this.pagination_num;e>this.page_num-1&&(e=this.page_num-1),this.cur_page=e,this.analyse()}}},{key:"leftSpread",value:function(){if(this.has_left_spread){var e=this.cur_page-this.pagination_num;e<0&&(e=0),this.cur_page=e,this.analyse()}}},{key:"analyse",value:function(){var e=this.item_total_num,t=this.item_page_num,n=this.cur_page,r=this.pagination_num,a=Math.ceil(e/t);this.page_num=a;var i=(n+1)*t;i>e&&(i=e);var o=[n*t,i];this.item_range=o;var u=n>0,l=n<a-1;this.has_prev=u,this.has_next=l;var s=n-Math.ceil((r-1)/2);s<0&&(s=0);var c=s+r;c>a&&(s=(c=a)-r)<0&&(s=0);var f=[s,c];this.pagination_range=f;var d=s>1,h=c<a-1;this.has_left_spread=d,this.has_right_spread=h}},{key:"output",value:function(){var e=this.cur_page,t=this.item_range,n=this.has_next,r=this.has_prev,a=this.pagination_range,i=this.has_left_spread,o=this.has_right_spread,u=this.page_num,l=this.item_page_num,s=[];if(a[0]>0&&s.push(0),i&&s.push("left_spread"),a)for(var c=a[0];c<a[1];c++)s.push(c);return o&&s.push("right_spread"),a[1]<u&&s.push(u-1),s.length>0&&(s.unshift("prev"),s.push("next")),{cur_page:e,item_range:t,has_next:n,has_prev:r,pagination_arr:s,pagination_range:a,page_size:l,page_num:u}}}]),e}();t.Pagination=u},37478:function(e,t,n){"use strict";var r=n(20116),a=n(2991);n(63978)(t,"__esModule",{value:!0}),t.onKeyBoardEvent=function(e){return(0,o.fromEvent)(document.body,"keydown").pipe(r(i)((function(t){return t.keyCode===e})),a(i)((function(e){return e.preventDefault(),e})))},t.onNodeEvent=function(e,t,n){return new o.Observable((function(r){var a=function(e){e.stopPropagation(),r.next(e),n&&r.complete()};e.on(t,e,a),r.add((function(){e.off(t,e,a)}))}))};var i=n(13845),o=n(72649)},21705:function(e,t,n){"use strict";var r=n(66890),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(52424),c=n(63978),f=n(34074),d=n(8171);c(t,"__esModule",{value:!0}),t.cloneShape=k,t.cloneShapeInfos=function(e){var t,n=[],r=g(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,i=a.pos,o=k(a.shape);n.push({pos:i.clone(),shape:o})}}catch(e){r.e(e)}finally{r.f()}return n},t.getFishViewShape=function(e){var t=y.SPRITE.fish[e].offset,n=t[1]+t[3],r=t[0]+t[2],a={x:t[3],y:t[0]},i=new v.Box(new v.Vector(0,0),n,r).toPolygon();a&&i.translate(-a.x,-a.y);return[{shape:i,pos:new v.Vector(0,0)}]},t.getShapes=function(e,t){var n,r=[];"fish"===e?(n=p.SHAPE.fish[t]).as&&(n=p.SHAPE.fish[n.as]):n="bullet"===e?p.SHAPE.bullet:p.SHAPE.net;var a,i=g(n.shape_list);try{for(i.s();!(a=i.n()).done;){var o=a.value,u={},l=o.position||{x:0,y:0};if(u.pos=new v.Vector(l.x,l.y),"Circle"===o.type)u.shape=new v.Circle(new v.Vector(0,0),o.radius);else if("Box"===o.type){var s=new v.Box(new v.Vector(0,0),o.width,o.height);u.shape=s.toPolygon(),o.pivot?u.shape.translate(-o.pivot.x,-o.pivot.y):u.shape.translate(-o.width/2,-o.height/2)}else{for(var c=[],f=o.pivot,d=0;d<o.points.length;d+=2){var h=o.points[d],y=o.points[d+1];c.push(new v.Vector(h,y))}u.shape=new v.Polygon(new v.Vector(0,0),c),f&&u.shape.translate(-f.x,-f.y)}r.push(u)}}catch(e){i.e(e)}finally{i.f()}return r},t.scaleXShapeInfos=function(e){var t,n=[],r=g(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,i=a.pos,o=a.shape,u=new v.Vector(-i.x,i.y),l=void 0;if(o instanceof v.Circle)l=k(o);else{var s,c=[],f=g(o.points);try{for(f.s();!(s=f.n()).done;){var d=s.value;c.push(new v.Vector(-d.x,d.y))}}catch(e){f.e(e)}finally{f.f()}l=new v.Polygon(c[0],(0,h.default)(c).call(c))}n.push({pos:u,shape:l})}}catch(e){r.e(e)}finally{r.f()}return n};var h=d(n(97093)),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},i=c&&f;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=i?f(e,o):null;u&&(u.get||u.set)?c(a,o,u):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(86116)),p=n(70430),y=n(53531);function m(e){if("function"!=typeof s)return null;var t=new s,n=new s;return(m=function(e){return e?n:t})(e)}function g(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return _(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e){if(e instanceof v.Polygon){var t,n=[],r=g(e.points);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push(new v.Vector(a.x,a.y))}}catch(e){r.e(e)}finally{r.f()}return new v.Polygon(n[0],n)}if(e instanceof v.Circle)return new v.Circle(e.pos.clone(),e.r)}},63723:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t.clearTick=function(e){g.delete(e),0===g.size&&(h.Laya.timer.clear(null,b),_=!1,y=0)},t.createTick=function(e){_||(_=!0,h.Laya.timer.loop(m,null,b));return k++,g.set(k,{fn:e,index:k}),k};var c=s(n(24142)),f=s(n(39392)),d=s(n(11128)),h=n(24629);function v(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return p(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y,m=1e3/60,g=new f.default,_=!1,k=0;function b(){var e=1;if(y){var t=(0,d.default)(),n=t-y;e=Math.floor(n/m*1),y=t-(n-e/1*m)}else y=(0,d.default)();var r,a=v(g);try{for(a.s();!(r=a.n()).done;){(0,c.default)(r.value,2)[1].fn(e)}}catch(e){a.e(e)}finally{a.f()}}},77513:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.addZeroToNum=g,t.calcPercent=function(e){return(0,s.default)(e).mul(100)},t.callFunc=function(e){if(!y(e))return;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.apply(void 0,n)},t.changeNum=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",n=m(e);if("add"===t){var r=g(1,n.length-1);return e+r}var a,i=n[0];return a=g(1,1===i?n.length-2:n.length-1),e-a},t.covertLang=function(e){var t=e;if("zh-Hant"===t)return"hk";if("zh-Hans"===t)return"zh";if("ja"===t)return"jp";if("ko"===t)return"kor";return"en"},t.createColorFilter=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255;if("string"==typeof e){var a=k(e);e=a.r,t=a.g,n=a.b,r=255}var i=[e/=255,0,0,0,0,0,t/=255,0,0,0,0,0,n/=255,0,0,0,0,0,r/=255,0];return new f.ColorFilter(i)},t.createDarkFilter=_,t.createGLowRedFilter=function(){return new d.GlowFilter("#ff0000",10,0,0)},t.createRedFilter=function(){return new f.ColorFilter([.5,.5,.5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0])},t.darkNode=function(e){e.filters=[_()]},t.formatDateStr=b,t.genRandomStr=function(){return Math.random().toString().replace("0.","")},t.getDateFromNow=function(e){var t=new Date,n=t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate(),r=new Date(n),a=new Date(n);a.setDate(t.getDate()+e),r.setDate(t.getDate()+e+1);var i=a.getMonth()+1,o=a.getDate();return{date_str:b(i)+"-"+b(o),start:a.valueOf(),end:r.valueOf()}},t.getParams=function(e){i||(i={},window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(e,t,n){return i[t]=n,n})));return i[e]},t.hexToRgb=k,t.isFunc=y,t.playSkeleton=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e.player)return void e.play.apply(e,n);e.once(c.Event.PLAYED,e,(function(){(0,o.default)((function(){e.play.apply(e,n)}))}))},t.playSkeletonOnce=function(e,t){return new u.default((function(n,r){e.once(c.Event.STOPPED,e,(function(){n(void 0)})),e.player?e.play(t,!1):e.once(c.Event.PLAYED,e,(function(){(0,o.default)((function(){e.play(t,!1)}))}))}))},t.setProps=function(e,t){for(var n in t)e[n]=t[n]},t.splitNum=m,t.stopSkeleton=function(e){if(e.player)return void e.stop();e.once(c.Event.PLAYED,e,(function(){(0,o.default)((function(){e.stop()}))}))},t.tplIntr=function(e,t){var n=(0,v.getLang)(),r=p.InternationalTip[n][e];if(t)for(var a in t)r=r.replace(new RegExp("{".concat(a,"}"),"g"),t[a]+"");return r},t.tplStr=function(e,t){for(var n in t)e=e.replace(new RegExp("{".concat(n,"}"),"g"),t[n]+"");return e},t.unDarkNode=function(e){e.filters=null},t.utilSkeletonLoadUrl=function(e,t){return new u.default((function(n,r){e.load(t,new h.Handler(e,(function(){n(void 0)})))}))};var i,o=a(n(33032)),u=a(n(93476)),l=a(n(94198)),s=a(n(50273)),c=n(89662),f=n(20084),d=n(12677),h=n(41107),v=n(58465),p=n(89970);function y(e){return e&&"function"==typeof e}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e<1)return t;var n=e%10,r=(e-n)/10;return t.unshift(n),m(r,t)}function g(e,t){return(t-=1)<0?e:g(e*=10,t)}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.7,t=1-e,n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];return new f.ColorFilter(n)}function k(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:(0,l.default)(t[1],16),g:(0,l.default)(t[2],16),b:(0,l.default)(t[3],16)}:null}function b(e){return e<10?"0"+e:""+e}},99310:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t.clear=g,t.clearAll=function(e){for(var t=m.length-1;t>=0;t--){var n=m[t].caller;e!==n||(0,f.default)(m).call(m,t,1)}_()},t.loop=function(e,t,n,r){var a=function(){g(e,n)};return m.push({caller:n,delay:t,fun:e,off:a,once:r,then:(0,c.default)()}),_(),a};var c=s(n(11128)),f=s(n(92762)),d=s(n(2991)),h=n(24629);function v(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return p(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=function e(t,n){return n?e(n,t%n):t},m=[];function g(e,t){for(var n=m.length-1;n>=0;n--){var r=m[n],a=r.fun;if(r.caller===t&&a===e)return(0,f.default)(m).call(m,n,1),void _()}}function _(){h.timer.clear(this,k);var e=(0,d.default)(m).call(m,(function(e){return e.delay}));if(e.length){var t=function(e){var t,n,r=v(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;t=y(a,t)}}catch(e){r.e(e)}finally{r.f()}return t}(e);h.timer.loop(t,this,k)}}function k(){var e=m.length;if(e)for(var t=(0,c.default)(),n=e-1;n>=0;n--){var r=m[n],a=r.fun,i=r.then,o=r.delay,u=r.once,l=r.off,s=t-i||0;if(!(s<o)){var f=Math.floor(s/o),d=t-(s-f*o);"function"==typeof a&&a(f),u?l():r.then=d}}}},55437:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(66329)),u=i(n(15375)),l=i(n(17061)),s=i(n(97709)),c=i(n(38191)),f=i(n(52305)),d=i(n(93476)),h=i(n(81643)),v=i(n(14310)),p=i(n(51942)),y=i(n(68700)),m=n(89662),g=n(80356),_=n(14082),k=n(84228),b=n(77513);function w(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var S=function(e,t,n,r){return new(n||(n=d.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},C=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(0,h.default)(t).call(t,r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof v.default){var a=0;for(r=(0,v.default)(e);a<r.length;a++)(0,h.default)(t).call(t,r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},x=function(e){(0,s.default)(n,e);var t=w(n);function n(){var e;return(0,u.default)(this,n),(e=t.apply(this,arguments))._zOrder=1001,e}return(0,l.default)(n,[{key:"zOrder",get:function(){return this._zOrder},set:function(e){this._zOrder=e}},{key:"onAwake",value:function(){this.initEvent()}},{key:"initEvent",value:function(){var e=this,t=this.btn_confirm,n=this.btn_cancel;t.on(m.Event.CLICK,t,(function(t){t.stopPropagation(),e.close("confirm")})),n.on(m.Event.CLICK,t,(function(t){t.stopPropagation(),e.close("cancel")}))}},{key:"alert",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.initLang(),new d.default((function(r,a){var i=n.hide_cancel,o=n.confirm_text,u=t.label,l=t.btn_cancel,s=t.btn_confirm,c=t.btn_confirm_label;u.text=e,t.close_resolve=r,i?(l.visible=!1,s.x=127):(l.visible=!0,s.x=255),o&&(c.text=o)}))}},{key:"onClosed",value:function(e){g.AudioCtrl.play(_.AudioRes.Click);var t=this.close_resolve;t&&t(e),this.close_resolve=void 0}},{key:"initLang",value:function(){var e=this.title,t=this.btn_confirm_label,n=this.btn_cancel_label;e.text=(0,b.tplIntr)("tips"),t.text=(0,b.tplIntr)("confirm"),n.text=(0,b.tplIntr)("cancel")}}],[{key:"alert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return S(this,void 0,void 0,o.default.mark((function n(){var r,a,i,u;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.hide_cancel,a=t.confirm_text,i=C(t,["hide_cancel","confirm_text"]),n.next=3,y.default.director.openDialog("pop/alert/alert.scene",(0,p.default)((0,p.default)({},i),{use_exist:!1,stay_scene:!1}));case 3:return u=n.sent,g.AudioCtrl.play(_.AudioRes.PopShow),n.next=7,u.alert(e,{hide_cancel:r,confirm_text:a});case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}}),n)})))}}]),n}(k.ui.pop.alert.alertUI);t.default=x},56151:function(e,t,n){"use strict";var r=n(1068),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.calcUserStatus=$,t.default=void 0;var f=c(n(66329)),d=c(n(24142)),h=c(n(67513)),v=c(n(15375)),p=c(n(17061)),y=c(n(45408)),m=c(n(97709)),g=c(n(38191)),_=c(n(52305)),k=c(n(93476)),b=c(n(77766)),w=c(n(72119)),S=c(n(51942)),C=c(n(68700)),x=n(89662),I=n(41107),A=n(76817),E=n(80356),T=n(31070),M=n(39487),B=n(58465),L=n(43267),P=n(14082),O=n(26744),N=n(84228),R=n(90564),U=n(3735),G=n(52782),D=n(77513),F=c(n(13978)),H=c(n(83481)),z=c(n(33077)),j=n(79699),V=c(n(10535));function K(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return Y(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,_.default)(e);if(t){var i=(0,_.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,g.default)(this,n)}}var X=function(e,t,n,r){return new(n||(n=k.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},Q=function(e){(0,m.default)(n,e);var t=W(n);function n(){return(0,v.default)(this,n),t.apply(this,arguments)}return(0,p.default)(n,[{key:"zOrder",get:function(){return 100}},{key:"onAwake",value:function(){return X(this,void 0,void 0,f.default.mark((function e(){var t,n=this;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.initEvent(),(t=(0,T.getArenaSocket)())&&(0,L.bindSocketEvent)(t,this,(0,h.default)({},O.ArenaEvent.CompetitionInfo,(function(e,t){if(t!==O.ARENA_OK_CODE)return(0,T.arenaErrHandler)(t);n.initData(e)}))),(0,B.onLangChange)(this,(function(){n.initLang()}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"onData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.myself.status,a=e.match.fee;this.initData(e);var i=this.renderSignButton(e.arenaStatus,r,a);this.btn_sign.visible=Boolean(!n),t&&t!==e.currency&&(0,R.sleep)(.5).then((function(){"continue"===i?V.default.tip((0,D.tplIntr)("arenaNotEndCurrency",{currency1:t,currency2:e.currency})):"sign"===i&&V.default.tip((0,D.tplIntr)("arenaNotSupportCurrency",{currency1:t,currency2:e.currency}))}))}},{key:"initEvent",value:function(){var e=this,t=this.btn_sign,n=this.btn_famous,r=this.btn_help,a=this.btn_best;(0,G.onNodeWithAni)(t,x.Event.CLICK,(function(){(0,j.competitionSignUp)(e.currency).then((function(t){var n,r=t.status&&(t.status===A.ArenaGameStatus.GAME_STATUS_SIGNUP_OVER||t.status===A.ArenaGameStatus.GAME_STATUS_PLAYING||t.status===A.ArenaGameStatus.GAME_STATUS_TABLE_OUT);if(t.code!==O.ARENA_OK_CODE&&!r)return(0,T.arenaErrHandler)(t.code),void(0,L.getSocket)(O.ServerName.ArenaHall).send(O.ArenaEvent.CompetitionInfo,{currency:e.currency});null===(n=M.HallCtrl.instance)||void 0===n||n.enterArena(t),e.close()}))})),(0,G.onNodeWithAni)(n,x.Event.CLICK,(function(){(0,j.arenaGetHallOfFame)(1).then((function(e){z.default.preEnter(e)}))})),(0,G.onNodeWithAni)(r,x.Event.CLICK,(function(){(0,j.arenaGetRuleData)(1,e.currency).then((function(e){F.default.preEnter(e)}))})),(0,G.onNodeWithAni)(a,x.Event.CLICK,(function(){(0,j.arenaGetDayRanking)().then((function(e){H.default.preEnter(e)}))}))}},{key:"initData",value:function(e){var t,n,r=this.timezone_label,a=this.openTime,i=this.myScore,o=this.myRank,u=this.rankList;this.currency=e.currency,a.text=e.match.startPeriod?(0,b.default)(t="".concat(e.match.startPeriod,"-")).call(t,e.match.endPeriod):"~",r.text=(0,D.tplIntr)("openTime",{startTime:(0,U.formatUTC0DateTime)(e.match.startTime,"MM.DD"),endTime:"".concat((0,U.formatUTC0DateTime)(e.match.endTime,"MM.DD"))}),i.text=e.myself.score?e.myself.score+"":"~",o.text=e.myself.ranking?e.myself.ranking+"":(0,D.tplIntr)("notInRank"),u.renderHandler=new I.Handler(this,this.rankListRender,null,!1);var l,s=[],c=K((0,w.default)(n=e.champion).call(n));try{for(c.s();!(l=c.n()).done;){var f=(0,d.default)(l.value,2),h=f[0],v=f[1];0===h?s.push((0,S.default)((0,S.default)({},v),{isAllTop:!0})):s.push(v)}}catch(e){c.e(e)}finally{c.f()}u.array=s,u.hScrollBarSkin=""}},{key:"renderSignButton",value:function(e,t,n){var r=this.btn_sign,a=this.cost_label,i=$(e,t);return i===A.ArenaGameStatus.GAME_STATUS_SIGNUP_OVER||i===A.ArenaGameStatus.GAME_STATUS_PLAYING||i===A.ArenaGameStatus.GAME_STATUS_TABLE_OUT?(r.disabled=!1,r.label=(0,D.tplIntr)("continueGame"),a.visible=!1,r.labelPadding="0,0,5,0","continue"):i===A.ArenaGameStatus.GAME_STATUS_CLOSE?(r.label=(0,D.tplIntr)("noStart"),a.visible=!1,r.disabled=!0,r.labelPadding="0,0,5,0","not_open"):i===A.ArenaGameStatus.GAME_STATUS_SETTLEMENT?(r.label=(0,D.tplIntr)("GameEnded"),a.visible=!1,r.disabled=!0,r.labelPadding="0,0,5,0","not_open"):i===A.ArenaGameStatus.GAME_STATUS_FREE||i===A.ArenaGameStatus.GAME_STATUS_NO_SIGNUP?(r.disabled=!1,a.visible=!0,i===A.ArenaGameStatus.GAME_STATUS_FREE||0===n?a.text=(0,D.tplIntr)("feeFreeStr"):a.text=(0,D.tplIntr)("feeStr",{fee:n,currency:this.currency}),r.label=(0,D.tplIntr)("sign"),r.labelPadding="0,0,15,0","sign"):void 0}},{key:"rankListRender",value:function(e,t){var n,r=this.rankList.array[t],a=r.isAllTop,i=r.score,o=r.amount,u=r.endRanking,l=r.startRanking,s=r.userId,c=e.rankLabel,f=e.sign,d=e.signBg,h=e.num_label,v=e.nickname,p=e.scoreLabel,y=[(0,D.tplIntr)("allFirstPlace"),(0,D.tplIntr)("firstPlace"),(0,D.tplIntr)("secondPlace"),(0,D.tplIntr)("thirdPlace")],m=u===l;c.text=a?y[0]:m?y[l]:(0,b.default)(n="".concat(l,"-")).call(n,u),v.text=s||(0,D.tplIntr)("noUser"),p.text=i?(0,D.tplIntr)("score",{score:i}):(0,D.tplIntr)("score",{score:"--"}),h.text=o||"";var g=a?"signTop.png":m?"sign".concat(l,".png"):null;g?(f.skin="image/pop/arenaCompetitionInfo/".concat(g),f.visible=!0):f.visible=!1;var _=a?"signBgTop.png":m?"signBg".concat(l,".png"):"signBg4.png";d.skin="image/pop/arenaCompetitionInfo/".concat(_)}},{key:"initLang",value:function(){var e=this.title,t=this.openTimeLabel,n=this.myScoreLabel,r=this.myRankLabel,a=this.tip,i=this.btn_famous,o=this.btn_help,u=this.btn_best;e.text=(0,D.tplIntr)("arenaCompetitionTitle"),t.text=(0,D.tplIntr)("arenaCompetitionSmallTip1"),n.text=(0,D.tplIntr)("arenaCompetitionSmallTip2"),r.text=(0,D.tplIntr)("arenaCompetitionSmallTip3"),a.text=(0,D.tplIntr)("arenaCompetitionTip"),i.label=(0,D.tplIntr)("arenaTopPlayerTitle"),o.label=(0,D.tplIntr)("arenaHelpTitle"),u.label=(0,D.tplIntr)("arenaRankTitle")}},{key:"destroy",value:function(e){(0,T.offArenaHallSocket)(this),(0,y.default)((0,_.default)(n.prototype),"destroy",this).call(this,e)}}],[{key:"preEnter",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return X(this,void 0,void 0,f.default.mark((function r(){var a;return f.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,C.default.director.openDialog("pop/arenaCompetitionInfo/arenaCompetitionInfo.scene");case 2:return a=r.sent,E.AudioCtrl.play(P.AudioRes.PopShow),a.onData(e,t,n),r.abrupt("return",a);case 6:case"end":return r.stop()}}),r)})))}}]),n}(N.ui.pop.arenaCompetitionInfo.arenaCompetitionInfoUI);function $(e,t){return e!==A.ArenaStatus.ROOM_STATUS_ENABLE&&e!==A.ArenaStatus.ROOM_STATUS_SETTLEMENT?A.ArenaGameStatus.GAME_STATUS_CLOSE:e===A.ArenaStatus.ROOM_STATUS_SETTLEMENT?A.ArenaGameStatus.GAME_STATUS_SETTLEMENT:t}t.default=Q},9215:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(66329)),u=i(n(15375)),l=i(n(17061)),s=i(n(97709)),c=i(n(38191)),f=i(n(52305)),d=i(n(93476)),h=i(n(68700)),v=n(45840),p=n(80356),y=n(14082),m=n(84228),g=n(90564);function _(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var k=function(e,t,n,r){return new(n||(n=d.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},b=function(e){(0,s.default)(n,e);var t=_(n);function n(){var e;return(0,u.default)(this,n),(e=t.call(this)).isShowEffect=!1,e.isPopupCenter=!0,e}return(0,l.default)(n,[{key:"start",value:function(){return k(this,void 0,void 0,o.default.mark((function e(){var t,n,r,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.start_node,n=this.end_node,r=this.count_label,a=this.count_box,n.visible=t.visible=!1,r.text="3",e.next=5,(0,g.scale_in)(a,500,v.Ease.elasticOut);case 5:return r.text="2",e.next=8,(0,g.scale_in)(a,500,v.Ease.elasticOut);case 8:return r.text="1",e.next=11,(0,g.scale_in)(a,500,v.Ease.elasticOut);case 11:return a.visible=!1,e.next=14,(0,g.scale_in)(t,400,v.Ease.elasticOut);case 14:return e.next=16,(0,g.sleep)(.5);case 16:return e.next=18,(0,g.fade_out)(t,400);case 18:case"end":return e.stop()}}),e,this)})))}},{key:"end",value:function(){return k(this,void 0,void 0,o.default.mark((function e(){var t,n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.start_node,n=this.end_node,r=this.count_box,n.visible=t.visible=r.visible=!1,e.next=4,(0,g.scale_in)(n,400,v.Ease.elasticOut);case 4:return e.next=6,(0,g.sleep)(.5);case 6:return e.next=8,(0,g.fade_out)(n,400);case 8:case"end":return e.stop()}}),e,this)})))}}],[{key:"start",value:function(){return k(this,void 0,void 0,o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.default.director.openDialog("pop/alert/arenaGameStatus.scene",{use_exist:!0});case 2:return t=e.sent,this.instance=t,p.AudioCtrl.play(y.AudioRes.PopShow),e.next=7,t.start();case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"end",value:function(){return k(this,void 0,void 0,o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.AudioCtrl.play(y.AudioRes.PopShow),e.next=3,h.default.director.openDialog("pop/alert/arenaGameStatus.scene",{use_exist:!0});case 3:return t=e.sent,this.instance=t,e.next=7,t.end();case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"hide",value:function(){return k(this,void 0,void 0,o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null==(t=this.instance)?void 0:t.visible)&&(null==t||t.close());case 2:case"end":return e.stop()}}),e,this)})))}}]),n}(m.ui.pop.alert.arenaGameStatusUI);t.default=b},62288:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(66329)),u=i(n(15375)),l=i(n(17061)),s=i(n(97709)),c=i(n(38191)),f=i(n(52305)),d=i(n(93476)),h=i(n(77766)),v=i(n(68700)),p=n(89662),y=n(41107),m=n(66589),g=n(80356),_=n(58465),k=n(95455),b=n(14082),w=n(66058),S=n(84228),C=n(52782),x=n(77513),I=n(79699),A=n(55088),E=i(n(10535));function T(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var M=function(e,t,n,r){return new(n||(n=d.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},B=function(e){(0,s.default)(n,e);var t=T(n);function n(){return(0,u.default)(this,n),t.apply(this,arguments)}return(0,l.default)(n,[{key:"onAwake",value:function(){return M(this,void 0,void 0,o.default.mark((function e(){var t=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,_.onLangChange)(this,(function(){t.initLang()})),this.initEvent();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"initLang",value:function(){this.title.text=(0,x.tplIntr)("arenaGiftTitle")}},{key:"initEvent",value:function(){var e=this,t=this.btn,n=this.list;(0,C.onNodeWithAni)(t,p.Event.CLICK,(function(){if(e.data.id){if((0,m.isTrial)())return void(0,k.login)();(0,I.arenaBuyGift)().then((function(){E.default.tip((0,x.tplIntr)("buySuccess")),e.close()})).catch((function(){e.close()}))}})),n.renderHandler=new y.Handler(this,this.listRenderHandler,null,!1)}},{key:"initData",value:function(e){var t;this.data=e;var n=this.btn,r=this.list,a=this.btn_label;a.text=(0,h.default)(t="".concat(e.price)).call(t,e.currency);var i=a.width+50;n.width=i>161?i:161,n.disabled=Boolean(e.isGiftBuy),r.array=e.list;var o=e.list.length;r.repeatX=o,r.spaceX=4==o?45:o>4?20:95,r.centerX=0===r.centerX?1:0}},{key:"listRenderHandler",value:function(e,t){var n=e.name_label,r=e.num_label,a=e.icon,i=e.btn_ques,o=this.list.array[t];a.skin="image/pop/shop/icon/".concat(o.itemId,".png"),r.text=o.num+"";var u,l=(0,A.getItemName)(o.itemId+"");(i.offAllCaller(this),o.itemId+""===w.SkillMap.Bullet?(i.visible=!0,i.on(p.Event.CLICK,this,(function(){E.default.tip((0,x.tplIntr)("GiftBulletTip"))}))):i.visible=!1,l)?n.text=(0,h.default)(u="".concat((0,A.getItemName)(o.itemId+"")," x")).call(u,o.num):n.text=""}}],[{key:"preEnter",value:function(){return M(this,void 0,void 0,o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.default.director.openDialog("pop/arenaGift/arenaGift.scene");case 2:return t=e.sent,(0,I.arenaGiftList)().then((function(e){e&&t.initData(e)})),g.AudioCtrl.play(b.AudioRes.PopShow),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))}}]),n}(S.ui.pop.arenaGift.arenaGiftUI);t.default=B},13978:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(66329)),u=i(n(15375)),l=i(n(17061)),s=i(n(97709)),c=i(n(38191)),f=i(n(52305)),d=i(n(93476)),h=i(n(68700)),v=n(41107),p=n(80356),y=n(58465),m=n(14082),g=n(84228),_=n(80323),k=n(52782),b=n(77513);function w(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var S=function(e,t,n,r){return new(n||(n=d.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},C=function(e){(0,s.default)(n,e);var t=w(n);function n(){return(0,u.default)(this,n),t.apply(this,arguments)}return(0,l.default)(n,[{key:"onAwake",value:function(){return S(this,void 0,void 0,o.default.mark((function e(){var t=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,y.onLangChange)(this,(function(){t.initLang()})),this.initEvent();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"initLang",value:function(){var e=this.title,t=this.tab0,n=this.tab1,r=this.tab2,a=this.tab3;e.text=(0,b.tplIntr)("arenaHelpTitle"),t.label=(0,b.tplIntr)("arenaHelpTab0"),n.label=(0,b.tplIntr)("arenaHelpTab1"),r.label=(0,b.tplIntr)("arenaHelpTab2"),a.label=(0,b.tplIntr)("arenaHelpTab3")}},{key:"initEvent",value:function(){var e=this.tab,t=this.tabBody;e.selectHandler=new v.Handler(this,(function(e){t.selectedIndex=e}),null,!1)}},{key:"initData",value:function(e){return S(this,void 0,void 0,o.default.mark((function t(){var n,r,a,i,u,l,s,c,f,d,h,v,p,y,m,g,w;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.tabBody,t.prev=1,t.next=4,(0,_.getAllChildren)(n);case 4:r=t.sent,a=e.roomConfig.freeNum,i=e.globalConfig,u=i.initBulletNum,l=i.rankingScoreDown,s=i.skinBulletAddition,c=s[1001],f=s[1002],d=s[1003],h=s[1004],v=s[1005],p=e.matchTimeConfig.deadlineTime,(y=(0,_.getAllChildren)(r[0]))[0].text=(0,b.tplIntr)("arenaHelpRule11",{deadlineTime:p}),y[1].text=(0,b.tplIntr)("arenaHelpRule12",{freeNum:a}),y[2].text=(0,b.tplIntr)("arenaHelpRule13"),(0,k.resizeContain)(r[0],10,"vertical"),(m=(0,_.getAllChildren)(r[1]))[0].text=(0,b.tplIntr)("arenaHelpRule21",{initBulletNum:u}),m[1].text=(0,b.tplIntr)("arenaHelpRule22",{}),m[2].text=(0,b.tplIntr)("arenaHelpRule23",{}),m[3].text=(0,b.tplIntr)("arenaHelpRule24",{}),(0,k.resizeContain)(r[1],10,"vertical"),(g=(0,_.getAllChildren)(r[2]))[0].text=(0,b.tplIntr)("arenaHelpRule31",{rankingScoreDown:l}),g[1].text=(0,b.tplIntr)("arenaHelpRule32",{}),g[2].text=(0,b.tplIntr)("arenaHelpRule33",{}),g[3].text=(0,b.tplIntr)("arenaHelpRule34",{}),g[4].text=(0,b.tplIntr)("arenaHelpRule35",{}),(0,k.resizeContain)(r[2],10,"vertical"),(w=(0,_.getAllChildren)(r[3]))[0].text=(0,b.tplIntr)("arenaHelpRule41",{}),w[1].text=(0,b.tplIntr)("arenaHelpRule42",{gun1001:(0,b.calcPercent)(c),gun1002:(0,b.calcPercent)(f),gun1003:(0,b.calcPercent)(d),gun1004:(0,b.calcPercent)(h),gun1005:(0,b.calcPercent)(v)}),(0,k.resizeContain)(r[3],10,"vertical"),t.next=32;break;case 30:t.prev=30,t.t0=t.catch(1);case 32:case"end":return t.stop()}}),t,this,[[1,30]])})))}},{key:"destroy",value:function(){(0,y.offLangChange)(this)}}],[{key:"preEnter",value:function(e){return S(this,void 0,void 0,o.default.mark((function t(){var n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.default.director.openDialog("pop/arenaHelp/arenaHelp.scene");case 2:return n=t.sent,p.AudioCtrl.play(m.AudioRes.PopShow),n.initData(e),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))}}]),n}(g.ui.pop.arenaHelp.arenaHelpUI);t.default=C},83481:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(66329)),u=i(n(15375)),l=i(n(17061)),s=i(n(97709)),c=i(n(38191)),f=i(n(52305)),d=i(n(93476)),h=i(n(68700)),v=n(41107),p=n(80356),y=n(58465),m=n(14082),g=n(84228),_=n(77513);function k(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var b=function(e,t,n,r){return new(n||(n=d.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},w=function(e){(0,s.default)(n,e);var t=k(n);function n(){return(0,u.default)(this,n),t.apply(this,arguments)}return(0,l.default)(n,[{key:"onAwake",value:function(){return b(this,void 0,void 0,o.default.mark((function e(){var t=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,y.onLangChange)(this,(function(){t.initLang()})),this.initEvent();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"initLang",value:function(){var e=this.tab0,t=this.title,n=this.tab1,r=this.today_empty_tip,a=this.yes_empty_tip;t.text=(0,_.tplIntr)("arenaRankTitle"),e.label=(0,_.tplIntr)("arenaRankTab0"),n.label=(0,_.tplIntr)("arenaRankTab1"),r.text=a.text=(0,_.tplIntr)("noData")}},{key:"initEvent",value:function(){var e=this.tab,t=this.tabBody,n=this.today_list,r=this.yes_list;e.selectHandler=new v.Handler(this,(function(e){t.selectedIndex=e}),null,!1),n.renderHandler=new v.Handler(this,this.renderList,["today"],!1),r.renderHandler=new v.Handler(this,this.renderList,["yesterday"],!1),n.array=[],r.array=[]}},{key:"initData",value:function(e){var t=this.yes_empty_tip,n=this.today_empty_tip,r=this.today_list,a=this.yes_list,i=e.today,o=e.yesterday;n.visible=Boolean(!(null==i?void 0:i.length)),t.visible=Boolean(!(null==o?void 0:o.length)),r.array=i,a.array=o}},{key:"renderList",value:function(e,t,n){var r=this.today_list.array[n];"yesterday"===e&&(r=this.yes_list.array[n]);var a=t.getChildByName("clip"),i=t.getChildByName("label0"),o=t.getChildByName("label1"),u=t.getChildByName("label2"),l=t.getChildByName("label3");a.visible=n<3,i.visible=n>=3,i.text=n+1+"",a.index=n,o.text=r.userId+"",u.text=(0,_.tplIntr)("arenaRankScore",{score:r.score}),l.text="yesterday"===e?(0,_.tplIntr)("arenaRankAward2",{award:r.award+r.currency}):(0,_.tplIntr)("arenaRankAward1",{award:r.award+r.currency})}}],[{key:"preEnter",value:function(e){return b(this,void 0,void 0,o.default.mark((function t(){var n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.default.director.openDialog("pop/arenaRank/arenaRank.scene");case 2:return n=t.sent,p.AudioCtrl.play(m.AudioRes.PopShow),n.initData(e),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))}}]),n}(g.ui.pop.arenaRank.arenaRankUI);t.default=w},34720:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(66329)),u=i(n(15375)),l=i(n(17061)),s=i(n(97709)),c=i(n(38191)),f=i(n(52305)),d=i(n(93476)),h=i(n(68700)),v=n(89662),p=n(80356),y=n(58465),m=n(14082),g=n(84228),_=n(52782),k=n(77513);function b(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var w=function(e,t,n,r){return new(n||(n=d.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},S=function(e){(0,s.default)(n,e);var t=b(n);function n(){return(0,u.default)(this,n),t.apply(this,arguments)}return(0,l.default)(n,[{key:"onClosed",value:function(e){e="continue"===e?e:"not_continue",this.resolve(e)}},{key:"onAwake",value:function(){return w(this,void 0,void 0,o.default.mark((function e(){var t=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,y.onLangChange)(this,(function(){t.initLang()})),this.initEvent();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"initLang",value:function(){var e=this.name_label,t=this.title,n=this.tip_label;t.text=(0,k.tplIntr)("arenaSettleTitle"),n.text=(0,k.tplIntr)("arenaSettle1"),e.text=(0,k.tplIntr)("arenaSettle2")}},{key:"initEvent",value:function(){var e=this,t=this.btn_continue;(0,_.onNodeWithAni)(t,v.Event.CLICK,(function(){e.close("continue")}))}},{key:"initData",value:function(e){var t=e.userId,n=e.ranking,r=e.maxDayScore,a=e.score,i=e.rankingAward,o=e.fee,u=e.isGuest,l=e.currency,s=this.num_label,c=this.guess_label,f=this.info_label,d=this.btn_label,h=this.btn_continue,v=this.reward_box;d.text=(0,k.tplIntr)("arenaSettleReSign",{fee:o,currency:l});var p=d.getBounds().width+40;h.width=p>230?p:230,c.text=(0,k.tplIntr)("arenaSettleReStatic",{score:a}),f.text=(0,k.tplIntr)("arenaSettleTpl",{userId:t,ranking:n||"~",maxDayScore:r||"~",score:a}),s.text=i+"",c.visible=u,f.visible=v.visible=!u}}],[{key:"preEnter",value:function(e){return w(this,void 0,void 0,o.default.mark((function t(){var n=this;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new d.default((function(t,r){return w(n,void 0,void 0,o.default.mark((function n(){var r;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.default.director.openDialog("pop/arenaSettle/arenaSettle.scene");case 2:return r=n.sent,p.AudioCtrl.play(m.AudioRes.PopShow),r.initData(e),r.resolve=t,n.abrupt("return",r);case 7:case"end":return n.stop()}}),n)})))})));case 1:case"end":return t.stop()}}),t)})))}}]),n}(g.ui.pop.arenaSettle.arenaSettleUI);t.default=S},61141:function(e,t,n){"use strict";var r=n(1068),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.default=void 0;var f=c(n(66329)),d=c(n(15375)),h=c(n(17061)),v=c(n(45408)),p=c(n(97709)),y=c(n(38191)),m=c(n(52305)),g=c(n(93476)),_=c(n(77766)),k=c(n(68700)),b=n(899),w=n(89662),S=n(41107),C=n(66589),x=n(80356),I=n(58465),A=n(95455),E=n(14082),T=n(84228),M=n(77513),B=n(13817),L=n(79699),P=n(55088);function O(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return N(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,m.default)(e);if(t){var i=(0,m.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,y.default)(this,n)}}var U=function(e,t,n,r){return new(n||(n=g.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},G=function(e){(0,p.default)(n,e);var t=R(n);function n(){var e;return(0,d.default)(this,n),(e=t.apply(this,arguments)).renderGunList=function(t,n){var r=e.gun_list.array[n],a=r.itemName,i=r.itemId,o=r.status,u=r.price,l=r.id,s=r.currency,c=t.name_label,f=t.icon,d=t.stack_btn,h=t.icon_check,v=t.select_bd,p=(0,P.getItemName)(i,a);c.text=p,f.skin="image/pop/shop/icon/".concat(i,".png");var y=o;d.selectedIndex=y;var m,g=d.getChildAt(y),k=g.getChildByName("label");(h.visible=!1,v.visible=!1,g.offAll(),o===P.GunSkinStatus.NoHave)?(k.text=(0,_.default)(m="".concat(u)).call(m,s),g.on(w.Event.CLICK,g,(function(){(0,C.isTrial)()?(0,A.login)():(0,B.buySkinAlert)(u,p,s).then((function(t){t&&(0,L.arenaBuyItem)(l,i,1).then((function(){e.buyGunSkin(i)})).catch((function(){e.close()}))}))}))):o===P.GunSkinStatus.Have?(k.text=(0,M.tplIntr)("use"),g.on(w.Event.CLICK,g,(function(){(0,L.arenaUseGunSkin)(i).then((function(){e.useGunSkin(i)}))}))):o===P.GunSkinStatus.Used&&(k.text=(0,M.tplIntr)("inUse"),h.visible=!0,v.visible=!0);var b=k.width+30;g.width=b>143?b:143,k.centerX=0===k.centerX?-1:0},e}return(0,h.default)(n,[{key:"onAwake",value:function(){var e=this;this.init(),(0,I.onLangChange)(this,(function(t){e.initLang(t)}))}},{key:"initLang",value:function(e){var t=this.title,n=(0,M.covertLang)(e);t.skin="image/international/title_shop_".concat(n,".png")}},{key:"init",value:function(){var e=this.gun_list;e.array=[],e.renderHandler=new S.Handler(e,this.renderGunList,null,!1)}},{key:"initData",value:function(e){var t=this.gun_list,n=e.gun;t.array=n}},{key:"buyGunSkin",value:function(e){var t,n=O(this.gun_list.array);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.itemId===e){r.status=P.GunSkinStatus.Have;break}}}catch(e){n.e(e)}finally{n.f()}this.gun_list.refresh()}},{key:"useGunSkin",value:function(e){var t,n=O(this.gun_list.array);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.itemId===e?r.status=P.GunSkinStatus.Used:r.status!==P.GunSkinStatus.NoHave&&(r.status=P.GunSkinStatus.Have)}}catch(e){n.e(e)}finally{n.f()}this.gun_list.refresh()}},{key:"destroy",value:function(){(0,I.offLangChange)(this),(0,v.default)((0,m.default)(n.prototype),"destroy",this).call(this)}}],[{key:"preEnter",value:function(e){return U(this,void 0,void 0,f.default.mark((function t(){var n;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.default.director.openDialog("pop/shop/arenaShop.scene");case 2:return n=t.sent,x.AudioCtrl.play(E.AudioRes.PopShow),(0,L.arenaShopList)(e).then((function(e){n.initData(e)})),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))}},{key:"preLoad",value:function(){return(0,b.loadRes)("pop/shop/shop.scene")}}]),n}(T.ui.pop.shop.arenaShopUI);t.default=G},15359:function(e,t,n){"use strict";var r=n(1068),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.default=void 0;var f=c(n(66329)),d=c(n(15375)),h=c(n(17061)),v=c(n(97709)),p=c(n(38191)),y=c(n(52305)),m=c(n(93476)),g=n(24629),_=c(n(68700)),k=n(22833),b=n(80356),w=n(14082),S=n(84228),C=n(90564),x=n(45359);function I(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return A(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,y.default)(e);if(t){var i=(0,y.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,p.default)(this,n)}}var T=function(e,t,n,r){return new(n||(n=m.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},M=function(e){(0,v.default)(n,e);var t=E(n);function n(){var e;return(0,d.default)(this,n),(e=t.call(this)).zOrder=100,e}return(0,h.default)(n,[{key:"onBeforeOpen",value:function(e){this.analysisSize(e)}},{key:"tip",value:function(e,t){var n=this;return new m.default((function(r,a){e?((0,x.startCount)(t,1,(function(e){0===e&&(n.close(),r())})),n.setTipText(e)):r()}))}},{key:"analysisSize",value:function(e){var t=this.label,n=this.bg,r=e.split("\n"),a=r.length,i=100+18*function(e){var t,n=[],r=I(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push((0,k.getStringLength)(a))}}catch(e){r.e(e)}finally{r.f()}return Math.max.apply(this,n)}(r),o=18+30*a;i=i>750?i:750,o=o>48?o:48,this.width=t.width=n.width=i,this.height=t.height=n.height=o,this.x=(g.Laya.stage.width-this.width)/2}},{key:"setTipText",value:function(e){this.label.text=e,this.visible=!1,(0,C.fade_in)(this,300)}}],[{key:"tip",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return T(this,void 0,void 0,f.default.mark((function n(){var r;return f.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return b.AudioCtrl.play(w.AudioRes.PopShow),n.next=3,_.default.director.openDialog("pop/alert/arenaTaskTip.scene",{before_open_param:e});case 3:return r=n.sent,this.instance=r,n.next=7,r.tip(e,t);case 7:case"end":return n.stop()}}),n,this)})))}},{key:"hide",value:function(){return T(this,void 0,void 0,f.default.mark((function e(){var t;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null==(t=this.instance)?void 0:t.visible)&&(null==t||t.close());case 2:case"end":return e.stop()}}),e,this)})))}}]),n}(S.ui.pop.alert.arenaTaskTipUI);t.default=M},33077:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(66329)),u=i(n(15375)),l=i(n(17061)),s=i(n(97709)),c=i(n(38191)),f=i(n(52305)),d=i(n(93476)),h=i(n(68700)),v=n(41107),p=n(80356),y=n(58465),m=n(14082),g=n(84228),_=n(3735),k=n(77513);function b(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var w=function(e,t,n,r){return new(n||(n=d.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},S=function(e){(0,s.default)(n,e);var t=b(n);function n(){return(0,u.default)(this,n),t.apply(this,arguments)}return(0,l.default)(n,[{key:"onAwake",value:function(){return w(this,void 0,void 0,o.default.mark((function e(){var t=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,y.onLangChange)(this,(function(){t.initLang()})),this.initEvent();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"initLang",value:function(){this.title.text=(0,k.tplIntr)("arenaTopPlayerTitle")}},{key:"initEvent",value:function(){this.list.renderHandler=new v.Handler(this,this.listRenderHandler,null,!1)}},{key:"initData",value:function(e){var t=this.list,n=this.empty_tip;t.array=e,t.hScrollBarSkin="",n.visible=Boolean(!(null==e?void 0:e.length)),e.length<=3?t.width=177*e.length+10*(e.length-1)+32:t.width=955,t.centerX=0===t.centerX?-1:0}},{key:"listRenderHandler",value:function(e,t){var n=e.time_label,r=e.nickname_label,a=e.score_label,i=this.list.array[t];a.text=(0,k.tplIntr)("score",{score:i.score}),r.text="".concat(i.userId),n.text=(0,_.formatDateRange)([i.startDate,i.endDate])}}],[{key:"preEnter",value:function(e){return w(this,void 0,void 0,o.default.mark((function t(){var n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.default.director.openDialog("pop/arenaTopPlayer/arenaTopPlayer.scene");case 2:return(n=t.sent).initData(e),p.AudioCtrl.play(m.AudioRes.PopShow),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))}}]),n}(g.ui.pop.arenaTopPlayer.arenaTopPlayerUI);t.default=S},13817:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.buyItemAlert=E,t.buySkinAlert=function(e,t,n){return new h.default((function(r,a){n=n||(0,b.tplIntr)("bullet");var i=(0,b.tplIntr)("buySkinTip",{num:e,name:n,item:t});w.default.alert(i).then((function(e){"confirm"===e?r(!0):a()}))}))},t.default=void 0;var o=i(n(66329)),u=i(n(15375)),l=i(n(17061)),s=i(n(45408)),c=i(n(97709)),f=i(n(38191)),d=i(n(52305)),h=i(n(93476)),v=i(n(77766)),p=i(n(68700)),y=n(89662),m=n(66589),g=n(58465),_=n(11263),k=n(84228),b=n(77513),w=i(n(55437)),S=n(55088),C=i(n(10535));function x(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var I=function(e,t,n,r){return new(n||(n=h.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},A=function(e){(0,c.default)(n,e);var t=x(n);function n(){return(0,u.default)(this,n),t.apply(this,arguments)}return(0,l.default)(n,[{key:"onAwake",value:function(){var e=this;(0,g.onLangChange)(this,(function(){e.initLang()})),this.initEvent()}},{key:"initEvent",value:function(){var e=this,t=this.btn_minus,n=this.btn_add,r=this.btn_buy,a=y.Event.CLICK;t.on(a,this,(function(){e.changeNum("minus")})),n.on(a,this,(function(){e.changeNum("add")})),r.on(a,this,(function(){var t=e.buy_info,n=t.id,r=t.num,a=t.price;E(r,a,n).then((function(t){t&&e.resolve({id:n,num:r,price:a})}))})),this.num_label.on(a,this,(function(){m.ctrlState.app.keyboard_number.enter(e.num_label.text,{close:function(t,n){"confirm"===t&&e.setNum(Number(n))},nullMsg:(0,b.tplIntr)("keyboardEmpTip"),delTxt:(0,b.tplIntr)("Delete"),confirmTxt:(0,b.tplIntr)("confirm")})}))}},{key:"setNum",value:function(e){var t=this.buy_info.price,n=(0,_.getCurPlayer)();e*t>n.bullet_num&&(C.default.tip((0,b.tplIntr)("beyondBulletNum")),e=Math.floor(n.bullet_num/t)),this.buy_info.num=e,this.num_label.text=e+"",this.setIntro()}},{key:"changeNum",value:function(e){var t=this.num_label.text,n=Number(t),r=t.length-1,a=(0,b.addZeroToNum)(1,r);"minus"===e&&a===n&&(a=(0,b.addZeroToNum)(1,r-1)),"add"===e?n+=a:n-=a,n<1&&(n=1),this.setNum(n)}},{key:"setIntro",value:function(){var e,t,n,r,a=(0,g.getLang)(),i=this.intro,o=this.buy_info,u=o.price,l=o.num,s=o.currency||(0,b.tplIntr)("bullet"),c=u*l;"en"===a?i.text=(0,v.default)(e=(0,v.default)(t="".concat((0,b.tplIntr)("buyBulletCost")," ")).call(t,c," ")).call(e,s):i.text=(0,v.default)(n=(0,v.default)(r="".concat((0,b.tplIntr)("buyBulletCost"))).call(r,c)).call(n,s)}},{key:"initLang",value:function(){var e=this.title;this.btn_label.text=e.text=(0,b.tplIntr)("purchase"),this.setIntro()}},{key:"buy",value:function(e){var t=this;return new h.default((function(n,r){var a=t.num_label,i=t.icon,o=e.num,u=e.id,l=o+"";a.text=l,i.skin="image/pop/shop/icon/".concat(u,".png"),t.buy_info=e,t.setIntro(),t.resolve=n}))}},{key:"destroy",value:function(){(0,g.offLangChange)(this),(0,s.default)((0,d.default)(n.prototype),"destroy",this).call(this)}}],[{key:"preEnter",value:function(e){return I(this,void 0,void 0,o.default.mark((function t(){var n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.default.director.openDialog("pop/alert/buyBullet.scene");case 2:return n=t.sent,t.abrupt("return",n.buy(e));case 4:case"end":return t.stop()}}),t)})))}}]),n}(k.ui.pop.alert.buyBulletUI);function E(e,t,n){return new h.default((function(r,a){var i=(0,b.tplIntr)("buyItemTip",{cost_num:e*t,cost_name:(0,b.tplIntr)("bullet"),num:e,name:(0,S.getItemName)(n+"")});w.default.alert(i).then((function(e){"confirm"===e?r(!0):a()}))}))}t.default=A},45170:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(66329)),u=i(n(15375)),l=i(n(17061)),s=i(n(45408)),c=i(n(97709)),f=i(n(38191)),d=i(n(52305)),h=i(n(93476)),v=i(n(68700)),p=n(899),y=n(41107),m=n(58465),g=n(66058),_=n(84228),k=n(44846),b=n(52782),w=n(77513),S=n(30387);function C(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var x=function(e,t,n,r){return new(n||(n=h.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},I=function(e){(0,c.default)(n,e);var t=C(n);function n(){return(0,u.default)(this,n),t.apply(this,arguments)}return(0,l.default)(n,[{key:"onAwake",value:function(){var e=this;(0,m.onLangChange)(this,(function(){e.initLang()})),this.slider_glr=new k.LayaSlider(this.glr);var t=this.skill_list,n=this.fish_list;n.array=[],t.array=[],n.renderHandler=y.Handler.create(this,this.fishListRender,null,!1),t.renderHandler=y.Handler.create(this,this.skillListRender,null,!1),n.array=S.test_fish_list}},{key:"goto",value:function(e){this.slider_glr.goto(e)}},{key:"fishListRender",value:function(e,t){var n=this.times_tpl,r=this.fish_list.array[t],a=r.id,i=r.num,o=r.is_special,u=e.bg,l=e.num_label,s=e.icon;l.text=i?i+n:"",s.skin="image/pop/help/fish".concat(a,".png");var c=o?"":"1";u.skin="image/pop/help/fish_item_bg".concat(c,".png")}},{key:"skillListRender",value:function(e,t){var n=e.skill_icon,r=e.intro_label,a=e.item_box,i=this.skill_list.array[t],o=i.id,u=i.intro;r.text=u,o!==g.SkillMap.Super?n.skin="image/game/skill_".concat(g.SkillNameMap[o],".png"):(a.visible=!1,r.x=10,r.width=r.parent.width)}},{key:"initLang",value:function(){var e=this.title,t=this.intro1,n=this.intro2,r=this.intro3,a=this.intro31,i=this.intro4,o=this.intro41;this.times_tpl=(0,w.tplIntr)("times"),this.fish_list.refresh(),e.text=(0,w.tplIntr)("help"),t.text=(0,w.tplIntr)("help1"),n.text=(0,w.tplIntr)("help2"),r.text=(0,w.tplIntr)("help3"),a.text=(0,w.tplIntr)("help31"),i.text=(0,w.tplIntr)("help4"),o.text=(0,w.tplIntr)("help41")+"\n"+(0,w.tplIntr)("help42")+"\n"+(0,w.tplIntr)("help43"),this.skill_list.array=(0,S.getSkillIntroList)(),(0,b.resizeContain)(this.item0_wrap,10,"vertical"),(0,b.resizeContain)(this.item1_wrap,10,"vertical"),(0,b.resizeContain)(this.item2_wrap,10,"vertical")}},{key:"destroy",value:function(){(0,m.offLangChange)(this),(0,s.default)((0,d.default)(n.prototype),"destroy",this).call(this)}}],[{key:"preEnter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return x(this,void 0,void 0,o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.default.director.openDialog("pop/help/help.scene");case 2:t.sent.goto(e);case 4:case"end":return t.stop()}}),t)})))}},{key:"preLoad",value:function(){return x(this,void 0,void 0,o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.loadRes)("pop/help/help.scene"));case 1:case"end":return e.stop()}}),e)})))}}]),n}(_.ui.pop.help.helpUI);t.default=I},30387:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.getSkillIntroList=function(){return[{id:r.SkillMap.Bomb,intro:(0,a.tplIntr)("help2Bomb")},{id:r.SkillMap.Freezing,intro:(0,a.tplIntr)("help2Freeze")},{id:r.SkillMap.LockFish,intro:(0,a.tplIntr)("help2Lock")}]},t.test_fish_list=void 0;var r=n(66058),a=n(77513);t.test_fish_list=[{id:1,num:2,is_special:300},{id:2,num:3,is_special:300},{id:3,num:5,is_special:300},{id:4,num:8,is_special:300},{id:5,num:10,is_special:300},{id:6,num:15,is_special:300},{id:7,num:20,is_special:300},{id:8,num:30,is_special:300},{id:10,num:50,is_special:300},{id:11,num:80,is_special:300},{id:12,num:100,is_special:300},{id:13,num:150,is_special:300},{id:14,num:200,is_special:300},{id:15,num:250,is_special:300},{id:20,num:300,is_special:300},{id:9,num:0,is_special:300}]},64525:function(e,t,n){"use strict";var r=n(1068),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.default=void 0;var f=c(n(66329)),d=c(n(24142)),h=c(n(21003)),v=c(n(15375)),p=c(n(17061)),y=c(n(45408)),m=c(n(97709)),g=c(n(38191)),_=c(n(52305)),k=c(n(93476)),b=c(n(77766)),w=c(n(51942)),S=c(n(62462)),C=c(n(68700)),x=n(899),I=n(89662),A=n(41107),E=n(80356),T=n(545),M=n(58465),B=n(14082),L=n(11263),P=n(84228),O=n(90564),N=n(4155),R=n(52782),U=n(77513),G=c(n(45170)),D=n(67650),F=n(79699),H=c(n(25463));function z(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return j(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,_.default)(e);if(t){var i=(0,_.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,g.default)(this,n)}}var K=function(e,t,n,r){return new(n||(n=k.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},Y=function(e){(0,m.default)(n,e);var t=V(n);function n(){var e;return(0,v.default)(this,n),(e=t.apply(this,arguments)).is_init=!1,e.renderLottery=function(t,n){var r=t.light,a=t.light_circle,i=t.box_ani,o=t.box_img,u=e.lottery_list.array[n],l=u.cur,s=u.get;u.lottery_num;if(a.visible=!1,r.visible=!1,o.visible=!0,i.visible=!1,l){var c=s?"active":"move";r.visible=!0,"move"===c?a.visible=!0:(o.visible=!1,i.visible=!0,(0,U.playSkeletonOnce)(i,0).then((function(){return(0,U.playSkeletonOnce)(r,c).then((function(){e.showLotteryAward(u)}))})),r.playbackRate(1))}},e}return(0,p.default)(n,[{key:"reloadData",value:function(){return K(this,void 0,void 0,f.default.mark((function e(){var t;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,F.getLotteryData)();case 2:t=e.sent,this.initData(t);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"onEnable",value:function(){E.AudioCtrl.play(B.AudioRes.PopShow),this.is_init||this.init(),this.is_init=!0}},{key:"init",value:function(){var e=this,t=this.lottery_list,n=this.btn_lottery;this.lottery_exchange_ctrl;t.array=[],this.lottery_exchange_ctrl=new D.LotteryExchangeCtrl(this.exchange_list),t.renderHandler=new A.Handler(t,this.renderLottery,void 0,!1),(0,R.onNode)(n,I.Event.CLICK,(function(){e.runLottery()}))}},{key:"initData",value:function(e){var t,n,r=e.lottery,a=e.exchange,i=e.lottery_cost,o=e.lottery_num,u=this.lottery_list,l=this.progress,s=this.lottery_remain,c=this.lottery_exchange_ctrl,f=this.btn_lottery,d=[],v=z(r);try{for(v.s();!(n=v.n()).done;){var p=n.value;d.push((0,w.default)((0,w.default)({},p),{cur:!1,get:!1}))}}catch(e){v.e(e)}finally{v.f()}var y=d.length;if(y<5)for(var m=0;m<5-y;m++)d.push({lottery_id:"xx",lottery_type:"xx",lottery_num:0,cur:!1,get:!1});var g=o/i;l.value=g>1?1:g,s.text=(0,b.default)(t="".concat(o,"/")).call(t,i),u.array=d,f.disabled=g<1,c.renderData((0,h.default)(a)),this.remain_info={lottery_num:o,lottery_cost:i}}},{key:"runLottery",value:function(){var e=this,t=this.remain_info,n=this.progress,r=this.lottery_remain,a=this.btn_lottery,i=t.lottery_num,o=t.lottery_cost;i<o||(0,F.runLottery)().then((function(u){return K(e,void 0,void 0,f.default.mark((function e(){var l;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.runLotteryAni(u);case 2:i-=o,n.value=i/o,t.lottery_num=i,r.text=(0,b.default)(l="".concat(i,"/")).call(l,o),a.disabled=i<o;case 7:case"end":return e.stop()}}),e,this)})))}))}},{key:"runLotteryAni",value:function(e){var t=this;return new k.default((function(n,r){var a=t.lottery_list,i=t.btn_lottery,o=a.array;i.disabled=!0;var u=(0,S.default)(o).call(o,(function(t){return t.lottery_id===e}))+20,l=!1;(0,N.tween)(3e3,(function(e){var r=Math.round(e*u)%5;if(!l){1===e&&(l=!0);for(var i=0;i<o.length;i++){var s=o[i];s.get=!1,s.cur=i===r}l&&(o[r].get=!0,o[r].cur=!0,(0,O.sleep)(2).then((function(){t.completeLottery(),n()}))),a.refresh()}}))}))}},{key:"completeLottery",value:function(){this.btn_lottery.disabled=!1,clearInterval(this.lottery_interval)}},{key:"showLotteryAward",value:function(e){var t=this,n=e.lottery_type,r=e.lottery_num;"bullet"===n&&(0,T.changeUserAccount)((0,L.getCurUserId)(),[{type:"bullet",num:r}]),H.default.preEnter({type:n,num:r}).then((function(){t.reloadData()}))}},{key:"destroy",value:function(){var e=this.lottery_exchange_ctrl;this.completeLottery(),(0,M.offLangChange)(this),(0,y.default)((0,_.default)(n.prototype),"destroy",this).call(this),e.destroy(),this.lottery_exchange_ctrl=void 0}},{key:"onAwake",value:function(){var e=this,t=this.btn_help;(0,M.onLangChange)(this,(function(t){e.initLang(t)})),t.on(I.Event.CLICK,this,(function(){G.default.preEnter(2)}))}},{key:"initLang",value:function(e){var t=this.title,n=this.btn_label,r=this.sub_title,a=this.lottery_exchange_ctrl,i=(0,U.covertLang)(e);n.text=(0,U.tplIntr)("luckyDraw"),r.text=(0,U.tplIntr)("redemption"),a.refresh(),(0,R.resizeParent)(n,30,142),t.skin="image/international/txt_lottery_".concat(i,".png")}}],[{key:"preEnter",value:function(){var e=C.default.director.openDialog("pop/lottery/lottery.scene"),t=(0,F.getLotteryData)();return k.default.all([e,t]).then((function(e){var t=(0,d.default)(e,2),n=t[0],r=t[1];return n.initData(r),n}))}},{key:"preLoad",value:function(){return(0,x.loadRes)("pop/lottery/lottery.scene")}}]),n}(P.ui.pop.lottery.lotteryUI);t.default=Y},67650:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t.LotteryExchangeCtrl=void 0;var c=s(n(66329)),f=s(n(24142)),d=s(n(15375)),h=s(n(17061)),v=s(n(93476)),p=s(n(72119)),y=s(n(77766)),m=n(24354),g=n(89662),_=n(66058),k=n(54375),b=n(84228),w=n(77513),S=n(79699),C=s(n(25463));function x(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return I(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return I(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A=function(e,t,n,r){return new(n||(n=v.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},E=function(){function e(t){(0,d.default)(this,e),this.item_list=[],this.data=[],this.view=t,this.clear()}return(0,h.default)(e,[{key:"renderData",value:function(e){return A(this,void 0,void 0,c.default.mark((function t(){var n,r,a,i,o,u,l,s,d,h;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.view,r=e.length,this.data=e,this.clear(),i=10,o=0,1===r?a=b.ui.pop.lottery.item2oneUI:5===r?(a=b.ui.pop.lottery.item2fiveUI,i=5):2===r?(a=b.ui.pop.lottery.item2twoUI,i=50):3===r?(i=80,a=b.ui.pop.lottery.item2UI):a=b.ui.pop.lottery.item2UI,u=x((0,p.default)(e).call(e)),t.prev=8,u.s();case 10:if((l=u.n()).done){t.next=22;break}return s=(0,f.default)(l.value,2),d=s[0],s[1],h=new a,n.addChild(h),this.item_list.push(h),t.next=17,(0,m.afterActive)(h);case 17:h.x=o,o+=h.width,d!==e.length-1&&(o+=i);case 20:t.next=10;break;case 22:t.next=27;break;case 24:t.prev=24,t.t0=t.catch(8),u.e(t.t0);case 27:return t.prev=27,u.f(),t.finish(27);case 30:n.width=o,this.refresh();case 32:case"end":return t.stop()}}),t,this,[[8,24,27,30]])})))}},{key:"refresh",value:function(){var e,t=this.data,n=this.item_list,r=x((0,p.default)(n).call(n));try{for(r.s();!(e=r.n()).done;){var a=(0,f.default)(e.value,2),i=a[0],o=a[1];this.renderItem(o,t[i])}}catch(e){r.e(e)}finally{r.f()}}},{key:"renderItem",value:function(e,t){var n,r,a=this,i=e.price_label,o=e.coin_icon,u=e.remain_label,l=e.num_label,s=e.btn_buy,c=e.item_type,f=t.exchange_type,d=t.exchange_id,h=t.exchange_num,v=t.cost_num,p=t.cur_num,m=_.ItemMap[d];m=m?m.toLowerCase():m;var b=h+"";i.text=v+"";var S=(0,k.getCurrencyIcon)(f);o.skin=S,o.filters=[(0,w.createColorFilter)("#64280e")],l.text=b,c.text=f.toUpperCase(),u.text=(0,y.default)(n=(0,y.default)(r="".concat((0,w.tplIntr)("Num"),": ")).call(r,p,"/")).call(n,v);var C=1/(b.length/3),x=1/(f.length/4);C=C>1?1:C,x=x>.95?.95:x,l.scale(C,C),c.scale(x,x),s.offAll(),p<v?e.filters=[(0,w.createDarkFilter)(.3)]:(e.filters=null,s.on(g.Event.CLICK,s,(function(){a.runTicketExchange(t)})))}},{key:"runTicketExchange",value:function(e){return A(this,void 0,void 0,c.default.mark((function t(){var n,r,a,i,o,u;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.exchange_id,r=e.cost_num,a=e.cur_num,i=e.exchange_type,t.next=3,(0,S.runTicketExchange)(n);case 3:o=t.sent,u=o.num,C.default.preEnter({type:i,num:u}),e.cur_num=a-r,this.refresh();case 8:case"end":return t.stop()}}),t,this)})))}},{key:"clear",value:function(){this.view.removeChildren(),this.item_list=[]}},{key:"destroy",value:function(){this.item_list=[],this.data=[],this.clear(),this.view=void 0}}]),e}();t.LotteryExchangeCtrl=E},79699:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t.arenaAwardList=function(e){return new f.default((function(t,n){var r=(0,m.getSocket)(g.ServerName.ArenaHall);r.event.once(g.ArenaEvent.AwardList,(function(e,r){if(r!==g.ARENA_OK_CODE)return(0,p.arenaErrHandler)(r),void n();t(e)})),r.send(g.ArenaEvent.AwardList,e)}))},t.arenaBuyGift=function(){return new f.default((function(e,t){var n=(0,m.getSocket)(g.ServerName.ArenaHall);if(!n)return t();n.event.once(g.ArenaEvent.BuyGift,(function(n,r){if(r!==g.ARENA_OK_CODE)(0,p.arenaErrHandler)(r),t(r);else{var a,i=(0,_.getCurUserId)(!0),o=[],u=b(n);try{for(u.s();!(a=u.n()).done;){var l=a.value,s=l.itemId,c=l.num;o.push({id:s,num:c,type:(0,v.getItemType)(s)})}}catch(e){u.e(e)}finally{u.f()}(0,v.changeUserAccount)(i,o),e()}})),n.send(g.ArenaEvent.BuyGift)}))},t.arenaBuyItem=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return new f.default((function(r,a){var i=(0,m.getSocket)(g.ServerName.ArenaHall);i.event.once(g.ArenaEvent.BuyGoods,(function(e,i){if(i!==g.ARENA_OK_CODE)return(0,p.arenaErrHandler)(i),void a(i);(0,v.changeUserAccount)((0,_.getCurUserId)(),[{id:t,num:n,type:(0,v.getItemType)(t)}]),r(!0)})),i.send(g.ArenaEvent.BuyGoods,{id:e,num:n})}))},t.arenaGenShopInfo=C,t.arenaGetDayRanking=function(){return new f.default((function(e,t){var n=(0,m.getSocket)(g.ServerName.ArenaHall);if(!n)return t(void 0);n.event.once(g.ArenaEvent.GetDayRanking,(function(n,r){r!==g.ARENA_OK_CODE?((0,p.arenaErrHandler)(r),t()):e(n)})),n.send(g.ArenaEvent.GetDayRanking)}))},t.arenaGetHallOfFame=function(e){return new f.default((function(t,n){var r=(0,m.getSocket)(g.ServerName.ArenaHall);if(!r)return n(void 0);r.event.once(g.ArenaEvent.GetHallOfFame,(function(e,r){r!==g.ARENA_OK_CODE?((0,p.arenaErrHandler)(r),n()):t(e)})),r.send(g.ArenaEvent.GetHallOfFame,{modeId:e})}))},t.arenaGetRuleData=function(e,t){var n=(0,k.getItem)("arenaGetRuleData:mode".concat(e));if(n)return f.default.resolve(JSON.parse(n));return new f.default((function(n,r){var a=(0,m.getSocket)(g.ServerName.ArenaHall);if(!a)return r(void 0);a.event.once(g.ArenaEvent.GetRuleData,(function(t,a){a!==g.ARENA_OK_CODE?((0,p.arenaErrHandler)(a),r()):((0,k.setItem)("arenaGetRuleData:mode".concat(e),(0,h.default)(t),1),n(t))})),a.send(g.ArenaEvent.GetRuleData,{modeId:e,currency:t})}))},t.arenaGiftList=function(){return new f.default((function(e,t){var n=(0,m.getSocket)(g.ServerName.ArenaHall);if(!n)return t(void 0);n.event.once(g.ArenaEvent.GiftList,(function(n,r){r!==g.ARENA_OK_CODE?((0,p.arenaErrHandler)(r),t()):e(n)})),n.send(g.ArenaEvent.GiftList)}))},t.arenaMatchList=function(e){return new f.default((function(t,n){var r=(0,m.getSocket)(g.ServerName.ArenaHall);r.event.once(g.ArenaEvent.MatchList,(function(e,r){if(r!==g.ARENA_OK_CODE)return(0,p.arenaErrHandler)(r),void n();t(e)})),r.send(g.ArenaEvent.MatchList,{modeId:e})}))},t.arenaShopList=function(e){return new f.default((function(t,n){var r=(0,m.getSocket)(g.ServerName.ArenaHall);if(!r)return n(void 0);r.event.once(g.ArenaEvent.ShopList,(function(e,r){r!==g.ARENA_OK_CODE?((0,p.arenaErrHandler)(r),n()):t(C(e))})),r.send(g.ArenaEvent.ShopList,e)}))},t.arenaUseGunSkin=function(e){return new f.default((function(t,n){var r=(0,m.getSocket)(g.ServerName.ArenaHall);r.event.once(g.ServerEvent.UseSkin,(function(e,r){if(r!==g.ARENA_OK_CODE)return(0,p.arenaErrHandler)(r),void n();t(!0)})),r.send(g.ServerEvent.UseSkin,{skinId:e,userId:(0,_.getCurUserId)(!0)})}))},t.buyItem=function(e,t,n){return new f.default((function(r,a){var i=(0,m.getSocket)(g.ServerName.Game);i.event.once(g.ServerEvent.Buy,(function(a,i){if(200!==i)return(0,y.errorHandler)(i,a);var o=(0,_.getCurUserId)(),u=[];t&&u.push({id:e,num:t,type:"skill"}),n&&u.push({num:-n*t,type:"bullet"}),(0,v.changeUserAccount)(o,u),r(!0)})),i.send(g.ServerEvent.Buy,{itemId:e,num:t})}))},t.competitionSignUp=function(e){return new f.default((function(t,n){var r=(0,m.getSocket)(g.ServerName.ArenaHall);e=e||_.modelState.app.user_info.cur_balance,r.event.once(g.ArenaEvent.SignUp,(function(n,r){t((0,d.default)({code:r,currency:e},n))})),r.send(g.ArenaEvent.SignUp,{currency:e})}))},t.genShopInfo=S,t.getBulletList=function(e){return new f.default((function(t,n){var r=(0,m.getSocket)(g.ServerName.Hall);r.event.once(g.ServerEvent.GetBulletList,(function(e){t(e)})),r.send(g.ServerEvent.GetBulletList,(0,d.default)({},e))}))},t.getCompetitionInfo=function(e){return new f.default((function(t,n){var r=(0,m.getSocket)(g.ServerName.ArenaHall);if(!r)return n(void 0);r.event.once(g.ArenaEvent.CompetitionInfo,(function(e,r){if(r!==g.ARENA_OK_CODE)return(0,p.arenaErrHandler)(r),void n(r);t(e)})),r.send(g.ArenaEvent.CompetitionInfo,{currency:e})}))},t.getItemList=function(e){return new f.default((function(t,n){var r=(0,m.getSocket)(g.ServerName.Hall);r.event.once(g.ServerEvent.GetItemList,(function(e){t(e)})),r.send(g.ServerEvent.GetItemList,(0,d.default)({},e))}))},t.getLotteryData=function(){var e=new f.default((function(e,t){var n=(0,m.getSocket)(g.ServerName.Game);n.event.once(g.ServerEvent.LotteryList,(function(t){e(t)})),n.send(g.ServerEvent.LotteryList)})),t=new f.default((function(e,t){var n=(0,m.getSocket)(g.ServerName.Game);n.event.once(g.ServerEvent.ExchangeList,(function(t){e(t)})),n.send(g.ServerEvent.ExchangeList)}));return f.default.all([e,t]).then((function(e){var t,n=(0,c.default)(e,2),r=n[0],a=n[1],i=r.costNum,o=r.curNum,u=r.list,l=a.list,s=[],f=[],d=b(u);try{for(d.s();!(t=d.n()).done;){var h=t.value;s.push({lottery_type:h.name,lottery_id:h.id,lottery_num:h.num})}}catch(e){d.e(e)}finally{d.f()}var v,p=b(l);try{for(p.s();!(v=p.n()).done;){var y=v.value;f.push({exchange_id:y.itemId,exchange_type:y.name,exchange_num:y.num,cost_num:y.cost,cur_num:y.curNum})}}catch(e){p.e(e)}finally{p.f()}var m=o/i;return{lottery:s,exchange:f,radio:m=m>1?1:m,lottery_cost:i,lottery_num:o}}))},t.getRecentBullet=function(){return new f.default((function(e,t){var n=(0,m.getSocket)(g.ServerName.Hall);n.event.once(g.ServerEvent.GetRecentBullet,(function(t){e(t)})),n.send(g.ServerEvent.GetRecentBullet)}))},t.getShopInfo=function(){return new f.default((function(e,t){var n=(0,m.getSocket)(g.ServerName.Game);n.event.once(g.ServerEvent.ShopList,(function(t){e(S(t))})),n.send(g.ServerEvent.ShopList)}))},t.runLottery=function(){return new f.default((function(e,t){var n=(0,m.getSocket)(g.ServerName.Game);n.event.once(g.ServerEvent.Lottery,(function(t,n){200===n&&e(t.id)})),n.send(g.ServerEvent.Lottery)}))},t.runTicketExchange=function(e){return new f.default((function(t,n){var r=(0,m.getSocket)(g.ServerName.Game);r.event.once(g.ServerEvent.TicketExchange,(function(e){t(e)})),r.send(g.ServerEvent.TicketExchange,{itemId:e})}))},t.useGunSkin=function(e){return new f.default((function(t,n){var r=(0,m.getSocket)(g.ServerName.Game);r.event.once(g.ServerEvent.UseSkin,(function(e){t(!0)})),r.send(g.ServerEvent.UseSkin,{skinId:e,userId:(0,_.getCurUserId)()})}))};var c=s(n(24142)),f=s(n(93476)),d=s(n(51942)),h=s(n(59340)),v=n(545),p=n(31070),y=n(59914),m=n(43267),g=n(26744),_=n(11263),k=n(36620);function b(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return w(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return w(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e){var t,n={gun:[],item:[]},r=b(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,i=a.type,o=a.item_id,u=a.status,l=a.price,s=a.num,c=a.name;1===i?n.gun.push({id:o,price:l,status:u,name:c}):n.item.push({id:o,price:l,num:s,name:c})}}catch(e){r.e(e)}finally{r.f()}return n}function C(e){var t,n={gun:[],item:[]},r=b(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;1===a.itemType?n.gun.push(a):n.item.push(a)}}catch(e){r.e(e)}finally{r.f()}return n}},76079:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(66329)),u=i(n(15375)),l=i(n(17061)),s=i(n(89395)),c=i(n(45408)),f=i(n(97709)),d=i(n(38191)),h=i(n(52305)),v=i(n(93476)),p=i(n(2991)),y=i(n(33032)),m=i(n(68700)),g=n(899),_=n(80356),k=n(58465),b=n(14082),w=n(84228),S=n(3735),C=n(77513),x=n(79699),I=n(96231),A=n(23728);function E(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,h.default)(e);if(t){var i=(0,h.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var T=function(e,t,n,r){return new(n||(n=v.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},M=function(e){(0,f.default)(n,e);var t=E(n);function n(){var e;return(0,u.default)(this,n),(e=t.apply(this,arguments)).isInit=!1,e.renderSelectedItem1=function(t,n){return T((0,s.default)(e),void 0,void 0,o.default.mark((function e(){var r,a,i,u,l,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.item_name,a=n.label,i=n.value,r.text=a,1!==i){e.next=8;break}l=(0,S.getMonthDateList)(),u=(0,p.default)(l).call(l,(function(e,t){return{label:e.format("MM/DD"),value:e.valueOf()}})),e.next=12;break;case 8:return e.next=10,(0,x.arenaMatchList)(1);case 10:s=e.sent,u=(0,p.default)(s).call(s,(function(e,t){return{label:(0,C.tplIntr)("arenaRewardTpl",{grade:e.id}),value:e.id.valueOf()}}));case 12:this.select_ctrl2.setList(u),this.select_ctrl2.setCurIndex(0);case 14:case"end":return e.stop()}}),e,this)})))},e.renderMenuItem1=function(t,n){var r;if(null===(r=e.select_ctrl1)||void 0===r?void 0:r.array){var a=t.getChildByName("item_name"),i=e.select_ctrl1.array[n].label;a.text=i}},e.renderMenuItem2=function(t,n){var r;if(null===(r=e.select_ctrl2)||void 0===r?void 0:r.array){var a=t.getChildByName("item_name"),i=e.select_ctrl2.array[n].label;a.text=i}},e}return(0,l.default)(n,[{key:"onAwake",value:function(){var e=this,t=this.select_item2,n=this.select_item1,r=this.item_menu2,a=this.item_menu1,i=this.btn_search;(0,k.onLangChange)(this,(function(){e.initLang()}));var o=new A.SelectCtrl(n,a);o.setRender(this.renderSelectedItem1,this.renderMenuItem1),o.init();var u=[{label:(0,C.tplIntr)("arenaAwardDayRank"),value:1},{label:(0,C.tplIntr)("arenaAwardGradeRank"),value:2}];o.setList(u),o.setCurIndex(0);var l=new A.SelectCtrl(t,r);l.setRender(this.renderSelectedItem2,this.renderMenuItem2),l.init();var s=new I.PaginationCtrl(this.pagination);s.on(I.PaginationEvent.Change,(function(t){t.trigger_change&&e.search({pageNum:t.cur+1,pageSize:t.page_size})})),this.pagination_ctrl=s,i.on("click",null,(function(){e.search({pageNum:1,pageSize:10})})),(0,y.default)((function(){e.search({pageNum:1,pageSize:10})})),this.select_ctrl1=o,this.select_ctrl2=l}},{key:"onEnable",value:function(){if(this.isInit){var e=this.select_ctrl1,t=this.select_ctrl2;e.setCurIndex(0),t.setCurIndex(0)}else this.isInit=!0}},{key:"initLang",value:function(){var e=this.title,t=this.title_box,n=this.btn_search_label,r=this.empty_tip;e.text=(0,C.tplIntr)("arenaAwardTitle"),r.text=(0,C.tplIntr)("noData");for(var a=[(0,C.tplIntr)("arenaAwardItemTitle0"),(0,C.tplIntr)("arenaAwardItemTitle1"),(0,C.tplIntr)("arenaAwardItemTitle2"),(0,C.tplIntr)("arenaAwardItemTitle3")],i=0;i<t.numChildren;i++)t.getChildAt(i).text=a[i];n.text=(0,C.tplIntr)("search")}},{key:"renderSelectedItem2",value:function(e,t){var n=e.item_name,r=t.label;n.text=r}},{key:"search",value:function(e){var t,n=this,r=e.pageNum,a=e.pageSize,i=this.empty_tip,o=this.select_ctrl1,u=this.select_ctrl2,l=this.pagination_ctrl,s=(null===(t=o.getCurData())||void 0===t?void 0:t.value)||1,c={type:s,pageNum:r,pageSize:a},f=u.getCurData()||{};1===s?c.dayId=f.value:c.matchId=f.value,this.renderRecordList([]),(0,x.arenaAwardList)(c).then((function(e){i.visible=!e.list.length,n.renderRecordList(e.list),l.update(e.total,e.pageSize)}))}},{key:"renderRecordList",value:function(e){this.record_list.array=(0,p.default)(e).call(e,(function(e){return{username:e.userId,grade:e.ranking,time:(0,S.formatUTC0DateTime)(e.time),num:e.award+e.currency}}))}},{key:"destroy",value:function(){this.select_ctrl1.destroy(),this.select_ctrl2.destroy(),this.select_ctrl1=void 0,this.select_ctrl2=void 0,(0,c.default)((0,h.default)(n.prototype),"destroy",this).call(this)}}],[{key:"preEnter",value:function(){return T(this,void 0,void 0,o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.default.director.openDialog("pop/record/arenaRewardRecord.scene");case 2:return t=e.sent,_.AudioCtrl.play(b.AudioRes.PopShow),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))}},{key:"preLoad",value:function(){return(0,g.loadRes)("pop/record/arenaRewardRecord.scene")}}]),n}(w.ui.pop.record.arenaRewardRecordUI);t.default=M},60971:function(e,t,n){"use strict";var r=n(1068),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.default=void 0;var f=c(n(66329)),d=c(n(24142)),h=c(n(15375)),v=c(n(17061)),p=c(n(45408)),y=c(n(97709)),m=c(n(38191)),g=c(n(52305)),_=c(n(93476)),k=c(n(62462)),b=c(n(2991)),w=c(n(77766)),S=c(n(68700)),C=n(899),x=n(58465),I=n(84228),A=n(52782),E=n(77513),T=n(79699),M=n(96231),B=n(23728);function L(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return P(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,g.default)(e);if(t){var i=(0,g.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,m.default)(this,n)}}for(var N=function(e,t,n,r){return new(n||(n=_.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},R=[],U=0;U>=-7;U--)R.push((0,E.getDateFromNow)(U));var G=function(e){(0,y.default)(n,e);var t=O(n);function n(){return(0,h.default)(this,n),t.apply(this,arguments)}return(0,v.default)(n,[{key:"onAwake",value:function(){var e=this,t=this.select_item,n=this.select_coin,r=this.date_menu,a=this.coin_menu,i=this.btn_search;this.record_list.array=[];var o=new B.SelectCtrl(n,a);o.setRender(this.renderSelectCoin),(0,x.onAccountChange)(this,(function(t){e.renderCoinMenu(t)})),o.init();var u=new B.SelectCtrl(t,r);u.setRender(this.renderSelectItem),u.init(),u.setList(R),u.setCurIndex(0);var l=new M.PaginationCtrl(this.pagination);l.on(M.PaginationEvent.Change,(function(t){var n=t.cur;t.trigger_change&&e.search(n+1)})),this.pagination_ctrl=l,(0,A.onNode)(i,"click",(function(){e.pagination_ctrl.reset(),e.search(1)})),this.select_coin_ctrl=o,this.select_date_ctrl=u,(0,x.onLangChange)(this,(function(){e.initLang()}))}},{key:"onEnable",value:function(){var e=this,t=this.select_coin_ctrl,n=this.select_date_ctrl;(0,T.getRecentBullet)().then((function(r){var a=t.getList(),i=n.getList(),o=(0,k.default)(a).call(a,(function(e){return e.coin_name===r.currency})),u=(0,k.default)(i).call(i,(function(e){return e.start<r.time&&e.end>r.time}));-1===o&&(o=0),-1===u&&(u=0),t.setCurIndex(o),n.setCurIndex(u),e.search(1)}))}},{key:"initLang",value:function(){var e=this.title,t=this.title_box,n=this.btn_search_label,r=this.empty_tip;e.text=(0,E.tplIntr)("gameListTitle");for(var a=[(0,E.tplIntr)("cost"),(0,E.tplIntr)("prize")],i=0;i<t.numChildren;i++)t.getChildAt(i).text=a[i];n.text=(0,E.tplIntr)("search"),r.text=(0,E.tplIntr)("noData")}},{key:"renderSelectCoin",value:function(e,t){var n=e.coin_icon,r=e.coin_name,a=t.coin_icon,i=t.coin_name;n.skin=a,r.text=i}},{key:"renderSelectItem",value:function(e,t){var n=e.item_name,r=t.date_str;n.text=r}},{key:"renderCoinMenu",value:function(e){var t,n=this.select_coin_ctrl,r=[],a=L(e);try{for(a.s();!(t=a.n()).done;){var i=(0,d.default)(t.value,2),o=i[0],u=i[1].icon;r.push({coin_icon:u,coin_name:o})}}catch(e){a.e(e)}finally{a.f()}n.setList(r)}},{key:"search",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this.select_coin_ctrl,r=this.select_date_ctrl,a=this.pagination_ctrl,i=this.empty_tip,o=n.getCurData()||{},u=r.getCurData()||{};this.renderRecordList([]);var l=10;(0,T.getBulletList)({currency:o.coin_name,startTime:u.start,endTime:u.end,pageNum:t,pageSize:l}).then((function(t){a.update(t.total,l),e.renderRecordList(t.list),i.visible=!t.list.length}))}},{key:"renderRecordList",value:function(e){this.record_list.array=(0,b.default)(e).call(e,(function(e){var t,n;return{prize:e.prize?(0,w.default)(t="".concat(e.prize,"  ")).call(t,e.currency):0,cost:e.cost?(0,w.default)(n="".concat(e.cost,"  ")).call(n,e.currency):0}}))}},{key:"destroy",value:function(){(0,x.offBindEvent)(this),this.select_coin_ctrl.destroy(),this.select_date_ctrl.destroy(),this.select_coin_ctrl=void 0,this.select_date_ctrl=void 0,(0,p.default)((0,g.default)(n.prototype),"destroy",this).call(this)}}],[{key:"preEnter",value:function(){return N(this,void 0,void 0,f.default.mark((function e(){var t;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.default.director.openDialog("pop/record/gameRecord.scene");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))}},{key:"preLoad",value:function(){return(0,C.loadRes)("pop/record/gameRecord.scene")}}]),n}(I.ui.pop.record.gameRecordUI);t.default=G},47859:function(e,t,n){"use strict";var r=n(1068),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.default=void 0;var f=c(n(66329)),d=c(n(24142)),h=c(n(15375)),v=c(n(17061)),p=c(n(45408)),y=c(n(97709)),m=c(n(38191)),g=c(n(52305)),_=c(n(93476)),k=c(n(2991)),b=c(n(33032)),w=c(n(68700)),S=n(899),C=n(58465),x=n(84228),I=n(77513),A=n(79699),E=n(55088),T=n(96231),M=n(23728);function B(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return L(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,g.default)(e);if(t){var i=(0,g.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,m.default)(this,n)}}var O=function(e,t,n,r){return new(n||(n=_.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},N=function(e){(0,y.default)(n,e);var t=P(n);function n(){var e;return(0,h.default)(this,n),(e=t.apply(this,arguments)).isInit=!1,e}return(0,v.default)(n,[{key:"onAwake",value:function(){var e,t=this,n=this.select_item,r=this.select_coin,a=this.item_menu,i=this.coin_menu,o=this.btn_search,u=new M.SelectCtrl(r,i);u.setRender(this.renderSelectCoin),(0,C.onAccountChange)(this,(function(e){t.renderCoinMenu(e)})),u.init(),(0,C.onLangChange)(this,(function(){t.initLang()}));var l=new M.SelectCtrl(n,a);l.setRender(this.renderSelectItem),l.init();var s=(0,k.default)(e=["2001","2002","2003"]).call(e,(function(e){return{item_name:(0,E.getItemName)(e),item_id:e}}));s.unshift({item_name:"ALL",item_id:void 0}),l.setList(s),l.setCurIndex(0);var c=new T.PaginationCtrl(this.pagination);c.on(T.PaginationEvent.Change,(function(e){e.cur;for(var n=e.range,r=t.all_list,a=[],i=n[0];i<n[1];i++)a.push(r[i]);t.renderRecordList(a)})),this.pagination_ctrl=c,o.on("click",null,(function(){t.search()})),(0,b.default)((function(){t.search()})),this.select_coin_ctrl=u,this.select_item_ctrl=l}},{key:"onEnable",value:function(){var e=this;if(this.isInit){var t=this.select_coin_ctrl,n=this.select_item_ctrl;t.setCurIndex(0),n.setCurIndex(0),(0,b.default)((function(){e.search()}))}else this.isInit=!0}},{key:"initLang",value:function(){var e=this.title,t=this.title_box,n=this.btn_search_label,r=this.empty_tip;e.text=(0,I.tplIntr)("itemListTitle"),r.text=(0,I.tplIntr)("noData");for(var a=[(0,I.tplIntr)("itemList1"),(0,I.tplIntr)("itemList2"),(0,I.tplIntr)("itemList3"),(0,I.tplIntr)("remainingNum"),(0,I.tplIntr)("gameNo")],i=0;i<t.numChildren;i++)t.getChildAt(i).text=a[i];n.text=(0,I.tplIntr)("search")}},{key:"renderSelectCoin",value:function(e,t){var n=e.coin_icon,r=e.coin_name,a=t.coin_icon,i=t.coin_name;a?(r.x=43,n.visible=!0,n.skin=a):(r.x=15,n.visible=!1),r.text=i}},{key:"renderSelectItem",value:function(e,t){var n=e.item_name,r=t.item_name;n.text=r}},{key:"renderCoinMenu",value:function(e){var t=this.select_coin_ctrl,n=[];n.push({coin_icon:"",coin_name:"ALL",coin_id:void 0});var r,a=B(e);try{for(a.s();!(r=a.n()).done;){var i=(0,d.default)(r.value,2),o=i[0],u=i[1].icon;n.push({coin_icon:u,coin_name:o,coin_id:o})}}catch(e){a.e(e)}finally{a.f()}t.setList(n),t.setCurIndex(0)}},{key:"search",value:function(){var e=this,t=this.empty_tip,n=this.select_coin_ctrl,r=this.select_item_ctrl,a=this.pagination_ctrl,i=n.getCurData()||{},o=(r.getCurData()||{}).item_id,u=i.coin_id;this.renderRecordList([]),(0,A.getItemList)({itemId:o,currency:u}).then((function(n){e.all_list=n.list,t.visible=!n.list.length,a.update(n.list.length,10)}))}},{key:"setList",value:function(e){this.all_list=e,this.pagination_ctrl.update(e.length,9)}},{key:"renderRecordList",value:function(e){this.record_list.array=(0,k.default)(e).call(e,(function(e){return{buy_total:e.buyNum,remain:e.curNum,type:(0,E.getItemName)(e.itemId+""),give_total:e.prizeNum,no:e.currency}}))}},{key:"destroy",value:function(){(0,C.offBindEvent)(this),this.select_coin_ctrl.destroy(),this.select_item_ctrl.destroy(),this.select_coin_ctrl=void 0,this.select_item_ctrl=void 0,(0,p.default)((0,g.default)(n.prototype),"destroy",this).call(this)}}],[{key:"preEnter",value:function(){return O(this,void 0,void 0,f.default.mark((function e(){var t;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.default.director.openDialog("pop/record/itemRecord.scene");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))}},{key:"preLoad",value:function(){return(0,S.loadRes)("pop/record/itemRecord.scene")}}]),n}(x.ui.pop.record.itemRecordUI);t.default=N},96231:function(e,t,n){"use strict";var r=n(1068),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.PaginationEvent=t.PaginationCtrl=void 0;var f=c(n(15375)),d=c(n(17061)),h=c(n(97709)),v=c(n(38191)),p=c(n(52305)),y=n(38182),m=n(33879),g=n(44476),_=n(96530),k=n(52782),b=n(68267);function w(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return S(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,v.default)(this,n)}}var x={Change:"change"};t.PaginationEvent=x;var I=function(e){(0,h.default)(n,e);var t=C(n);function n(e){var r;return(0,f.default)(this,n),(r=t.call(this)).view=e,r.init(),r}return(0,d.default)(n,[{key:"init",value:function(){this.view.removeChildren(),this.pagination=new b.Pagination}},{key:"reset",value:function(){this.pagination.reset()}},{key:"update",value:function(e,t){this.pagination.updateData(e,t),this.render(this.pagination.output(),!1)}},{key:"triggerAction",value:function(e){var t=this.pagination;switch(e){case"prev":t.prev();break;case"next":t.next();break;case"left_spread":t.leftSpread();break;case"right_spread":t.rightSpread();break;default:t.setCurPage(e)}this.render(t.output())}},{key:"render",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.view,a=e.pagination_arr,i=e.page_size,o=e.cur_page,u=e.item_range,l=e.has_prev,s=e.has_next;if(r.removeChildren(),a.length<=1)this.emit(x.Change,{cur:o,page_size:i,range:u,trigger_change:n});else{var c,f=w(a);try{var d=function(){var e=c.value,n=void 0;switch(e){case"prev":(n=A()).disabled=!l;break;case"next":(n=E()).disabled=!s;break;case"left_spread":case"right_spread":n=M();break;default:n=T(e+1,e===o)}n.on("click",null,(function(){t.triggerAction(e)})),r.addChild(n)};for(f.s();!(c=f.n()).done;)d()}catch(e){f.e(e)}finally{f.f()}(0,k.resizeContain)(r,5),r.x=(r.parent.width-r.width)/2,this.emit(x.Change,{cur:o,range:u,trigger_change:n})}}}]),n}(y.EventCom);function A(){var e=new m.Button;e.skin="image/pop/record/btn_pagination1.png",e.stateNum=1,e.label="";var t=new g.Image;return t.skin="image/pop/record/left.png",t.x=23,t.y=8,e.addChild(t),e}function E(){var e=new m.Button;e.skin="image/pop/record/btn_pagination1.png",e.stateNum=1,e.label="";var t=new g.Image;return t.skin="image/pop/record/next.png",t.x=23,t.y=8,e.addChild(t),e}function T(e,t){var n=new m.Button;n.skin="image/pop/record/btn_pagination2.png",n.stateNum=1,n.label="";var r=new _.Label;return r.fontSize=25,r.bold=!0,t?(r.color="#492b00",n.skin="image/pop/record/btn_pagination0.png"):(r.color="#06684a",n.skin="image/pop/record/btn_pagination2.png"),r.align="center",r.valign="middle",r.x=8,r.y=7,r.width=54,r.height=29,r.text=e+"",n.addChild(r),n}function M(){var e=new m.Button;e.skin="image/pop/record/btn_pagination2.png",e.stateNum=1,e.label="";var t=new _.Label;return t.fontSize=25,t.bold=!0,t.color="#06684a",t.align="center",t.valign="middle",t.x=8,t.y=5,t.width=54,t.height=29,t.text="...",e.addChild(t),e}t.PaginationCtrl=I},23728:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.SelectCtrl=void 0;var i=a(n(33032)),o=a(n(15375)),u=a(n(17061)),l=n(41107),s=n(52782),c=function(){function e(t,n){(0,o.default)(this,e),this.select_index=-1,this.select_box=t,this.select_list=n}return(0,u.default)(e,[{key:"init",value:function(){var e=this,t=this.select_box,n=this.select_list;t.on("click",null,(function(){n.visible=!n.visible})),(0,s.onStageClick)(t,(function(){n.visible=!1}),[t,n]),n.list.vScrollBarSkin="",n.list.selectHandler=l.Handler.create(null,(function(t){var r;if(n.visible=!1,-1!==t)if(n.list.array.length){e.select_index=t,n.list.selectedIndex=-1;var a=n.list.array[t];null===(r=e.selected_render)||void 0===r||r.call(e,e.select_box,a)}else n.list.selectedIndex=-1}),null,!1),this.list_render&&(n.list.renderHandler=l.Handler.create(null,this.list_render,null,!1))}},{key:"setRender",value:function(e,t){this.selected_render=e,this.list_render=t}},{key:"setListRender",value:function(e){this.selected_render=e}},{key:"setList",value:function(e){var t=this.select_list;this.array=e,t.list.array=e}},{key:"getList",value:function(){return this.array}},{key:"getCurIndex",value:function(){return this.select_index}},{key:"setCurIndex",value:function(e){var t=this;this.select_index=e,(0,i.default)((function(){t.select_list.list.selectedIndex=e}))}},{key:"getCurData",value:function(){return this.array[this.select_index]}},{key:"destroy",value:function(){this.select_box=void 0,this.select_list=void 0,this.selected_render=void 0}}]),e}();t.SelectCtrl=c},25463:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(66329)),u=i(n(15375)),l=i(n(17061)),s=i(n(45408)),c=i(n(97709)),f=i(n(38191)),d=i(n(52305)),h=i(n(93476)),v=i(n(68700)),p=n(89662),y=n(58465),m=n(84228),g=n(77513);function _(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var k=function(e,t,n,r){return new(n||(n=h.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},b=function(e){(0,c.default)(n,e);var t=_(n);function n(){return(0,u.default)(this,n),t.apply(this,arguments)}return(0,l.default)(n,[{key:"onAwake",value:function(){var e=this;(0,y.onLangChange)(this,(function(){e.initLang()})),this.btn_confirm.on(p.Event.CLICK,this,(function(){e.close()}))}},{key:"initLang",value:function(){this.btn_confirm_label.text=(0,g.tplIntr)("confirm")}},{key:"showReward",value:function(e){var t=this;return new h.default((function(n,r){var a=t.item_num,i=t.item_type,o=t.bullet_icon,u=t.bullet_num,l=t.txt_label;t.close_resolve=n;var s=e.type,c=e.num,f="bullet"===s,d=f?(0,g.tplIntr)("bullet"):s,h=c+"";l.innerHTML=f?(0,g.tplStr)('<div style="width: 392px;height: 32px;line-height:32px;font-size: 24px;color:#d3d6ff;align:center;"><span>{tip}</span><span style="margin-right: 10px;">&nbsp;{name}&nbsp;</span><span color="#ffdd76">{num}</span></div>',{tip:(0,g.tplIntr)("luckyDrawTip2"),name:d,num:"x".concat(c)}):(0,g.tplStr)('<div style="width: 392px;height: 32px;line-height:32px;font-size: 24px;color:#d3d6ff;align:center;"><span>{tip}</span><span color="#ffdd76" style="margin-right: 10px;">&nbsp;{num}&nbsp;</span><span>{name}</span></div>',{tip:(0,g.tplIntr)("luckyDrawTip2"),name:d,num:c}),a.visible=i.visible=o.visible=u.visible=!1,f?(o.visible=u.visible=!0,u.text=h):(a.visible=i.visible=!0,a.text=h,i.text=s.toUpperCase());var v=1/(s.length/4),p=1/(h.length/4);p=p>1?1:p,v=v>.95?.95:v,a.scale(p,p),i.scale(v,v)}))}},{key:"onClosed",value:function(){var e;null===(e=this.close_resolve)||void 0===e||e.call(this)}},{key:"destroy",value:function(){(0,y.offLangChange)(this),(0,s.default)((0,d.default)(n.prototype),"destroy",this).call(this)}}],[{key:"preEnter",value:function(e){return k(this,void 0,void 0,o.default.mark((function t(){var n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.default.director.openDialog("pop/lottery/reward.scene");case 2:return n=t.sent,t.next=5,n.showReward(e);case 5:case"end":return t.stop()}}),t)})))}}]),n}(m.ui.pop.lottery.rewardUI);t.default=b},55088:function(e,t,n){"use strict";var r=n(66890),a=n(1068),i=n(3649),o=n(66419),u=n(65420),l=n(19996),s=n(41511),c=n(52424),f=n(63978),d=n(34074),h=n(8171);f(t,"__esModule",{value:!0}),t.default=t.GunSkinStatus=void 0,t.getItemName=j;var v=h(n(66329)),p=h(n(15375)),y=h(n(17061)),m=h(n(45408)),g=h(n(97709)),_=h(n(38191)),k=h(n(52305)),b=h(n(93476)),w=h(n(81643)),S=h(n(68700)),C=n(899),x=n(89662),I=n(41107),A=n(80356),E=n(58465),T=n(14082),M=n(66058),B=n(84228),L=n(77513),P=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var a={},i=f&&d;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=i?d(e,o):null;u&&(u.get||u.set)?f(a,o,u):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(13817)),O=n(79699),N=h(n(10535));function R(e){if("function"!=typeof c)return null;var t=new c,n=new c;return(R=function(e){return e?n:t})(e)}function U(e,t){var n=void 0!==u&&l(e)||e["@@iterator"];if(!n){if(s(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return G(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return o(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var i=(0,k.default)(this).constructor;n=a(r,arguments,i)}else n=r.apply(this,arguments);return(0,_.default)(this,n)}}var F,H=function(e,t,n,r){return new(n||(n=b.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))};t.GunSkinStatus=F,function(e){e[e.NoHave=0]="NoHave",e[e.Have=1]="Have",e[e.Used=2]="Used"}(F||(t.GunSkinStatus=F={}));var z=function(e){(0,g.default)(n,e);var t=D(n);function n(){var e;return(0,p.default)(this,n),(e=t.apply(this,arguments)).is_init=!1,e.renderGunList=function(t,n){var r=e.gun_list.array[n],a=r.gun_name,i=r.gun_id,o=r.gun_status,u=r.gun_price,l=t.name_label,s=t.icon,c=t.stack_btn,f=t.icon_check,d=t.select_bd;l.text=a,s.skin="image/pop/shop/icon/".concat(i,".png"),c.selectedIndex=o;var h=c.getChildAt(o),v=h.getChildByName("label");f.visible=!1,d.visible=!1,h.offAll(),o===F.NoHave?(v.text=u+"",h.on(x.Event.CLICK,h,(function(){(0,P.buySkinAlert)(u,a).then((function(t){t&&(0,O.buyItem)(i,1,u).then((function(){e.buyGunSkin(i)}))}))}))):o===F.Have?(v.text=(0,L.tplIntr)("use"),h.on(x.Event.CLICK,h,(function(){(0,O.useGunSkin)(i).then((function(){e.useGunSkin(i)}))}))):o===F.Used&&(v.text=(0,L.tplIntr)("inUse"),f.visible=!0,d.visible=!0)},e.renderItemList=function(t,n){var r=e.item_list.array[n],a=r.item_name,i=r.item_id,o=r.item_num,u=r.item_price,l=t.name_label,s=t.icon,c=t.num_label,f=t.price_label,d=t.btn_buy;l.text=a,c.text=o+"",s.skin="image/pop/shop/icon/".concat(i,".png"),f.text=u+"",d.offAll(),d.on(x.Event.CLICK,d,(function(){P.default.preEnter({type:a,id:i,num:o,price:u}).then((function(t){(0,O.buyItem)(t.id,t.num,t.price).then((function(){N.default.tip((0,L.tplIntr)("buySuccess")),e.close()}))}))}))},e}return(0,y.default)(n,[{key:"init",value:function(){var e=this.gun_list,t=this.item_list;e.array=[],t.array=[],e.renderHandler=new I.Handler(e,this.renderGunList,null,!1),t.renderHandler=new I.Handler(t,this.renderItemList,null,!1)}},{key:"onEnable",value:function(){this.is_init||this.init(),this.is_init=!0}},{key:"initData",value:function(e){var t,n=this.gun_list,r=this.item_list,a=e.gun,i=e.item,o=[],u=U(a);try{for(u.s();!(t=u.n()).done;){var l=t.value,s=l.name,c=l.id,f=l.status,d=l.price,h=j(c,s);o.push({gun_name:h,gun_id:c,gun_status:f,gun_price:d})}}catch(e){u.e(e)}finally{u.f()}n.array=o;var v,p=[],y=U(i);try{for(y.s();!(v=y.n()).done;){var m=v.value,g=m.name,_=m.id,k=m.price,b=m.num,w=j(_,g);p.push({item_name:w,item_id:_,item_price:k,item_num:b})}}catch(e){y.e(e)}finally{y.f()}r.array=p}},{key:"useGunSkin",value:function(e){var t,n=U(this.gun_list.array);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.gun_id===e?r.gun_status=F.Used:r.gun_status!==F.NoHave&&(r.gun_status=F.Have)}}catch(e){n.e(e)}finally{n.f()}this.gun_list.refresh()}},{key:"buyGunSkin",value:function(e){var t,n=U(this.gun_list.array);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.gun_id===e){r.gun_status=F.Have;break}}}catch(e){n.e(e)}finally{n.f()}this.gun_list.refresh()}},{key:"onAwake",value:function(){var e=this;(0,E.onLangChange)(this,(function(t){e.initLang(t)}))}},{key:"initLang",value:function(e){var t=this.title,n=this.item_tag,r=this.skin_tag,a=(0,L.covertLang)(e);t.skin="image/international/title_shop_".concat(a,".png"),n.text=(0,L.tplIntr)("item"),r.text=(0,L.tplIntr)("skin")}},{key:"destroy",value:function(){(0,E.offLangChange)(this),(0,m.default)((0,k.default)(n.prototype),"destroy",this).call(this)}}],[{key:"preEnter",value:function(){return H(this,void 0,void 0,v.default.mark((function e(){var t,n;return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A.AudioCtrl.play(T.AudioRes.PopShow),e.next=3,S.default.director.openDialog("pop/shop/shop.scene");case 3:return t=e.sent,e.next=6,(0,O.getShopInfo)();case 6:return n=e.sent,t.initData(n),e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})))}},{key:"preLoad",value:function(){return(0,C.loadRes)("pop/shop/shop.scene")}}]),n}(B.ui.pop.shop.shopUI);function j(e,t){var n="";t&&-1!==(null==t?void 0:(0,w.default)(t).call(t,"皮肤"))&&(n=t.replace("皮肤",""));return(e===M.SkillMap.LockFish?(0,L.tplIntr)("lock"):e===M.SkillMap.Freezing?(0,L.tplIntr)("freeze"):e===M.SkillMap.Bomb?(0,L.tplIntr)("bomb"):e===M.SkillMap.Bullet?(0,L.tplIntr)("bullet"):(0,L.tplIntr)("skin"))+n}t.default=z},10535:function(e,t,n){"use strict";var r=n(1068),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.default=void 0;var f=c(n(66329)),d=c(n(24142)),h=c(n(15375)),v=c(n(17061)),p=c(n(97709)),y=c(n(38191)),m=c(n(52305)),g=c(n(93476)),_=c(n(51942)),k=c(n(39291)),b=c(n(33032)),w=c(n(81643)),S=c(n(92762)),C=c(n(77766)),x=c(n(72119)),I=c(n(68700)),A=n(80356),E=n(14082),T=n(84228),M=n(90564),B=n(45359);function L(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return P(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,m.default)(e);if(t){var i=(0,m.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,y.default)(this,n)}}var N=function(e,t,n,r){return new(n||(n=g.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},R={count:2,click_through:!0,auto_hide:!0},U=function(e){(0,p.default)(n,e);var t=O(n);function n(){var e;return(0,h.default)(this,n),(e=t.apply(this,arguments)).count_is_stop=!1,e._zOrder=1001,e}return(0,v.default)(n,[{key:"zOrder",get:function(){return this._zOrder},set:function(e){this._zOrder=e}},{key:"onAwake",value:function(){var e=this.html_div;e.style.fontSize=24,e.style.color="#fff",e.style.align="center",e.style.valign="middle",e.style.stroke=2,e.style.leading=5,e.style.strokeColor="#000",e.style.fontWeight="bold",e.style.whiteSpace="nowrap",e.y=40,e.x=40}},{key:"onResize",value:function(e,t){this.width=e,this.height=t,this.pivotX=e/2,this.pivotY=t/2}},{key:"tip",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new g.default((function(r,a){if(!e)return r();var i=n=(0,_.default)((0,_.default)({},R),n),o=i.count,u=i.show_count,l=i.click_through,s=i.auto_hide,c=(0,k.default)(i);t.mouseThrough=l;!function n(){(0,B.clearCount)(t.count_id,!0),t.count_id=(0,B.startCount)(o,1,(function(a){if(!t.count_is_stop){if(u){var i=Math.floor(o*a);t.setTipText(e,"".concat(i))}0===a&&(c?n():s&&t.close(),(0,b.default)((function(){r()})))}}))}(),t.show(),t.setTipText(e,u?"".concat(o):"",!0)}))}},{key:"stopCountAndClose",value:function(){(0,B.clearCount)(this.count_id,!0),this.count_is_stop=!0,this.close()}},{key:"onClosed",value:function(){var e,t,r=(0,w.default)(e=n.instances).call(e,this);-1!==r&&(0,S.default)(t=n.instances).call(t,r,1);n.instancesRemove(this)}},{key:"setTipText",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.html_div,o=this.bg,u=this.inner,l=this.jsonToHtml(e);i.innerHTML=(0,C.default)(t="".concat(l," ")).call(t,r);var s=i.contextWidth+80,c=i.contextHeight+80;u.width=o.width=s,u.height=o.height=c,a&&n.instancesAdd(this)}},{key:"jsonToHtml",value:function(e){if("string"==typeof e)return e;var t,n="",r=L(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,i='<span style="color:{color};">{msg}</span>';for(var o in a){if("<br/>"===a[o])i="<br/>";else{var u=new RegExp("{"+o+"}","g");i=i.replace(u,a[o])}}n+=i}}catch(e){r.e(e)}finally{r.f()}return n}}],[{key:"tip",value:function(e,t,n){var r;return N(this,void 0,void 0,f.default.mark((function a(){var i;return f.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=n||{},A.AudioCtrl.play(E.AudioRes.PopShow),a.next=4,I.default.director.openDialog("pop/alert/tip.scene",(0,_.default)({stay_scene:!1,use_exist:!1},n));case 4:return i=a.sent,null===(r=null==t?void 0:t.on_instance_create)||void 0===r||r.call(t,i),a.abrupt("return",i.tip(e,t));case 7:case"end":return a.stop()}}),a)})))}},{key:"instancesAdd",value:function(e){var t,n,r=(0,w.default)(t=this.instances).call(t,e);-1!==r&&(0,S.default)(n=this.instances).call(n,r,1);this.instances.unshift(e),this.organizeInstance(e)}},{key:"instancesRemove",value:function(e){var t,n,r=(0,w.default)(t=this.instances).call(t,e);-1!==r&&(0,S.default)(n=this.instances).call(n,r,1);this.organizeInstance()}},{key:"organizeInstance",value:function(e){return N(this,void 0,void 0,f.default.mark((function t(){var n,r,a,i,o,u,l,s,c,h,v,p,y,m,g,_,k,b,w;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.instances,r=20,a=0,i=L((0,x.default)(n).call(n));try{for(i.s();!(o=i.n()).done;)u=(0,d.default)(o.value,2),l=u[0],s=u[1],a+=s.inner.height,l!==n.length-1&&(a+=r)}catch(e){i.e(e)}finally{i.f()}c=L((0,x.default)(n).call(n)),t.prev=6,c.s();case 8:if((h=c.n()).done){t.next=33;break}v=(0,d.default)(h.value,2),p=v[0],y=v[1],m=0,g=L((0,x.default)(n).call(n)),t.prev=12,g.s();case 14:if((_=g.n()).done){t.next=22;break}if(k=(0,d.default)(_.value,2),b=k[0],w=k[1],b!==p){t.next=19;break}return m+=w.inner.height/2,t.abrupt("break",22);case 19:m+=w.inner.height+r;case 20:t.next=14;break;case 22:t.next=27;break;case 24:t.prev=24,t.t0=t.catch(12),g.e(t.t0);case 27:return t.prev=27,g.f(),t.finish(27);case 30:e===y?e.inner.centerY=m-a/2:(0,M.tween)({sprite:y.inner,end_props:{centerY:m-a/2},time:200});case 31:t.next=8;break;case 33:t.next=38;break;case 35:t.prev=35,t.t1=t.catch(6),c.e(t.t1);case 38:return t.prev=38,c.f(),t.finish(38);case 41:case"end":return t.stop()}}),t,this,[[6,35,38,41],[12,24,27,30]])})))}}]),n}(T.ui.pop.alert.tipUI);t.default=U,U.instances=[]},65710:function(e,t,n){"use strict";var r=n(1068),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.default=void 0;var f=c(n(66329)),d=c(n(15375)),h=c(n(17061)),v=c(n(97709)),p=c(n(38191)),y=c(n(52305)),m=c(n(93476)),g=n(24629),_=c(n(68700)),k=n(22833),b=n(80356),w=n(14082),S=n(84228),C=n(90564),x=n(45359);function I(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return A(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,y.default)(e);if(t){var i=(0,y.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,p.default)(this,n)}}var T=function(e,t,n,r){return new(n||(n=m.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},M=function(e){(0,v.default)(n,e);var t=E(n);function n(){var e;return(0,d.default)(this,n),(e=t.call(this)).isShowEffect=!1,e.isPopupCenter=!1,e.zOrder=100,e}return(0,h.default)(n,[{key:"tip",value:function(e,t){var n=this;return new m.default((function(r,a){if(!e)return r();(0,x.startCount)(t,1,(function(e){0===e&&(n.close(),r())})),n.analysisSize(e),n.setTipText(e)}))}},{key:"analysisSize",value:function(e){var t=this.label,n=this.bg,r=e.split("\n"),a=r.length,i=100+18*function(e){var t,n=[],r=I(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push((0,k.getStringLength)(a))}}catch(e){r.e(e)}finally{r.f()}return Math.max.apply(this,n)}(r),o=30+30*a;i=i>750?i:750,o=o>70?o:70,this.width=t.width=n.width=i,this.height=t.height=n.height=o,this.x=(g.Laya.stage.width-this.width)/2}},{key:"setTipText",value:function(e){this.label.text=e,(0,C.slide_down_in)(this)}}],[{key:"tip",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return T(this,void 0,void 0,f.default.mark((function n(){var r;return f.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return b.AudioCtrl.play(w.AudioRes.PopShow),n.next=3,_.default.director.openDialog("pop/alert/topTip.scene");case 3:return r=n.sent,this.instance=r,n.next=7,r.tip(e,t);case 7:case"end":return n.stop()}}),n,this)})))}},{key:"hide",value:function(){return T(this,void 0,void 0,f.default.mark((function e(){var t;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null==(t=this.instance)?void 0:t.visible)&&(null==t||t.close());case 2:case"end":return e.stop()}}),e,this)})))}}]),n}(S.ui.pop.alert.topTipUI);t.default=M},94133:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(15375)),u=i(n(17061)),l=i(n(45408)),s=i(n(97709)),c=i(n(38191)),f=i(n(52305)),d=i(n(68700)),h=n(80356),v=n(58465),p=n(14082),y=n(11263),m=n(84228),g=n(3735),_=i(n(63323)),k=n(77513);function b(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var w=function(e){(0,s.default)(n,e);var t=b(n);function n(){var e;return(0,o.default)(this,n),(e=t.apply(this,arguments)).onMusicChange=function(e){y.modelState.app.setting.setMusic(e)},e.onVoiceChange=function(e){y.modelState.app.setting.setVoice(e)},e}return(0,u.default)(n,[{key:"onAwake",value:function(){var e=this;(0,v.onLangChange)(this,(function(){e.initLang()}));var t=y.modelState.app.setting,n=t.voice,r=t.music,a=this.music_progress,i=this.voice_progress,o=this.version,u=new _.default(a,this.onMusicChange),l=new _.default(i,this.onVoiceChange);l.setProgress(n),u.setProgress(r),this.music_ctrl=u,this.voice_ctrl=l,o.text=(0,g.formatDateTime)(Number(window.version),"YYYY/MM/DD HH:mm")}},{key:"destroy",value:function(){var e=this.music_ctrl,t=this.voice_ctrl;(0,v.offLangChange)(this),e.destroy(),t.destroy(),this.music_ctrl.destroy(),this.voice_ctrl.destroy(),(0,l.default)((0,f.default)(n.prototype),"destroy",this).call(this)}},{key:"initLang",value:function(){var e=this.sound_label,t=this.music_label;this.title.text=(0,k.tplIntr)("volumeSetting"),e.text=(0,k.tplIntr)("soundEffects"),t.text=(0,k.tplIntr)("music")}}],[{key:"preEnter",value:function(){d.default.director.openDialog("pop/alert/voice.scene",{use_exist:!0}),h.AudioCtrl.play(p.AudioRes.PopShow)}}]),n}(m.ui.pop.alert.voiceUI);t.default=w},43838:function(e,t,n){"use strict";var r=n(1068),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.default=void 0;var f=c(n(66329)),d=c(n(24142)),h=c(n(15375)),v=c(n(17061)),p=c(n(45408)),y=c(n(97709)),m=c(n(38191)),g=c(n(52305)),_=c(n(93476)),k=c(n(72119)),b=c(n(62462)),w=c(n(77766)),S=n(72649),C=n(13845),x=c(n(68700)),I=n(6893),A=n(89662),E=n(85399),T=n(45840),M=n(58465),B=n(84228),L=n(90564),P=n(45359),O=n(64467),N=n(80323),R=n(55161),U=n(77513),G=c(n(10535)),D=n(70903),F=n(48652),H=n(59446),z=n(69213),j=c(n(95665));function V(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return K(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,g.default)(e);if(t){var i=(0,g.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,m.default)(this,n)}}var W=function(e,t,n,r){return new(n||(n=_.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},X=function(e){(0,y.default)(n,e);var t=Y(n);function n(){var e;return(0,h.default)(this,n),(e=t.apply(this,arguments)).task_arr=[],e.bg_num=1,e}return(0,v.default)(n,[{key:"onEnable",value:function(){var e=this;(0,M.onLangChange)(this,(function(t){e.initLang(t)}))}},{key:"initLang",value:function(e){}},{key:"setTrialStyle",value:function(){}},{key:"showBubbleRefresh",value:function(e){var t=this.bubble_overlay,n=this.bg,r=this.bubble_wall,a=this.bubble_ani;e||(e=this.bg_num),this.bg_num=e,n.skin="image/game/normal_bg/bg".concat(e,".jpg"),a.url="image/game/bg_normal".concat(e,".sk"),r.visible=!1,t.visible=!0,(0,U.playSkeletonOnce)(t,"out").then((function(){t.visible=!1,(0,L.fade_in)(r,300,"",.3),(0,U.playSkeleton)(r,2,!0)}))}},{key:"onResize",value:function(e,t){var n=this.width,r=this.height,a=this.ctrl_box;this.x=(e-n)/2,this.y=(t-r)/2,e>1334&&(e=1334),a.width=e}},{key:"showTaskPanel",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n&&G.default.tip((0,U.tplIntr)("taskStartTip"));var r=this.task_panel,a=this.task_award_num,i=this.task_time_num;(0,L.scale_in)(r,300,T.Ease.bounceOut),r.visible=!0,a.text=e.award+"",i.text=(0,N.formatTime)(e.taskTime,2),(0,P.clearCount)(this.countId),this.countId=(0,P.startCount)(e.taskTime,1,(function(t){var n=Math.floor(e.taskTime*t);i.text=(0,N.formatTime)(n,2)}));var o,u=[],l=(0,N.getChildrenByName)(r,"task_item"),s=V((0,k.default)(t=e.list).call(t));try{for(s.s();!(o=s.n()).done;){var c=(0,d.default)(o.value,2),f=c[0],h=c[1],v=l[f],p=v.getChildByName("task_name");v.visible=!0;var y=v.getChildByName("task_num");p.skin="image/pop/help/fish".concat(h.fishId,".png"),y.text="0/".concat(h.killNumber),u.push(h.fishId)}}catch(e){s.e(e)}finally{s.f()}this.task_arr=u}},{key:"updateTaskPanel",value:function(e){var t,n=this,r=this.task_panel,a=e.list,i=(0,N.getChildrenByName)(r,"task_item"),o=V(a);try{var u=function(){var e,r,a=t.value,o=(0,b.default)(e=n.task_arr).call(e,(function(e){return e===a.fishId}));i[o].getChildByName("task_num").text=(0,w.default)(r="".concat(a.reachNumber,"/")).call(r,a.killNumber)};for(o.s();!(t=o.n()).done;)u()}catch(e){o.e(e)}finally{o.f()}}},{key:"taskFinish",value:function(e){return W(this,void 0,void 0,f.default.mark((function t(){var n,r,a,i,o,u,l,s;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.task_panel,r=this.ani_wrap,this.hideTaskPanel(),a=(0,N.getChildrenByName)(n,"task_item"),i=V(a);try{for(i.s();!(o=i.n()).done;)o.value.visible=!1}catch(e){i.e(e)}finally{i.f()}if(e.isComplete){t.next=7;break}return t.abrupt("return");case 7:return u=n.width,l=n.height,s=n.localToGlobal(new E.Point(u/2,l/2),!0),s=r.globalToLocal(s,!0),G.default.tip((0,U.tplIntr)("taskCompletedTip",{score:e.award})),t.next=13,(0,H.showAwardCircle)(s,e.award,!0);case 13:case"end":return t.stop()}}),t,this)})))}},{key:"hideTaskPanel",value:function(){(0,P.clearCount)(this.countId);var e=this.task_panel;(0,L.fade_out)(e)}},{key:"upSideDown",value:function(){var e=this.pool,t=this.gun_wrap,n=this.ani_wrap,r=this.ani_overlay;e.scaleY=t.scaleY=r.scaleY=n.scaleY=-1,this.upside_down=!0}},{key:"addFish",value:function(e){var t=this.pool,n=this.upside_down,r=e.horizon_turn,a=new z.FishView(e,t);return r&&n&&(a.scaleY=-1),t.addChild(a),a}},{key:"addBullet",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.pool,a=(0,O.getSpriteInfo)("bullet",e),i=a.path;return t=n?(0,I.createSkeleton)("".concat(i,"_rage")):(0,D.createSkeletonPool)("bullet",e),r.addChild(t),t.visible=!1,t}},{key:"addNet",value:function(e){var t=this.pool,n=(0,D.createSkeletonPool)("net",e);return t.addChild(n),n}},{key:"onPoolClick",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.offPoolClick();var n=new S.Observable((function(t){var n=e.pool,r=function(e){var r=n.getMousePoint(),a=r.x,i=r.y;e.stopPropagation(),t.next({x:a,y:i})};t.add((function(){n.off(A.Event.CLICK,n,r)})),n.on(A.Event.CLICK,n,r),e.pool_click_observer=t}));return t?n.pipe((0,C.first)()):n}},{key:"offPoolClick",value:function(){var e=this.pool_click_observer;e&&(e.unsubscribe(),this.pool_click_observer=void 0)}},{key:"onFishClick",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.offFishClick();var n=new S.Observable((function(t){var n=e.pool,r=function(e){e.stopPropagation();var n=e.target;if(n instanceof z.FishView){var r=n.info,a=r.id,i=r.group_id;t.next({id:a,group_id:i})}};t.add((function(){n.off(A.Event.CLICK,n,r)})),n.on(A.Event.CLICK,n,r),e.fish_click_observer=t}));return t?n.pipe((0,C.first)()):n}},{key:"offFishClick",value:function(){var e=this.fish_click_observer;e&&(e.unsubscribe(),this.fish_click_observer=void 0)}},{key:"addGun",value:function(){var e=this.gun_wrap,t=new j.default;return e.addChild(t),t}},{key:"setScorePanelVisible",value:function(e,t){var n=e?this.my_score_panel:this.other_score_panel;e&&console.log("test:>setScorePanelVisible:>start",t),t?(0,L.fade_in)(n,200):(0,L.fade_out)(n,200)}},{key:"setBulletScoreNum",value:function(e,t,n){var r,a=e?this.my_score_panel:this.other_score_panel,i=a.getChildByName("bullet_num"),o=a.getChildByName("score_num");i.text=(0,w.default)(r="".concat((0,U.tplIntr)("NumBullet"),": ")).call(r,t),o.text=n+""}},{key:"getSkillItemByIndex",value:function(e){return this.skill_box.skill_list.getChildAt(e)}},{key:"getAutoShootSkillItem",value:function(){return this.skill_box.auto_shoot}},{key:"setAutoShootLight",value:function(e){var t=(0,M.getLang)(),n=(0,U.covertLang)(t);this.skill_box.auto_shoot_light.visible=e;var r=e?"auto_cancel_".concat(n):"auto_".concat(n);this.skill_box.auto_shoot_txt.skin="image/international/".concat(r,".png")}},{key:"getPoolMousePos",value:function(){return this.pool.getMousePoint()}},{key:"destroy",value:function(){try{(0,P.clearCount)(this.countId),(0,M.offLangChange)(this),(0,p.default)((0,g.default)(n.prototype),"destroy",this).call(this)}catch(e){(0,R.error)(e)}}}],[{key:"preEnter",value:function(e){return W(this,void 0,void 0,f.default.mark((function t(){var n,r,a;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.default.director.runScene("scenes/arena/game.scene",e);case 2:return n=t.sent,r=n.ani_wrap,a=n.ani_overlay,(0,U.setProps)(F.viewState,{game:n,ani_wrap:r,ani_overlay:a}),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))}}]),n}(B.ui.scenes.arena.gameUI);t.default=X},81756:function(e,t,n){"use strict";var r=n(66890),a=n(52424),i=n(63978),o=n(34074),u=n(8171);i(t,"__esModule",{value:!0}),t.activeAim=function(e){var t=k("aim_big");(0,p.playSkeleton)(t,0,!0),t.pos(e.x,e.y)},t.activeAimFish=function(e,t,n){if(!e)return;var r=k("aim"),a=g.fish,i=e.pos;a&&(a.event.offAllCaller(r),(0,v.log)(a.event.getBind("FishEvent.Move"),a.id));g.fish=e,g.ori_pos=n,w(),e.visible&&((0,p.playSkeleton)(r,0,!0),r.pos(i.x,i.y));e.event.on(d.FishEvent.VisibleChange,(function(e){e?((0,p.playSkeleton)(r,0,!0),r.pos(i.x,i.y)):(0,p.stopSkeleton)(r)}),r),e.event.on(d.FishEvent.Move,(function(e){var a=e.pos,i=a.x,o=a.y;r.pos(i,o),t&&b({x:i,y:o},n)}),r),e.event.on(d.FishEvent.Destroy,(function(){_("aim"),e.event.offAllCaller(r)}),r)},t.createPoints=b,t.stopAim=_;var l=u(n(39392)),s=u(n(92762)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},u=i&&o;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=u?o(e,l):null;s&&(s.get||s.set)?i(a,l,s):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(86116)),f=n(6893),d=n(3828),h=n(64467),v=n(55161),p=n(77513),y=n(48652);function m(e){if("function"!=typeof a)return null;var t=new a,n=new a;return(m=function(e){return e?n:t})(e)}var g={point_list:[],points_temp:[],aim_ani_map:new l.default};function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"aim",t=g.aim_ani_map,n=g.fish,r=g.point_list,a=t.get(e);a&&(a.stop(),a.removeSelf()),"aim"===e&&(r.length&&(g.ori_pos=void 0,w()),n&&(n.event.offAllCaller(a),g.fish=void 0))}function k(e){var t=g.aim_ani_map,n=y.viewState.ani_wrap,r=t.get(e);return!r||r.destroyed?(r=(0,h.createSprite)("other",e),n.addChild(r),t.set(e,r)):r.parent||n.addChild(r),r}function b(e,t){var n=g.point_list,r=y.viewState.ani_wrap,a=new c.Vector(e.x-t.x,e.y-t.y),i=a.len(),o=a.clone().normalize(),u=Math.ceil(i/50);!function(e){var t=g.point_list,n=g.points_temp,r=t.length;if(r<e)for(var a=r;a<e;a++){var i=n.pop()||(0,f.createImg)("image/game/aim_point");i.pivot(9.5,9.5),t.push(i)}else if(r>e)for(var o=r-1;o>=e;o--){var u=t[o];u.removeSelf(),n.push(u),(0,s.default)(t).call(t,o,1)}}(u);for(var l=0;l<u;l++){var d=n[l],h=o.clone().scale(50*l,50*l),v=t.x+h.x,p=t.y+h.y;d.x=v,d.y=p,r.addChild(d)}}function w(){for(var e=g.point_list,t=g.points_temp,n=e.length-1;n>=0;n--){var r=e[n];r.removeSelf(),t.push(r),(0,s.default)(e).call(e,n,1)}}},59446:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.scale_in=y,t.showAwardCircle=function(e,t,n,r,a){return p(this,void 0,void 0,i.default.mark((function u(){var g=this;return i.default.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",new o.default((function(o,u){return p(g,void 0,void 0,i.default.mark((function u(){var p,g,_,k,b;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return p=h.viewState.ani_overlay,g=(0,v.createAni)("award_circle"),_=h.viewState.game.upside_down,k=1,_?(g.scaleY=-1,k=-1):g.scaleY=1,e=(0,v.calcPosRange)(e,135,135),s.AudioCtrl.play(c.AudioRes.FlySkill),b=m(e,t,n),p.addChild(g),(0,d.playSkeleton)(g,0,!1),g.pos(e.x,e.y),i.next=13,y(b,{x:1.5*Math.abs(k),y:1.5*k},400,(function(e,t,n,i){return l.Ease.elasticOut(e,t,n,i,r,a)}));case 13:(0,f.tweenLoop)({sprite:b,props_arr:[{rotation:0},{rotation:-30},{rotation:0},{rotation:30}],time:80,step_fn:function(e){10===e&&((0,v.tempAni)("award_circle",g),b.destroy(),(0,f.stopAni)(b),o(void 0))}});case 14:case"end":return i.stop()}}),u)})))})));case 1:case"end":return u.stop()}}),u)})))};var i=a(n(66329)),o=a(n(93476)),u=n(96530),l=n(45840),s=n(80356),c=n(14082),f=n(90564),d=n(77513),h=n(48652),v=n(44560),p=function(e,t,n,r){return new(n||(n=o.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))};function y(e,t,n,r){return p(this,void 0,void 0,i.default.mark((function a(){var o,u;return i.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,f.completeAni)(e);case 2:return r=r||"circleIn",n=n||400,o={alpha:.2,scaleX:.2*t.x,scaleY:.2*t.y,visible:!0},u={alpha:1,scaleX:1*t.x,scaleY:1*t.y},a.abrupt("return",(0,f.tween)({sprite:e,start_props:o,end_props:u,time:n,ease_fn:r}));case 7:case"end":return a.stop()}}),a)})))}function m(e,t,n){var r=h.viewState.ani_overlay,a=h.viewState.game.upside_down,i=new u.Label;i.zOrder=10,i.font=n?"numYellow40":"numWhite40",i.text="+"+t,r.addChild(i);var o=i.getBounds();return i.pivot(o.width/2,o.height/2),i.pos(e.x,e.y),a&&(i.scaleY=-1),i}},44560:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.calcPosRange=_,t.createAni=w,t.createAwardCoin=m,t.showAwardCoin=function(e,t,n,r){return y(this,void 0,void 0,i.default.mark((function a(){var o,u,l;return i.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=m(e,n),u=o.coins,l=o.pos,(0,d.sleep)(.5).then((function(){g(l,n,r)})),a.next=4,k(u,t);case 4:case"end":return a.stop()}}),a)})))},t.showAwardNum=g,t.tempAni=S;var i=a(n(66329)),o=a(n(93476)),u=a(n(2991)),l=a(n(97093)),s=n(24629),c=n(89662),f=n(96530),d=n(90564),h=n(64467),v=n(77513),p=n(48652),y=function(e,t,n,r){return new(n||(n=o.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))};function m(e,t){var n=p.viewState.ani_overlay,r=t/8>=8?8:Math.ceil(t/8),a=r>4?2:1,i=Math.ceil(r/a),o=[];e=_(e,(10*(i-1)+70*i)/2,(10*(a-1)+70*a)/2);for(var u=0;u<i;u++)for(var l=0;l<a;l++){var s=w("coin"),c=p.viewState.game.upside_down;s.scaleY=c?-1:1,s.visible=!1,n.addChild(s);var f=e.x+80*(2*u+1-i)/2,d=e.y+80*(2*l+1-a)/2;s.play(0,!0),s.pos(f,d),o.push(s)}return{coins:o,pos:e}}function g(e,t,n){var r=p.viewState.ani_overlay,a=p.viewState.game.upside_down,i=w("award_light"),o=new f.Label;i.zOrder=5,o.zOrder=10,o.font=n?"numYellow40":"numWhite40",o.text="+"+t,a&&(o.scaleY=-1),r.addChild(o),r.addChild(i);var u=o.getBounds();o.pivot(u.width/2,u.height/2),o.pos(e.x,e.y),i.pos(e.x,e.y),i.once(c.Event.STOPPED,i,(function(){o.destroy(),i.destroy(),S("award_light",i)})),i.play(0,!1)}function _(e,t,n){var r=e.x,a=e.y,i=p.viewState.ani_overlay,o=s.Laya.stage.width,u=s.Laya.stage.height,l=(i.width-o)/2,c=l+o;return r-t<l?r=l+t:r+t>c&&(r=c-t),a-n<0?a=n:a+n>u&&(a=u-n),{x:r,y:a}}function k(e,t){var n,r=this,a=(0,u.default)(n=(0,l.default)(e).call(e)).call(n,(function(e,n){return y(r,void 0,void 0,i.default.mark((function r(){var a;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a={x:e.x,y:e.y},r.next=3,(0,d.slide_up_in)(e,500);case 3:return r.next=5,(0,d.sleep)(.5+.2*n);case 5:return r.next=7,(0,d.move)(e,a,t,500);case 7:e.removeSelf(),S("coin",e);case 9:case"end":return r.stop()}}),r)})))}));return o.default.all(a)}var b={};function w(e){var t=b[e];t||(t=[],b[e]=[]);var n=t.pop();return n&&!n.destroyed||(n=(0,h.createSprite)("other",e)),(0,v.playSkeleton)(n,0,!0),n}function S(e,t){var n=b[e];n||(n=[],b[e]=[]),t.removeSelf(),t.stop(),n.push(t)}},38703:function(e,t,n){"use strict";var r=n(3649),a=n(66419),i=n(65420),o=n(19996),u=n(41511),l=n(63978),s=n(8171);l(t,"__esModule",{value:!0}),t.awardSkill=function(e,t,n,r){return k(this,void 0,void 0,c.default.mark((function a(){var i,o,u;return c.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:i=g(n),a.prev=1,u=c.default.mark((function n(){var a,i,u,l,s;return c.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=o.value,i=a.itemNum,u=a.itemId,l=S(),"3001"===u?(s=(0,h.getCurrencyIcon)(r),l.setIcon(s)):l.setId(u),l.setNum(i),l.pos(e.x,e.y),n.next=8,(0,v.fade_in)(l).then((function(){return(0,v.sleep)(.5)})).then((function(){return(0,v.tween)({sprite:l,start_props:e,end_props:(0,d.default)((0,d.default)({},t),{alpha:.2,scaleX:.4,scaleY:.4*l.scaleY}),time:2e3}).then((function(){w(l)}))}));case 8:case"end":return n.stop()}}),n)})),i.s();case 4:if((o=i.n()).done){a.next=8;break}return a.delegateYield(u(),"t0",6);case 6:a.next=4;break;case 8:a.next=13;break;case 10:a.prev=10,a.t1=a.catch(1),i.e(a.t1);case 13:return a.prev=13,i.f(),a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[1,10,13,16]])})))};var c=s(n(66329)),f=s(n(93476)),d=s(n(51942)),h=n(54375),v=n(90564),p=n(77513),y=s(n(79967)),m=n(48652);function g(e,t){var n=void 0!==i&&o(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return _(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return a(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,s=function(){};return{s:s,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=function(e,t,n,r){return new(n||(n=f.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},b=[];function w(e){e.removeSelf(),e.unHighlight(),e.scaleY=1,b.push(e)}function S(){var e=m.viewState.ani_overlay,t=m.viewState.game.upside_down,n=b.pop();return n&&!n.destroyed||(n=new y.default).pivot(n.width/2,n.height/2),(0,p.setProps)(n,{scaleX:1,alpha:1,scaleY:t?-1:1}),e.addChild(n),n.highlight(),n}},1141:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.activeExploding=function(e){var t=(n=i.viewState.ani_wrap,u=(0,o.createSkeletonPool)("other","exploding"),u.scale(2,2),u.pos(n.width/2,n.height/2),n.addChild(u),u.alpha=.8,u);var n,u;t.once(r.Event.STOPPED,t,(function(){(0,o.recoverSkeletonPool)("other","exploding",t)})),t.pos(e.x,e.y),(0,a.playSkeleton)(t,0,!1)};var r=n(89662),a=n(77513),i=n(48652),o=n(70903)},32354:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.activeFreeze=function(){l(),r.once(a.Event.STOPPED,r,(function(){s()})),(0,o.playSkeleton)(r,0,!1)},t.loopFreeze=s,t.stopFreeze=function(){r.offAll(),r.stop(),r.removeSelf()};var r,a=n(89662),i=n(64467),o=n(77513),u=n(48652);function l(){var e=u.viewState.ani_wrap,t=u.viewState.game.upside_down;!r||r.destroyed?((r=(0,i.createSprite)("other","freezing")).pos(e.width/2,e.height/2),e.addChild(r),r.alpha=.8,t&&(r.scaleY=-1)):r.parent||e.addChild(r)}function s(){l(),(0,o.playSkeleton)(r,1,!0)}},4058:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.activePosTip=function(){return function(){var e=(0,a.getLang)(),t=o.viewState.ani_overlay,n=o.viewState.game.upside_down;r&&!r.destroyed||(r=(0,u.createAni)("pos_tip"));r.parent||t.addChild(r);r.scaleX=n?-1:1,(0,i.playSkeleton)(r,e,!0)}(),r},t.stopPosTip=function(){if(!r&&r.destroyed)return;(0,u.tempAni)("pos_tip",r)};var r,a=n(58465),i=n(77513),o=n(48652),u=n(44560)},40163:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.activeShoalWave=function(e){return new o.default((function(t,n){var r;r=c.viewState.ani_wrap,!i||i.destroyed?((i=(0,l.createSprite)("other","shoal_wave")).scale(2,2),i.pos(r.width/2,r.height/2),r.addChild(i),i.alpha=.8):i.parent||r.addChild(i),i.once(u.Event.STOPPED,i,(function(){f(),t()})),i.scaleX=e?2:-2,(0,s.playSkeleton)(i,0,!1)}))},t.stopShoalWave=f;var i,o=a(n(93476)),u=n(89662),l=n(64467),s=n(77513),c=n(48652);function f(){i.offAll(),i.stop(),i.removeSelf()}},69213:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.FishView=void 0;var o=i(n(51942)),u=i(n(93476)),l=i(n(33032)),s=i(n(24142)),c=i(n(15375)),f=i(n(17061)),d=i(n(89395)),h=i(n(45408)),v=i(n(97709)),p=i(n(38191)),y=i(n(52305)),m=n(6893),g=n(78362),_=n(54375),k=n(64467),b=n(54049),w=n(77513),S=n(48652),C=n(70903);function x(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,y.default)(e);if(t){var i=(0,y.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,p.default)(this,n)}}var I=function(e){(0,v.default)(n,e);var t=x(n);function n(e,r){var a;return(0,c.default)(this,n),(a=t.call(this)).info=e,a.pool=r,a.mouseEnabled=!0,a.mouseThrough=!1,a.visible=!1,window.fish=(0,d.default)(a),a}return(0,f.default)(n,[{key:"initAni",value:function(){if(!this.fish_ani){var e=this.info.type,t=(0,k.getSpriteInfo)("fish",e),n=t.offset,r=t.turn_ani,a=this.createFishAni(),i=(0,s.default)(n,4),o=i[0],u=i[1],l=i[2],c=i[3],f=u+c,d=o+l,h=c,v=o;this.size(f,d),this.pivot(h,v),a.pos(h,v),this.addChild(a),(0,w.playSkeleton)(a,0,!0),this.fish_ani=a,this.turn_ani=r,this.initShadow(),this.zOrder=Number(e)}}},{key:"createFishAni",value:function(){var e=this.info,t=e.type,n=e.currency,r=(0,k.getSpriteInfo)("fish",t),a=r.coin_flag,i=r.coin_color,o=r.scale,u=(0,C.createSkeletonPool)("fish",t,null,a?1:void 0);if(a){var l=(0,C.createSkeletonPool)("other","coin_light");l.zOrder=10,u.addChild(l),l.scale(1.5,1.5),l.alpha=.6,(0,w.playSkeleton)(l,0,!0),this.coin_light=l;var s=(0,_.getCurrencyIcon)(n);s&&(0,m.createSprite)(s).then((function(e){e.filters=[(0,w.createColorFilter)(i)];var t=e.drawToTexture(e.width,e.height,0,0);u.setSlotSkin("huobi",t)}))}return o&&u.scale(o,o),u}},{key:"initShadow",value:function(){var e=this.pool,t=this.info.type,n=S.viewState.game.upside_down,r=(0,C.createImgPool)("image/game/shadow");r.pivot(r.texture.width/2,r.texture.height/2),e.addChild(r);var a=(0,k.getShadowInfo)(t);this.shadow_node=r,this.shadow_info=n?(0,o.default)((0,o.default)({},a),{y:-a.y}):a,(a.scaleX||a.scaleY)&&r.scale(a.scaleX||1,a.scaleY||1)}},{key:"playSwimAni",value:function(){var e=this.fish_ani,t=this.turn_ani_name;if(e){var n=t||0;(0,w.playSkeleton)(e,n,!0)}}},{key:"stopSwimAni",value:function(){var e=this.fish_ani;e&&(0,w.stopSkeleton)(e)}},{key:"setVisible",value:function(e){this.visible=e,e?(this.initAni(),this.playSwimAni()):this.stopSwimAni()}},{key:"syncPos",value:function(e,t,n){var r=this.turn_ani,a=this.fish_ani,i=this.visible,o=this.shadow_node,u=this.shadow_info;if(i&&o){var l=(0,b.vectorToDegree)(t)+90;if(n){var s=l>0&&l<180;if(r){var c=s?"right":"left";this.turn_ani_name!==c&&(this.turn_ani_name=c,(0,w.playSkeleton)(a,c,!0))}else{(s?-1:1)!==this.scaleX&&(this.scaleX=s?-1:1)}}else this.rotation=l,o.rotation=l+90;this.pos(e.x,e.y),o.pos(e.x+u.x,e.y+u.y)}}},{key:"beCastAni",value:function(){var e=this;return new u.default((function(t,n){var r=e.fish_ani;r&&(r.filters=[(0,w.createRedFilter)()],clearTimeout(e.time_out),e.time_out=(0,l.default)((function(){r.destroyed||(r.filters=[],t(void 0))}),500))}))}},{key:"destroy",value:function(){var e,t,r=this.info.type;(null===(e=null==this?void 0:this.fish_ani)||void 0===e?void 0:e.filters)&&(this.fish_ani.filters=[]),this.destroyed||((null===(t=this.shadow_node)||void 0===t?void 0:t.displayedInStage)&&(this.shadow_node.rotation=0),(0,C.recoverSkeletonPool)("fish",r,this.fish_ani),(0,C.recoverSkeletonPool)("other","coin_light",this.coin_light),(0,C.recoverImgPool)("image/game/shadow",this.shadow_node)),this.fish_ani=void 0,this.shadow_node=void 0,clearTimeout(this.time_out),(0,h.default)((0,y.default)(n.prototype),"destroy",this).call(this)}}]),n}(g.Sprite);t.FishView=I},92606:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(66329)),u=i(n(15375)),l=i(n(17061)),s=i(n(45408)),c=i(n(97709)),f=i(n(38191)),d=i(n(52305)),h=i(n(93476)),v=n(72649),p=n(13845),y=i(n(68700)),m=n(6893),g=n(78362),_=n(89662),k=n(58465),b=n(84228),w=n(90564),S=n(64467),C=n(55161),x=n(77513),I=n(70903),A=n(48652),E=n(69213),T=i(n(95665));function M(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var B=function(e,t,n,r){return new(n||(n=h.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},L=function(e){(0,c.default)(n,e);var t=M(n);function n(){var e;return(0,u.default)(this,n),(e=t.apply(this,arguments)).bg_num=1,e}return(0,l.default)(n,[{key:"onEnable",value:function(){var e=this;(0,k.onLangChange)(this,(function(t){e.initLang(t)}))}},{key:"initLang",value:function(e){var t=(0,x.covertLang)(e),n=this.skill_box.auto_shoot_txt,r=this.skill_box.auto_shoot_light.visible?"auto_cancel_".concat(t):"auto_".concat(t);n.skin="image/international/".concat(r,".png")}},{key:"setTrialStyle",value:function(){this.btn_gift.visible=!1}},{key:"showBubbleRefresh",value:function(e){var t=this.bubble_overlay,n=this.bg,r=this.bubble_wall,a=this.bubble_ani;e||(e=this.bg_num),this.bg_num=e,n.skin="image/game/normal_bg/bg".concat(e,".jpg"),a.url="image/game/bg_normal".concat(e,".sk"),r.visible=!1,t.visible=!0,(0,x.playSkeletonOnce)(t,"out").then((function(){t.visible=!1,(0,w.fade_in)(r,300,"",.3),(0,x.playSkeleton)(r,2,!0)}))}},{key:"onResize",value:function(e,t){var n=this.width,r=this.height,a=this.ctrl_box;this.x=(e-n)/2,this.y=(t-r)/2,e>1334&&(e=1334),a.width=e;var i=1;e<1290&&(i=.8),this.triggerResize(i)}},{key:"triggerResize",value:function(e){if(e!==this.resize_scale){this.bullet_box_pos=e>.8?20:-30,this.setBulletBoxPos(this.bullet_box_dir),this.resize_scale=e;var t=this.btn_gift,n=this.btn_voice,r=this.bullet_box,a=this.btn_leave,i=this.btn_help,o=this.btn_shop,u=this.skill_box;a.x=20*e,t.x=120*e,a.x=20*e,i.right=20*e,n.right=120*e+n.width/2,n.y=10*e+n.height/2,r.scale(e,e),n.scale(e,e),t.scale(e,e),a.scale(e,e),i.scale(e,e),o.scale(e,e),u.scale(e,e)}}},{key:"upSideDown",value:function(){var e=this.pool,t=this.gun_wrap,n=this.ani_wrap,r=this.ani_overlay;e.scaleY=t.scaleY=r.scaleY=n.scaleY=-1,this.upside_down=!0}},{key:"addFish",value:function(e){var t=this.pool,n=this.upside_down,r=e.horizon_turn,a=new E.FishView(e,t);return r&&n&&(a.scaleY=-1),t.addChild(a),a}},{key:"addBullet",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.pool,a=(0,S.getSpriteInfo)("bullet",e),i=a.path;return t=n?(0,m.createSkeleton)("".concat(i,"_rage")):(0,I.createSkeletonPool)("bullet",e),r.addChild(t),t.visible=!1,t}},{key:"addNet",value:function(e){var t=this.pool,n=(0,I.createSkeletonPool)("net",e);return t.addChild(n),n}},{key:"onPoolClick",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.offPoolClick();var n=new v.Observable((function(t){var n=e.pool,r=function(e){var r=n.getMousePoint(),a=r.x,i=r.y;e.stopPropagation(),t.next({x:a,y:i})};t.add((function(){n.off(_.Event.CLICK,n,r)})),n.on(_.Event.CLICK,n,r),e.pool_click_observer=t}));return t?n.pipe((0,p.first)()):n}},{key:"offPoolClick",value:function(){var e=this.pool_click_observer;e&&(e.unsubscribe(),this.pool_click_observer=void 0)}},{key:"onFishClick",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.offFishClick();var n=new v.Observable((function(t){var n=e.pool,r=function(e){e.stopPropagation();var n=e.target;if(n instanceof E.FishView){var r=n.info,a=r.id,i=r.group_id;t.next({id:a,group_id:i})}};t.add((function(){n.off(_.Event.CLICK,n,r)})),n.on(_.Event.CLICK,n,r),e.fish_click_observer=t}));return t?n.pipe((0,p.first)()):n}},{key:"offFishClick",value:function(){var e=this.fish_click_observer;e&&(e.unsubscribe(),this.fish_click_observer=void 0)}},{key:"addGun",value:function(){var e=this.gun_wrap,t=new T.default;return e.addChild(t),t}},{key:"setBulletNum",value:function(e){this.bullet_num.text="".concat((0,x.tplIntr)("NumBullet"),": ")+e}},{key:"getSkillItemByIndex",value:function(e){return this.skill_box.skill_list.getChildAt(e)}},{key:"getAutoShootSkillItem",value:function(){return this.skill_box.auto_shoot}},{key:"setAutoShootLight",value:function(e){var t=(0,k.getLang)(),n=(0,x.covertLang)(t);this.skill_box.auto_shoot_light.visible=e;var r=e?"auto_cancel_".concat(n):"auto_".concat(n);this.skill_box.auto_shoot_txt.skin="image/international/".concat(r,".png")}},{key:"setExchangeRate",value:function(e,t){var n=this.exchange_rate;n.innerHTML=(0,x.tplStr)('<div style="width: 500px;height: 32px;line-height:32px;font-size: 20px;color:#fff;align:center;"><span>1 {name}</span> = <span color="#ffdd76">{rate}</span> <span>{currency}</span> </div>',{name:(0,x.tplIntr)("bullet"),rate:e,currency:t}),n.style.font="20px Arial"}},{key:"setEnergyRadio",value:function(e){var t=this.skill_box.energy_bar,n=t.mask,r=t.width,a=t.height;n||(n=new g.Sprite,t.mask=n),t.mask.graphics.clear(),t.mask.graphics.drawRect(0,0,r*e,a,"#fff")}},{key:"energyLight",value:function(){var e=this.skill_box.energy_light;return new h.default((function(t,n){e.visible=!0,e.on(_.Event.STOPPED,e,(function(){e.visible=!1,t(void 0)})),(0,x.playSkeleton)(e,0,!1)}))}},{key:"setBulletBoxPos",value:function(e){var t=this.bullet_box,n=this.bullet_box_bg,r=this.bullet_box_pos;"left"===e?(t.right=void 0,t.left=r,n.scaleX=1):"right"===e&&(t.right=r,t.left=void 0,n.scaleX=-1),this.bullet_box_dir=e}},{key:"getPoolMousePos",value:function(){return this.pool.getMousePoint()}},{key:"destroy",value:function(){try{(0,k.offLangChange)(this),(0,s.default)((0,d.default)(n.prototype),"destroy",this).call(this)}catch(e){(0,C.error)(e)}}}],[{key:"preEnter",value:function(e){return B(this,void 0,void 0,o.default.mark((function t(){var n,r,a;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.default.director.runScene("scenes/game/game.scene",e);case 2:return n=t.sent,r=n.ani_wrap,a=n.ani_overlay,(0,x.setProps)(A.viewState,{game:n,ani_wrap:r,ani_overlay:a}),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))}}]),n}(b.ui.scenes.game.gameUI);t.default=L},95665:function(e,t,n){"use strict";var r=n(1068),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.default=void 0,t.setGunDirection=L;var f=c(n(20116)),d=c(n(77766)),h=c(n(33032)),v=c(n(24142)),p=c(n(15375)),y=c(n(17061)),m=c(n(97709)),g=c(n(38191)),_=c(n(52305)),k=n(37564),b=n(44517),w=n(64467),S=n(54049),C=n(77513),x=n(84228),I=n(48652),A=n(4058);function E(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return T(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,_.default)(e);if(t){var i=(0,_.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,g.default)(this,n)}}var B=function(e){(0,m.default)(n,e);var t=M(n);function n(){return(0,p.default)(this,n),t.call(this)}return(0,y.default)(n,[{key:"onEnable",value:function(){this.init(),this.setDirection(this.gun_direct)}},{key:"init",value:function(){var e=this.light,t=this.gun,n=this.base,r=this.body;(0,C.stopSkeleton)(e),(0,C.stopSkeleton)(n),(0,C.playSkeleton)(t,"standby",!0),(0,C.playSkeleton)(r,"standby",!0)}},{key:"setMySelfStyle",value:function(){this.ctrl_box.visible=!0,this.activePosTip()}},{key:"setBulletCost",value:function(e){var t=e.skin,n=e.level_skin,r=e.bullet_cost,a=this.gun;this.score_label.text=r+"",this.gun_skin=t;var i,o,u=["base","light","body"],l=(0,w.getGunSkinMap)(t,n),s=(0,f.default)(u).call(u,(function(e){return!l.has(e)})),c=E(l);try{for(c.s();!(o=c.n()).done;){var h,p=(0,v.default)(o.value,2),y=p[0],m=p[1],g=(0,d.default)(h="".concat(y)).call(h,m),_=this[y];"gun"===y&&(i=g),"light"===y&&"3"===t&&(_.alpha=.6),_.url="ani/gun/".concat(g,".sk"),_.visible=!0}}catch(e){c.e(e)}finally{c.f()}var b,S=E(s);try{for(S.s();!(b=S.n()).done;){var x=b.value,I=this[x];I.visible=!1,I instanceof k.Skeleton&&(0,C.stopSkeleton)(this[x])}}catch(e){S.e(e)}finally{S.f()}(0,C.utilSkeletonLoadUrl)(a,"ani/gun/".concat(i,".sk")).then((function(){(0,C.playSkeleton)(a,"standby",!0)})),L(this,a.rotation)}},{key:"fixServerTopPos",value:function(){var e=this.ani_box,t=this.ctrl_wrap;e.rotation=this.rotation=180,t.scaleX=-1}},{key:"fixClientTopPos",value:function(){this.ctrl_wrap.scaleY=-1}},{key:"setDirection",value:function(e){if(e){var t=this.gun,n=(0,S.vectorToDegree)(e)+90;t.rotation=n,this.gun_direct=e,L(this,n)}}},{key:"fire",value:function(e,t){var n=this.gun,r="".concat(t,":fire");(0,b.asyncQue)(r,(function(){return(0,C.playSkeletonOnce)(n,"fire")})).then((function(e){e&&(0,C.playSkeleton)(n,"standby",!0)})),clearTimeout(this.time_out),this.time_out=(0,h.default)((function(){(0,b.clearAsyncQue)("".concat(t,":fire"))}),250),this.setDirection(e)}},{key:"addBullet",value:function(e,t){return(0,I.addBullet)(e,t)}},{key:"detectDisableChangeBulletCost",value:function(){}},{key:"activePosTip",value:function(){var e=(0,A.activePosTip)();this.addChild(e),e.pos(this.width/2,this.height/2)}},{key:"stopPosTip",value:function(){(0,A.stopPosTip)()}},{key:"setPos",value:function(e,t){this.pos(e,t)}}]),n}(x.ui.scenes.game.gunBoxUI);function L(e,t){var n=e.gun_skin,r=e.body;"5"===n&&(r.rotation=t)}t.default=B},79967:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(15375)),u=i(n(17061)),l=i(n(97709)),s=i(n(38191)),c=i(n(52305)),f=n(78362),d=n(66058),h=n(84228),v=n(77513);function p(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var y=function(e){(0,l.default)(n,e);var t=p(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).init(),e}return(0,u.default)(n,[{key:"init",value:function(){var e=this.overlay,t=new f.Sprite;e.cacheAs="bitmap",t.blendMode="destination-out",e.addChild(t),this.cool_mask=t,e.visible=!1}},{key:"setId",value:function(e){var t=this.skill_icon,n=d.SkillNameMap[e];n?t.skin="image/game/skill_".concat(n,".png"):(n=d.ItemMap[e],t.skin="image/common/coin/".concat(n,".png"))}},{key:"setIcon",value:function(e){this.skill_icon.skin=e}},{key:"setNum",value:function(e){var t=e+"";e>99999&&(t="99999+"),this.num_label.text=t}},{key:"highlight",value:function(){var e=this.border_light;e.visible=!0,(0,v.playSkeleton)(e,0,!0)}},{key:"unHighlight",value:function(){var e=this.border_light;e.visible=!1,(0,v.stopSkeleton)(e)}},{key:"setShortcut",value:function(e){var t=this.shortcut_label;t.visible=!0,t.text=e}},{key:"showCoolTime",value:function(e){var t=this.cool_mask,n=this.overlay,r=t.graphics,a=360*(1-e)-90;r.clear(),0!==e?(n.visible=!0,r.drawPie(40,41,60,270,a,"#fff")):n.visible=!1}},{key:"clearCoolTime",value:function(){this.overlay.visible=!1}}]),n}(h.ui.scenes.game.skillItemUI);t.default=y},70315:function(e,t,n){"use strict";var r=n(1068),a=n(3649),i=n(66419),o=n(65420),u=n(19996),l=n(41511),s=n(63978),c=n(8171);s(t,"__esModule",{value:!0}),t.default=void 0;var f=c(n(66329)),d=c(n(24142)),h=c(n(15375)),v=c(n(17061)),p=c(n(45408)),y=c(n(97709)),m=c(n(38191)),g=c(n(52305)),_=c(n(93476)),k=n(76817),b=n(58465),w=n(90564),S=n(3735),C=n(52782),x=n(55161),I=n(77513),A=c(n(68700)),E=n(24629),T=n(41107),M=n(84228);function B(e,t){var n=void 0!==o&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return L(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,g.default)(e);if(t){var i=(0,g.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,m.default)(this,n)}}var O=function(e,t,n,r){return new(n||(n=_.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},N=function(e){(0,y.default)(n,e);var t=P(n);function n(){return(0,h.default)(this,n),t.apply(this,arguments)}return(0,v.default)(n,[{key:"onOpened",value:function(){var e=this.header,t=e.coin_menu,n=e.flag_menu;t.list.array=[],n.list.array=[],this.activeAni("normal"),t.list.renderHandler=new T.Handler(this,this.coinMenuRender,void 0,!1),this.initEvent()}},{key:"initEvent",value:function(){var e=this,t=this.header,n=t.flag_menu,r=t.btn_coin_select,a=t.flag_box;(0,b.onLangChange)(this,(function(t){e.initLang(t)})),(0,C.onStageClick)(this,(function(){e.toggleCoinMenu(!1)}),[r]),(0,C.onStageClick)(this,(function(){e.toggleFlagMenu(!1)}),[n,a])}},{key:"onResize",value:function(e,t){e||(e=E.Laya.stage.width,t=E.Laya.stage.height);var n=this.width,r=this.height,a=this.inner,i=this.header,o=i.inner,u=i.middle_btn_wrap,l=i.btn_right_wrap,s=i.left_wrap,c=i.right_wrap;this.x=(e-n)/2,this.y=(t-r)/2,e>1334&&(e=1334),o.width=a.width=e;var f=e/t,d=10*f*f;e/t<1.651&&(d=7*f*f),(0,C.resizeContain)(s,d),(0,C.resizeContain)(l,d),(0,C.resizeContain)(u,d),(0,C.resizeContain)(c,d)}},{key:"initLang",value:function(e){var t=this.arena_status,n=this.match_status,r=this.match_timezone,a=this.match_box,i=this.normal_box,o=this.btn_play_now,u=this.header,l=u.btn_get,s=u.btn_charge,c=u.middle_btn_wrap,f=(0,I.covertLang)(e),h=[["normal",i],["match",a]];r.text=(0,I.tplIntr)("stayTuned"),t.text=(0,I.tplIntr)("arenaTitle"),n.text=(0,I.tplIntr)("matchTitle");for(var v=["btn_play","btn_try"],p=0,y=h;p<y.length;p++){var m=(0,d.default)(y[p],2),g=(m[0],m[1]),_=g.getChildByName("ani");(0,I.playSkeleton)(_,"standby_".concat(f),!0);var k,b=B(v);try{for(b.s();!(k=b.n()).done;){var w=k.value,S=g.getChildByName(w).getChildByName("ani");(0,I.playSkeleton)(S,"standby_".concat(f),!0)}}catch(e){b.e(e)}finally{b.f()}}var x=o.getChildByName("ani");(0,I.playSkeleton)(x,"standby_".concat(f),!0),s.getChildByName("txt_label").skin="image/international/charge_".concat(f,".png"),l.getChildByName("txt_label").skin="image/international/withdraw_".concat(f,".png"),(0,C.resizeContain)(c,10),this.activeAni("normal")}},{key:"setRechargeBtnVisible",value:function(e){this.header.btn_recharge.visible=e,e&&this.onResize()}},{key:"activeAni",value:function(e){for(var t=this.normal_box,n=this.match_box,r=(0,b.getLang)(),a=(0,I.covertLang)(r),i=0,o=[["normal",t],["match",n]];i<o.length;i++){var u=(0,d.default)(o[i],2),l=(u[0],u[1].getChildByName("ani"));(0,I.playSkeleton)(l,"standby_".concat(a),!0)}}},{key:"setNickname",value:function(e){var t=this.header,n=t.nickname,r=t.user_box,a=t.left_wrap;if(n.text=A.default.utils.cutStr(e,12),"GUEST"!==e)return(0,C.resizeContain)(a,10),r.visible=!1;r.visible=!0,(0,b.onLangChange)(this,(function(){n.text=(0,I.tplIntr)("guest")})),(0,C.resizeContain)(a,10)}},{key:"updateArenaInfo",value:function(e){var t=this.arena_timezone,n=this.btn_competition,r=n.getChildByName("gray");if(!(null==e?void 0:e.room_status)||(null==e?void 0:e.room_status)===k.ArenaStatus.ROOM_STATUS_MAINTAIN)return n.is_disable=!0,t.text=(0,I.tplIntr)("maintaining"),void(r.visible=!0);var a=e.room_status,i=e.open_timezone,o=a===k.ArenaStatus.ROOM_STATUS_DISABLE;r.visible=o,o?t.text=(0,I.tplIntr)("noOpen"):a===k.ArenaStatus.ROOM_STATUS_ENABLE_PREHEAT?t.text=(0,I.tplIntr)("preStartTime",{time:(0,S.formatUTC0DateTime)(i[0],"MM/DD")}):t.text=(0,S.formatDateRange)(i),n.is_disable=o}},{key:"coinMenuRender",value:function(e,t){var n=e.getChildByName("coin_num"),r=this.header.coin_menu.list.array[t].coin_num,a=14/(1.1*(Number(r)+"").length);a=a>1?1:a,n.scale(a,a),n.width=148/a}},{key:"setCoinData",value:function(e){var t,n=this.header.coin_menu,r=n.list,a=n.bg,i=[],o=B(e);try{for(o.s();!(t=o.n()).done;){var u=(0,d.default)(t.value,2),l=u[0],s=u[1],c=s.num,f=s.icon;i.push({coin_icon:f,coin_name:l,coin_num:c})}}catch(e){o.e(e)}finally{o.f()}r.array=i,i.length<=7?n.height=a.height=r.height=48*i.length+10:n.height=r.height=a.height=346}},{key:"setFlagData",value:function(e){var t,n=this.header.flag_menu,r=n.list,a=n.bg,i=[],o=B(e);try{for(o.s();!(t=o.n()).done;){var u=t.value;i.push({flag_type:u,flag_icon:"image/common/flag/flag_".concat(u,".png")})}}catch(e){o.e(e)}finally{o.f()}r.array=i,n.height=a.height=r.height=61*i.length+20}},{key:"toggleCoinMenu",value:function(e){var t=this.header,n=t.coin_menu,r=t.coin_triangle;n.list.array.length&&(e?(n.y=60,(0,w.fade_in)(n,300),r.rotation=180):((0,w.fade_out)(n,100),n.list.selectedIndex=-1,r.rotation=0))}},{key:"setCurBalance",value:function(e,t,n){var r=this.header,a=r.coin_icon,i=r.coin_name,o=r.coin_num,u=this.normal_box,l=this.match_box;a.skin=t,i.text=e.toUpperCase(),o.text=Number(n)+"";var s=11/(1.08*o.text.length);s=s>1?1:s,o.scale(s,s),o.width=119/s;for(var c=0,f=[u,l];c<f.length;c++){f[c].getChildByName("coin_name").text=e.toUpperCase()}}},{key:"toggleFlagMenu",value:function(e){var t=this.header,n=t.flag_menu,r=t.flag_triangle;e?((0,w.fade_in)(n,300),r.rotation=180):((0,w.fade_out)(n,100),n.list.selectedIndex=-1,r.rotation=0)}},{key:"setFlag",value:function(e){this.header.flag.skin="image/common/flag/flag_".concat((0,I.covertLang)(e),".png")}},{key:"destroy",value:function(){try{(0,p.default)((0,g.default)(n.prototype),"destroy",this).call(this),(0,b.offLangChange)(this)}catch(e){(0,x.error)(e)}}}],[{key:"preEnter",value:function(e){return O(this,void 0,void 0,f.default.mark((function t(){return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",A.default.director.runScene("scenes/hall/hall.scene",e));case 1:case"end":return t.stop()}}),t)})))}}]),n}(M.ui.scenes.hall.hallUI);t.default=N},7750:function(e,t,n){"use strict";var r=n(1068),a=n(63978),i=n(8171);a(t,"__esModule",{value:!0}),t.default=t.LoadingEvent=void 0;var o=i(n(66329)),u=i(n(15375)),l=i(n(17061)),s=i(n(89395)),c=i(n(97709)),f=i(n(38191)),d=i(n(52305)),h=i(n(93476)),v=i(n(33032)),p=n(38182),y=n(899),m=n(55161),g=n(84228);function _(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var k=function(e,t,n,r){return new(n||(n=h.default))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}l((r=r.apply(e,t||[])).next())}))},b={Hide:"hide",Show:"show"};t.LoadingEvent=b;var w=function(e){(0,c.default)(n,e);var t=_(n);function n(){var e;return(0,u.default)(this,n),(e=t.call(this))._zOrder=100,e.popupEffect=void 0,e.closeEffect=void 0,n.instance=(0,s.default)(e),e}return(0,l.default)(n,[{key:"zOrder",get:function(){return this._zOrder},set:function(e){this._zOrder=e}},{key:"onShow",value:function(){(0,m.log)("load:>onShow"),clearTimeout(n.timeout),n.event_com.emit(b.Show),this.open(!1),this.progress.value=0}},{key:"onHide",value:function(){var e=this;(0,m.log)("load:>onHide"),n.timeout=(0,v.default)((function(){(0,m.log)("load:>onHide:>end"),n.event_com.emit(b.Hide),e.close()}),300)}},{key:"onProgress",value:function(e){this.progress.value=e}}],[{key:"load",value:function(){return k(this,void 0,void 0,o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.instance){e.next=2;break}return e.abrupt("return",this.instance);case 2:return e.next=4,(0,y.loadDialog)("scenes/loading.scene");case 4:return e.abrupt("return",n.instance=e.sent);case 5:case"end":return e.stop()}}),e,this)})))}}]),n}(g.ui.scenes.loadingUI);t.default=w,w.event_com=new p.EventCom,w.isLoadingView=!0},48652:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.addBullet=function(e,t){return r.game.addBullet(e,t)},t.addNet=function(e){return r.game.addNet(e)},t.convertPosToNode=function(e,t,n){var r=t.localToGlobal(e,!0);return n.globalToLocal(r,!0)},t.getAutoShootSkillItem=function(){return r.game.getAutoShootSkillItem()},t.getGameView=function(){return r.game},t.getPoolMousePos=function(){return r.game.getPoolMousePos()},t.getSkillItemByIndex=function(e){return r.game.getSkillItemByIndex(e)},t.offFishClick=function(){return r.game.offFishClick()},t.offPoolClick=function(){return r.game.offPoolClick()},t.onFishClick=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r.game.onFishClick(e)},t.onPoolClick=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r.game.onPoolClick(e)},t.setAutoShootLight=function(e){return r.game.setAutoShootLight(e)},t.viewState=void 0;var r={};t.viewState=r},70903:function(e,t,n){"use strict";var r=n(63978),a=n(8171);r(t,"__esModule",{value:!0}),t.createImgPool=function(e){var t,n=null===(t=l[e])||void 0===t?void 0:t.pop();if(n)return n;return(0,o.createImg)(e)},t.createSkeletonPool=function(e,t,n,r){var a,s,c,f=(0,i.default)(a="".concat(e,":")).call(a,t),d=null===(s=l[f])||void 0===s?void 0:s.pop();if(d)return d;if("fish"===e)return(0,o.createSkeleton)("ani/fish/fish"+t,n,r);if("bullet"===e){var h=null===(c=(0,u.getSpriteInfo)(e,t))||void 0===c?void 0:c.path;return(0,o.createSkeleton)(h)}if("net"===e)return(0,u.createSprite)(e,t);if("other"===e)return(0,u.createSprite)(e,t)},t.recoverImgPool=function(e,t){if(!t||(null==t?void 0:t.destroyed))return;var n=e,r=l[n];r||(r=l[n]=[]);t.removeSelf(),r.push(t)},t.recoverSkeletonPool=function(e,t,n){var r;if(!n||n.destroyed)return;var a=(0,i.default)(r="".concat(e,":")).call(r,t),o=l[a];o||(o=l[a]=[]);n.offAll(),n.stop(),n.removeSelf(),o.push(n)};var i=a(n(77766)),o=n(6893),u=n(64467),l={}},42480:function(){}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return t[e](i,i.exports,r),i.loaded=!0,i.exports}r.m=t,e=[],r.O=function(t,n,a,i){if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],a=e[c][1],i=e[c][2];for(var u=!0,l=0;l<n.length;l++)(!1&i||o>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[l])}))?n.splice(l--,1):(u=!1,i<o&&(o=i));if(u){e.splice(c--,1);var s=a();void 0!==s&&(t=s)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,a,i]},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e={296:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,i,o=n[0],u=n[1],l=n[2],s=0;if(o.some((function(t){return 0!==e[t]}))){for(a in u)r.o(u,a)&&(r.m[a]=u[a]);if(l)var c=l(r)}for(t&&t(n);s<o.length;s++)i=o[s],r.o(e,i)&&e[i]&&e[i][0](),e[o[s]]=0;return r.O(c)},n=self.webpackChunkwebpack_test=self.webpackChunkwebpack_test||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var a=r.O(void 0,[977,921],(function(){return r(53865)}));a=r.O(a)}();