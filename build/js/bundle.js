(()=>{var e,t={74227:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.ComponentManager=void 0;var c=s(n(17055)),f=s(n(15375)),d=s(n(17061));function h(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return v(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(){function e(){(0,f.default)(this,e),this.destroyed=!1,this.components=new c.default}return(0,d.default)(e,[{key:"addCom",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var a=i[r];this.components.add(a)}}},{key:"delCom",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var a=i[r];this.components.delete(a)}}},{key:"getCom",value:function(e){var t,n=h(this.components);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r instanceof e)return r}}catch(e){n.e(e)}finally{n.f()}}},{key:"destroy",value:function(){var e,t=h(this.components);try{for(t.s();!(e=t.n()).done;){var n=e.value;"function"==typeof n.destroy&&n.destroy()}}catch(e){t.e(e)}finally{t.f()}this.components.clear(),this.destroyed=!0}}]),e}();t.ComponentManager=p},38182:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.EventCom=void 0;var c=s(n(78953)),f=s(n(17055)),d=s(n(72663)),h=s(n(21003)),v=s(n(15375)),p=s(n(17061));function y(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return g(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?g(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(){function e(){(0,v.default)(this,e),this.events=new c.default}return(0,p.default)(e,[{key:"on",value:function(e,t,n,r){var i,a=this;this.events.has(e)?i=this.events.get(e):(i=new f.default,this.events.set(e,i));var o,l=y(i);try{for(l.s();!(o=l.n()).done;){var u=o.value;if(n===u.caller&&t===u.callback)return}}catch(e){l.e(e)}finally{l.f()}i.add({caller:n,callback:t,once:r,off:function(){a.off(e,t,n)}})}},{key:"once",value:function(e,t,n){return this.on(e,t,n,!0)}},{key:"getBind",value:function(e){return this.events.get(e)}},{key:"off",value:function(e,t,n){if(this.events.has(e))for(var r=this.events.get(e),i=0,a=(0,h.default)(r);i<a.length;i++){var o=a[i];if(o.callback===t&&o.caller===n){r.delete(o);break}}}},{key:"offAllCaller",value:function(e){var t,n,r=y((0,d.default)(t=this.events).call(t));try{for(r.s();!(n=r.n()).done;)for(var i=n.value,a=0,o=(0,h.default)(i);a<o.length;a++){var l=o[a];l.caller===e&&i.delete(l)}}catch(e){r.e(e)}finally{r.f()}}},{key:"emit",value:function(e){if(this.events.has(e)){for(var t=this.events.get(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=(0,h.default)(t);a<o.length;a++){var l=o[a];if(t.has(l)){var u=l.callback,s=l.once,c=l.off;"function"==typeof u&&u.apply(void 0,r),s&&c()}}}}},{key:"destroy",value:function(){this.events.clear()}}]),e}();t.EventCom=m},8136:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.default=t.AnyStr=void 0;var c=s(n(78953)),f=s(n(2057)),d=s(n(72663)),h=s(n(67357)),v=s(n(66890)),p=s(n(15375)),y=s(n(17061));function g(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return m(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _="*";t.AnyStr=_;var k=function(){function e(){(0,p.default)(this,e),this.events=new c.default}return(0,y.default)(e,[{key:"on",value:function(e){var t=this,n=e.event,r=e.callback,i=e.caller,a=e.once,o=e.unshift;if("object"!==(0,v.default)(n)){var l=[];this.events.has(n)?l=this.events.get(n):this.events.set(n,l);var u,s=g(l);try{for(s.s();!(u=s.n()).done;){var c=u.value;if(i===c.caller&&r===c.callback)return}}catch(e){s.e(e)}finally{s.f()}var f=function(){t.off({event:n,callback:r,caller:i})};o?l.unshift({caller:i,callback:r,once:a,off:f}):l.push({caller:i,callback:r,once:a,off:f})}else for(var d in i=r,n)n.hasOwnProperty(d)&&this.on({event:d,callback:n[d],caller:i})}},{key:"off",value:function(e){var t=e.event,n=e.callback,r=e.caller;if("object"!==(0,v.default)(t)){if(this.events.has(t))if(n||r){for(var i=this.events.get(t),a=i.length-1;a>=0;a--)if(i[a].callback===n&&i[a].caller===r){(0,f.default)(i).call(i,a,1);break}}else this.events.delete(t)}else for(var o in r=n,t)t.hasOwnProperty(o)&&this.off({event:o,callback:t[o],caller:r})}},{key:"offCaller",value:function(e){var t,n,r=g((0,d.default)(t=this.events).call(t));try{for(r.s();!(n=r.n()).done;)for(var i=n.value,a=i.length-1;a>=0;a--)i[a].caller===e&&(0,f.default)(i).call(i,a,1)}catch(e){r.e(e)}finally{r.f()}}},{key:"emit",value:function(e){for(var t=[_,e],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=t;a<o.length;a++){var l=o[a];if(this.events.has(l)){var u,s=this.events.get(l),c=g((0,h.default)(s).call(s,[]));try{for(c.s();!(u=c.n()).done;){var f,d=u.value,v=void 0,p=d.callback,y=d.once,m=d.off;if("function"==typeof p&&(v=l===_?p.apply(void 0,(0,h.default)(f=[e]).call(f,r)):p.apply(void 0,r)),y&&m(),v)return v}}catch(e){c.e(e)}finally{c.f()}}}}},{key:"clear",value:function(){this.events=new c.default}}]),e}();t.default=k},30260:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.TimeoutCom=void 0;var c=s(n(17055)),f=s(n(81302)),d=s(n(37101)),h=s(n(15375)),v=s(n(17061));function p(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return y(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(){function e(){(0,h.default)(this,e),this.timeout_list=new c.default,this.interval_list=new c.default}return(0,v.default)(e,[{key:"createTimeout",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,f.default)((function(){e(),t.timeout_list.delete(r)}),n);return this.timeout_list.add(r),r}},{key:"createInterval",value:function(e,t){var n=this,r=(0,d.default)((function(){e(),n.interval_list.delete(r)}),t);return this.interval_list.add(r),r}},{key:"clear",value:function(e){var t=this.timeout_list,n=this.interval_list;t.has(e)&&(t.delete(e),clearTimeout(e)),n.has(e)&&(n.delete(e),clearInterval(e))}},{key:"destroy",value:function(){var e,t=this.timeout_list,n=this.interval_list,r=p(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;clearTimeout(i)}}catch(e){r.e(e)}finally{r.f()}var a,o=p(n);try{for(o.s();!(a=o.n()).done;){var l=a.value;clearInterval(l)}}catch(e){o.e(e)}finally{o.f()}t.clear(),n.clear()}}]),e}();t.TimeoutCom=g},68700:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(66329)),o=i(n(25937)),l=i(n(4918)),u=n(24629),s=n(77590),c=n(68291),f=n(84935),d=n(41107),h=n(683),v=n(56083),p=n(62285),y=n(26366),g=n(83934),m=n(899),_=function(e,t,n,r){return new(n||(n=o.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},k=!1,b={name:"Honor",version:"1.0.0-beta",run:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _(this,void 0,void 0,a.default.mark((function n(){var r,i,g,b,w=this;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u.Laya.Config.isAntialias=!0,u.Laya.Config.useRetinalCanvas=!0,u.Laya.init(e.width,e.height,p.WebGL),u.Laya.stage.frameRate=s.Stage.FRAME_FAST,u.Laya.DebugPanel&&u.Laya.DebugPanel.enable(),f.URL.basePath=t.basePath||f.URL.basePath,u.Laya.stage.scaleMode=e.scaleMode,u.Laya.stage.screenMode=e.screenMode,u.Laya.stage.alignV=e.alignV,u.Laya.stage.alignH=e.alignH,f.URL.exportSceneToJson=e.exportSceneToJson,e.debug||"true"===v.Utils.getQueryString("debug")?(k=!0,u.Laya.enableDebugPanel()):k=!1,e.stat&&h.Stat.show(0,0),u.Laya.alertGlobalError(!1),r=(r=t.defaultVersion)||"0",f.URL.customFormat=function(e){var t=f.URL.version||{};if((0,l.default)(e).call(e,"data:image")<0&&(0,l.default)(e).call(e,"?")<0&&(0,l.default)(e).call(e,"?v=")<0){var n=t[e];!n&&r&&(n=r),e+="?v="+n}return e},i=[],g=new o.default((function(e,t){c.AtlasInfoManager.enable("fileconfig.json",d.Handler.create(null,(function(){return _(w,void 0,void 0,a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e();case 1:case"end":return t.stop()}}),t)})))})))})),i.push(g),(b=t.versionPath)&&i.push((0,m.loadRes)([b])),n.next=24,o.default.all(i);case 24:b&&(f.URL.version=u.loader.getRes(b)),(0,y.initState)();case 26:case"end":return n.stop()}}),n)})))},director:y.director,utils:g.utils,DEBUG_MODE:k};t.default=b},83762:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.WebSocketCtrl=void 0;var a=i(n(81302)),o=i(n(37101)),l=i(n(15375)),u=i(n(17061)),s=n(55161),c=function(){function e(t){var n=this;(0,l.default)(this,e),this.reconnect_count=0,this.reconnect_max=3,this.heartbeat_time=10,this.heartbeat_gap_time=3,this.onopen=function(){(0,s.log)("WebSocket:> 连接上了"),n.status="OPEN";var e=n.handlers,t=e.onInit,r=e.onReconnected;n.ping_pong_map&&n.startHeartBeat(),n.reconnect_count=0,"function"==typeof t?(t(),n.handlers.onInit=null):"function"==typeof r&&r()},this.onmessage=function(e){var t=n.handlers.onData,r=e.data;if(n.ping_pong_map){var i=n.ping_pong_map,a=i.ping,o=i.pong;switch(r){case a:n.sendPong();break;case o:n.startHeartBeat()}}"function"==typeof t&&t(r)},this.onError=function(){"function"==typeof n.handlers.onError&&n.handlers.onError()},this.onclose=function(){"function"==typeof n.handlers.onClose&&n.handlers.onClose(),n.reconnect()},this.url=t.url,this.handlers=t.handlers,this.ping_pong_map=t.ping_pong_map,this.connect()}return(0,u.default)(e,[{key:"connect",value:function(){if((0,s.log)("WebSocket:> 连接..."),!this.ws){var e=this.url;this.status="CONNECTING";var t=new WebSocket(e);t.onopen=this.onopen,t.onmessage=this.onmessage,t.onerror=this.onError,t.onclose=this.onclose,this.ws=t}}},{key:"send",value:function(e){var t=this.status,n=this.ws;if("OPEN"!==t)return console.error("socket is no connected!");n.send(e)}},{key:"reconnect",value:function(){var e=this;(0,s.log)("WebSocket:> 断线重连");var t=this.reconnect_count,n=this.reconnect_max,r=this.handlers;if(this.status="CONNECTING",t>n)this.end();else{"function"==typeof r.onReconnect&&0===t&&r.onReconnect(t),this.reset();var i=0===t?0:3e3;clearTimeout(this.reconnect_timeout),this.reconnect_timeout=(0,a.default)((function(){e.connect()}),i),this.reconnect_count++}}},{key:"startHeartBeat",value:function(){var e=this,t=this.heartbeat_time,n=this.heartbeat_gap_time;clearInterval(this.heartbeat_interval),clearTimeout(this.heartbeat_gap_timeout),this.heartbeat_interval=(0,o.default)((function(){e.heartbeat_gap_timeout=(0,a.default)((function(){e.reconnect()}),1e3*n),e.sendPing()}),1e3*t)}},{key:"clearHearBeatGapTimeout",value:function(){clearTimeout(this.heartbeat_gap_timeout)}},{key:"sendPing",value:function(){if(this.ping_pong_map){var e=this.ping_pong_map.ping;this.ws.send(e)}}},{key:"sendPong",value:function(){if(this.ping_pong_map){var e=this.ping_pong_map.pong;this.ws.send(e)}}},{key:"disconnect",value:function(){"CLOSED"!==this.status&&this.end()}},{key:"end",value:function(){(0,s.log)("WebSocket:> 断开连接"),this.reset(),this.status="CLOSED",this.handlers.onEnd&&this.handlers.onEnd(),this.handlers={}}},{key:"reset",value:function(){var e=this.ws;e&&(e.onopen=null,e.onmessage=null,e.onerror=null,e.onclose=null,e.close(),this.ws=null),clearInterval(this.heartbeat_interval),clearTimeout(this.heartbeat_gap_timeout)}}]),e}();t.WebSocketCtrl=c},26366:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.director=t.dialogManager=void 0,t.initState=function(){if(t.sceneManager=d=new p.SceneManagerCtor,t.loaderManager=f=new v.LoaderManagerCtor,t.dialogManager=c=new y.DialogManagerCtor,_.init(),k){var e,n=function(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return m(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?m(e,t):void 0}}(e))){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}(k);try{for(n.s();!(e=n.n()).done;)(0,e.value)()}catch(e){n.e(e)}finally{n.f()}b=!0,k=void 0}},t.sceneManager=t.loaderManager=void 0,t.untilInit=function(){return new h.default((function(e,t){if(b)return e();k.push(e)}))};var c,f,d,h=s(n(25937)),v=n(99019),p=n(74763),y=n(55902),g=n(57102);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.dialogManager=c,t.loaderManager=f,t.sceneManager=d;var _=new g.DirectorCtor;t.director=_;var k=[],b=!1},99019:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.LoaderManagerCtor=void 0;var c=s(n(66329)),f=s(n(15375)),d=s(n(17061)),h=s(n(25937)),v=s(n(17055)),p=s(n(78953)),y=n(24629),g=n(899),m=n(28294),_=n(75055),k=n(41107),b=n(90564);function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e,t,n,r){return new(n||(n=h.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},x=function(){function e(){(0,f.default)(this,e),this.load_tasks=new v.default,this.load_map=new p.default}return(0,d.default)(e,[{key:"loadScene",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r&&"Scene"===e&&y.Laya.loader.clearUnLoaded();var i=new h.default((function(r,i){("Scene"===e?m.Scene:_.Dialog).load(t,k.Handler.create(n,(function(e){r(e)})),k.Handler.create(n,n.setLoadProgress,[e],!1))}));return r||this.addLoadTask(e,i),i}},{key:"preLoad",value:function(e,t){this.loadScene(e,t,!0)}},{key:"load",value:function(e,t){var n=this,r=new h.default((function(r,i){return S(n,void 0,void 0,c.default.mark((function n(){var i,a=this;return c.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t&&(i=function(e){a.setLoadProgress(t,e)}),n.next=3,(0,g.loadRes)(e,i);case 3:return n.abrupt("return",r());case 4:case"end":return n.stop()}}),n)})))}));return this.addLoadTask(t,r),r}},{key:"addLoadTask",value:function(e,t){var n=this;if(e){var u=this.load_tasks;this.setLoadViewVisible(e,!0);var s=h.default.all([t,(0,b.sleep)(1)]).then((function(){var t,c=!1,f=function(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return w(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?w(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}(u);try{for(f.s();!(t=f.n()).done;){var d=t.value;d.task!==s?d.type===e&&(c=!0):u.delete(d)}}catch(e){f.e(e)}finally{f.f()}c||n.setLoadViewVisible(e,!1)}));this.load_tasks.add({task:s,type:e})}}},{key:"setLoadView",value:function(e,t){return S(this,void 0,void 0,c.default.mark((function n(){var r,i;return c.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="Scene"===e?m.Scene:_.Dialog,n.next=3,new h.default((function(e,n){r.load(t,k.Handler.create(null,(function(t){e(t)})))}));case 3:i=n.sent,this.load_map.set(e,i);case 5:case"end":return n.stop()}}),n,this)})))}},{key:"setLoadViewVisible",value:function(e,t){var n=this.load_map.get(e);n&&(t?n.onShow():n.onHide())}},{key:"setLoadProgress",value:function(e,t){var n=this.load_map.get(e);n&&n.onProgress(t)}}]),e}();t.LoaderManagerCtor=x},74763:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.SceneManagerCtor=void 0;var c=s(n(66329)),f=s(n(15375)),d=s(n(17061)),h=s(n(25937)),v=s(n(78953)),p=n(24629),y=n(26366),g=n(28294),m=n(24354);function _(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return k(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?k(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e,t,n,r){return new(n||(n=h.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},w=function(){function e(){(0,f.default)(this,e),this.sceneChangeBeforeListener=[],this.sceneChangeAfterListener=[],this.sceneClassMap={},this.scene_pool=new v.default,this.is_loading_scene=!1}return(0,d.default)(e,[{key:"onResize",value:function(e,t){this.cur_scene&&(this.cur_scene.onResize?this.cur_scene.onResize(e,t):this.cur_scene.size(e,t))}},{key:"getCurScene",value:function(){return this.cur_scene}},{key:"switchScene",value:function(e,t){var n=this.scene_pool,r=p.Laya.stage,i=r.width,a=r.height,o=this.cur_scene,l=o?o.url:void 0;return this.cur_scene=t,t.open(!0),this.onResize(i,a),o&&!o.destroyed&&n.set(l,o),{cur:t.url,prev:l}}},{key:"callChangeListener",value:function(e){var t=[];"before"===e?t=this.sceneChangeBeforeListener:"after"===e&&(t=this.sceneChangeAfterListener);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a,o=_(t);try{for(o.s();!(a=o.n()).done;){var l=a.value,u=l.apply(void 0,r);if(u)return u}}catch(e){o.e(e)}finally{o.f()}}},{key:"runScene",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new h.default((function(n,i){return b(t,void 0,void 0,c.default.mark((function t(){var a,o;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.is_loading_scene=!0,!this.callChangeListener("before",this.cur_scene&&this.cur_scene.url,e)){t.next=4;break}return t.abrupt("return",i("has callChangeListener interrupt open:> ".concat(e," ")));case 4:if(a=this.scene_pool.get(e)){t.next=19;break}if("string"!=typeof e){t.next=12;break}return t.next=9,y.loaderManager.loadScene("Scene",e);case 9:a=t.sent,t.next=19;break;case 12:if("function"!=typeof e){t.next=18;break}return a=new e,t.next=16,new h.default((function(t,n){(0,m.createScene)(e).then((function(e){return t(e)}))}));case 16:t.next=19;break;case 18:e instanceof g.Scene&&(a=e);case 19:(0,m.afterEnable)(a).then((function(){n(a)})),o=this.switchScene(r,a),this.is_loading_scene=!1,this.callChangeListener("after",o.cur,o.prev);case 23:case"end":return t.stop()}}),t,this)})))}))}}]),e}();t.SceneManagerCtor=w},55902:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.DialogManagerCtor=void 0;var c=s(n(66329)),f=s(n(66890)),d=s(n(15375)),h=s(n(17061)),v=s(n(25937)),p=s(n(78953)),y=s(n(77967)),g=s(n(85604)),m=s(n(2057)),_=s(n(60855)),k=n(14529),b=n(24629),w=n(26366),S=n(55121),x=n(24354),C=n(89662),I=n(75055),E=n(45840),M=n(41107),A=n(84221),B=n(89025);function L(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return T(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?T(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e,t,n,r){return new(n||(n=v.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},N=function(e){var t=this;e.HonorEffectTween&&e.HonorEffectTween.complete(),e.HonorEffectTween=A.Tween.from(e,{x:b.Laya.stage.width/2,y:b.Laya.stage.height/2,scaleX:.2,scaleY:.2,alpha:0},300,E.Ease.backOut,M.Handler.create(this,(function(){e.HonorEffectTween=void 0,e.scale(1,1),e.alpha=1,t.doOpen(e)})),0,!1,!1)},O=function(e){var t=this;e.HonorEffectTween&&e.HonorEffectTween.complete(),e.HonorEffectTween=A.Tween.to(e,{x:b.Laya.stage.width/2,y:b.Laya.stage.height/2,scaleX:0,scaleY:0,alpha:0},300,E.Ease.backIn,M.Handler.create(this,(function(){e.HonorEffectTween=void 0,e.scale(1,1),e.alpha=1,t.doClose(e)})),0,!1,!1)},D=function(){function e(){var t;(0,d.default)(this,e),this.wait_dialog_task=new p.default,this.open_dialog_list=[],this.dialog_pool_list=[],k.UIConfig.closeDialogOnSide=!1;var n=I.Dialog.manager;(0,x.injectAfter)(n,"doClose",(0,y.default)(t=this.injectDoCloseAfter).call(t,this)),n.popupEffectHandler=new M.Handler(n,N),n.closeEffectHandler=new M.Handler(n,O),this.dialog_manager=n}return(0,h.default)(e,[{key:"onResize",value:function(e,t){var n,r=L(this.open_dialog_list);try{for(r.s();!(n=r.n()).done;){var i=n.value.dialog;i.onResize&&i.onResize(e,t)}}catch(e){r.e(e)}finally{r.f()}}},{key:"openDialog",value:function(e,t){var n=this;return new v.default((function(r,i){return P(n,void 0,void 0,c.default.mark((function n(){var a,o,l,u,s,f,d,h,v,p,y,m,_,k=this;return c.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e,u=!1,e.dialog&&(a=(s=e).dialog,o=s.use_exist,l=s.use_exist,u=s.stay_scene||!1),f=this.wait_dialog_task,d=this.open_dialog_list,u&&(h=(0,S.detectChangeScene)()),!o){n.next=15;break}if(!(p=f.get(a))){n.next=13;break}return n.next=10,p.then((function(e){return e}));case 10:v=n.sent,n.next=15;break;case 13:(y=(0,g.default)(d).call(d,(function(e){return e.url===a})))&&(v=y.dialog);case 15:if(v){n.next=21;break}return m=this.createDialog(a),f.set(a,m.then((function(e){return f.delete(a),e}))),n.next=20,m;case 20:v=n.sent;case 21:return _=this.setDialogConfig(a,v,t),(0,x.afterActive)(v).then((function(){if(v.onResize){var e=b.Laya.stage,t=e.width,n=e.height;v.onResize(t,n)}var r=v.popupEffect;if(void 0!==l&&!1===l&&(v.popupEffect=null),_.beforeOpen&&_.beforeOpen(v),null==h?void 0:h())return i("change scene! dialog cant open in diff scene!");v.open(_.closeOther),r&&(v.popupEffect=r),k.afterOpen(v),k.checkMask()})),n.next=25,(0,x.afterEnable)(v);case 25:return n.abrupt("return",r(v));case 26:case"end":return n.stop()}}),n,this)})))}))}},{key:"createDialog",value:function(e){var t=this;return new v.default((function(n,r){return P(t,void 0,void 0,c.default.mark((function t(){var r,i,a,o,l;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=this.dialog_pool_list,i=0;case 2:if(!(i<r.length)){t.next=11;break}if((a=r[i]).url!==e){t.next=8;break}return(0,m.default)(r).call(r,i,1),o=a.dialog,t.abrupt("return",n(o));case 8:i++,t.next=2;break;case 11:if("string"!=typeof e){t.next=17;break}return t.next=14,w.loaderManager.loadScene("Dialog",e);case 14:l=t.sent,t.next=24;break;case 17:if("function"!=typeof e){t.next=23;break}return t.next=20,(0,x.createScene)(e).then((function(e){return n(e)}));case 20:l=t.sent,t.next=24;break;case 23:e instanceof I.Dialog&&(l=e);case 24:n(l);case 25:case"end":return t.stop()}}),t,this)})))}))}},{key:"setDialogConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.open_dialog_list;n=(0,_.default)((0,_.default)((0,_.default)({},B.DEFAULT_CONFIG),t.config),n);var i=(0,g.default)(r).call(r,(function(e){return e.dialog===t}));return i?i.config=n:r.push({url:e,dialog:t,config:n}),n}},{key:"getDialogConfig",value:function(e){var t=this.open_dialog_list,n=(0,g.default)(t).call(t,(function(t){return t.dialog===e}));return n&&n.config}},{key:"injectDoCloseAfter",value:function(e,t,n){for(var r,i=this.open_dialog_list,a=this.dialog_pool_list,o=0;o<i.length;o++){var l=i[o];if(l.dialog===n){r=l,(0,m.default)(i).call(i,o,1);break}}this.checkMask(),r&&!n.destroyed&&a.push(r)}},{key:"afterOpen",value:function(e){var t=this.getDialogConfig(e);t&&t.autoClose&&b.Laya.timer.once(t.autoClose,e,e.close)}},{key:"checkMask",value:function(){for(var e=this,t=this.dialog_manager,n=t.maskLayer,r=function(r){var i=t.getChildAt(r);if(i&&i.isModal){var a=e.getDialogConfig(i);if(!a)return"continue";k.UIConfig.popupBgAlpha=a.shadowAlpha,k.UIConfig.popupBgColor=a.shadowColor,a.closeOnSide&&(n.offAllCaller(t),n.once(C.Event.CLICK,t,(function(){i.close()})));var o=n.width,l=n.height;return n.graphics.clear(!0),n.graphics.drawRect(0,0,o,l,k.UIConfig.popupBgColor),n.alpha=k.UIConfig.popupBgAlpha,{v:void 0}}},i=t.numChildren-1;i>-1;i--){var a=r(i);if("continue"!==a&&"object"===(0,f.default)(a))return a.v}}},{key:"closeAllDialogs",value:function(){this.dialog_manager.closeAll()}},{key:"getDialogsByGroup",value:function(e){this.dialog_manager.getDialogsByGroup(e)}},{key:"closeDialogsByGroup",value:function(e){this.dialog_manager.closeByGroup(e)}},{key:"getDialogByName",value:function(e){var t,n=L(this.open_dialog_list);try{for(n.s();!(t=n.n()).done;){var r=t.value.dialog;if(r.name===e)return r}}catch(e){n.e(e)}finally{n.f()}}},{key:"closeDialogByName",value:function(e){var t,n=L(this.open_dialog_list);try{for(n.s();!(t=n.n()).done;){var r=t.value.dialog;if(r.name===e)return r.close()}}catch(e){n.e(e)}finally{n.f()}}},{key:"hideMask",value:function(e){this.dialog_manager.maskLayer.visible=e}}]),e}();t.DialogManagerCtor=D},57102:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.DirectorCtor=void 0;var a=i(n(66329)),o=i(n(15375)),l=i(n(17061)),u=i(n(25937)),s=i(n(26312)),c=n(24629),f=n(89662),d=i(n(68700)),h=n(26366),v=function(e,t,n,r){return new(n||(n=u.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},p=function(){function e(){(0,o.default)(this,e)}return(0,l.default)(e,[{key:"init",value:function(){c.Laya.stage.on(f.Event.RESIZE,this,this.onResize),this.onResize()}},{key:"onResize",value:function(){var e=c.Laya.stage,t=e.width,n=e.height;h.sceneManager.onResize(t,n),h.dialogManager.onResize(t,n)}},{key:"runScene",value:function(e){return h.sceneManager.runScene(e).catch((function(e){d.default.DEBUG_MODE&&console.error(e)}))}},{key:"isLoadingScene",get:function(){return h.sceneManager.is_loading_scene}},{key:"runningScene",get:function(){return h.sceneManager.getCurScene()}},{key:"openDialog",value:function(e,t){return h.dialogManager.openDialog(e,t)}},{key:"load",value:function(e,t){return h.loaderManager.load(e,t)}},{key:"getDialogByName",value:function(e){return h.dialogManager.getDialogByName(e)}},{key:"getDialogsByGroup",value:function(e){return h.dialogManager.getDialogsByGroup(e)}},{key:"closeDialogByName",value:function(e){h.dialogManager.closeDialogByName(e)}},{key:"closeDialogsByGroup",value:function(e){h.dialogManager.closeDialogsByGroup(e)}},{key:"closeAllDialogs",value:function(){h.dialogManager.closeAllDialogs()}},{key:"setLoadPageForScene",value:function(e){return h.loaderManager.setLoadView("Scene",e)}},{key:"setLoadPageForDialog",value:function(e){return h.loaderManager.setLoadView("Dialog",e)}},{key:"clearDialog",value:function(e){return v(this,void 0,void 0,a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,h.untilInit)();case 2:h.sceneManager.sceneChangeAfterListener.push(e);case 3:case"end":return t.stop()}}),t)})))}},{key:"onSceneChangeBefore",value:function(e){return v(this,void 0,void 0,a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,h.untilInit)();case 2:h.sceneManager.sceneChangeBeforeListener.push(e);case 3:case"end":return t.stop()}}),t)})))}},{key:"onSceneChangeAfter",value:function(e){return v(this,void 0,void 0,a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,h.untilInit)();case 2:h.sceneManager.sceneChangeAfterListener.push(e);case 3:case"end":return t.stop()}}),t)})))}},{key:"clearListener",value:function(e){return v(this,void 0,void 0,a.default.mark((function t(){var n,r;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,h.untilInit)();case 2:h.sceneManager.sceneChangeBeforeListener=(0,s.default)(n=h.sceneManager.sceneChangeBeforeListener).call(n,(function(t){return t!==e})),h.sceneManager.sceneChangeAfterListener=(0,s.default)(r=h.sceneManager.sceneChangeAfterListener).call(r,(function(t){return t!==e}));case 4:case"end":return t.stop()}}),t)})))}},{key:"hideDialog",value:function(e){h.dialogManager.hideMask(e)}}]),e}();t.DirectorCtor=p},89025:(e,t,n)=>{"use strict";n(67272)(t,"__esModule",{value:!0}),t.DEFAULT_CONFIG=void 0,t.DEFAULT_CONFIG={closeOther:!1,closeOnSide:!0,closeByGroup:!1,closeByName:!1,shadowAlpha:.7,shadowColor:"#000000",autoClose:!1}},6893:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.createAnimation=function(e){var t=new u.Animation;t.loadAtlas(e+".json"),t.interval=120,t.index=1,t.play();var n=t.getGraphicBounds();return t.pivot(n.width/2,n.height/2),t},t.createImg=function(e){var t=new c.Image;return t.loadImage(e+".png"),t.autoSize=!0,t},t.createSkeleton=function(e,t,n){t=t||30,n=n||0;var r,i=o.loader.getRes(e+".png"),a=o.loader.getRes(e+".sk");if(i&&a){d[e]?r=d[e]:((r=new l.Templet).parseData(i,a,24),d[e]=r);var u=new l.Templet;return u.parseData(i,a,t),u.buildArmature(n)}},t.createSprite=function(e){return new a.default((function(t,n){var r=new s.Sprite;r.loadImage(e,f.Handler.create(null,(function(){r.autoSize=!0,t(r)})))}))};var a=i(n(25937)),o=n(24629),l=n(48365),u=n(31249),s=n(78362),c=n(44476),f=n(41107),d={}},73492:(e,t,n)=>{"use strict";n(67272)(t,"__esModule",{value:!0}),t.cutStr=function(e,t){var n=/[^\x00-\xff]/g;if((e+="").replace(n,"mm").length<=t)return e;for(var r=Math.floor(t/2);r<e.length;r++)if(e.substr(0,r).replace(n,"mm").length>=t)return e.substr(0,r)+"...";return e}},35641:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.formatTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["小时","分钟","秒"],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="",i=0,a=0,o=e%60;"string"==typeof t&&(t=[t,t,""]),e>=60&&(a=e/60|0),a>=60&&(i=a/60|0,a%=60);for(var l=[i,a,o],u=0,s=l.length;u<s;u++){var c=l[u];n&&!c||(n=!1,r+=v(c)+t[u])}return r},t.formatTimeLight=function(e){var t="",n=0,u=0,s=0;e>60&&(s=e/60|0),s>60&&(u=s/60|0,s%=60),u>24&&(n=u/24|0,u%=24);var v,p=[n,u,s,e%60],y=["天","小时","分","秒"],g=function(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return h(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?h(e,t):void 0}}(e))){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}((0,d.default)(p).call(p));try{for(g.s();!(v=g.n()).done;){var m,_,k=(0,c.default)(v.value,2),b=k[0],w=k[1];w>0&&(t=(0,f.default)(m=(0,f.default)(_="".concat(t)).call(_,w)).call(m,y[b]))}}catch(e){g.e(e)}finally{g.f()}return t},t.formatTimestamp=function(e){var t,n=new Date(e),r=[n.getFullYear(),n.getMonth(),n.getDay()],i=[n.getHours(),n.getMinutes()];return(0,f.default)(t="".concat(r.join("/")," ")).call(t,i.join(":"))};var c=s(n(24142)),f=s(n(67357)),d=s(n(40524));function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){return e>9?e+"":"0"+e}},22833:(e,t,n)=>{"use strict";n(67272)(t,"__esModule",{value:!0}),t.getStringLength=function(e){return(""+e.replace(/[^\x00-\xff]/gi,"ox")).length}},83934:(e,t,n)=>{"use strict";n(67272)(t,"__esModule",{value:!0}),t.utils=void 0;var r=n(6893),i=n(73492),a=n(35641),o=n(22833),l=n(899),u=n(73680),s={createSkeleton:r.createSkeleton,cutStr:i.cutStr,getStringLength:o.getStringLength,formatTime:a.formatTime,formatTimeLight:a.formatTimeLight,formatTimestamp:a.formatTimestamp,loadRes:l.loadRes,registerFontSize:u.registerFontSize};t.utils=s},899:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.loadRes=function(e,t){var n=this;return new a.default((function(r,i){var a;t&&(a=new u.Handler(null,(function(e){t(e)}),null,!1));var s=new u.Handler(n,(function(){(0,o.default)(r)}));l.loader.load(e,s,a)}))};var a=i(n(25937)),o=i(n(91728)),l=n(24629),u=n(41107)},73680:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542);n(67272)(t,"__esModule",{value:!0}),t.registerFontSize=function(e){var t,n=function(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return f(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?f(e,t):void 0}}(e))){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,d=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return d=e.done,e},e:function(e){h=!0,c=e},f:function(){try{d||null==n.return||n.return()}finally{if(h)throw c}}}}(e);try{for(n.s();!(t=n.n()).done;){var d=t.value,h=new s.BitmapFont,v=d.split("/"),p=v[v.length-1],y="".concat(d,".fnt"),g="".concat(d,".png");h.parseFont(u.loader.getRes(y),u.loader.getRes(g)),c.Text.registerBitmapFont(p,h)}}catch(e){n.e(e)}finally{n.f()}};var u=n(24629),s=n(60397),c=n(81870);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},55121:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.detectChangeScene=function(){var e=a.default.director.runningScene;return function(){return!!a.default.director.isLoadingScene||e!==a.default.director.runningScene}};var a=i(n(68700))},8928:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.runAsyncTask=function(e,t){var n,u=function(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return h(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?h(e,t):void 0}}(e))){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}(v);try{for(u.s();!(n=u.n()).done;){var s=n.value;if(s.dep===t)return s.task}}catch(e){u.e(e)}finally{u.f()}var c=e();return c.then((function(){for(var e=v.length-1;e>=0;e--){var t=v[e].task;if(c===t)return void(0,d.default)(v).call(v,e)}})),v.push({dep:t,task:c}),c},t.tmpAsyncTask=function(e,t){return new c.default((function(n,r){e.push(t),t.then((function(){var r=(0,f.default)(e).call(e,t);-1!==r&&(0,d.default)(e).call(e,r,1),n(e.length)}))}))};var c=s(n(25937)),f=s(n(4918)),d=s(n(2057));function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=[]},24354:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.afterActive=function(e){var t=this;return new o.default((function(n,r){if(e.active)return n();e.once("onViewCreated",t,(function(){return n()}))}))},t.afterEnable=function(e){return new o.default((function(t,n){if(e.active)return t();l(e,"onEnable",(function(){t()})),l(e,"onDestroy",(function(){n()}))}))},t.createScene=function(e){return new o.default((function(t,n){return t(new e)}))},t.injectAfter=l,t.injectProto=function(e,t,n,r){var i=e.prototype[t];return e.prototype[t]=function(){for(var l,u=this,s=arguments.length,c=new Array(s),f=0;f<s;f++)c[f]=arguments[f];var d,h=i.apply(this,(0,a.default)(l=[]).call(l,c));return h instanceof o.default?h.then((function(){var e;n.apply(void 0,(0,a.default)(e=[u,h]).call(e,c))})):n.apply(void 0,(0,a.default)(d=[this,h]).call(d,c)),r&&(e.prototype[t]=i),h},function(){e.prototype[t]=i}};var a=i(n(67357)),o=i(n(25937));function l(e,t,n){var r=e[t];return e[t]=function(){for(var e,t=this,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];var s=r.apply(this,(0,a.default)(e=[]).call(e,o));return u(s,(function(){var e;n.apply(void 0,(0,a.default)(e=[t,s]).call(e,o))})),s},function(){e[t]=r}}function u(e,t){e instanceof o.default?e.then((function(e){u(e,t)})):t()}},11369:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(15375)),o=i(n(17061)),l=i(n(55437)),u=i(n(10535)),s=i(n(65710)),c=i(n(94133)),f=i(n(54820)),d=i(n(45170)),h=i(n(64525)),v=i(n(60971)),p=i(n(47859)),y=i(n(55088)),g=i(n(92606)),m=i(n(95665)),_=i(n(79967)),k=i(n(70315)),b=i(n(7750)),w=n(81870),S=n(48365),x=n(22825),C=n(77530),I=n(23835),E=n(84228),M=function(){function e(){(0,a.default)(this,e)}return(0,o.default)(e,null,[{key:"init",value:function(){var e=I.ClassUtils.regClass;e("ui",E.ui),e("view/pop/alert.ts",l.default),e("view/pop/tip.ts",u.default),e("view/pop/topTip.ts",s.default),e("view/pop/voice.ts",c.default),e("ctrl/guide/guideDialog.ts",f.default),e("view/pop/help.ts",d.default),e("view/pop/lottery.ts",h.default),e("view/pop/record/gameRecord.ts",v.default),e("view/pop/record/itemRecord.ts",p.default),e("view/pop/shop.ts",y.default),e("view/scenes/game/gameView.ts",g.default),e("view/scenes/game/gunBoxView.ts",m.default),e("view/scenes/game/skillItemView.ts",_.default),e("view/scenes/hallView.ts",k.default),e("view/scenes/loadingView.ts",b.default),e("Laya.Text",w.Text),e("Laya.Templet",S.Templet),e("Laya.HTMLDivElement",x.HTMLDivElement),e("laya.effect.GlowFilterSetter",C.GlowFilterSetter)}}]),e}();t.default=M,M.width=1920,M.height=750,M.scaleMode="fixedheight",M.screenMode="horizontal",M.alignV="top",M.alignH="left",M.startScene="pop/alert/voice.scene",M.sceneRoot="",M.debug=!1,M.stat=!1,M.physicsDebug=!0,M.exportSceneToJson=!0,M.init()},22426:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.AppCtrl=void 0;var a=i(n(66329)),o=i(n(21003)),l=i(n(15375)),u=i(n(17061)),s=i(n(25937)),c=i(n(67357)),f=i(n(68700)),d=i(n(11369)),h=n(37026),v=n(21560),p=n(26744),y=n(86424),g=n(90564),m=n(51720),_=n(10659),k=n(66589),b=n(80356),w=n(8249),S=n(39487),x=n(43267),C=function(e,t,n,r){return new(n||(n=s.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},I=function(){function e(){(0,l.default)(this,e),this.bg_monitor=new m.BgMonitor,this.startApp()}return(0,u.default)(e,[{key:"startApp",value:function(){return C(this,void 0,void 0,a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.ctrlState.app=this,t=new y.AppModel,this.model=t,t.init(),(0,x.onCreateSocket)(p.ServerName.Hall).subscribe((function(e){e.event.on(p.ServerEvent.UserAccount,(function(e){t.initUserInfo(e)}))})),e.next=7,this.startHonor();case 7:return this.keyboard_number=new _.KeyBoardNumber,e.next=10,(0,g.sleep)(.5).then((function(){platform.hideLoading()}));case 10:return e.next=12,S.HallCtrl.preEnter();case 12:b.AudioCtrl.init();case 13:case"end":return e.stop()}}),e,this)})))}},{key:"startHonor",value:function(){return C(this,void 0,void 0,a.default.mark((function e(){var t,n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.default.run(d.default,{defaultVersion:h.Config.CdnVersion,versionPath:"./version.json?v=".concat(h.Config.CdnVersion),basePath:h.Config.cndUrl});case 2:return n=f.default.director.setLoadPageForScene("scenes/loading.scene"),r=f.default.director.load((0,c.default)(t=[]).call(t,(0,o.default)(v.res.common),(0,o.default)(v.res.font)),"Scene").then((function(){f.default.utils.registerFontSize(v.font_list)})),e.next=6,s.default.all([n,r]);case 6:case"end":return e.stop()}}),e)})))}},{key:"enterGame",value:function(e){var t=this.model.enterGame();return w.GameCtrl.preEnter(e,t)}}]),e}();t.AppCtrl=I},66589:(e,t,n)=>{"use strict";n(67272)(t,"__esModule",{value:!0}),t.ctrlState=void 0,t.ctrlState={}},80356:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.AudioEvent=t.AudioCtrl=void 0;var a=i(n(4918)),o=i(n(15375)),l=i(n(17061)),u=i(n(8136)),s=n(24629),c=n(41107),f={VoiceChange:"voice_change",MusicChange:"music_change"};t.AudioEvent=f;var d=function(){function e(){(0,o.default)(this,e)}return(0,l.default)(e,null,[{key:"init",value:function(){s.Laya.stage.on(s.Laya.Event.FOCUS,null,(function(){e.resumeBg()}))}},{key:"setVoice",value:function(e){var t=this.sound_manager;this.voice=e;var n=0===e;n!==t.soundMuted&&(t.soundMuted=n),t.setSoundVolume(e),this.event.emit(f.VoiceChange,e)}},{key:"setMusic",value:function(e){var t=this.sound_manager,n=0===e;n!==t.musicMuted&&(t.musicMuted=n,n||this.playBg(this.bg_url)),t.setMusicVolume(e),this.music=e,this.event.emit(f.MusicChange,e)}},{key:"play",value:function(e){var t=this,n=this.music||1,r=this.sound_manager,i=r.playSound;r.soundMuted||(this.sound_manager.setMusicVolume(.5*n),i(e,1,c.Handler.create(null,(function(){t.sound_manager.setMusicVolume(n)}))))}},{key:"playBg",value:function(e){var t=this.sound_manager,n=t.playMusic,r=t.musicMuted;this.bg_url=e,r||n(e)}},{key:"resumeBg",value:function(){this.sound_manager._musicChannel||this.playBg(this.bg_url)}},{key:"stop",value:function(e){var t=this.sound_manager.stopSound;if(!e)return!0;-1!==(0,a.default)(e).call(e,"bg")&&this.sound_manager.stopMusic(),t(e)}},{key:"stopAll",value:function(){this.sound_manager.stopAll()}}]),e}();t.AudioCtrl=d,d.event=new u.default,d.sound_manager=s.Laya.SoundManager},217:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.BulletCtrl=void 0;var a=i(n(15375)),o=i(n(17061)),l=n(8985),u=n(37440),s=n(54049),c=n(77513),f=n(48652),d=n(70903),h=n(48732),v=function(){function e(t,n){var r=this;(0,a.default)(this,e),this.view=t,this.model=n,this.syncPos=function(){var e=r.view;if(!e.destroyed){var t=r.model,n=t.pos,i=t.velocity,a=(0,s.vectorToDegree)(i)+90;e.rotation=a,e.pos(n.x,n.y)}},this.rage=function(){var e=r.view,t=r.model,n=t.pos,i=t.velocity,a=(0,s.vectorToDegree)(i)+90;e.rotation=a,e.pos(n.x,n.y)},this.init()}return(0,o.default)(e,[{key:"init",value:function(){this.initView(),this.initEvent()}},{key:"initView",value:function(){var e=this.view,t=this.model.skin_level;this.syncPos(),e.visible=!0,e.scale(.8,.8),(0,c.playSkeleton)(e,function(e){return Number(e)>3?0:e}(t),!0),e.zOrder=301}},{key:"initEvent",value:function(){var e=this,t=this.model.event;t.on(l.BulletEvent.Move,this.syncPos,this),t.on(l.BulletEvent.AddNet,(function(e){var t=(0,f.addNet)(e.skin);new h.NetCtrl(t,e)}),this),t.on(u.ModelEvent.Destroy,(function(){e.destroy()}),this)}},{key:"destroy",value:function(){var e,t;(0,d.recoverSkeletonPool)("bullet",this.model.skin,this.view),null===(t=null===(e=this.model)||void 0===e?void 0:e.event)||void 0===t||t.offAllCaller(this),this.model=void 0}}]),e}();t.BulletCtrl=v},63211:(e,t,n)=>{"use strict";var r=n(23710),i=n(83239),a=n(46993),o=n(99015),l=n(14571),u=n(32542),s=n(67272),c=n(8171);s(t,"__esModule",{value:!0}),t.FishCtrl=void 0;var f=c(n(66329)),d=c(n(15375)),h=c(n(17061)),v=c(n(89395)),p=c(n(45408)),y=c(n(97709)),g=c(n(38191)),m=c(n(52305)),_=c(n(25937)),k=c(n(81302)),b=n(74227),w=n(30260),S=n(26744),x=n(50634),C=n(3828),I=n(42717),E=n(82087);function M(e,t){var n=void 0!==o&&l(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return A(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B=function(e){(0,y.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,m.default)(t);if(n){var a=(0,m.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,g.default)(this,e)});function a(e,t){var n;return(0,d.default)(this,a),(n=i.call(this)).view=e,n.model=t,n.onBomb=function(e){return t=(0,v.default)(n),r=void 0,i=void 0,a=f.default.mark((function t(){var n,r,i,a,o,l,u,s,c,d,h;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.model.id,r=e.pos,i=e.fish_list,a=e.player,o=a.need_emit,l=a.is_cur_player,o){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,(0,I.waitFishDestroy)(this.model);case 7:u=[],s=M(i);try{for(s.s();!(c=s.n()).done;)(d=c.value).destroyed||u.push(d.id)}catch(e){s.e(e)}finally{s.f()}h={bombPoint:r,eid:n,fishList:u},l||(h.robotId=a.user_id),(0,E.sendToGameSocket)(S.ServerEvent.FishBomb,h);case 13:case"end":return t.stop()}}),t,this)})),new(i||(i=_.default))((function(e,n){function o(e){try{u(a.next(e))}catch(e){n(e)}}function l(e){try{u(a.throw(e))}catch(e){n(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,l)}u((a=a.apply(t,r||[])).next())}));var t,r,i,a},n.setVisible=function(e){n.view.setVisible(e)},n.syncPos=function(){var e=(0,v.default)(n).view,t=n.model,r=t.pos,i=t.velocity,a=t.horizon_turn;t.visible,e.syncPos(r,i,a)},n.beCapture=function(e){(0,k.default)((function(){e()}),500)},n.init(),n}return(0,h.default)(a,[{key:"init",value:function(){this.addCom(new w.TimeoutCom),this.initEvent()}},{key:"initEvent",value:function(){var e=this,t=this.model.visible;this.setVisible(t);var n=this.model.event,r=this.view;n.on(x.FishBombEvent.FishBomb,this.onBomb,this),n.on(C.FishEvent.VisibleChange,this.setVisible,this),n.on(C.FishEvent.Move,this.syncPos),n.on(C.FishEvent.BeCast,(function(){r.beCastAni()}),this),n.on(C.FishEvent.BeCapture,this.beCapture,this),n.on(C.FishEvent.StatusChange,(function(e){e===C.FishStatus.Freezed?r.stopSwimAni():r.playSwimAni()}),this),n.on(C.FishEvent.Destroy,(function(){e.destroy()}),this)}},{key:"destroy",value:function(){var e,t,n=this.view;null===(t=null===(e=this.model)||void 0===e?void 0:e.event)||void 0===t||t.offAllCaller(this),n.destroy(),(0,p.default)((0,m.default)(a.prototype),"destroy",this).call(this),this.model=void 0}}]),a}(b.ComponentManager);t.FishCtrl=B},8249:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.GameCtrl=void 0;var c=s(n(66329)),f=s(n(21003)),d=s(n(24142)),h=s(n(15375)),v=s(n(17061)),p=s(n(25937)),y=s(n(17055)),g=s(n(53774)),m=s(n(67357)),_=s(n(13053)),k=s(n(68700)),b=n(8928),w=n(89662),S=n(85096),x=n(66589),C=n(80356),I=n(39487),E=n(58465),M=n(95455),A=n(43267),B=n(14082),L=n(89970),T=n(21560),P=n(26744),N=n(62673),O=n(50615),D=n(86408),F=n(11263),U=n(54375),G=n(51720),z=n(55161),R=n(77513),j=s(n(55437)),V=s(n(45170)),H=s(n(64525)),$=s(n(55088)),Y=s(n(94133)),X=n(32354),K=n(40163),W=s(n(92606)),Q=n(63211),q=n(545),Z=n(82087),J=n(96747);function ee(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return te(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?te(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ne=function(e,t,n,r){return new(n||(n=p.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},re=function(){function e(t,n){(0,h.default)(this,e),this.player_list=new y.default,this.view=t,this.model=n}return(0,v.default)(e,[{key:"init",value:function(e,t){var n=this;this.initEvent(),C.AudioCtrl.playBg(B.AudioRes.GameBg),this.view.showBubbleRefresh(t),(0,M.waitConnectGame)(e).then((function(){(0,Z.onGameSocket)((0,A.getSocket)(P.ServerName.Game),n)}))}},{key:"initEvent",value:function(){var e=this.view,t=e.btn_help,n=e.btn_gift,r=e.btn_voice,i=e.btn_leave,a=e.btn_shop,o=w.Event.CLICK;this.onModel(),x.ctrlState.app.bg_monitor.event.on(G.BgMonitorEvent.VisibleChange,(function(e){e||(0,q.disableCurUserOperation)()}),this),t.on(o,this,(function(e){e.stopPropagation(),V.default.preEnter()})),n.on(o,this,(function(e){e.stopPropagation(),H.default.preEnter()})),r.on(o,this,(function(e){e.stopPropagation(),Y.default.preEnter()})),a.on(o,this,(function(e){e.stopPropagation(),$.default.preEnter()})),i.on(o,this,(function(e){var t=(0,E.getLang)(),n=L.InternationalTip[t].leaveTip;e.stopPropagation(),j.default.alert(n).then((function(e){"confirm"===e&&(0,Z.sendToGameSocket)(P.ServerEvent.RoomOut)}))}))}},{key:"onModel",value:function(){var e=this,t=this.model.event,n=this.view;t.on(D.GameEvent.AddFish,(function(e){var t=e.type,r=e.id,i=e.horizon_turn,a={type:t,currency:e.currency,id:r,horizon_turn:i},o=n.addFish(a);new Q.FishCtrl(o,e)}),this),t.on(D.GameEvent.AddPlayer,(function(t){var r=t.server_index;if(t.is_cur_player){r>1&&n.upSideDown();var i="left";1!==r&&2!==r||(i="right"),n.setBulletBoxPos(i)}var a=n.addGun(),o=new J.PlayerCtrl(a,t,e);e.player_list.add(o)}),this),t.on(N.FreezingComEvent.Freezing,(function(){C.AudioCtrl.play(B.AudioRes.Freeze),(0,X.activeFreeze)()}),this),t.on(N.FreezingComEvent.UnFreezing,(function(){(0,X.stopFreeze)()}),this),t.on(O.ShoalEvent.PreAddShoal,(function(e){C.AudioCtrl.play(B.AudioRes.ShoalComing),(0,K.activeShoalWave)(e)}),this),t.on(D.GameEvent.Destroy,(function(){e.destroy()}),this)}},{key:"onEnterGame",value:function(e){var t=this.model,n=this.view,r=e.isTrial,i=e.fish,a=e.users,o=e.frozen,l=e.frozen_left,u=e.fish_list,s=e.exchange_rate,c=e.currency;this.isTrial=r,r&&n.setTrialStyle(),this.addPlayers(a),this.addFish(i),o&&t.freezing_com.freezing(l,u),n.setExchangeRate(s,c)}},{key:"calcClientIndex",value:function(e){return this.model.getCurPlayer().server_index<=1?e:3-e}},{key:"onShoot",value:function(e){var t=e.direction;(0,g.default)(t).length&&(e.robotId&&(e.userId=e.robotId),this.model.shoot(e))}},{key:"onHit",value:function(e){this.model.captureFish(e)}},{key:"shoalComingTip",value:function(e){this.model.shoalComingTip(e)}},{key:"activeSkill",value:function(e,t){this.model.activeSkill(e,t)}},{key:"disableSkill",value:function(e,t){this.model.disableSkill(e,t)}},{key:"resetSkill",value:function(e,t){this.model.resetSkill(e,t)}},{key:"addFish",value:function(e){var t,n=ee(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.model.addFish(r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"addPlayers",value:function(e){var t,n=ee(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.model.addPlayer(r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"setPlayersEmit",value:function(e){var t,n=ee(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=this.model.getPlayerById(r);i&&i.updateInfo({need_emit:!0})}}catch(e){n.e(e)}finally{n.f()}}},{key:"changeBulletCost",value:function(e){var t=e.userId,n=e.multiple;this.model.getPlayerById(t).updateInfo({bullet_cost:n})}},{key:"changeUserNumInfo",value:function(e){var t,n=e.userId,r=e.change_arr,i=this.model.getPlayerById(n),a=ee(r);try{for(a.s();!(t=a.n()).done;){var o=t.value,l=o.type,u=o.num,s=o.id;"skill"===l?i.addSkillNum(s,u):i.updateInfo({bullet_num:i.bullet_num+u})}}catch(e){a.e(e)}finally{a.f()}}},{key:"changeSkin",value:function(e){var t=e.skinId,n=e.userId;t=t.charAt(t.length-1);var r=this.model.getPlayerById(n);(0,z.log)("接收到use skin",t),r.changeSkin(t)}},{key:"tableOut",value:function(e){var t=this,n=this.model,r=e.userId,i=e.isTimeOut;if((0,F.isCurUser)(r)){var a=(0,E.getLang)(),o=L.InternationalTip[a].kickedTip,l=L.InternationalTip[a][P.ServerErrCode.TrialTimeGame],u=i?l:o;(0,q.disableAllUserOperation)(),(0,Z.offGameSocket)(this),(0,A.disconnectSocket)(P.ServerName.Game),j.default.alert(u,{hide_cancel:!0}).then((function(){t.roomOut({userId:r})}))}else{var s=n.getPlayerById(r);if(!s)return(0,z.error)("Game:>captureFish:> cant find player for userId=".concat(r,"!"));s.destroy()}}},{key:"roomOut",value:function(e){var t=this.model,n=e.userId;(0,F.isCurUser)(n)&&((0,Z.offGameSocket)(this),(0,A.disconnectSocket)(P.ServerName.Game),t.destroy(),I.HallCtrl.preEnter())}},{key:"reset",value:function(){this.model.clear()}},{key:"destroy",value:function(){var t,n=x.ctrlState.app.bg_monitor;null===(t=this.model)||void 0===t||t.event.offAllCaller(this),n.event.offAllCaller(this),this.view=void 0,this.model=void 0,e.instance=void 0,k.default.director.closeAllDialogs(),(0,R.setProps)(x.ctrlState,{game:void 0})}}],[{key:"preEnter",value:function(t,n){return ne(this,void 0,void 0,c.default.mark((function r(){var i=this;return c.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.instance){r.next=2;break}return r.abrupt("return",this.instance);case 2:return r.abrupt("return",(0,b.runAsyncTask)((function(){var r,a=W.default.preEnter(),o=i.genBgNum(),l=(0,d.default)(o,2),u=l[0],s=l[1],h=(0,m.default)(r=[s]).call(r,(0,f.default)(T.res.game)),v=k.default.director.load(h,"Scene");return console.log("test:>1",t),t.currency?(0,q.waitEnterGame)().then((function(e){var n=(0,d.default)(e,2),r=n[0],a=n[1];return ne(i,void 0,void 0,c.default.mark((function e(){var n;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:if("YOUCHAIN"!==(0,E.getChannel)()||a.isTrial){e.next=6;break}return n=(0,E.getLang)(),e.next=6,j.default.alert(L.InternationalTip[n].delayUpdateAccount);case 6:(0,q.tipExchange)(t);case 7:case"end":return e.stop()}}),e)})))})):(0,q.waitEnterGame)().then((function(e){var t=(0,d.default)(e,2),n=t[0],r=t[1];return ne(i,void 0,void 0,c.default.mark((function e(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&!r.isTrial&&r.currency){e.next=2;break}return e.abrupt("return");case 2:(0,U.tipPlatformCurrency)(r.currency);case 3:case"end":return e.stop()}}),e)})))})),p.default.all([a,v]).then((function(r){var a=new e((0,d.default)(r,1)[0],n);return i.instance=a,a.init(t.socketUrl,u),(0,R.setProps)(x.ctrlState,{game:a}),a}))}),this));case 3:case"end":return r.stop()}}),r,this)})))}},{key:"genBgNum",value:function(){var e=(0,_.default)(1,3);return[e,{url:"image/game/normal_bg/bg".concat(e,".jpg"),type:S.Loader.IMAGE}]}}]),e}();t.GameCtrl=re},545:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.changeBulletNum=function(e){var t=_.modelState.app.user_info.user_id;h.ctrlState.game.changeUserNumInfo({userId:t,change_arr:[{num:e,type:"bullet"}]})},t.disableAllUserOperation=function(){var e,t=function(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return w(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?w(e,t):void 0}}(e))){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}(_.modelState.app.game.getPlayers());try{for(t.s();!(e=t.n()).done;){var n=(0,f.default)(e.value,2),u=(n[0],n[1]);u.need_emit&&(u.disableSkill(y.SkillMap.Auto),u.getSkill(y.SkillMap.LockFish).unLock())}}catch(e){t.e(e)}finally{t.f()}},t.disableCurUserOperation=function(){var e=_.modelState.app.game.getCurPlayer();e&&(e.disableSkill(y.SkillMap.Auto),e.getSkill(y.SkillMap.LockFish).unLock())},t.tipExchange=function(e){if(e.currency){var t=(0,v.getLang)(),n=g.InternationalTip[t].enterGameCostTip;n=(0,k.tplStr)(n,{bringAmount:e.bringAmount,bulletNum:e.bulletNum,currency:e.currency}),b.default.tip(n)}},t.waitEnterGame=function(){return S(this,void 0,void 0,c.default.mark((function e(){var t=this;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new d.default((function(e,n){return S(t,void 0,void 0,c.default.mark((function t(){return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,p.waitCreateSocket)(m.ServerName.Game);case 2:t.sent.event.once(m.ServerEvent.EnterGame,(function(t,n){if(200!==n)return e([!1]);e([!0,t])}));case 4:case"end":return t.stop()}}),t)})))})));case 1:case"end":return e.stop()}}),e)})))},t.waitGameExchangeOrLeave=function e(){return S(this,void 0,void 0,c.default.mark((function t(){var n=this;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new d.default((function(t,r){return S(n,void 0,void 0,c.default.mark((function n(){var r;return c.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,p.waitCreateSocket)(m.ServerName.Game);case 2:(r=n.sent).event.once(m.ServerEvent.ExchangeBullet,(function(n,i){if(r.event.offAllCaller(e),200!==i)return t(!1);t(!0)}),e),r.event.on(m.ServerEvent.RoomOut,(function(n){var i=n.userId;(0,_.isCurUser)(i)&&(r.event.offAllCaller(e),t(!0))}),e);case 5:case"end":return n.stop()}}),n)})))})));case 1:case"end":return t.stop()}}),t)})))};var c=s(n(66329)),f=s(n(24142)),d=s(n(25937)),h=n(66589),v=n(58465),p=n(43267),y=n(37026),g=n(89970),m=n(26744),_=n(11263),k=n(77513),b=s(n(10535));function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e,t,n,r){return new(n||(n=d.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))}},82087:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.convertEnterGame=x,t.offGameSocket=function(e){(0,p.offCommon)(c,e),c=void 0},t.onGameSocket=function(e,t){var n;c=e,(0,p.commonSocket)(e,t),(0,g.bindSocketEvent)(e,t,(n={},(0,d.default)(n,_.ServerEvent.EnterGame,(function(e,n){if(200!==n)return(0,p.errorHandler)(n,e);t.onEnterGame(x(e))})),(0,d.default)(n,_.ServerEvent.TableIn,(function(e){var n=function(e){var t=e.userId,n=e.index,r=e.multiple,i=e.turretSkin,a=I(f,!1);return{user_id:t,server_index:n-1,bullet_cost:r,gun_skin:"".concat(Number(i)-1e3),nickname:"",avatar:"",bullet_num:0,need_emit:!1,is_cur_player:!1,skills:a}}(e);t.addPlayers([n])})),(0,d.default)(n,_.ServerEvent.NeedEmitUser,(function(e){(0,k.isCurUser)(e.userId)&&t.setPlayersEmit(e.robotIds)})),(0,d.default)(n,_.ServerEvent.TableOut,(function(e,n){if(200!==n)return(0,p.errorHandler)(n,e);t.tableOut(e)})),(0,d.default)(n,_.ServerEvent.Shoot,(function(e){t.onShoot(e)})),(0,d.default)(n,_.ServerEvent.Hit,(function(e,n){if(200!==n)return(0,p.errorHandler)(n,e);t.onHit(e)})),(0,d.default)(n,_.ServerEvent.FishBomb,(function(e,n){200===n?t.activeSkill(m.SkillMap.Bomb,C(e)):t.resetSkill(m.SkillMap.Bomb,(0,k.getCurUserId)())})),(0,d.default)(n,_.ServerEvent.UseBomb,(function(e,n){if(200===n){var r=C(e);t.activeSkill(m.SkillMap.Bomb,(0,h.default)((0,h.default)({},r),{is_bomb_fish:!0}))}else t.resetSkill(m.SkillMap.Bomb,(0,k.getCurUserId)())})),(0,d.default)(n,_.ServerEvent.UseFreeze,(function(e,n){200===n?t.activeSkill(m.SkillMap.Freezing,function(e){var t=e.userId,n=e.count,r=e.duration;return{user_id:t,used_time:0,num:n,fish_list:e.frozenFishList,duration:r/1e3}}(e)):t.resetSkill(m.SkillMap.Freezing,(0,k.getCurUserId)())})),(0,d.default)(n,_.ServerEvent.autoShoot,(function(e){e.autoShoot?t.activeSkill(m.SkillMap.Auto,function(e){return{user_id:e.userId,autoShoot:e.autoShoot}}(e)):t.disableSkill(m.SkillMap.Auto,e.userId)})),(0,d.default)(n,_.ServerEvent.LockFish,(function(e,n){200===n?t.activeSkill(m.SkillMap.LockFish,function(e){var t=e.userId,n=e.eid,r=e.needActive,i=e.duration,a=e.count;return{user_id:t,fish:n,needActive:r,duration:i/1e3,used_time:0,num:Number(a)}}(e)):t.resetSkill(m.SkillMap.Freezing,(0,k.getCurUserId)())})),(0,d.default)(n,_.ServerEvent.AddFish,(function(e){t.addFish(e.fish)})),(0,d.default)(n,_.ServerEvent.FishShoal,(function(e){t.shoalComingTip((0,v.default)(e)),t.addFish(e.fish)})),(0,d.default)(n,_.ServerEvent.FishShoalWarn,(function(e){})),(0,d.default)(n,_.ServerEvent.RoomOut,(function(e){t.roomOut(e)})),(0,d.default)(n,_.ServerEvent.ChangeTurret,(function(e){t.changeBulletCost(e)})),(0,d.default)(n,_.ServerEvent.UseSkin,(function(e){t.changeSkin(e)})),(0,d.default)(n,_.ServerEvent.ExchangeBullet,(function(e,t){if(200!==t)return(0,p.errorHandler)(t,e);var n=(0,k.getCurPlayer)(),r=n.gun.getAllBulletCost();n.updateInfo({bullet_num:e.balance-r}),(0,b.tipExchange)(e)})),(0,d.default)(n,y.SocketEvent.Reconnected,(function(){t.reset(),e.send(_.ServerEvent.EnterGame,{replay:!0})})),n))},t.sendToGameSocket=function(){var e;null==c||(e=c).send.apply(e,arguments)};var c,f,d=s(n(67513)),h=s(n(60855)),v=s(n(74779)),p=n(59914),y=n(49659),g=n(43267),m=n(37026),_=n(26744),k=n(11263),b=n(545);function w(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return S(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?S(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e){var t=e.isTrial,n=e.rate,r=e.users,i=e.items,a=e.fish,o=e.frozen,l=e.frozenLeft,u=e.currency,s=[];f=i;var c,d=w(r);try{for(d.s();!(c=d.n()).done;){var v=c.value,p=v.userId,y=v.index,g=v.bulletNum,_=v.multiple,b=v.turretSkin,S=v.lockFish,x=v.lockLeft,C=v.needEmit,E=(0,k.isCurUser)(p),M=(0,k.isCurUser)(p)||C,A=I(i,E);S&&(A[m.SkillMap.LockFish]=(0,h.default)((0,h.default)({},A[m.SkillMap.LockFish]),{lock_fish:S,lock_left:x/1e3,needActive:!0}));var B={user_id:p,server_index:y-1,bullet_num:g,bullet_cost:_,gun_skin:"".concat(Number(b)-1e3),nickname:"",avatar:"",is_cur_player:E,skills:A,need_emit:M};E?s.unshift(B):s.push(B)}}catch(e){d.e(e)}finally{d.f()}var L=[];if(o){var T,P=w(a);try{for(P.s();!(T=P.n()).done;){var N=T.value;N.frozen&&L.push(N.eid)}}catch(e){P.e(e)}finally{P.f()}}return{isTrial:t,exchange_rate:n,fish:a,users:s,frozen:o,currency:u,frozen_left:l/1e3,fish_list:L}}function C(e){return{user_id:e.userId,pos:e.bombPoint,num:e.count,used_time:0,fish_list:e.killedFish}}function I(e,t){var n,r={},i=w(e);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.itemId,l=a.count,u=a.usedTime,s=a.coolTime,c=a.duration;r[a.itemId]={item_id:o,num:t?Number(l):0,used_time:t?u/1e3:0,cool_time:s/1e3,duration:c/1e3}}}catch(e){i.e(e)}finally{i.f()}return r}},88672:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.GameTestCtrl=void 0;var c=s(n(66329)),f=s(n(24142)),d=s(n(15375)),h=s(n(17061)),v=s(n(25937)),p=s(n(17055)),y=s(n(68700)),g=n(66589),m=n(21560),_=n(86408),k=n(11263),b=n(77513),w=s(n(92606)),S=n(63211),x=n(82087),C=n(96747),I=n(8253);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=function(){function e(t,n){(0,d.default)(this,e),this.view=t,this.model=n,this.player_list=new p.default,this.onModel(),(0,I.genUserInfo)(this),k.modelState.app.game=n}return(0,h.default)(e,[{key:"onModel",value:function(){var e=this,t=this.model.event,n=this.view;t.on(_.GameEvent.AddFish,(function(t){var r=t.type,i=t.id,a=t.horizon_turn,o=t.currency,l=n.addFish({type:r,id:i,horizon_turn:a,currency:o});e.fish_view=l,new S.FishCtrl(l,t)}),this),t.on(_.GameEvent.AddPlayer,(function(t){var r=n.addGun(),i=new C.PlayerCtrl(r,t,e);e.player_list.add(i)}),this),t.on(_.GameEvent.Destroy,(function(){e.destroy()}),this)}},{key:"calcClientIndex",value:function(){return 1}},{key:"onShoot",value:function(e){this.model.shoot(e)}},{key:"onHit",value:function(e){this.model.captureFish(e)}},{key:"addFish",value:function(e){var t,n=function(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return E(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?E(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}(e);try{for(n.s();!(t=n.n()).done;){var u=t.value;this.model.addFish(u)}}catch(e){n.e(e)}finally{n.f()}}},{key:"removePlayerCtrl",value:function(e){this.player_list.delete(e)}},{key:"destroy",value:function(){var e,t;(0,x.offGameSocket)(this),null===(t=null===(e=this.model)||void 0===e?void 0:e.event)||void 0===t||t.offAllCaller(this),this.model=void 0,this.view=void 0,(0,b.setProps)(g.ctrlState,{game:void 0}),this.player_list=new p.default}}],[{key:"preEnter",value:function(){return t=this,n=void 0,r=void 0,i=c.default.mark((function t(){var n,r,i,a;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=w.default.preEnter(),r=y.default.director.load(m.res.gameTutorial),i=(0,I.mockSocket)(),a=v.default.all([n,i,r]).then((function(t){var n=(0,f.default)(t,2),r=n[0],i=n[1],a=new e(r,new _.GameModel);return a.view.showBubbleRefresh(1),(0,x.onGameSocket)(i,a),a})),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})),new(r||(r=v.default))((function(e,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function l(e){try{u(i.throw(e))}catch(e){a(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,l)}u((i=i.apply(t,n||[])).next())}));var t,n,r,i}}]),e}();t.GameTestCtrl=M},8253:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.genFishInfo=function(e){var t={eid:"001",fishId:"".concat(1),displaceType:"path",pathNo:"".concat(3),totalTime:12e8,usedTime:6e8};e.model.addFish(t)},t.genUserInfo=function(e){var t,n=e.model,r=d.modelState.app.user_info.user_id,i={user_id:r,server_index:0,bullet_cost:1,bullet_num:1,gun_skin:"1",nickname:r,avatar:"test",need_emit:!0,is_cur_player:!0,skills:(t={},(0,o.default)(t,c.SkillMap.Freezing,{item_id:c.SkillMap.Freezing,num:1,cool_time:10,used_time:0}),(0,o.default)(t,c.SkillMap.LockFish,{item_id:c.SkillMap.LockFish,num:20,cool_time:10,used_time:0}),(0,o.default)(t,c.SkillMap.Bomb,{item_id:c.SkillMap.Bomb,num:20,cool_time:10,used_time:0}),t)};n.addPlayer(i)},t.mockShoot=function(){return v(this,void 0,void 0,a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.modelState.app.user_info.user_id,(0,s.getSocket)(f.ServerName.Game).event.emit(f.ServerEvent.Shoot,{userId:t,direction:{x:1.3,y:-1}}),e.abrupt("return",(0,h.sleep)(2));case 4:case"end":return e.stop()}}),e)})))},t.mockSocket=function(){return v(this,void 0,void 0,a.default.mark((function e(){var t,n,r,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.modelState.app.user_info.user_id,(0,s.mockSocketCtor)(u.MockWebSocket),e.next=4,(0,s.createSocket)({url:"",publicKey:"",code:"",name:"game",host:""});case 4:return n=e.sent,r=n.sendEvent,i=n.event,r.on(f.ServerEvent.Shoot,(function(e){(0,h.sleep)(.01).then((function(){i.emit(f.ServerEvent.Shoot,{userId:t,direction:e.direction},200)}))})),r.on(f.ServerEvent.Hit,(function(e){(0,h.sleep)(.1).then((function(){i.emit(f.ServerEvent.Hit,{userId:t,eid:e.eid,win:2},200)}))})),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))},t.resetMockSocketCtor=function(e){if(e){var t=e.model;(0,s.disconnectSocket)(f.ServerName.Game),(0,s.mockSocketCtor)(void 0),t.destroy()}};var a=i(n(66329)),o=i(n(67513)),l=i(n(25937)),u=n(91549),s=n(43267),c=n(37026),f=n(26744),d=n(11263),h=n(90564),v=function(e,t,n,r){return new(n||(n=l.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))}},48732:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.NetCtrl=void 0;var a=i(n(81302)),o=i(n(15375)),l=i(n(17061)),u=n(37440),s=n(77513),c=n(48652),f=n(70903),d=function(){function e(t,n){(0,o.default)(this,e),this.view=t,this.model=n,this.init()}return(0,l.default)(e,[{key:"init",value:function(){var e=this.view,t=this.model,n=t.skin_level,r=c.viewState.game.upside_down,i=t.pos,a=i.x,o=i.y;e.pos(a,o),r&&(e.scaleY=-1),(0,s.playSkeleton)(e,n,!1),this.initEvent(),e.zOrder=301}},{key:"initEvent",value:function(){var e=this,t=(this.view,this.model.event);t.on(u.ModelEvent.Destroy,(function(){var n=e.model.skin;(0,a.default)((function(){(0,f.recoverSkeletonPool)("net",n,e.view)}),1e3),t.offAllCaller(e)}),this)}}]),e}();t.NetCtrl=d},96747:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.PlayerCtrl=void 0;var c=s(n(4918)),f=s(n(67357)),d=s(n(24142)),h=s(n(15375)),v=s(n(17061)),p=s(n(86116)),y=n(24629),g=n(89662),m=n(80356),_=n(59914),k=n(14082),b=n(26744),w=n(83091),S=n(83125),x=n(34085),C=n(11263),I=n(36620),E=n(55161),M=n(77513),A=n(59446),B=n(44560),L=n(38703),T=n(48652),P=n(217),N=n(82087),O=n(67005);function D(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return F(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?F(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var U=[1,2,3,4,5,10,15,20],G=function(){function e(t,n,r){(0,h.default)(this,e),this.view=t,this.model=n,this.game_ctrl=r,this.init()}return(0,v.default)(e,[{key:"init",value:function(){this.initGun(),this.initEvent()}},{key:"initGun",value:function(){var e=this.view,t=this.model,n=this.game_ctrl,r=t.server_index,i=t.gun,a=t.bullet_num,o=t.is_cur_player,l=i.pos;r>=2&&e.fixServerTopPos(),n.calcClientIndex(r)>=2&&e.fixClientTopPos(),e.setPos(l.x,l.y),o&&(0,T.setBulletNum)(a)}},{key:"initEvent",value:function(){var e=this,t=this.view,n=this.model,r=n.user_id,i=n.gun,a=n.is_cur_player,o=n.skill_map,l=n.event,u=i.event,s=i.direction,c=i.pos,f=t.btn_minus,h=t.btn_add;l.on(S.PlayerEvent.CaptureFish,(function(e){var t=e.pos,n=e.data,r=n.win,o=n.drop,l=e.resolve,u=i.pos;if(t||l(),a){if(o){var s=(0,C.getGameCurrency)();(0,L.awardSkill)(t,u,o,s)}m.AudioCtrl.play(k.AudioRes.FlySkill)}r?a&&r>1e3?(0,A.showAwardCircle)(t,r,a).then(l):(0,B.showAwardCoin)(t,u,r,a).then(l):l()}),this),l.on(S.PlayerEvent.Destroy,(function(){e.destroy()}),this),u.on(w.GunEvent.AddBullet,(function(e){var n=e.bullet_group,o=e.velocity,l=i.rage;t.fire(o,r),a&&t.stopPosTip();var u,s=D(n.bullet_map);try{for(s.s();!(u=s.n()).done;){var c=(0,d.default)(u.value,2)[1],f=t.addBullet(c.skin,l);new P.BulletCtrl(f,c)}}catch(e){s.e(e)}finally{s.f()}}),this),t.setDirection(s),u.on(w.GunEvent.DirectionChange,(function(e){t.setDirection(e)}),this),u.on(w.GunEvent.LevelChange,(function(n){a&&e.detectDisableChangeBulletCost(n.bullet_cost),t.setBulletCost(n)}),this),t.on(g.Event.CLICK,t,(function(e){e.stopPropagation()}));var v,y=0,I=D(o);try{for(I.s();!(v=I.n()).done;){var E=(0,d.default)(v.value,2)[1];if(E instanceof x.AutoShootModel){if(a){var M=(0,T.getAutoShootSkillItem)();this.handleAutoShoot(E,M)}}else{if(a){var F=(0,T.getSkillItemByIndex)(y);new O.SkillCtrl(E,this,F)}else new O.SkillCtrl(E,this);y++}}}catch(e){I.e(e)}finally{I.f()}u.on(w.GunEvent.WillAddBullet,(function(t){if(e.model){var n=e.model,r=n.need_emit,i=n.user_id,a=n.is_cur_player;if(r){var o=t.x,l=t.y;a&&m.AudioCtrl.play(k.AudioRes.Fire);var u={direction:{x:o,y:l},userId:i};a||(u.robotId=i,u.userId=(0,C.getCurPlayer)().user_id),(0,N.sendToGameSocket)(b.ServerEvent.Shoot,u)}}}),this),u.on(w.GunEvent.CastFish,(function(t){var n=t.fish.id,r=t.level,i=e.model,a=i.user_id,o={eid:n,multiple:r};i.is_cur_player||(o.robotId=a),(0,N.sendToGameSocket)(b.ServerEvent.Hit,o)}),this),a&&(t.setMySelfStyle(),this.resetGetBulletCost(),l.on(S.PlayerEvent.UpdateInfo,(function(){var t=e.model.bullet_num;(0,T.setBulletNum)(t)}),this),u.on(w.GunEvent.NotEnoughBulletNum,(function(){e.game_ctrl.isTrial?(0,_.errorHandler)(b.ServerErrCode.TrialNotBullet):(0,_.errorHandler)(b.ServerErrCode.ReExchange)}),this),u.on(w.GunEvent.AutoShoot,(function(e){(0,T.setAutoShootLight)(e)}),this),(0,T.getGameView)().on(g.Event.CLICK,t,(function(e){var t=(0,T.getPoolMousePos)(),n=new p.default.Vector(t.x-c.x,t.y-c.y);i.preAddBullet(n)})),f.on(g.Event.CLICK,f,(function(t){t.stopPropagation(),e.sendChangeBulletCost("minus")})),h.on(g.Event.CLICK,h,(function(t){t.stopPropagation(),e.sendChangeBulletCost("add")})))}},{key:"handleAutoShoot",value:function(e,t){t.on(g.Event.CLICK,t,(function(t){t.stopPropagation(),(0,E.log)("auto shoot"),e.toggle()}))}},{key:"detectDisableChangeBulletCost",value:function(e){var t=this.view,n=t.btn_minus,r=t.btn_add,i=(0,c.default)(U).call(U,e);(0,M.unDarkNode)(n),(0,M.unDarkNode)(r),i<=0?(0,M.darkNode)(n):i>=U.length-1&&(0,M.darkNode)(r)}},{key:"resetGetBulletCost",value:function(){var e,t,n=this.game_ctrl.isTrial,r=(0,C.getUserInfo)().user_id,i=(0,C.getGameCurrency)(),a=(0,I.getItem)((0,f.default)(e=(0,f.default)(t="".concat(r,":")).call(t,i,":")).call(e,n));a&&(0,N.sendToGameSocket)(b.ServerEvent.ChangeTurret,{multiple:Number(a)})}},{key:"sendChangeBulletCost",value:function(e){var t,n,r=this.game_ctrl.isTrial,i=this.model.bullet_cost,a=(0,c.default)(U).call(U,i),o="add"===e?a+1:a-1;if(!(o<0||o>U.length-1)){m.AudioCtrl.play(k.AudioRes.Click);var l=U[o];this.detectDisableChangeBulletCost(l),(0,N.sendToGameSocket)(b.ServerEvent.ChangeTurret,{multiple:l});var u=(0,C.getUserInfo)().user_id,s=(0,C.getGameCurrency)();(0,I.setItem)((0,f.default)(t=(0,f.default)(n="".concat(u,":")).call(n,s,":")).call(t,r),l+"")}}},{key:"destroy",value:function(){var e=this.view,t=this.model,n=t.gun.event,r=t.event;(0,T.getGameView)().offAllCaller(e),y.Laya.stage.offAllCaller(e),r.offAllCaller(this),n.offAllCaller(this),e.destroy(),this.view=void 0,this.game_ctrl=void 0,this.model=void 0}}]),e}();t.PlayerCtrl=G},67005:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.SkillCtrl=void 0;var a=i(n(15375)),o=i(n(17061)),l=n(36065),u=n(69718),s=n(43776),c=n(4603),f=function(){function e(t,n,r){(0,a.default)(this,e),this.view=r,this.model=t,this.player=n,this.initEvent(),this.setInfo()}return(0,o.default)(e,[{key:"initEvent",value:function(){var e=this,t=this.view,n=this.model,r=this.player,i=n.skill_core.event;if(i.on(s.SkillEvent.ActiveSkill,(function(e){(0,c.skillActiveHandler)(n,e,r.model)}),this),t){i.on(s.SkillEvent.StatusChange,(function(e){e===s.SkillStatus.Active?t.highlight():e===s.SkillStatus.Disable||e===s.SkillStatus.Normal?(t.unHighlight(),t.clearCoolTime(),(0,c.skillDisableHandler)(n)):e===s.SkillStatus.PreActive&&(n instanceof l.BombModel||n instanceof u.LockFishModel)&&t.highlight()}),this),i.on(s.SkillEvent.UpdateInfo,(function(){e.setInfo()}),this);var a=0;i.on(s.SkillEvent.UpdateRadio,(function(e){a%3&&1!==e?a++:(a++,1===e&&(a=0),t.showCoolTime(e))}),this),i.on(s.SkillEvent.Destroy,(function(){e.destroy()}),this),this.bindTrigger=(0,c.onTrigger)(n,t).subscribe((function(){n.skill_core.status===s.SkillStatus.Normal?(0,c.skillPreActiveHandler)(n):n.skill_core.status===s.SkillStatus.PreActive&&(0,c.skillNormalActiveHandler)(n)}))}}},{key:"setInfo",value:function(){var e=this.view,t=this.model.skill_core,n=t.num,r=t.item_id;e&&(e.setId(r),e.setNum(n))}},{key:"destroy",value:function(){var e,t,n;null===(n=null===(t=null===(e=this.model)||void 0===e?void 0:e.skill_core)||void 0===t?void 0:t.event)||void 0===n||n.offAllCaller(this),this.bindTrigger.unsubscribe(),this.model=void 0}}]),e}();t.SkillCtrl=f},4603:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.getShortcut=function(e){return e instanceof g.LockFishModel?"F1":e instanceof y.FreezeModel?"F2":e instanceof p.BombModel?"F3":void 0},t.onTrigger=function(e,t){var n=112;e instanceof g.LockFishModel?n=112:e instanceof y.FreezeModel?n=113:e instanceof p.BombModel&&(n=114);var r=(0,w.onKeyBoardEvent)(n),i=(0,w.onNodeEvent)(t,l.Event.CLICK);return(0,o.merge)(r,i)},t.skillActiveHandler=function(e,t,n){return new a.default((function(r,i){var a=(0,s.getLang)(),o=d.InternationalTip[a].aimFish;if(e instanceof g.LockFishModel){var l=t.fish,f=t.is_tip,v=t.gun_pos;if(!n.is_cur_player)return(0,b.debug)("lock:>skill:>skillActiveHandler",f),void(n.need_emit&&f&&l&&(0,A.sendToGameSocket)(h.ServerEvent.LockFish,{robotId:n.user_id,eid:l.id}));f&&C.default.tip(o,2);var y=!f;(0,I.activeAimFish)(l,y,v),(0,M.onFishClick)().subscribe((function(e){(0,A.sendToGameSocket)(h.ServerEvent.LockFish,{eid:e})}))}else if(e instanceof p.BombModel){var m=M.viewState.game.pool;(0,E.activeExploding)(t),(0,k.offMouseMove)(m),u.AudioCtrl.play(c.AudioRes.Bomb),r()}}))},t.skillDisableHandler=function(e){return new a.default((function(t,n){e instanceof g.LockFishModel?((0,I.stopAim)("aim"),(0,M.offFishClick)()):e instanceof p.BombModel?(0,M.offPoolClick)():t()}))},t.skillNormalActiveHandler=function(e){if(e.skill_core.status===m.SkillStatus.PreActive&&(e.skill_core.setStatus(m.SkillStatus.Normal),e instanceof g.LockFishModel&&((0,M.offFishClick)(),C.default.hide(),(0,I.stopAim)("aim")),e instanceof p.BombModel)){var t=M.viewState.game.pool;C.default.hide(),(0,I.stopAim)("aim_big"),(0,M.offPoolClick)(),(0,k.offMouseMove)(t)}},t.skillPreActiveHandler=function(e){var t=(0,s.getLang)(),n=d.InternationalTip[t],r=n.buySkillTip,i=n.posBombTip,a=n.aimFish;if(e.skill_core.num<=0)S.default.alert(r).then((function(e){"confirm"===e&&x.default.preEnter()}));else if(e.skill_core.status===m.SkillStatus.Normal)if(e.skill_core.setStatus(m.SkillStatus.PreActive),e instanceof y.FreezeModel)(0,A.sendToGameSocket)(h.ServerEvent.UseFreeze);else if(e instanceof p.BombModel){C.default.tip(i,2);var o=M.viewState.game.pool,l=f.Config.PoolWidth,u=f.Config.PoolHeight;(0,I.activeAim)({x:l/2,y:u/2}),(0,k.onMouseMove)(o,(function(e){return(0,I.activeAim)(e)})),(0,M.onPoolClick)(!0).subscribe((function(e){(0,k.offMouseMove)(o),(0,I.stopAim)("aim_big");var t=(0,v.getBeBombFishIds)(e);(0,A.sendToGameSocket)(h.ServerEvent.UseBomb,{bombPoint:e,fishList:t})}))}else if(e instanceof g.LockFishModel){var c=e.skill_core.player,b=(c.user_id,c.is_cur_player),w=c.need_emit,E=(0,_.getAimFish)();if(!b&&w)return;var B=_.modelState.app.game.getCurPlayer();C.default.tip(a,2),(0,I.activeAimFish)(E,!1,B.gun.pos),(0,M.onFishClick)(!0).subscribe((function(e){(0,A.sendToGameSocket)(h.ServerEvent.LockFish,{eid:e,needActive:!0})}))}};var a=i(n(25937)),o=n(79520),l=n(89662),u=n(80356),s=n(58465),c=n(14082),f=n(37026),d=n(89970),h=n(26744),v=n(42717),p=n(36065),y=n(33302),g=n(69718),m=n(43776),_=n(11263),k=n(52782),b=n(55161),w=n(37478),S=i(n(55437)),x=i(n(55088)),C=i(n(65710)),I=n(81756),E=n(1141),M=n(48652),A=n(82087)},86204:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.awaitStageClick=function(){var e=this;return new o.default((function(t,n){f.Laya.stage.on(h.Event.CLICK,e,(function(){t()}))}))},t.extraShape=x,t.getBoundsOfNode=k,t.getPromptByShape=b,t.showPromptByNode=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"top",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"btn";return _(this,void 0,void 0,a.default.mark((function o(){var l,u,s,c,f,d,h,v,y;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return u="rect",e.sprite?(l=e.sprite,u=e.shape):l=e,s=m.guide_state.guide_dialog,c=k(l,s),f=c.x,d=c.y,h=c.width,v=c.height,y="rect"===u?new p.Rectangle(f,d,h,v):{x:f+h/2,y:d+v/2,radius:Math.max(h,v)},a.next=7,S(y,t,n,r,i);case 7:case"end":return a.stop()}}),o)})))},t.showPromptByShape=S,t.triggerClick=function(e){e.event(h.Event.CLICK,{type:h.Event.CLICK})};var a=i(n(66329)),o=i(n(25937)),l=i(n(4918)),u=i(n(2220)),s=i(n(45829)),c=i(n(60855)),f=n(24629),d=n(22833),h=n(89662),v=n(85399),p=n(98693),y=n(90564),g=n(55161),m=n(10503),_=function(e,t,n,r){return new(n||(n=o.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))};function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=n/2,i=e.localToGlobal(new v.Point(-r,-r));i=t.globalToLocal(i,!0);var a=e.localToGlobal(new v.Point(e.width+r,e.height+r));a=t.globalToLocal(a,!0);var o=i,l=o.x,u=o.y,s=a.x-l,c=a.y-u;return s<0&&(l=a.x,u=a.y,s=i.x-l,c=i.y-u),{x:l,y:u,width:s,height:c}}function b(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=m.guide_state.prompt,a=i.getSize();if(e instanceof p.Rectangle){var o=e.x,l=e.y,u=e.width,s=e.height;switch(t){case"top":n={x:o,y:l-a.height-r};break;case"right":n={x:o+u+r,y:l};break;case"bottom":n={x:o,y:l+s+r};break;case"left":n={x:o-a.width-r,y:l}}}else{var c=e.x,f=e.y,d=e.radius;switch(t){case"top":n={x:c-d,y:f-d-a.height-r};break;case"right":n={x:c+d+r,y:f-d};break;case"bottom":n={x:c-d,y:f+d+r};break;case"left":n={x:c-d-a.width-r,y:f-d}}}return n}function w(e){return _(this,void 0,void 0,a.default.mark((function t(){var n,r,i;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=m.guide_state.prompt,r=n.getSize(),i=(0,s.default)(e).call(e,(function(e,t){var n=t.split("<br/>").length;return 1===n&&(n=Math.ceil((0,d.getStringLength)(t)/50)),n>e&&(e=n),e}),0),n.setSize(r.width,35*i),(0,g.log)("test:>",i),t.next=7,(0,y.sleep)(.5);case 7:case"end":return t.stop()}}),t)})))}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"top",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"btn";return _(this,void 0,void 0,a.default.mark((function o(){var l,u,s,c;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return l=m.guide_state.guide_dialog,u=m.guide_state.prompt,m.guide_state.btn_next,e=x(e,20),a.next=5,w(t);case 5:return s=b(e,n),c=u.prompt({pos:s,dir:n},t,!1),a.next=9,l.drawBlankWaitClick(e,r,i,c);case 9:return a.next=11,u.hide();case 11:l.clearBlank();case 12:case"end":return a.stop()}}),o)})))}function x(e,t){if(e instanceof p.Rectangle){var n=e.x,r=e.y,i=e.width,a=e.height;return new p.Rectangle(n-t/2,r-t/2,i+t,a+t)}var o=e.radius,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(0,l.default)(t).call(t,r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof u.default){var i=0;for(r=(0,u.default)(e);i<r.length;i++)(0,l.default)(t).call(t,r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["radius"]);return(0,c.default)((0,c.default)({},s),{radius:o+t/2})}},6671:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.PointerGuide=void 0;var a=i(n(15375)),o=i(n(17061)),l=n(90564),u=function(){function e(t){(0,a.default)(this,e),this.name="pointer",this.view=t}return(0,o.default)(e,[{key:"moveToTarget",value:function(e,t){var n=this;t&&(this.target=t);var r=this.target;if(r){var i=this.view;this.showPointer("static"),(0,l.move)(i,e,r,500).then((function(){n.showPointer("target")}))}}},{key:"show",value:function(e,t,n){var r=this.view;r.visible=!1,this.showPointer(t),r.pos(e.x,e.y),"target"===t&&(this.target={x:e.x,y:e.y}),(0,l.fade_in)(r,500).then(n)}},{key:"isShow",value:function(){return this.view.visible=!1}},{key:"showPointer",value:function(e){e=e||"static";var t=this.view,n=t.pointer_img,r=t.pointer_ani;this.resetView(),"static"===e?n.visible=!0:(r.visible=!0,r.play(0,!0))}},{key:"hidePointer",value:function(){this.resetView(),this.target=null,this.hide()}},{key:"resetView",value:function(){var e=this.view,t=this.view,n=t.pointer_img,r=t.pointer_ani;e.alpha=1,n.visible=!1,r.visible=!1,r.stop()}},{key:"hide",value:function(){var e=this.view;(0,l.stopAni)(e),e.visible=!1}}]),e}();t.PointerGuide=u},96192:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.PromptGuide=void 0;var c=s(n(24142)),f=s(n(15375)),d=s(n(17061)),h=s(n(4918)),v=s(n(2220)),p=s(n(60855)),y=s(n(25937)),g=s(n(81302)),m=s(n(83239)),_=n(24629),k=n(89662),b=n(90564),w=n(77513);function S(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return x(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?x(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(0,h.default)(t).call(t,r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof v.default){var i=0;for(r=(0,v.default)(e);i<r.length;i++)(0,h.default)(t).call(t,r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},I={fontSize:25,color:"#ffe7a7"},E=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,f.default)(this,e),this.auto_hide=!0,this.step=-1,this.is_going=!1,this.name="prompt",this.view=t,this.style=(0,p.default)((0,p.default)({},I),n);var r=t.html_div;r.style.width=579}return(0,d.default)(e,[{key:"prompt",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new y.default((function(i,a){n.reset(),n.view.pos(e.pos.x,e.pos.y),"string"==typeof t||t[0].color?n.tip_msg=[t]:n.tip_msg=t,n.complete_resolve=i,n.auto_hide=r,n.is_going=!0,n.step_map=n.analysisTip(n.tip_msg),n.showTip(),_.Laya.stage.on(k.Event.CLICK,n,(function(){n.jumpLevelLastStep()})),n.show(e.dir)}))}},{key:"jumpLevelLastStep",value:function(){var e,t=this.step_map,n=this.step,r=0,i=0,a=S(t);try{for(a.s();!(e=a.n()).done&&!((i=(r+=e.value)-1)>n););}catch(e){a.e(e)}finally{a.f()}this.showTip(i)}},{key:"getStepInfo",value:function(e){for(var t=this.step_map,n=0,r=0,i=0,a=!1,o=!1,l=0;l<t.length;l++){var u=t[l];if(e<=(i+=u)-1){n=l,r=e-(i-u);break}}var s=t[n];return n>=t.length-1&&r>=s-1&&(a=!0),r>=s-1&&(o=!0),{level_index:n,level_step_index:r,is_level_last:o,is_last:a}}},{key:"showTip",value:function(e){var t=this,n=this.tip_msg;e=e||0,this.step=e;var r=this.getStepInfo(e),i=r.level_index,a=r.level_step_index,o=r.is_last,l=r.is_level_last,u=this.view.html_div,s=70,c=n[i];u.innerHTML=this.getTipByLen(c,a+1),clearTimeout(this.timeout),o?this.timeout=(0,g.default)((function(){t.complete()}),this.auto_hide?1e3:0):(l&&(s=1e3),this.timeout=(0,g.default)((function(){t.showTip(++e)}),s))}},{key:"getTipByLen",value:function(e,t){var n=[],r=this.style;if("string"==typeof e){var i,a=M(e,t),o=S((0,c.default)(a,1)[0]);try{for(o.s();!(i=o.n()).done;){var l=i.value;n.push((0,p.default)((0,p.default)({},r),{msg:l}))}}catch(e){o.e(e)}finally{o.f()}}else{var u,s=S(e);try{for(s.s();!(u=s.n()).done;){var f=u.value,d=f.msg,h=C(f,["msg"]),v=M(d,t),y=(0,c.default)(v,2),g=y[0];t=y[1],h=(0,p.default)((0,p.default)({},r),h);var m,_=S(g);try{for(_.s();!(m=_.n()).done;){var k=m.value;n.push((0,p.default)((0,p.default)({},h),{msg:k}))}}catch(e){_.e(e)}finally{_.f()}if(t<=0)break}}catch(e){s.e(e)}finally{s.f()}}return this.jsonToHtml(n)}},{key:"jsonToHtml",value:function(e){var t,n="",r=S(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,a='<span style="font-size:{fontSize}px;color:{color};">{msg}</span>';for(var o in i)if(i.hasOwnProperty(o))if("<br/>"===i[o])a="<br/>";else{var l=new RegExp("{"+o+"}","g");a=a.replace(l,i[o])}n+=a}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"show",value:function(e){var t;switch(e){case"top":t=b.slide_down_in;break;case"right":t=b.slide_left_in;break;case"bottom":t=b.slide_up_in;break;default:t=b.slide_right_in}t(this.view,800)}},{key:"analysisTip",value:function(e){var t,n=[],r=S(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i.length;if("string"!=typeof i){a=0;var o,l=S(i);try{for(l.s();!(o=l.n()).done;)a+=o.value.msg.length}catch(e){l.e(e)}finally{l.f()}}n.push(a)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"showCompletedTip",value:function(){if(this.is_going){clearTimeout(this.timeout);var e=this.getCurTipCompleteStepInfo();e.is_complete?this.complete():e.in_wait?this.showTip(++e.step):this.showTip(e.step)}}},{key:"getCurTipCompleteStepInfo",value:function(){for(var e=this.step,t=this.step_map,n=0,r=!1,i=!1,a=0,o=t.length;a<o;a++){if(e<(n+=t[a])){e=n;break}if(e===n){r=!0,a===o-1&&(i=!0);break}}return{step:e,in_wait:r,is_complete:i}}},{key:"complete",value:function(){this.complete_resolve&&(0,w.callFunc)(this.complete_resolve),this.auto_hide&&this.hide(),this.reset()}},{key:"getSize",value:function(){var e=this.view;return{width:e.width,height:e.height}}},{key:"setSize",value:function(e,t){var n=this.view;n.width=e,n.height=t}},{key:"reset",value:function(){this.tip_msg=null,this.complete_resolve=null,this.auto_hide=!0,this.step=-1,this.step_map=null,this.is_going=!1,_.Laya.stage.offAllCaller(this)}},{key:"hide",value:function(){var e=this.view;e.html_div.innerHTML="",e.visible=!1}}]),e}();function M(e,t){var n=e.split("<br/>"),r=[];if(1===e.length)r.push((0,m.default)(e).call(e,0,t)),t=0;else for(var i=0;i<n.length;i++){var a=n[i],o=(t-=a.length)>0?a:(0,m.default)(a).call(a,0,a.length+t);if(r.push(o),i!==n.length-1&&t>0&&(r.push("<br/>"),t--),t<=0)break}return[r,t]}t.PromptGuide=E,window.spliceStr=M},50739:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.gotoGuide=v,t.guide_arr=void 0;var a,o=i(n(66329)),l=i(n(25937)),u=n(36620),s=n(2006),c=n(99479),f=function(e,t,n,r){return new(n||(n=l.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},d=[];t.guide_arr=d;var h=!1;function v(e,t){return f(this,void 0,void 0,o.default.mark((function n(){return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(d.push({group_id:e,functionId:t}),h){n.next=5;break}return h=!0,n.next=5,p();case 5:case"end":return n.stop()}}),n)})))}function p(){return f(this,void 0,void 0,o.default.mark((function e(){var t,n,r,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a||(a=new c.GuideMain),e.next=3,a.start();case 3:if(!(d.length>0)){e.next=11;break}return t=d.shift(),n=t.group_id,r=t.functionId,i=y[n],e.next=8,i();case 8:a.onGuideUpdate(n,r),e.next=3;break;case 11:h=!1,a.end();case 13:case"end":return e.stop()}}),e)})))}window.gotoGuide=v;var y={1:function(){return f(void 0,void 0,void 0,o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new s.NewUserGuide,e.next=3,t.start("1");case 3:(0,u.setItem)("guide","end");case 4:case"end":return e.stop()}}),e)})))}}},54820:(e,t,n)=>{"use strict";var r=n(23710),i=n(67272),a=n(8171);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(66329)),l=a(n(15375)),u=a(n(17061)),s=a(n(45408)),c=a(n(97709)),f=a(n(38191)),d=a(n(52305)),h=a(n(25937)),v=a(n(77967)),p=n(24629),y=a(n(68700)),g=n(89662),m=n(98693),_=n(71706),k=n(58465),b=n(89970),w=n(84228),S=n(90564),x=n(52782),C=n(77513),I=n(10503);var E=function(e){(0,c.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,d.default)(t);if(n){var a=(0,d.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,f.default)(this,e)});function a(){var e;return(0,l.default)(this,a),(e=i.call(this)).config={},e.zOrder=99,e.isShowEffect=void 0,e.config={shadowAlpha:0},e}return(0,u.default)(a,[{key:"onAwake",value:function(){var e=this;this.init(),(0,k.onLangChange)(this,(function(t){e.initLang(t)}))}},{key:"initLang",value:function(e){var t=b.InternationalTip[e],n=t.tourSkip,r=t.tourStart,i=this.start_label;this.skip_label.text=n,i.text=r}},{key:"onResize",value:function(){var e=p.Laya.stage,t=e.width,n=e.height,r=this.mask_area,i=this.mask_wrap,a=this.inner;if(r){var o=t>1920?1920:t;r.width=o,r.height=n,r.x=(this.width-r.width)/2,r.y=(this.height-i.height)/2,r.graphics.clear(),r.graphics.drawRect(0,0,r.width,n,"#000000"),this.x=(t-this.width)/2,this.y=(n-this.height)/2,a.width=t>1920?1920:t}}},{key:"init",value:function(){this.initDom(),this.initEvent()}},{key:"initDom",value:function(){var e=this.mask_wrap;this.cacheAs="bitmap";var t=new p.Laya.Sprite;e.addChild(t),t.alpha=.8,t.mouseEnabled=!0,this.mask_area=t;var n=new p.Laya.Sprite;e.addChild(n),n.blendMode="destination-out",this.blank_area=n,n.mouseEnabled=!0;var r=new _.HitArea;n.hitArea=r,this.blank_area=n,t&&this.onResize()}},{key:"setBtnNextDir",value:function(e){var t=this.btn_next;"left"===e?(t.right=NaN,t.rotation=180,t.left=30):(t.left=NaN,t.right=30,t.rotation=0)}},{key:"initEvent",value:function(){var e,t=this,n=this.btn_skip,r=this.mask_area;p.Laya.stage.on(g.Event.RESIZE,this,(0,v.default)(e=this.onResize).call(e,this)),r.on(g.Event.CLICK,this,(function(e){var n=t.force,r=I.guide_state.pointer,i=t.getMousePoint(),a=i.x,o=i.y;if(!n)return r.hide(),t.forceNext();r.isShow()&&(r.show({x:a,y:o}),r.moveToTarget({x:a,y:o},t.click_center))})),n.on(g.Event.CLICK,this,(function(e){t.forceSkip()}))}},{key:"forceNext",value:function(){var e=this.handler;e&&((0,C.callFunc)(e.next),this.handler=void 0)}},{key:"forceSkip",value:function(){var e=this.handler;e&&((0,C.callFunc)(e.skip,"skip"),this.handler=void 0)}},{key:"showNextHandler",value:function(e,t){var n=this,r=this.btn_next,i=this.btn_start,a=this.blank_area,o=I.guide_state.pointer;t.then((function(){"btn"===e?((0,S.fade_in)(r),r.once(g.Event.CLICK,r,(function(){n.forceNext(),r.offAll(),(0,S.fade_out)(r)}))):"point"===e?(a.once(g.Event.CLICK,n,(function(e){a.offAll(),e.stopPropagation(),o.hide(),n.forceNext()})),o.show(n.click_center,"target")):"start"===e&&((0,S.fade_in)(i),i.once(g.Event.CLICK,i,(function(){n.forceNext(),i.offAll(),(0,S.fade_out)(i)})))}))}},{key:"drawBlankWaitClick",value:function(e,t,n,r){var i=this;return new h.default((function(a,o){var l=i.blank_area,u=l.hitArea.hit;if(i.blank_shape=e,i.handler={next:a,skip:o},i.force=t,i.click_center=function(e){return e instanceof m.Rectangle?{x:e.x+e.width/2,y:e.y+e.height/2}:{x:e.x,y:e.y}}(e),i.showBlank(),l.graphics.clear(),i.showNextHandler(n,r),e instanceof m.Rectangle){var s=(0,x.getRectRadiusPath)(e.x,e.y,e.width,e.height,10);l.graphics.drawPath(0,0,s,{fillStyle:"#00ffff"}),u.drawRect(e.x,e.y,e.width,e.height,{fillStyle:"#FFFFFF"})}else l.graphics.drawCircle(e.x,e.y,e.radius,"#000000"),u.drawCircle(e.x,e.y,e.radius,"#000000")}))}},{key:"showBlank",value:function(){var e=this.mask_area;e.graphics.clear(),e.graphics.drawRect(0,0,e.width,e.height,"#000000")}},{key:"clearBlank",value:function(){var e=this.blank_area,t=this.mask_area;this.blank_shape=void 0;var n=e.hitArea.hit;e.graphics.clear(),t.graphics.clear(),n.clear(),this.handler=void 0,this.click_center=void 0}},{key:"hide",value:function(){this.clearBlank(),this.close()}},{key:"destroy",value:function(){(0,k.offLangChange)(this),(0,s.default)((0,d.default)(a.prototype),"destroy",this).call(this)}}],[{key:"preEnter",value:function(){return e=this,t=void 0,n=void 0,r=o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.default.director.openDialog("pop/guide/GuideDialog.scene");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})),new(n||(n=h.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}));var e,t,n,r}}]),a}(w.ui.pop.guide.GuideDialogUI);t.default=E},2006:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.NewUserGuide=void 0;var a=i(n(66329)),o=i(n(21003)),l=i(n(15375)),u=i(n(17061)),s=i(n(25937)),c=i(n(68700)),f=n(8253),d=n(39487),h=n(58465),v=n(89970),p=n(26744),y=n(90564),g=n(55161),m=n(88672),_=n(43267),k=n(86204),b=n(10503),w=function(e,t,n,r){return new(n||(n=s.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},S=function(){function e(){(0,l.default)(this,e)}return(0,u.default)(e,[{key:"start",value:function(e){return w(this,void 0,void 0,a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.showStartPrompt();case 2:if(!e.sent){e.next=6;break}return e.next=6,this.next();case 6:case"end":return e.stop()}}),e,this)})))}},{key:"showStartPrompt",value:function(){return w(this,void 0,void 0,a.default.mark((function e(){var t,n,r,i,l,u,s,w,S,x,C,I,E,M,A,B,L,T,P,N;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,h.getLang)(),n=v.InternationalTip[t],r=n.tour1,i=n.tour2,l=n.tour3,u=n.tour4,s=n.tour5,w=n.tour6,e.prev=2,x=b.guide_state.guide_dialog,C=d.HallCtrl.instance){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,(0,_.waitCreateSocket)(p.ServerName.Hall);case 9:return I=C.view,E=I.header.btn_coin_select,M=I.guide2,e.next=12,(0,k.showPromptByNode)(E,[r],"bottom",!0);case 12:return e.next=14,(0,k.showPromptByNode)(M,[i],"top",!0);case 14:return C.destroy(),e.next=17,m.GameTestCtrl.preEnter();case 17:return S=e.sent,c.default.director.openDialog(x),A=S.view.bullet_box,e.next=22,(0,y.sleep)(1);case 22:return B=(0,o.default)(S.player_list)[0],L=B.view,T=A.x>667?"left":"right",x.setBtnNextDir(T),L.stopPosTip(),e.next=29,(0,k.showPromptByNode)(A,[l],T,!0);case 29:return L.setMySelfStyle(),e.next=32,(0,y.sleep)(1);case 32:return e.next=34,(0,k.showPromptByNode)(L,[u],"top",!0);case 34:return(0,y.sleep)(2),(0,f.genFishInfo)(S),P=S.fish_view,e.next=39,(0,k.showPromptByNode)({sprite:P,shape:"circle"},[s],"top",!0,"point");case 39:return e.next=41,(0,f.mockShoot)();case 41:return e.next=43,(0,y.sleep)(1);case 43:return N=S.view.skill_box,x.setBtnNextDir("right"),e.next=47,(0,k.showPromptByNode)(N,[w],"top",!0,"start");case 47:return(0,f.resetMockSocketCtor)(S),e.abrupt("return",!0);case 51:if(e.prev=51,e.t0=e.catch(2),"skip"!==e.t0){e.next=58;break}return(0,f.resetMockSocketCtor)(S),e.abrupt("return",!0);case 58:(0,g.error)(e.t0);case 59:case"end":return e.stop()}}),e,null,[[2,51]])})))}},{key:"next",value:function(){return w(this,void 0,void 0,a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.HallCtrl.instance){e.next=5;break}return d.HallCtrl.instance.destroy(),d.HallCtrl.leave(),e.next=5,(0,y.sleep)(.1);case 5:return e.next=7,d.HallCtrl.preEnter();case 7:case"end":return e.stop()}}),e)})))}}]),e}();t.NewUserGuide=S},99479:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.GuideMain=void 0;var a=i(n(66329)),o=i(n(15375)),l=i(n(17061)),u=i(n(25937)),s=i(n(68700)),c=n(90564),f=n(6671),d=n(96192),h=i(n(54820)),v=n(10503),p=function(e,t,n,r){return new(n||(n=u.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},y=function(){function e(){(0,o.default)(this,e),this.name="guide_main"}return(0,l.default)(e,[{key:"start",value:function(){return p(this,void 0,void 0,a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"onGuideUpdate",value:function(e,t){}},{key:"init",value:function(){return p(this,void 0,void 0,a.default.mark((function e(){var t,n,r,i,o,l;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.guide_dialog){e.next=4;break}return e.next=3,s.default.director.openDialog(this.guide_dialog);case 3:return e.abrupt("return");case 4:return e.next=6,h.default.preEnter();case 6:t=e.sent,n=t.prompt_ui,r=t.pointer_ui,i=t.btn_next,o=new d.PromptGuide(n,{fontSize:25,color:"#ffe7a7"}),l=new f.PointerGuide(r),this.guide_dialog=t,this.prompt=o,this.pointer=l,(0,c.setStyle)(v.guide_state,{guide_dialog:t,prompt:o,pointer:l,btn_next:i});case 14:case"end":return e.stop()}}),e,this)})))}},{key:"end",value:function(){return p(this,void 0,void 0,a.default.mark((function e(){var t,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.guide_state.guide_dialog,n=v.guide_state.prompt,e.next=3,n.hide();case 3:t.hide();case 4:case"end":return e.stop()}}),e)})))}}]),e}();t.GuideMain=y},10503:(e,t,n)=>{"use strict";n(67272)(t,"__esModule",{value:!0}),t.guide_state=void 0,t.guide_state={}},59914:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.commonSocket=function(e,t){var n,r=v.ServerEvent.ErrCode;(0,d.bindSocketEvent)(e,t,(n={},(0,o.default)(n,r,(function(t){var n=(0,b.getLang)(),r=h.InternationalTip[n].logoutTip,i=h.InternationalTip[n].OtherLogin;t.code===v.ServerErrCode.TokenExpire?((0,g.removeItem)("local_token"),(0,d.disconnectSocket)(e.config.name),_.default.alert(r,{hide_cancel:!0}).then((function(e){location.reload()}))):t.code===v.ServerErrCode.OtherLogin&&((0,d.disconnectSocket)(e.config.name),_.default.alert(i,{hide_cancel:!0}).then((function(){location.reload()})))})),(0,o.default)(n,f.SocketEvent.Reconnecting,(function(e){var t=(0,b.getLang)();if(0===e){var n=h.InternationalTip[t].NetError;k.default.tip(n,{count:20,show_count:!0,auto_hide:!1,click_through:!1})}})),(0,o.default)(n,f.SocketEvent.Reconnected,(function(){S()})),(0,o.default)(n,f.SocketEvent.End,(function(){var e=(0,b.getLang)(),t=h.InternationalTip[e].logoutTip;_.default.alert(t,{hide_cancel:!0}).then((function(e){location.reload()}))})),n)),u.ctrlState.app.bg_monitor.event.on(y.BgMonitorEvent.VisibleChange,(function(t){t&&("OPEN"===e.status?S():e.reconnect())}),t)},t.errorHandler=function(e,t){var n=(0,b.getLang)(),r=h.InternationalTip[n][e];if(e===v.ServerErrCode.ReExchange)return C(r);if(e===v.ServerErrCode.NoMoney){var i=r;if(t&&t.minAmount){var a=h.InternationalTip[n].NoMoneyAmount,o=t.minAmount,l=t.currency;i=(0,m.tplStr)(a,{minAmount:o,currency:l})}return _.default.alert(i).then((function(e){"confirm"===e&&(0,b.recharge)(),(0,c.sendToGameSocket)(v.ServerEvent.RoomOut)}))}return e===v.ServerErrCode.NeedLogin?(0,w.login)():e===v.ServerErrCode.TrialTimeGame||e===v.ServerErrCode.TrialNotBullet?_.default.alert(h.InternationalTip[n][e],{hide_cancel:!0}).then((function(){(0,d.getSocket)(v.ServerName.Game).send(v.ServerEvent.RoomOut)})):e===v.ServerErrCode.TrialTimeHall?k.default.tip(h.InternationalTip[n][v.ServerErrCode.TrialTimeGame]):e===v.ServerErrCode.TrialClose?k.default.tip(h.InternationalTip[n][v.ServerErrCode.TrialClose]):e===v.ServerErrCode.NetError||e===v.ServerErrCode.EnterGameError?_.default.alert(h.InternationalTip[n][v.ServerErrCode.NetError],{hide_cancel:!0}).then((function(){location.reload()})):e===v.ServerErrCode.OverLimit?_.default.alert(h.InternationalTip[n][e],{hide_cancel:!0}).then((function(){var e=(0,d.getSocket)(v.ServerName.Game);null==e||e.send(v.ServerEvent.RoomOut)})):void(r&&k.default.tip(r))},t.exChangeBullet=C,t.offCommon=function(e,t){null==e||e.event.offAllCaller(t),u.ctrlState.app.bg_monitor.event.offAllCaller(t)},t.tipComeBack=S,t.tipCount=function(e,t){k.default.tip(e,{count:t,show_count:!0,auto_hide:!1,click_through:!1})};var a=i(n(66329)),o=i(n(67513)),l=i(n(25937)),u=n(66589),s=n(545),c=n(82087),f=n(49659),d=n(43267),h=n(89970),v=n(26744),p=n(44517),y=n(51720),g=n(36620),m=n(77513),_=i(n(55437)),k=i(n(10535)),b=n(58465),w=n(95455);function S(){var e=(0,b.getLang)(),t=h.InternationalTip[e].NetComeBack;k.default.tip(t)}var x=!1;function C(e){return t=this,n=void 0,r=void 0,i=a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((0,s.disableCurUserOperation)(),!x){t.next=3;break}return t.abrupt("return");case 3:return x=!0,(0,s.waitGameExchangeOrLeave)().then((function(){x=!1})),t.abrupt("return",(0,p.asyncOnly)(e,(function(){return _.default.alert(e,{closeOnSide:!1}).then((function(e){if("confirm"===e)return(0,c.sendToGameSocket)(v.ServerEvent.ExchangeBullet);(0,c.sendToGameSocket)(v.ServerEvent.RoomOut)}))})));case 6:case"end":return t.stop()}}),t)})),new(r||(r=l.default))((function(e,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function l(e){try{u(i.throw(e))}catch(e){a(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,l)}u((i=i.apply(t,n||[])).next())}));var t,n,r,i}},39487:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.HallCtrl=void 0;var a=i(n(66329)),o=i(n(15375)),l=i(n(17061)),u=i(n(25937)),s=i(n(68700)),c=n(8928),f=n(66589),d=n(80356),h=n(50739),v=n(43267),p=n(14082),y=n(26744),g=n(11263),m=n(36620),_=i(n(70315)),k=n(58465),b=n(72243),w=n(52080),S=function(e,t,n,r){return new(n||(n=u.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},x=function(){function e(t){var n=this;(0,o.default)(this,e),this.selectCoin=function(e){if(-1!==e){var t=n.view,r=t.header.coin_menu.list,i=g.modelState.app.user_info,a=r.array[e].coin_name;i.setCurBalance(a),t.toggleCoinMenu(!1)}},this.selectFlag=function(e){if(-1!==e){var t=n.view,r=t.header.flag_menu.list,i=g.modelState.app.user_info,a=r.array[e].flag_type;i.setLang(a),t.toggleFlagMenu(!1)}},this.view=t,this.init()}return(0,l.default)(e,[{key:"enterGame",value:function(e){return this.destroy(),f.ctrlState.app.enterGame(e)}},{key:"roomIn",value:function(){var e=this,t=arguments.length<=0?void 0:arguments[0];return(0,b.roomIn)(t,this).then((function(n){return(0,w.setRoomInData)(t),e.enterGame(n)}))}},{key:"init",value:function(){return S(this,void 0,void 0,a.default.mark((function e(){var t=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.onHallSocket)(this).then((function(e){return S(t,void 0,void 0,a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}return t.abrupt("return",this.destroy());case 4:d.AudioCtrl.playBg(p.AudioRes.HallBg);case 5:if(this.initModelEvent(),"end"===(0,m.getItem)("guide")){t.next=8;break}return t.abrupt("return",(0,h.gotoGuide)("1","1"));case 8:(0,w.hallViewEvent)(this);case 9:case"end":return t.stop()}}),t,this)})))}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"initModelEvent",value:function(){var e=this.view,t=g.modelState.app.user_info;(0,k.onCurBalanceChange)(this,(function(n){var r=t.account_map.get(n),i=r.num,a=r.icon,o=r.hide;e.setCurBalance(n,a,i),e.setRechargeBtnVisible(Boolean(!o))})),(0,k.onLangChange)(this,(function(t){e.setFlag(t)})),(0,k.onAccountChange)(this,(function(t){e.setCoinData(t)})),(0,k.onNicknameChange)(this,(function(t){e.setNickname(t)})),e.setFlagData((0,k.getAllLangList)())}},{key:"onUserAccount",value:function(){this.view.onResize()}},{key:"destroy",value:function(){d.AudioCtrl.stop(p.AudioRes.HallBg),(0,k.offBindEvent)(this),(0,k.offLangChange)(this),(0,b.offHallSocket)(this),(0,v.disconnectSocket)(y.ServerName.Hall),s.default.director.closeAllDialogs(),e.leave()}}],[{key:"preEnter",value:function(){return S(this,void 0,void 0,a.default.mark((function t(){var n=this;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.instance){t.next=2;break}return t.abrupt("return",this.instance);case 2:return t.abrupt("return",(0,c.runAsyncTask)((function(){return _.default.preEnter().then((function(t){var r=new e(t);return n.instance=r,r}))}),this));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"leave",value:function(){this.instance=void 0}}]),e}();t.HallCtrl=x},58465:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.alertNetErrRefresh=function(){var e=f();return c.default.alert(o.InternationalTip[e][l.ServerErrCode.NetError],{hide_cancel:!0}).then((function(){location.reload()}))},t.getAllLangList=function(){var e=[];for(var t in o.Lang)o.Lang.hasOwnProperty(t)&&e.push(o.Lang[t]);return e},t.getChannel=function(){var e,t,n;return null===(n=null===(t=null===(e=window.paladin)||void 0===e?void 0:e.sys)||void 0===t?void 0:t.config)||void 0===n?void 0:n.channel},t.getLang=f,t.offBindEvent=function(e){var t=u.modelState.app,n=t.user_info,r=t.setting,i=n.event,a=r.event;i.offAllCaller(e),a.offAllCaller(e)},t.offLangChange=function(e){u.modelState.app.user_info.event.offAllCaller(e)},t.onAccountChange=function(e,t){var n=u.modelState.app.user_info,r=n.event,i=n.account_map;r.on(s.UserInfoEvent.AccountChange,t,e),(0,a.default)((function(){i&&t(i)}))},t.onCurBalanceChange=function(e,t){var n=u.modelState.app.user_info,r=n.cur_balance;n.event.on(s.UserInfoEvent.CurBalanceChange,t,e),(0,a.default)((function(){r&&t(r)}))},t.onLangChange=function(e,t){var n=u.modelState.app.user_info,r=n.event,i=n.lang;r.on(s.UserInfoEvent.LangChange,t,e),(0,a.default)((function(){i&&t(i)}))},t.onNicknameChange=function(e,t){var n=u.modelState.app.user_info,r=n.event,i=n.nickname;r.on(s.UserInfoEvent.NicknameChange,t,e),(0,a.default)((function(){var e=f(),n=o.InternationalTip[e].guest;i||(i=n),t(i)}))},t.recharge=function(){var e,t,n=u.modelState.app.user_info,r=n.account_map,i=n.cur_balance;if(!r.get(i).hide)return paladin.sys.config.isLogin?void(null===(e=window)||void 0===e||e.paladin.pay.recharge({data:{currency:i,gameNo:null===(t=window)||void 0===t?void 0:t.paladin.sys.config.gameId,isHorizontal:!0}})):paladin.account.login()},t.withdraw=function(){var e,t,n=u.modelState.app.user_info,r=n.account_map,i=n.cur_balance;r.get(i).hide||null===(e=window)||void 0===e||e.paladin.pay.withdraw({data:{currency:i,gameNo:null===(t=window)||void 0===t?void 0:t.paladin.sys.config.gameId,isHorizontal:!0}})};var a=i(n(81302)),o=n(89970),l=n(26744),u=n(11263),s=n(87759),c=i(n(55437));function f(){var e,t;return null===(t=null===(e=u.modelState.app)||void 0===e?void 0:e.user_info)||void 0===t?void 0:t.lang}},72243:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.checkReplay=k,t.offHallSocket=function(e){(0,f.offSocketEvent)(a,e),(0,p.offCommon)(a,e)},t.onHallSocket=function(e){return g(this,void 0,void 0,l.default.mark((function t(){var n;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,y.initHallSocket)();case 2:return t.next=4,new u.default((function(t,n){_(a=(0,f.getSocket)(h.ServerName.Hall),e),a.event.once(h.ServerEvent.UserAccount,(function(){e.onUserAccount(),t(void 0)}),e),m(h.ServerEvent.UserAccount,{domain:d.Config.Host})}));case 4:return t.next=6,k(e);case 6:if(!(n=t.sent).isReplay){t.next=10;break}return e.enterGame(n),t.abrupt("return",!0);case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t)})))},t.roomIn=function(e,t){var n=this;return new u.default((function(r,i){var a=(0,f.getSocket)(h.ServerName.Hall);a.event.once(h.ServerEvent.RoomIn,(function(e,i,a){return g(n,void 0,void 0,l.default.mark((function n(){var a;return l.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i!==h.ServerErrCode.AlreadyInRoom){n.next=8;break}return n.next=3,k(t);case 3:return(a=n.sent).isReplay&&r((0,s.default)((0,s.default)({},e),a)),n.abrupt("return");case 8:if(200===i){n.next=10;break}return n.abrupt("return",(0,p.errorHandler)(i,e));case 10:r(e);case 11:case"end":return n.stop()}}),n)})))}),t);var o=v.modelState.app.user_info.cur_balance;a.send(h.ServerEvent.RoomIn,(0,s.default)((0,s.default)({},e),{currency:o,domain:""}))}))},t.sendToHallSocket=m;var a,o=i(n(67513)),l=i(n(66329)),u=i(n(25937)),s=i(n(60855)),c=n(49659),f=n(43267),d=n(37026),h=n(26744),v=n(11263),p=n(59914),y=n(95455),g=function(e,t,n,r){return new(n||(n=u.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))};function m(){var e;(e=a).send.apply(e,arguments)}function _(e,t){(0,p.commonSocket)(e,t),(0,f.bindSocketEvent)(e,t,(0,o.default)({},c.SocketEvent.Reconnected,(function(){m(h.ServerEvent.UserAccount)})))}function k(e){return g(this,void 0,void 0,l.default.mark((function t(){return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new u.default((function(t,n){var r=(0,f.getSocket)(h.ServerName.Hall);r.event.once(h.ServerEvent.CheckReplay,(function(e){t(e)}),e),r.send(h.ServerEvent.CheckReplay)})));case 1:case"end":return t.stop()}}),t)})))}},52080:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.getRoomInData=b,t.hallViewEvent=function(e){var t=this,n=e.view,r=n.normal_box,i=n.match_box,l=n.header,h=n.btn_play_now,w=l.coin_menu.list,S=l.flag_menu.list,x=l.btn_coin_select,C=l.btn_get,I=l.btn_charge,E=l.btn_home,M=l.btn_app,A=l.btn_leave,B=l.btn_voice,L=l.flag_box,T=l.btn_login,P=l.coin_menu,N=l.flag_menu,O=l.btn_game_record,D=l.btn_item_record,F=l.btn_recharge,U=l.btn_withdraw;w.selectHandler=new s.Handler(w,e.selectCoin,void 0,!1),S.selectHandler=new s.Handler(w,e.selectFlag,void 0,!1);var G=u.Event.CLICK,z=r.getChildByName("ani"),R=r.getChildByName("btn_try"),j=r.getChildByName("btn_play"),V=(i.getChildByName("ani"),i.getChildByName("btn_try")),H=i.getChildByName("btn_play");(0,d.onNode)(j,G,(function(n){return k(t,void 0,void 0,a.default.mark((function t(){var n,r,i,l;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.AudioCtrl.play(f.AudioRes.Click),n=(0,m.getLang)(),r=j.getChildByName("ani"),i=(0,v.playSkeletonOnce)(z,"active_".concat(n)),l=(0,v.playSkeletonOnce)(r,"active_".concat(n)),o.default.all([l,i]).then((function(){e.roomIn({roomId:1,isTrial:0},e),(0,v.playSkeleton)(r,"standby_".concat(n),!0)}));case 6:case"end":return t.stop()}}),t)})))})),(0,d.onNode)(R,G,(function(){return k(t,void 0,void 0,a.default.mark((function t(){var n,r,i,l;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.AudioCtrl.play(f.AudioRes.Click),n=(0,m.getLang)(),r=R.getChildByName("ani"),i=(0,v.playSkeletonOnce)(r,"active_".concat(n)),l=(0,v.playSkeletonOnce)(z,"active_".concat(n)),o.default.all([i,l]).then((function(){e.roomIn({roomId:1,isTrial:1},e),(0,v.playSkeleton)(r,"standby_".concat(n),!0)}));case 6:case"end":return t.stop()}}),t)})))})),(0,d.onNode)(H,G,(function(){return k(t,void 0,void 0,a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.AudioCtrl.play(f.AudioRes.Click),e.roomIn({roomId:2,isTrial:0},e);case 2:case"end":return t.stop()}}),t)})))})),(0,d.onNode)(F,G,(function(){return k(t,void 0,void 0,a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.AudioCtrl.play(f.AudioRes.Click),(0,m.recharge)();case 2:case"end":return e.stop()}}),e)})))})),"CCTIP"===(0,m.getChannel)()&&(U.visible=!0,n.onResize(),(0,d.onNode)(U,G,(function(){return k(t,void 0,void 0,a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.AudioCtrl.play(f.AudioRes.Click),(0,m.withdraw)();case 2:case"end":return e.stop()}}),e)})))}))),(0,d.onNode)(V,G,(function(){return k(t,void 0,void 0,a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.AudioCtrl.play(f.AudioRes.Click),e.roomIn({roomId:2,isTrial:1},e);case 2:case"end":return t.stop()}}),t)})))})),(0,d.onNode)(h,G,(function(){return k(t,void 0,void 0,a.default.mark((function t(){var n,r,i,l;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=(0,m.getLang)(),r=h.getChildByName("ani"),c.AudioCtrl.play(f.AudioRes.Click),i=(0,v.playSkeletonOnce)(z,"active_".concat(n)),l=(0,v.playSkeletonOnce)(r,"active_".concat(n)),o.default.all([l,i]).then((function(){e.roomIn(b(),e),(0,v.playSkeleton)(r,"standby_".concat(n),!0)}));case 6:case"end":return t.stop()}}),t)})))})),x.on(G,e,(function(e){c.AudioCtrl.play(f.AudioRes.Click),(0,d.isClosest)(e.target,P)||n.toggleCoinMenu(!P.visible)})),L.on(G,e,(function(e){c.AudioCtrl.play(f.AudioRes.Click),n.toggleFlagMenu(!N.visible)})),(0,d.onNode)(C,G,(function(){c.AudioCtrl.play(f.AudioRes.Click)})),(0,d.onNode)(I,G,(function(){c.AudioCtrl.play(f.AudioRes.Click)})),(0,d.onNode)(E,G,(function(){c.AudioCtrl.play(f.AudioRes.Click)})),(0,d.onNode)(M,G,(function(){c.AudioCtrl.play(f.AudioRes.Click)})),(0,d.onNode)(T,G,(function(){(0,_.login)(),c.AudioCtrl.play(f.AudioRes.Click)})),(0,d.onNode)(A,G,(function(){c.AudioCtrl.play(f.AudioRes.Click),(0,_.logout)()})),(0,d.onNode)(B,G,(function(){c.AudioCtrl.play(f.AudioRes.Click),g.default.preEnter()})),(0,d.onNode)(O,G,(function(){c.AudioCtrl.play(f.AudioRes.Click),p.default.preEnter()})),(0,d.onNode)(D,G,(function(){c.AudioCtrl.play(f.AudioRes.Click),y.default.preEnter()}))},t.setRoomInData=function(e){(0,h.setItem)("roomIn",(0,l.default)(e))};var a=i(n(66329)),o=i(n(25937)),l=i(n(44739)),u=n(89662),s=n(41107),c=n(80356),f=n(14082),d=n(52782),h=n(36620),v=n(77513),p=i(n(60971)),y=i(n(47859)),g=i(n(94133)),m=n(58465),_=n(95455),k=function(e,t,n,r){return new(n||(n=o.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))};function b(){try{var e=(0,h.getItem)("roomIn");if(e)return JSON.parse(e)}catch(e){}return{roomId:1,isTrial:1}}},95455:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.connectSocket=y,t.enterGame=v,t.getGuestToken=g,t.getHallSocketInfo=p,t.initHallSocket=function(){return h(this,void 0,void 0,a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,d.getSocket)(u.ServerName.Hall)){e.next=3;break}return e.abrupt("return",!0);case 3:return e.next=5,y(p());case 5:return e.sent,e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})))},t.leaveGame=function(){(0,d.disconnectSocket)(u.ServerName.Game)},t.login=function(){"YSTAR"===(0,f.getParams)("c")?platform.register():platform.login()},t.logout=function(){platform.logout()},t.onSocketCreate=function(e){},t.waitConnectGame=function(e){return h(this,void 0,void 0,a.default.mark((function t(){var n;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=(0,d.getSocket)(u.ServerName.Game))){t.next=3;break}return t.abrupt("return",n);case 3:return t.next=5,v(e||l.Config.SocketUrl);case 5:(n=t.sent).send(u.ServerEvent.EnterGame);case 7:case"end":return t.stop()}}),t)})))};var a=i(n(66329)),o=i(n(25937)),l=n(37026),u=n(26744),s=n(36620),c=n(55161),f=n(77513),d=n(43267),h=function(e,t,n,r){return new(n||(n=o.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))};function v(e){return h(this,void 0,void 0,a.default.mark((function t(){var n,r,i;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.ServerName.Game,r=l.Config.PublicKey,i=l.Config.Host,t.next=4,y({url:e,publicKey:r,name:n,host:i});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))}function p(){var e=l.Config.code,t=u.ServerName.Hall;return{url:l.Config.SocketUrl,name:t,publicKey:l.Config.PublicKey,code:e,host:l.Config.Host}}function y(e){var t=this;return new o.default((function(n,r){return h(t,void 0,void 0,a.default.mark((function t(){var r,i;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.createSocket)(e);case 2:if(r=t.sent,!(i=l.Config.token)){t.next=8;break}return r.setParams({jwt:i,userId:(0,f.getParams)("userId")}),n(r),t.abrupt("return");case 8:if(i=(0,s.getItem)("local_token")){t.next=14;break}return t.next=12,g(r);case 12:i=t.sent,(0,s.setItem)("local_token",i,7);case 14:r.setParams({jwt:i,userId:(0,f.getParams)("userId")}),l.Config.token=i,(0,c.log)("我自己的token:",i),n(r);case 18:case"end":return t.stop()}}),t)})))}))}function g(e){return new o.default((function(t,n){e.event.once(u.ServerEvent.GetGuestToken,(function(e){t(e.jwt)})),e.send(u.ServerEvent.GetGuestToken)}))}},91549:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.MockWebSocket=void 0;var a=i(n(81302)),o=i(n(15375)),l=i(n(17061)),u=n(38182),s=n(49659),c=n(55161),f=function(){function e(t){var n=this;(0,o.default)(this,e),this.event=new u.EventCom,this.sendEvent=new u.EventCom,this.status="OPEN",this.config=t,(0,a.default)((function(){n.event.emit(s.SocketEvent.Init)}))}return(0,l.default)(e,[{key:"reconnect",value:function(){}},{key:"setParams",value:function(e){(0,c.log)(e)}},{key:"send",value:function(e,t){this.sendEvent.emit(e,t),(0,c.log)("mockWebSocket:>",e,t)}},{key:"disconnect",value:function(){this.event.destroy(),this.sendEvent.destroy(),(0,c.log)("disconnect")}}]),e}();t.MockWebSocket=f},49659:(e,t,n)=>{"use strict";var r=n(23710),i=n(67272),a=n(8171);i(t,"__esModule",{value:!0}),t.WebSocketWrapCtrl=t.SocketEvent=void 0;var o,l=a(n(60855)),u=a(n(44739)),s=a(n(15375)),c=a(n(17061)),f=a(n(97709)),d=a(n(38191)),h=a(n(52305)),v=n(74227),p=n(38182),y=n(83762),g=n(55161),m=n(43267);!function(e){e.OnData="0",e.PingTimeOut="1",e.Ping="2",e.Pong="3",e.Error="4",e.MsgAck="5"}(o||(o={}));var _={ping:"2",pong:"3"},k={Init:"init",Connect:"connect",Reconnecting:"reconnecting",Reconnected:"reconnected",Close:"close",Error:"error",End:"end",CheckError:"CheckError"};t.SocketEvent=k;var b=function(e){(0,f.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,h.default)(t);if(n){var a=(0,h.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,d.default)(this,e)});function a(e){var t;return(0,s.default)(this,a),(t=i.call(this)).params={},t.onInit=function(){t.event.emit(k.Init)},t.onData=function(e){var n,r=t.config.name,i=e.substring(1);switch(e.charAt(0)){case o.OnData:if(!(n=(0,m.decrypt)(r,i)))return;(0,g.log)("".concat(r,":>接收:>"),n);var a=n,l=a.cmd,u=a.res,s=a.code,c=a.msg;t.event.emit(l,u,s,c);case o.Error:case o.MsgAck:}},t.onClose=function(){t.event.emit(k.Close)},t.onEnd=function(){t.event.emit(k.End)},t.onReconnect=function(e){t.event.emit(k.Reconnecting,e)},t.onReconnected=function(){t.event.emit(k.Reconnected)},t.config=e,t.init(),t}return(0,c.default)(a,[{key:"init",value:function(){var e=new p.EventCom;this.addCom(e),this.event=e,this.connect()}},{key:"connect",value:function(){var e=(0,m.genUrl)(this.config),t=new y.WebSocketCtrl({url:e,handlers:{onInit:this.onInit,onData:this.onData,onClose:this.onClose,onEnd:this.onEnd,onReconnect:this.onReconnect,onReconnected:this.onReconnected},ping_pong_map:_});this.ws=t}},{key:"status",get:function(){return this.ws?this.ws.status:"CLOSED"}},{key:"setParams",value:function(e){this.params=(0,l.default)((0,l.default)({},this.params),e)}},{key:"send",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.ws,r=this.params,i=this.config.name;(0,g.log)("".concat(i,":>发送:>"),e,t);var a={cmd:e,params:(0,l.default)((0,l.default)({},r),t)},o="0"+(0,m.encrypt)(i,(0,u.default)(a));n.send(o)}},{key:"disconnect",value:function(){this.event.destroy(),this.ws.disconnect(),this.ws=void 0}},{key:"reconnect",value:function(){var e=this.ws;if(!e)return(0,g.error)("WebSocketWrapCtrl:> is disconnected!");"CLOSED"===e.status&&this.ws.reconnect()}},{key:"emitEvent",value:function(e,t,n,r){}}]),a}(v.ComponentManager);t.WebSocketWrapCtrl=b},43267:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.bindSocketEvent=function(e,t,n){var r=e.event;for(var i in n)n.hasOwnProperty(i)&&r.on(i,n[i],t)},t.createComKey=_,t.createSocket=function(e){return new l.default((function(t,n){var r=e.name,i=new(a||v.WebSocketWrapCtrl)(e);i.event.once(v.SocketEvent.Init,(function(){g.emit(m,r,i),y.set(r,i),t(i)}))}))},t.decrypt=function(e,t){try{var n=p.get(e),r=c.default.AES.decrypt(t,c.default.enc.Utf8.parse(n),{mode:c.default.mode.ECB,padding:c.default.pad.Pkcs7}).toString(c.default.enc.Utf8);return JSON.parse(r)}catch(e){return(0,h.error)("cant decrypt data"),""}},t.disconnectSocket=function(e){var t=y.get(e);t&&(t.disconnect(),y.delete(e))},t.encrypt=function(e,t){var n=p.get(e);return c.default.AES.encrypt(t,c.default.enc.Utf8.parse(n),{mode:c.default.mode.ECB,padding:c.default.pad.Pkcs7}).toString()},t.genUrl=function(e){var t,n=e.url,r=e.publicKey,i=e.code,a=(e.host,e.name),o=(0,u.default)(t="".concat(n,"/gws?auth=")).call(t,k(a,r));return i&&(o+="&code=".concat(i)),o},t.getAuth=k,t.getSocket=function(e){return y.get(e)},t.mockSocketCtor=function(e){a=e},t.offSocketEvent=function(e,t){e.event.offAllCaller(t)},t.onCreateSocket=function(e,t){return new d.Observable((function(n){var r=function(r,i){r===e&&(n.next(i),t&&n.complete())};g.on(m,r,null),n.add((function(){g.off(m,null,r)}));var i=y.get(e);i&&r(e,i)}))},t.waitCreateSocket=function(e){return new l.default((function(t,n){var r=y.get(e);if(r)return t(r);g.once(m,(function(n,r){n===e&&t(r)}))}))};var a,o=i(n(78953)),l=i(n(25937)),u=i(n(67357)),s=n(38182),c=i(n(47814)),f=n(36582),d=n(79520),h=n(55161),v=n(49659),p=new o.default,y=new o.default,g=new s.EventCom,m="create";function _(e){var t=(new Date).toString(),n=Date.parse(t).toString()+Date.parse(t).toString()+Date.parse(t).toString().substring(0,6);return p.set(e,n),n}function k(e,t){var n=_(e),r=new f.JSEncrypt;return r.setPublicKey(t),r.encrypt(n)}},14082:(e,t,n)=>{"use strict";n(67272)(t,"__esModule",{value:!0}),t.AudioRes=void 0,t.AudioRes={Click:"sound/click.mp3",HallBg:"sound/hall_bg.mp3",GameBg:"sound/game_bg.mp3",Fire:"sound/fire.mp3",Bomb:"sound/bomb.mp3",Freeze:"sound/freezing.mp3",ShoalComing:"sound/shoal_coming.mp3",CoinFew:"sound/coin_few.mp3",CoinShow:"sound/coin_show.mp3",CoinLot:"sound/coin_lot.mp3",LeaveGame:"sound/leave_game.mp3",PopShow:"sound/pop_show.mp3",FlySkill:"sound/pop_show.mp3",CoinCircle:"sound/pop_show.mp3"}},37026:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.SkillNameMap=t.SkillMap=t.ItemMap=t.Config=void 0,t.isSkill=function(e){};var a,o,l=i(n(67513)),u={Env:"",PublicKey:"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDMUws+7NKknmImMYUsSr4DOKYVrs1s7BQzGBgkkTptjGiektUmxm3BNZq34ugF6Vob9V0vU5r0S7vfyuOTC87uFeGe+rBJf7si4kE5wsJiEBlLNZjrz0T30xHGJlf+eizYVKPkpo3012rKvHN0obBlN7iBsdiGpLGP3sPAgO2tFQIDAQAB",SocketUrl:"",code:"",token:"",lang:"en",isLogin:!1,Host:"",CdnVersion:window.version,cndUrl:"",BulletSpeed:25,PoolWidth:1920,PoolHeight:750,BulletZoneWidth:1334,ShootTimeSpace:200,BombRadius:150,ClearFishTime:2.5};t.Config=u,t.SkillMap=o,function(e){e.LockFish="2001",e.Freezing="2002",e.Bomb="2003",e.Auto="A2004",e.Super="A2004"}(o||(t.SkillMap=o={}));var s=(a={},(0,l.default)(a,o.Freezing,"freeze"),(0,l.default)(a,o.Bomb,"bomb"),(0,l.default)(a,o.LockFish,"aim"),(0,l.default)(a,o.Auto,"auto"),(0,l.default)(a,o.Super,"super"),a);t.SkillNameMap=s,t.ItemMap={3001:"BTC",3002:"ETH",3003:"XRP"}},70555:(e,t,n)=>{"use strict";n(67272)(t,"__esModule",{value:!0}),t.Coordinates=void 0,t.Coordinates={gun_global_pos:{0:{x:670,y:696},1:{x:1250,y:696},2:{x:1250,y:54},3:{x:670,y:54}},guns_inside_pos:{start_point:{x:74.5,y:20},origin_point:{x:74.5,y:74.5}},bullet_offset:{11:[0],12:[15,-15],13:[15,-15],21:[0],22:[10,-10],23:[10,-10],31:[0],32:[10,-10],33:[10,-10],41:[0],42:[20,-20],43:[20,-20],51:[0],52:[0],53:[0]},guns_inbox_pos:{x:104,y:78},shadowPos:{default:{x:0,y:80},1:{x:0,y:60,scaleX:.35,scaleY:.35},2:{x:0,y:70,scaleX:.49,scaleY:.49},3:{x:0,y:70,scaleX:.5,scaleY:.5},4:{x:0,y:100,scaleX:.8,scaleY:1.2},5:{x:0,y:80,scaleY:.8,scaleX:.84},6:{x:0,y:70,scaleX:.43,scaleY:.43},7:{x:0,y:80,scaleX:.5,scaleY:.5},8:{x:0,y:120,scaleX:.6,scaleY:1},9:{x:0,y:120,scaleX:.7,scaleY:1.1},10:{x:0,y:80,scaleX:.9,scaleY:1.4},11:{x:0,y:150},12:{x:0,y:150,scaleX:1.8},13:{x:0,y:150,scaleX:2.2,scaleY:1.5},14:{x:0,y:150,scaleX:2.5,scaleY:1.2},15:{x:0,y:200,scaleX:3,scaleY:2},16:{x:0,y:60,scaleX:2},17:{x:0,y:150,scaleX:1.2,scaleY:1.8},18:{x:0,y:100},19:{x:0,y:120,scaleX:1.4,scaleY:1.4},20:{x:0,y:120,scaleX:2}}}},46665:(e,t,n)=>{"use strict";n(67272)(t,"__esModule",{value:!0}),t.GunInfo=void 0,t.GunInfo={LevelUp:[3,10],HoleNum:[1,2,2]}},89970:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.Lang=t.InternationalTipOther=t.InternationalTip=t.InternationalRes=t.International=void 0;var a,o,l,u,s,c,f,d,h=i(n(67513)),v=n(26744);t.Lang=d,function(e){e.Zh="zh",e.Zh_HK="hk",e.Kor="kor",e.En="en",e.Jp="jp"}(d||(t.Lang=d={})),t.InternationalRes={};var p=(c={},(0,h.default)(c,d.En,(a={deposit:"Deposit",withdrawal:"Withdrawal",balance:"Balance",bullet:"Bullet",automaticFiring:"Automatic firing",buyBullet:"Purchase Bullets",casualMode:"Casual Mode",tournamentMode:"Tournament Mode",trialField:"Demo game",realField:"Real game",stayTuned:"Stay Tuned",quickStart:"Quick Start",NumBullet:"Bullets",guest:"Guest",volumeSetting:"Volume Setting",music:"Music",soundEffects:"Sound Effect",tips:"Reminder",cancel:"Cancel",confirm:"Confirm",luckyDraw:"Prize Draw",redemption:"Exchange",buySuccess:"Congratulations on acquiring!",luckyDrawTip2:"Congrats! You’ve got ",Num:"Remaining",shop:"Shop",skin:"Skin",lock:"Lock",freeze:"Freeze",bomb:"Bomb",voucher:"Voucher",use:"Use",inUse:"In Use",item:"Item",youAreHere:"You are here",purchase:"Purchase",buyBulletCost:"Must spend",leaveTip:"Are you sure you want to leave the game?",reEnter:"You are in the game now, do you want to re-enter?",kickedTip:"You have been kicked out of the game room, do you want to refresh the page and re-enter the game room?",buyBulletTip:"Out of ammo, do you want to purchase more?",buySkillTip:"You don’t have this skill, do you want to purchase it?",logoutTip:"Login disconnected, do you want to refresh the current page?",posBombTip:"Please select a location on the screen to place the bomb",aimFish:"Please select the fish you want to attack",help:"Help",times:"times",help1:"1. Fish Points: Different fishes have different values, with the number of bullets obtained after capturing a fish being equal to the multiple of the cannon currently being used multiplied by the number of Fish Points. For example, if a fish with 50 Fish Points is captured using a 10x cannon, the number of bullets obtained is 50x10=500. Each different type of fish and their corresponding numbers of Fish Points are as follows:",help2:"2. Skill description: Players can apply the following skills in the game.",help2Super:"Super Skill: This is a passive skill which is automatically triggered after a certain number of fish have been captured by the player. It increases bullet power and doubles the firing speed.",help2Freeze:"Freezing Skill: Active skill which can be obtained either by killing certain types of fish or by directly purchasing. It can freeze most of the fish on the screen.",help2Lock:"Lock Skill: Active skill which can be obtained either by killing certain types of fish or by directly purchasing. It can automatically lock in place the fish on the screen which have the highest number of Fish Points; players can also select the fish which they want to lock in place.",help2Bomb:"Bomb Skill: Active skill which can be directly purchased. It will randomly kill groups of nearby fish on the screen.",help3:"3. Available cannon multiples: ",help31:"1,2,3,4,5,10,15,20",help4:"4. Other instructions",help41:"Redemption: Players can get some Fish Vouchers after capturing certain types of fish. Fish Vouchers can be redeemed in exchange for rewards.",help42:"Lucky draw: Players can qualify for 1 lucky draw after capturing 10 fish that each have at least 100 Fish Points. Rewards include bullets and currency.",help43:"Purchases: Players can purchase bullets inside the main hall, and can also purchase cannon skins or bullet effects by clicking on the cannon icon in the game.",tourSkip:"Skip",tourStart:"Start game",tour1:"Click the drop-down button to select the currency",tour2:"Game room will change <br/>according to which currency is selected",tour3:"In the demo game you can only experience the game, <br/>you must be in the real game in order to earn currency",tour4:"The system will automatically convert your digital currency into<br/> bullets when you enter a real game; any remaining <br/> bullets will be converted back into currency after you <br/> have left the room.",tour5:"Control your cannon, click and catch <br/>fish to get more bullets",tour6:"Use items to help you catch more <br/> and bigger fish",noData:"No data",NetError:"Problem with Internet connection, reconnecting",NetComeBack:"Welcome back!",OtherLogin:"Login error, please refresh and try again.",InputEmptyWarn:"Input value cannot be blank!",Delete:"Delete",buyItemTip:"Confirm cost $1 $2,purchase $3 $4.",buySkinTip:"Confirm cost $1 个 $2,purchase $3.",beyondBulletNum:"Exceeds current ammunition limit",itemListTitle:"Items stored",itemList1:"Item types",itemList2:"Sum of purchases",itemList3:"Sum of prizes",search:"Inquire",gameNo:"Sessions",remainingNum:"Amount remaining",gameListTitle:"Game record",cost:"Use up",prize:"Winnings",delayUpdateAccount:"Updates to your balance might be delayed until blocks on the chain can be confirmed, please be patient.",enterGameCostTip:"The system converts {bringAmount} {currency} into {bulletNum} bullets. \n After you leave the room, any remaining bullets \n will then be converted back into your {currency}.",NoMoneyAmount:"The current currency surplus is insufficient, the minimum requirement to enter the market is {minAmount}{currency}, please go to top up or switch to other currencies.",platformDiffCurrencyEnterGameErr:"You have unfinished games, the system will automatically repeat."},(0,h.default)(a,v.ServerErrCode.NoMoney,"Insufficient funds, please add funds or change to another currency."),(0,h.default)(a,"noMoneyConfirm","Add funds"),(0,h.default)(a,v.ServerErrCode.ReExchange,"Out of ammo. Continue exchanging?"),(0,h.default)(a,v.ServerErrCode.TrialTimeGame,"Demo playing time is up, please go to the real game to continue playing."),(0,h.default)(a,v.ServerErrCode.TrialNotBullet,"Out of ammo, please reload the game or go the real game to continue."),(0,h.default)(a,v.ServerErrCode.NetError,"Network error, please reload the game "),(0,h.default)(a,v.ServerErrCode.TrialClose,"Demo mode is off."),(0,h.default)(a,v.ServerErrCode.OverLimit,"Your spending have reached the maximum limit."),(0,h.default)(a,v.ServerErrCode.ToQuick,"Operation done too frequently"),a)),(0,h.default)(c,d.Kor,(o={deposit:"충전",withdrawal:"출금",balance:"잔액",bullet:"총알",automaticFiring:"자동 발사",buyBullet:"총알 구매",casualMode:"레저 모드",tournamentMode:"경기 모드",trialField:"시연장",realField:"게임장",stayTuned:"준비 중",quickStart:"시작",NumBullet:"잔여 총알",guest:"관전",volumeSetting:"음량 설정",music:"음악",soundEffects:"음향",tips:"주의",cancel:"취소",confirm:"확인",luckyDraw:"추첨",redemption:"교환",buySuccess:"구매 완료",luckyDrawTip2:"축하드립니다",Num:"잔금",shop:"상점",skin:"장비",lock:"목표 지정",freeze:"얼음",bomb:"폭탄",voucher:"쿠폰",use:"사용",inUse:"사용중",item:"도구",youAreHere:"현 위치",purchase:"구매",buyBulletCost:"비용 수요",leaveTip:"나가시겠습니까?",reEnter:"게임 진행 중입니다. 다시 진입 하시겠습니까?",kickedTip:"방에서 탈퇴 당하셨습니다. 다시 진입 하시겠습니까?",buyBulletTip:"총알 수량이 부족합니다. 구입 하시겠습니까?",buySkillTip:"해당 기능이 없습니다. 구입 하시겠습니까?",logoutTip:"로그인이 끊겼습니다. 페이지 새로 고침 하시겠습니까?",posBombTip:"위치를 선택하여 폭탄을 배치하세요.",aimFish:"공격하실 물고기를 선택하세요.",help:"도움",times:"배",help1:"1. 물고기 점수 설명: 물고기에 따라 점수가 다릅니다. 한 마리를 잡고 받을 수 있는 총알의 수량는 현재 사용 중인 포좌의 배수에 이 물고기의 점수를 곱한 것과 같습니다. 예를 들어 50배의 물고기 한 마리를 잡았을 때 10배의 포좌를 사용하였으면 받을 수 있는 총알 수량은 50X10=500입니다.각 물고기의 점수는 아래와 같습니다.",help2:"2. 기능 사용 설명: 게임 진행중 플레이어는 다음과 같은 기능을 사용할 수 있습니다.",help2Super:"슈퍼기능: 자동 기능, 플레이어가 일정량의 물고기를 포획한 후 자동으로 발사 됩니다.",help2Freeze:"얼음 기능:수동 기능, 일정한 량의 물고기를 포획하면 받을 수 있 구매도 가능합니다. 해당 기능을 사용하면 게임중 대부분의 물고기들은 움직이지 않습니다.",help2Lock:"목표 지정 기능: 수동 기능, 일정한 량의 물고기를 포획하면 받 을 수 있고 구매도 가능합니다.  해당 기능을 사용하면 게임중의 가장  점수가 높은 물고기에 목표 지정이 됩니다. 또한 플레이어는 수동으로 한마리를 지정할 수 있습니다.",help2Bomb:"폭탄: 수동 기능, 구매하여야 합니다. 사용후 랜덤으로 한 무리의 물고기를 폭격할 수 있습니다.",help3:"3. 선택 가능한 포좌의 배수는 아래와 같습니다.",help31:"1,2,3,4,5,10,15,20",help4:"4. 기타 설명",help41:"환전: 플레이어가 지정된 물고기를 포획할 때, 물고기 쿠폰을 받게 되고, 쿠폰을 모으면 경품을 교환할 수 있게 됩니다.",help42:"추첨: 플레이어는 100점 이상의 물고기를 10마리 잡은 후, 추첨 기회가 한번 주어집니다. 추첨 보상은 총알이나 코인입니다.",help43:"구매: 플레이어는 첫 페이지에서 ‘구매’를 클릭하여 총알을 구입할 수도 있고, 게임 내에서 ‘포좌’를 클릭하여 포좌 종류 또한 특수 기능 총알을 구입할 수도 있습니다. 기능의 수가 0일 때 이 기능 아이콘을 클릭하여 기능을 구입할 수 있습니다.",tourSkip:"Exit",tourStart:"Start",tour1:"내리기 버튼을 클릭하여 코인 종류를 선택합니다.",tour2:"코인 종류에 따라 게임방이 다를 수 있습니다.",tour3:"시연장에서 유저는 체험만 가능하고 기엠장에서는 디지털 화폐를 획득할 수 있습니다",tour4:"게임이 본격적으로 시작되면 시스템이 자동으로 디지털 화폐를 총알로 바꿔드립니다. 게임방을 떠난 후, 남은 모든 총알은 다시 디지털 화폐로 교환됩니다.",tour5:"포좌를 컨트롤하고 물고기 포획을 클릭하면 더 <br/> 많은 총알을 받을 수 있습니다.",tour6:"도구를 사용하여 더 많고 더 큰 물고기를 <br/> 포획할 수 있습니다.",noData:"데이터 없음",NetError:"네트워크 오류, 다시 연결 중",NetComeBack:"돌아오신 걸 환영합니다!",OtherLogin:"다른 곳에서 로그인 시도, 새로고침해 주세요",InputEmptyWarn:"빈칸을 입력해주세요!",Delete:"삭제",buyItemTip:"$1개의 $2를 소비하여, $3개의 $4를 구매",buySkinTip:"$1개의 $2를 소비하여, $3 구매",beyondBulletNum:"현재 총알 수량 초과",itemListTitle:"아이템 보관량",itemList1:"아이템",itemList2:"총 구매 수량",itemList3:"총 게임 보너스",search:"조회",gameNo:"횟수",remainingNum:"남은 수량",gameListTitle:"게임 기록",cost:"소비",prize:"수익",delayUpdateAccount:"잔고에 변동이 생겼습니다. 블록체인에 문제가 생김으로  다소 지연이 될 수 있으니 양해 부탁드립니다.",enterGameCostTip:"시스템이 {bringAmount}{currency}를 {bulletNum}개의 총알로 바꿔드립니다.\n 게임을 나가실때 남은 총알은 {currency}로 바꿔드립니다.",NoMoneyAmount:"현재 화폐 잔액이 부족합니다. 최소{minAmount}{currency} 소유해야 입장이 가능합니다. 충전하시거나 다른 화폐로 교환해주세요.",platformDiffCurrencyEnterGameErr:"완료되지 않은 게임이 있으면 시스템이 자동으로 반복됩니다."},(0,h.default)(o,v.ServerErrCode.NoMoney,"현재 보유 중인 화폐 수량이 부족합니다. 입금 또는 다른 화폐를 환전해주세요."),(0,h.default)(o,"noMoneyConfirm","충전하기"),(0,h.default)(o,v.ServerErrCode.ReExchange,"총알 부족, 계속 교환 하시겠습니까?"),(0,h.default)(o,v.ServerErrCode.TrialTimeGame,"무료 플레이 종료. 정식 버전을 이용해주세요"),(0,h.default)(o,v.ServerErrCode.TrialNotBullet,"총알 부족, 다시 입장하거나 정식 버전을 이용해 주세요."),(0,h.default)(o,v.ServerErrCode.NetError,"네트워크 오류. 새로고침 후 다시 시도해 주세요."),(0,h.default)(o,v.ServerErrCode.TrialClose,"체험모드 종료"),(0,h.default)(o,v.ServerErrCode.OverLimit,"귀하의 소비가 제한에 도달했습니다."),(0,h.default)(o,v.ServerErrCode.ToQuick,"너무 자주 작동"),o)),(0,h.default)(c,d.Jp,(l={deposit:"⼊⾦",withdrawal:"送⾦",balance:"殘⾼",bullet:"弾薬",automaticFiring:"⾃動攻撃",buyBullet:"弾薬購⼊",casualMode:"レジャーモード",tournamentMode:"競技モード",trialField:"體験 ゲームルーム",realField:"本番ゲームルーム",stayTuned:"未開放",quickStart:"即開始",NumBullet:"弾薬",guest:"ゲスト",volumeSetting:"⾳量設定",music:"⾳楽",soundEffects:"⾳聲効果",tips:"注意",cancel:"キャンセル",confirm:"確認",luckyDraw:"抽選",redemption:"交換",buySuccess:"購⼊完了",luckyDrawTip2:"恭喜你獲得",Num:"殘り",shop:"ショップ",skin:"スタイル",lock:"ロック",freeze:"冷凍",bomb:"爆弾",voucher:"賞券",use:"使⽤",inUse:"使⽤中",item:"スキル",youAreHere:"ここにいる",purchase:"購⼊",buyBulletCost:"消費必要",leaveTip:"ゲーム終了しますか。",reEnter:"　現在ゲーム中ですが、再び開始しますか？",kickedTip:"プレールームから出てました。もう⼀度⼊場します か？",buyBulletTip:"弾薬殘數が不⾜になり、ご購⼊しますか。",buySkillTip:"スキルまだない、ご購⼊しますか。",logoutTip:"ログイン接続できません。ページを再読み込みしますか。",posBombTip:"畫⾯中、爆弾を置く場所を選択してください。",aimFish:"攻撃したい⿂を選択してください。",help:"ヘルプ",times:"倍",help1:"⿂ポイント説明：それぞれの⿂ポイントの數値は異なります。１つの⿂を捕獲すること により、獲得弾薬は現在使⽤中の砲臺の倍數をかける⿂ポイントの數値となります。 例えば、50倍の⿂を捕獲する場合は、10倍で撃ちまして、獲得弾薬は50X10=500となり ます。それぞれのポイントは以下のようです。",help2:"スキル使⽤説明：プレーヤーはゲーム中で以下のスキルで使⽤可能です。",help2Super:"スーパースキル：受動スキル、プレーヤーが捕獲した⿂におけて、⼀定の數量に達 すると、弾薬の威⼒が増加し、攻撃スピードが加速となります。",help2Freeze:"冷凍スキル：主動スキル、特定な⿂を攻撃することによって獲得し、もしくは購⼊ もできます。使⽤後、畫⾯內の多數な⿂を凍結されます。",help2Lock:"ロックスキル：主動スキル、特定な⿂を攻撃することによって獲得し、もしくは購 ⼊もできます。使⽤後、畫⾯內の⾼の⿂ポイントに⾃動的に的中し、プレーヤー が⾃由選択もできます。",help2Bomb:"爆弾：主動スキル、購⼊で獲得できます。使⽤後、畫⾯內のランダムで１つ群の⿂ に攻撃します。",help3:"選択可能の倍數は以下のようです。",help31:"1,2,3,4,5,10,15,20",help4:"その他説明：",help41:"交換：プレーヤーは、特定な⿂を捕獲することにより、⿂券が獲得できます。その ⼀定の數量の⿂券を収集すると、景品と交換可能です",help42:"抽選：プレーヤーは、10匹100ポイント以上の⿂を捕獲すると、1回の抽選に參加可 能です。景品は弾薬と通貨を含みます。",help43:"購⼊：プレーヤーは、ホームで購⼊ボタンをクリックし、弾薬を購⼊できます。ま た、ゲーム中で砲臺ボタンをクリックし、砲臺スタイルと弾薬特効を購⼊できま す。スキルの數は0の時、スキルボタンを押して購⼊できます。",tourSkip:"Exit",tourStart:"Start",tour1:"ボタンで通貨タイプを選択",tour2:"通貨タイプが異なることにより、ゲーム <br/> ルームが切替されます。",tour3:"體験ルームプレーはゲームの體験のみ可能です。本番プレールームで仮想通貨が獲得 可能です。",tour4:"本番ゲームルームに⼊場の際、システムは⾃動的に仮想通貨を弾薬に交換されます。 また、お客様は退場の際、殘りの弾薬が⾃動的に仮想通貨に交換されます。ご安⼼くだ さい。",tour5:"砲臺をコントロールし、クリックかつ⿂<br/>の捕獲、もっと弾薬が獲得可能",tour6:"スキルの使⽤で、もっと⼤きくて多い⿂を<br/>捕獲可能です。",noData:"データなし",NetError:"異常なネットワーク、再接続",NetComeBack:"お帰りなさい！",OtherLogin:"サイト外でログオフし、更新して再試行してください",InputEmptyWarn:"入力した値は空にできません...！",Delete:"削除する",buyItemTip:"費用$1$2、購入$3$4を確認します。",buySkinTip:"确认花费$1个$2, 购买$3.",beyondBulletNum:"費用$1$2、購入$3を確認します。",itemListTitle:"アイテムの在庫",itemList1:"道具",itemList2:"合計購入金額",itemList3:"ゲームギフトの合計",search:"問い合わせ",gameNo:"セッション",remainingNum:"残高",gameListTitle:"ゲーム記録",cost:"消費する",prize:"収益",delayUpdateAccount:"チェーンのブロック確認により、資金の変更が遅れる場合があります。しばらくお待ちください",enterGameCostTip:"システムで{bringAmount}{currency}を{bulletNum}弾に変換します。\n部屋を出る時、残りの弾丸を{currency}に交換されます",NoMoneyAmount:"現在の残高が不足しており、参加には最低{minAmount}{currency}を保有する必要があります。入金または他のトークンに切り替えてください。",platformDiffCurrencyEnterGameErr:"まだ終わっていないゲームがありますので、システムは自動的にリセットして差し上げます。"},(0,h.default)(l,v.ServerErrCode.NoMoney,"現在の通貨残高が不足しています。再チャージするか、他の通貨に切り替えてください。"),(0,h.default)(l,"noMoneyConfirm","チャージ"),(0,h.default)(l,v.ServerErrCode.ReExchange,"弾丸が不十分な場合は、引き換えてください！"),(0,h.default)(l,v.ServerErrCode.TrialTimeGame,"体験期間が過ぎました。会場でご利用ください。"),(0,h.default)(l,v.ServerErrCode.TrialNotBullet,"弾丸が足りません。再入力するか、公式会場でプレイしてください。"),(0,h.default)(l,v.ServerErrCode.NetError,"ネットワークが異常です。更新してもう一度お試しください。"),(0,h.default)(l,v.ServerErrCode.TrialClose,"デモモードオフ"),(0,h.default)(l,v.ServerErrCode.OverLimit,"消費金額が上限に達しました"),(0,h.default)(l,v.ServerErrCode.ToQuick,"操作が多すぎる"),l)),(0,h.default)(c,d.Zh,(u={deposit:"充值",withdrawal:"提币",balance:"余额",bullet:"子弹",automaticFiring:"自动开炮",buyBullet:"购买子弹",casualMode:"休闲模式",tournamentMode:"竞技模式",trialField:"试玩场",realField:"正式场",stayTuned:"敬请期待",quickStart:"快速开始",NumBullet:"剩余子弹",guest:"游客",volumeSetting:"音量设置",music:"音乐",soundEffects:"音效",tips:"提示",cancel:"取消",confirm:"确定",luckyDraw:"抽奖",redemption:"兑换",buySuccess:"购买成功",luckyDrawTip2:"恭喜你获得",Num:"剩余",shop:"商店",skin:"皮肤",lock:"锁定",freeze:"冰冻",bomb:"炸弹",voucher:"奖券",use:"使用",inUse:"使用中",item:"道具",youAreHere:"您在此处",purchase:"购买",buyBulletCost:"需要花费",leaveTip:"确定要离开游戏吗?",reEnter:"你当前在游戏中是否重新进入?",kickedTip:"你被踢出房间, 刷新重新进入?",buyBulletTip:"子弹数目不够, 是否购买?",buySkillTip:"你还没有当前技能, 是否购买!",logoutTip:"登陆断开, 是否刷新页面!",posBombTip:"请选择屏幕中的位置放置炸弹",aimFish:"请选中你要攻击的鱼",help:"帮助",times:"倍",help1:"1.\t鱼分说明：不同的鱼有不同的分值，捕获一条鱼得的子弹数等于当前使用的炮台倍数乘以这条鱼的分数。比如捕获一条50倍的鱼，用的10倍的炮，获得的子弹数量就是50X10=500。 不同鱼的鱼分如下",help2:"2.\t技能使用说明：玩家在游戏过程中可以使用下列技能。",help2Super:"超级技能：被动技能，玩家捕获一定数量的鱼后自动触发，子弹威力加强、射速加倍。",help2Freeze:"冰冻技能：主动技能，可以通过打死某些鱼获得，也可购买，使用后冻住 当前屏幕内的大部分鱼。",help2Lock:"锁定技能：主动技能，可以通过打死某些鱼获得，也可购买，使用后会 自动锁定当前屏幕内鱼分最高的那条鱼，玩家也可以自己点击选择某一条鱼。",help2Bomb:"炸弹：主动技能，购买获得，使用后会随机炸死屏幕内的一群鱼。",help3:"3. 可选的炮倍数如下：",help31:"1,2,3,4,5,10,15,20",help4:"4. 其他说明",help41:"兑换：玩家捕获某些鱼时，会得到一些鱼券，收集一定数量的鱼券可以兑换奖品。",help42:"抽奖：玩家捕获10条鱼分100以上的鱼后，可以抽一次，奖品包括子弹和货币。",help43:"购买：玩家可以在大厅点击购买来购买子弹，也可以在游戏内点击炮台购买炮台皮肤或子弹特效。当技能的数量是0时，可以点击此技能图标来购买技能。",tourSkip:"退出引导",tourStart:"开始游戏",tour1:"点击下拉按钮选择币种",tour2:"选择币种不同，<br/>游戏房间也会随之切换",tour3:"在试玩场您只能体验游戏，<br/>在正式场才能赢得数字货币",tour4:"进入正式场后，系统会自动将您的数字货币兑换成子弹；请放心，在您离开房间后，所有剩余子弹将会再兑换成您的数字货币",tour5:"控制您的炮台，点击并捕捉鱼群，<br/>获得更多子弹",tour6:"可以使用道具，帮助您捕获<br/>更多更大的鱼",noData:"暂无数据",NetError:"网络异常, 正在重新连接",NetComeBack:"欢迎回来!",OtherLogin:"异地登录，请刷新重试",InputEmptyWarn:"输入的值不能为空...!",Delete:"删除",buyItemTip:"确认花费$1个$2, 购买$3个$4.",buySkinTip:"确认花费$1个$2, 购买$3.",beyondBulletNum:"超出当前的子弹数目",itemListTitle:"道具存量",itemList1:"道具类型",itemList2:"购买数量总和",itemList3:"游戏赠送总和",search:"查询",gameNo:"场次",remainingNum:"剩余数量",gameListTitle:"游戏记录",cost:"消耗",prize:"收益",delayUpdateAccount:"您的余额变动因链上区块确认可能有所延迟，请耐心等待。",enterGameCostTip:"系統將{bringAmount}{currency}兌換成{bulletNum}子彈，\n離開房間時，會將剩餘子彈兌換成您的{currency}。",NoMoneyAmount:"当前货币余额不足，最小需携带{minAmount}{currency}才可进场，请去充值或者切换其他货币。",platformDiffCurrencyEnterGameErr:"您还有未完成的游戏，系统自动帮您复盘。"},(0,h.default)(u,v.ServerErrCode.NoMoney,"当前货币余额不足，请去充值或切换其他货币."),(0,h.default)(u,"noMoneyConfirm","去充值"),(0,h.default)(u,v.ServerErrCode.ReExchange,"子弹不足是否继续兑换!"),(0,h.default)(u,v.ServerErrCode.TrialTimeGame,"已超出试玩时长，请去正式场进行游戏"),(0,h.default)(u,v.ServerErrCode.TrialNotBullet,"子弹不足，请重新进入或去正式场进行游戏"),(0,h.default)(u,v.ServerErrCode.NetError,"网络异常, 请刷新重试"),(0,h.default)(u,v.ServerErrCode.TrialClose,"试玩模式关闭"),(0,h.default)(u,v.ServerErrCode.OverLimit,"消费金额已达上限"),(0,h.default)(u,v.ServerErrCode.ToQuick,"操作太频繁"),u)),(0,h.default)(c,d.Zh_HK,(s={deposit:"充值",withdrawal:"提幣",balance:"餘額",bullet:"子彈",automaticFiring:"自動開炮",buyBullet:"購買子彈",casualMode:"休閒模式",tournamentMode:"競技模式",trialField:"試玩場",realField:"正式場",stayTuned:"敬請期待",quickStart:"快速開始",NumBullet:"剩餘子彈",guest:"遊客",volumeSetting:"音量設定",music:"音樂",soundEffects:"音效",tips:"提示",cancel:"取消",confirm:"確定",luckyDraw:"抽獎",redemption:"兌換",buySuccess:"購買成功",luckyDrawTip2:"恭喜你獲得",Num:"弾薬",shop:"商店",skin:"皮膚",lock:"鎖定",freeze:"冰凍",bomb:"炸彈",voucher:"獎券",use:"使用",inUse:"使用中",item:"道具",youAreHere:"您在此處",purchase:"購買",buyBulletCost:"需要花費",leaveTip:"確定要離開遊戲嗎?",reEnter:"你當前在遊戲中是否重新進入?",kickedTip:"你被踢出房間, 刷新重新進入?",buyBulletTip:"子彈數目不夠, 是否購買?",buySkillTip:"你還冇有當前技能, 是否購買!",logoutTip:"登陸斷開, 收否刷新頁麵!",posBombTip:"請選擇屏幕中的位置放置炸彈",aimFish:"請選中你要攻擊的魚",help:"幫助",times:"倍",help1:"1.\t魚分說明：不同的魚有不同的分值，捕獲一條魚得的子彈數等於當前使用的炮臺倍數乘以這條魚的分數。比如捕獲一條50倍的魚，用的10倍的炮，獲得的子彈數量就是50X10=500。 不同魚的魚分如下",help2:"2.\t技能使用說明：玩家在遊戲過程中可以使用下列技能。",help2Super:"超級技能：被動技能，玩家捕獲一定數量的魚後自動觸發，子彈威力加強、射速加倍。",help2Freeze:"冰凍技能：主動技能，可以通過打死某些魚獲得，也可購買，使用後凍住 當前屏幕內的大部分魚。",help2Lock:"鎖定技能：主動技能，可以通過打死某些魚獲得，也可購買，使用後會 自動鎖定當前屏幕內魚分最高的那條魚，玩家也可以自己點擊選擇某一條魚。",help2Bomb:"炸彈：主動技能，購買獲得，使用後會隨機炸死屏幕內的一群魚。",help3:"3. 可選的炮倍數如下：",help31:"1,2,3,4,5,10,15,20",help4:"4.\t其他說明",help41:"兌換：玩家捕獲某些魚時，會得到一些魚券，收集一定數量的魚券可以兌換獎品。",help42:"抽獎：玩家捕獲10條魚分100以上的魚後，可以抽一次，獎品包括子彈和貨幣。",help43:"購買：玩家可以在大廳點擊購買來購買子彈，也可以在遊戲內點擊炮臺購買炮臺皮膚或子彈特效。當技能的數量是0時，可以點擊此技能圖標來購買技能。",tourSkip:"退出引導",tourStart:"開始遊戲",tour1:"點擊下拉按鈕選擇幣種",tour2:"選擇幣種不同，<br/>遊戲房間也會隨之切換",tour3:"在試玩場您隻能體驗遊戲，<br/>在正式場才能贏得數字貨幣",tour4:"進入正式場後，係統會自動將您的數字貨幣兌換成子彈；請放心，在您離開房間後，所有剩餘子彈將會再兌換成您的數字貨幣",tour5:"控製您的炮臺，點擊並捕捉魚群，<br/>獲得更多子彈",tour6:"可以使用道具，幫助您捕獲<br/>更多更大的魚",noData:"暫無數據",NetError:"網絡異常, 正在重新連接",NetComeBack:"歡迎回來!",OtherLogin:"異地登錄，請刷新重試",InputEmptyWarn:"輸入的值不能為空...!",Delete:"刪除",buyItemTip:"確認花費$1個$2, 購買$3個$4.",buySkinTip:"確認花費$1個$2, 購買$3.",beyondBulletNum:"超出當前的子彈數目",itemListTitle:"道具存量",itemList1:"道具類型",itemList2:"購買數量總和",itemList3:"遊戲贈送總和",search:"查詢",gameNo:"場次",remainingNum:"剩餘數量",gameListTitle:"遊戲記錄",cost:"消耗",prize:"收益",delayUpdateAccount:"您的餘額變動因鏈上區塊確認可能有所延遲，請耐心等待。",enterGameCostTip:"系統將{bringAmount}{currency}兌換成{bulletNum}子彈，\n離開房間時，會將剩餘子彈兌換成您的{currency}。",NoMoneyAmount:"當前貨幣餘額不足，最小需攜帶{minAmount}{currency}才可進場，請去充值或者切換其他貨幣。",platformDiffCurrencyEnterGameErr:"您還有未完成的遊戲，係統自動幫您複盤。"},(0,h.default)(s,v.ServerErrCode.NoMoney,"當前貨幣餘額不足，請去充值或切換其他貨幣."),(0,h.default)(s,"noMoneyConfirm","去充值"),(0,h.default)(s,v.ServerErrCode.ReExchange,"子彈不足是否繼續兌換!"),(0,h.default)(s,v.ServerErrCode.TrialTimeGame,"已超出試玩時長，請去正式場進行遊戲"),(0,h.default)(s,v.ServerErrCode.TrialNotBullet,"子彈不足，請重新進入或去正式場進行遊戲"),(0,h.default)(s,v.ServerErrCode.NetError,"網絡異常, 請刷新重試"),(0,h.default)(s,v.ServerErrCode.TrialClose,"試玩模式關閉"),(0,h.default)(s,v.ServerErrCode.OverLimit,"消費金額已達上限"),(0,h.default)(s,v.ServerErrCode.ToQuick,"操作太頻繁"),s)),c);t.International=p;var y=p;t.InternationalTip=y;var g=(f={},(0,h.default)(f,d.Kor,{}),(0,h.default)(f,d.Jp,{}),(0,h.default)(f,d.Zh,{}),(0,h.default)(f,d.Zh_HK,{}),(0,h.default)(f,d.En,{}),f);t.InternationalTipOther=g},47291:(e,t,n)=>{"use strict";n(67272)(t,"__esModule",{value:!0}),t.PATH=void 0,t.PATH={1:[[1465,757,1583,400,1304,143,1008,-6]],2:[[790,753,1404,321,444,475,1046,-6]],3:[[1384,755,1412,380,578,547,774,-7]],4:[[473,754,157,324,884,-7]],5:[[955,758,1158,474,1561,476,915,-8]],6:[[1466,753,1397,532,372,486,755,-6]],7:[[381,759,587,465,1083,260],[1083,260,1242,172,1014,-4]],8:[[1087,756,860,636,747,377],[747,377,682,209,684,100,810,-6]],9:[[100,753,106,214,651,508],[651,508,1094,697,1033,111,988,-8]],10:[[1831,754,1765,593,1280,509],[1280,509,1002,478,970,99,943,-8]],11:[[1686,-5,1753,284,1231,415],[1231,415,937,484,494,521,502,759]],12:[[1550,-8,1344,285,848,491],[848,491,689,579,917,754]],13:[[584,-4,389,477,690,546],[690,546,991,616,1011,753]],14:[[1384,-2,1464,178,1087,511],[1087,511,988,600,1018,751]],15:[[547,-4,519,371,1353,204,1157,757]],16:[[976,-8,773,277,370,274,1015,759]],17:[[465,-2,534,219,1559,265,1176,756]],18:[[1531,755,1726,274,1425,204],[1425,204,1124,135,1104,-3]],19:[[1810,-2,1804,536,1260,242],[1260,242,817,54,878,639,923,759]],20:[[100,-3,166,158,651,242],[651,242,929,273,961,652,988,758]],21:[[1934,697,1883,265,1390,332],[1390,332,593,415,97,-4]],22:[[1932,486,1084,905,793,600],[793,600,466,235,1079,173,1028,-7]],23:[[1932,375,1586,585,1157,488],[1157,488,799,408,617,172,575,-8]],24:[[1932,537,1435,746,1005,650],[1005,650,648,570,465,172,424,-8]],25:[[1932,133,1802,132,1528,550],[1528,550,1320,858,830,240,594,-10]],26:[[1932,610,1802,611,1528,193],[1528,193,1320,-115,830,503,594,753]],27:[[1933,203,1615,677,1229,395],[1229,395,903,181,485,252,274,751]],28:[[1934,697,1710,448,1390,332],[1390,332,969,206,360,754]],29:[[-12,261,837,-158,1127,148],[1127,148,1455,512,841,574,892,754]],30:[[-12,372,334,163,764,259],[764,259,1121,339,1304,575,1345,755]],31:[[-12,210,486,1,915,97],[915,97,1273,177,1455,575,1497,755]],32:[[-12,614,118,615,393,197],[393,197,600,-110,1090,507,1326,757]],33:[[-12,137,118,136,393,554],[393,554,600,862,1090,244,1326,-6]],34:[[-13,544,306,70,691,352],[691,352,1017,566,1436,495,1647,-3]],35:[[-13,50,211,299,531,415],[531,415,952,541,1561,-7]],36:[[-11,359,162,129,601,122],[601,122,1144,120,1932,429]],37:[[-9,306,289,715,650,706],[650,706,1010,696,1930,36]],38:[[-13,285,725,697,1178,713],[1178,713,1630,729,1929,522]],39:[[-11,418,348,181,590,176],[590,176,832,172,944,333,1267,389],[1267,389,1496,404,1628,400,1933,242]],40:[[-10,291,1051,295,1410,254],[1410,254,1770,213,1930,73]],41:[[230,753,147,389,282,197],[282,197,314,151,366,118,468,113],[468,113,1024,82,1680,140,1931,235]],42:[[-12,31,967,636,1440,495],[1440,495,1855,338,1932,160]],43:[[-12,370,322,598,827,598],[827,598,1331,598,1263,388,1931,440]],44:[[-9,494,998,805,1350,670],[1350,670,1755,471,1929,343]],45:[[-12,165,749,554,1225,428],[1225,428,1627,325,1932,27]],46:[[-10,658,719,311,1028,287],[1028,287,1479,231,1931,383]],47:[[-11,608,975,727,1328,613],[1328,613,1681,498,1930,-3]],48:[[-13,204,867,12,1257,9],[1257,9,1646,6,1766,132,1933,135]],49:[[-11,38,1182,19,1431,104],[1431,104,1680,189,1932,458]],50:[[-12,494,1140,869,1701,524],[1701,524,1871,415,1930,318]],51:[[-12,165,476,55,927,98],[927,98,1377,140,1566,417,1695,416],[1695,416,1823,415,1908,320,1933,304]],52:[[-8,705,1291,19,1621,52],[1621,52,1676,52,1720,75,1746,94],[1746,94,1770,112,1835,151,1934,284]],53:[[169,-18,166,315,497,360],[497,360,828,405,1930,291]],54:[[-9,517,525,164,1046,167],[1046,167,1567,169,1932,256]],55:[[-11,-6,634,776,1107,704],[1107,704,1404,660,1929,326]],56:[[-9,333,80,586,340,602],[340,602,601,618,1920,493,1931,493]],57:[[-12,263,98,104,203,61],[203,61,391,-23,1872,694,1929,749]],58:[[-11,463,200,610,566,525],[566,525,854,456,1285,112,1929,126]],59:[[-8,287,641,28,838,125],[838,125,1035,223,944,693,1932,734]],60:[[-13,752,333,510,632,327],[632,327,1143,47,1201,508,1624,504],[1624,504,1821,486,1918,352,1929,349]],61:[[-12,340,160,194,392,170],[392,170,625,145,854,530,999,606],[999,606,1407,849,1768,318,1932,164]],62:[[-10,621,692,896,734,544],[734,544,781,-24,1054,281,1420,238],[1420,238,1792,179,1933,18]],63:[[-12,693,228,404,412,384],[412,384,597,364,729,551,839,583],[839,583,1140,702,1200,303,1933,305]],64:[[103,756,22,202,515,244],[515,244,715,242,931,527,1188,519],[1188,519,1719,500,1933,678]],65:[[-8,128,379,27,570,516],[570,516,733,957,1075,143,1365,131],[1365,131,1590,109,1763,482,1933,511]],66:[[-13,400,550,37,546,339],[546,339,563,1015,1689,686,1305,323],[1305,323,984,52,1744,-8,1934,18]],67:[[-12,5,449,148,516,344],[516,344,642,717,1154,146,1931,250]],68:[[35,-7,66,570,528,665],[528,665,887,734,868,245,1033,147],[1033,147,1315,-37,1783,218,1931,110]],69:[[-11,629,647,348,908,385],[908,385,1170,422,1191,691,1416,657],[1416,657,1641,622,1906,370,1933,345]],70:[[50,-7,255,726,792,138,1942,588]],71:[[-10,97,220,584,676,563],[676,563,934,546,1080,427,1270,380],[1270,380,1672,280,1727,416,1931,324]],72:[[1934,409,1762,555,1530,579],[1530,579,1297,604,1068,219,923,143],[923,143,515,-100,154,431,-10,585]],73:[[1932,128,1230,-147,1188,205],[1188,205,1141,773,868,468,502,511],[502,511,130,570,-11,731]],74:[[1934,56,1694,345,1510,365],[1510,365,1325,385,1193,198,1083,166],[1083,166,782,47,722,446,-11,444]],75:[[1819,-7,1900,546,1407,505],[1407,505,1207,507,991,222,734,230],[734,230,203,249,-11,71]],76:[[1930,621,1543,722,1352,233],[1352,233,1189,-208,847,606,557,618],[557,618,332,640,159,267,-11,238]],77:[[1935,349,1372,712,1376,410],[1376,410,1359,-266,233,63,617,426],[617,426,938,697,178,757,-12,731]],78:[[1933,744,1473,601,1406,405],[1406,405,1280,32,768,603,-9,499]],79:[[1887,755,1856,179,1394,84],[1394,84,1035,15,1054,504,889,602],[889,602,607,785,139,531,-9,639]],80:[[1872,756,1667,23,1130,611,-20,161]],81:[[-9,5,394,792,2128,442,913,61],[913,61,267,-96,330,754,1085,683],[1085,683,1402,652,1447,273,1929,166]],82:[[-13,702,962,925,1964,-151,391,81],[391,81,52,123,131,754,885,683],[885,683,1203,652,1936,595,1527,-6]],83:[[1933,701,958,924,21,210,1425,61],[1425,61,2036,-5,1594,753,840,682],[840,682,522,651,309,238,642,-6]],84:[[1932,37,-164,61,-551,535,1273,686],[1273,686,2065,753,1492,-16,513,57],[513,57,101,88,260,599,374,754]],85:[[1933,378,527,963,-428,215,1228,61],[1228,61,2076,-5,1462,753,414,682],[414,682,-27,651,-65,238,398,-6]],86:[[-9,47,966,-176,3121,590,516,668],[516,668,64,679,135,96,890,167],[890,167,1900,328,1329,510,996,755]],87:[[-13,702,962,925,3128,25,340,233],[340,233,-518,356,1093,909,1052,521],[1052,521,848,-205,1556,230,1588,-6]],88:[[-9,672,1124,776,1903,180,499,31],[499,31,-111,-35,542,985,1085,653],[1085,653,1379,438,309,192,1929,135]],89:[[-13,398,1442,689,1990,-4,340,130],[340,130,3,165,518,973,724,599],[724,599,1158,-351,1277,722,1931,670]],90:[[-9,369,966,591,2128,442,913,61],[913,61,267,-96,88,754,842,683],[842,683,1227,621,803,37,1929,166]],91:[[1929,744,1527,-43,-207,307,1007,688],[1007,688,1654,845,1590,-5,836,66],[836,66,519,97,473,476,-8,583]],92:[[1933,47,959,-176,-44,900,1529,667],[1529,667,1868,626,1789,-5,1035,66],[1035,66,718,97,-15,154,393,755]],93:[[-13,48,962,-175,1900,539,495,688],[495,688,-115,754,327,-4,1081,67],[1081,67,1398,98,1611,511,1278,755]],94:[[-12,712,2084,687,2471,214,648,63],[648,63,-145,-4,429,764,1408,692],[1408,692,1820,660,1661,150,1546,-5]],95:[[-13,371,1394,-214,2348,533,693,688],[693,688,-155,754,458,-4,1507,67],[1507,67,1947,98,1985,510,1523,755]],96:[[1929,702,955,924,-1200,159,1404,81],[1404,81,1857,70,1785,653,1031,581],[1031,581,21,421,592,238,925,-6]],97:[[1933,47,959,-176,-1207,724,1580,516],[1580,516,2439,393,828,-160,868,228],[868,228,1072,954,365,519,333,755]],98:[[1929,77,797,-27,17,569,1421,718],[1421,718,2032,784,1378,-236,836,96],[836,96,542,311,1611,557,-8,613]],99:[[1933,351,478,60,-70,752,1580,619],[1580,619,1917,584,1402,-224,1197,150],[1197,150,763,1099,644,27,-11,79]],100:[[1929,380,955,158,-207,307,1007,688],[1007,688,1654,845,1833,-5,1078,66],[1078,66,694,128,1117,712,-8,583]]}},21560:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.res=t.font_list=void 0;var c=s(n(67357)),f=s(n(4918)),d=s(n(24142)),h=n(85096),v=n(64467),p=n(55437),y=n(14082),g=n(53531);function m(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return _(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k={font:[],audio:[],common:[],game:[{url:"res/image/game.png",type:h.Loader.IMAGE}],gameTutorial:[{url:"res/image/game.png",type:h.Loader.IMAGE}]};t.res=k;var b=["1","pos_tip","coin","award_light"];for(var w in g.SPRITE)if(g.SPRITE.hasOwnProperty(w)){var S=g.SPRITE[w];if("gun"!==w){for(var x in S)if(S.hasOwnProperty(x)){var C=S[x];if("DragonBone"===C.type){var I,E,M=C.path,A=[{url:"".concat(M,".sk"),type:h.Loader.BUFFER},{url:"".concat(M,".png"),type:h.Loader.IMAGE}];-1!==(0,f.default)(b).call(b,x)&&(E=k.gameTutorial).push.apply(E,A),(I=k.game).push.apply(I,A)}}}else for(var B in S)if(S.hasOwnProperty(B))for(var L=1;L<=3;L++){var T,P=m((0,v.getGunSkinMap)("".concat(B),"".concat(L)));try{for(P.s();!(T=P.n()).done;){var N,O,D,F=(0,d.default)(T.value,2),U=F[0],G=F[1],z=(0,c.default)(N="".concat(U)).call(N,G),R=[{url:"ani/gun/".concat(z,".sk"),type:h.Loader.BUFFER},{url:"ani/gun/".concat(z,".png"),type:h.Loader.IMAGE}];(O=k.game).push.apply(O,R),-1!==(0,f.default)(b).call(b,B)&&(D=k.gameTutorial).push.apply(D,R)}}catch(e){P.e(e)}finally{P.f()}}}var j=["font/score_num","font/numYellow40","font/lottery","font/numWhite40","font/alphabet"];t.font_list=j;for(var V=0,H=j;V<H.length;V++){var $=H[V];k.font.push({url:"".concat($,".fnt"),type:h.Loader.XML},{url:"".concat($,".png"),type:h.Loader.IMAGE})}for(var Y in y.AudioRes)if(y.AudioRes.hasOwnProperty(Y)){var X=y.AudioRes[Y];k.audio.push({url:X,type:h.Loader.SOUND})}for(var K in p.AlertRes)if(p.AlertRes.hasOwnProperty(K)){var W=p.AlertRes[K];k.common.push(W)}},26744:(e,t,n)=>{"use strict";var r;n(67272)(t,"__esModule",{value:!0}),t.ServerName=t.ServerEvent=t.ServerErrCode=void 0,t.ServerName={Game:"game",Hall:"hall"},t.ServerErrCode=r,function(e){e[e.TokenExpire=1002]="TokenExpire",e[e.OtherLogin=1003]="OtherLogin",e[e.AlreadyInRoom=109]="AlreadyInRoom",e[e.NoMoney=101]="NoMoney",e[e.ReExchange=112]="ReExchange",e[e.NeedLogin=114]="NeedLogin",e[e.TrialTimeGame=117]="TrialTimeGame",e[e.OverLimit=121]="OverLimit",e[e.ToQuick=122]="ToQuick",e[e.TrialNotBullet=116]="TrialNotBullet",e[e.TrialTimeHall=507]="TrialTimeHall",e[e.TrialClose=509]="TrialClose",e[e.EnterGameError=505]="EnterGameError",e[e.NetError=511]="NetError"}(r||(t.ServerErrCode=r={})),t.ServerEvent={RoomIn:"roomIn",RoomOut:"roomOut",CheckReplay:"checkReplay",TableIn:"tableIn",TableOut:"tableOut",EnterGame:"enterGame",Shoot:"shoot",Hit:"hit",RobotHit:"robotHit",ChangeTurret:"changeTurret",AddFish:"addFish",FishShoalWarn:"fishShoalWarn",FishShoal:"fishShoal",UseLock:"useLock",LockFish:"lockFish",UseBomb:"useBomb",FishBomb:"fishBomb",PowerUp:"powerUp",autoShoot:"autoShoot",SetRobotReport:"setRobotReport",UseFreeze:"useFreeze",FreezeOver:"freezeOver",ExchangeBullet:"exchangeBullet",GetItemList:"getItemList",GetBulletList:"getBulletList",GetRecentBullet:"getRecentBullet",ErrCode:"conn::error",UserAccount:"userAccount",GetDomain:"getDomain",Lottery:"lottery",LotteryList:"lotteryList",ExchangeList:"exchangeList",TicketExchange:"ticketExchange",NeedEmitUser:"needEmitUser",ShopList:"shopList",UseSkin:"useSkin",Buy:"buy",GetGuestToken:"getRequestId",GetUserInfo:"getUserInfo"}},70430:(e,t,n)=>{"use strict";n(67272)(t,"__esModule",{value:!0}),t.SHAPE=void 0,t.SHAPE={bullet:{shape_list:[{type:"Circle",radius:20}]},net:{shape_list:[{type:"Circle",radius:67}]},fish:{1:{shape_list:[{type:"Circle",radius:25}]},2:{shape_list:[{type:"Box",width:30,height:60,position:{x:0,y:-15}}]},3:{shape_list:[{type:"Circle",radius:30}]},4:{shape_list:[{type:"Circle",radius:45}]},5:{shape_list:[{type:"Box",width:50,height:100,position:{x:0,y:-50}}]},6:{shape_list:[{type:"Circle",radius:25}]},7:{shape_list:[{type:"Circle",radius:30,position:{x:-10,y:0}}]},8:{shape_list:[{type:"Box",width:40,height:80,position:{x:0,y:0}},{type:"Box",width:100,height:40,position:{x:0,y:0}}]},9:{shape_list:[{type:"Circle",radius:59}]},10:{shape_list:[{type:"Box",width:40,height:100},{type:"Circle",radius:20,position:{x:-50,y:-40}},{type:"Circle",radius:20,position:{x:55,y:-45}}]},11:{shape_list:[{type:"Box",width:60,height:50,position:{x:0,y:30}},{type:"Circle",radius:40,position:{x:0,y:-35}}]},12:{shape_list:[{type:"Box",width:70,height:150}]},13:{shape_list:[{type:"Box",width:70,height:220,position:{x:0,y:25}},{type:"Box",width:90,height:30,position:{x:0,y:160}}]},14:{shape_list:[{type:"Box",width:50,height:230,position:{x:0,y:30}},{type:"Box",width:160,height:30,position:{x:0,y:-100}}]},15:{shape_list:[{type:"Box",width:110,height:300,position:{x:0,y:-10}},{type:"Box",width:30,height:80,position:{x:0,y:180}},{type:"Box",width:100,height:30,position:{x:0,y:230}}]},16:{shape_list:[{type:"Circle",radius:80,position:{x:0,y:10}}]},17:{shape_list:[{type:"Circle",radius:70}]},18:{shape_list:[{type:"Box",width:100,height:200,position:{x:0,y:-20}}]},19:{shape_list:[{type:"Box",width:90,height:210}]},20:{shape_list:[{type:"Box",width:220,height:80}]}}}},53531:(e,t,n)=>{"use strict";n(67272)(t,"__esModule",{value:!0}),t.SPRITE=void 0,t.SPRITE={gun:{1:["base","light","gun"],2:["light","gun"],3:["light","gun"],4:["light","gun"],5:["body","gun"]},bullet:{1:{type:"DragonBone",path:"ani/gun/bullet1"},2:{type:"DragonBone",path:"ani/gun/bullet2"},3:{type:"DragonBone",path:"ani/gun/bullet3"},4:{type:"DragonBone",path:"ani/gun/bullet4"},5:{type:"DragonBone",path:"ani/gun/bullet5"}},net:{1:{type:"DragonBone",path:"ani/gun/net1"},2:{type:"DragonBone",path:"ani/gun/net2"},3:{type:"DragonBone",path:"ani/gun/net3"},4:{type:"DragonBone",path:"ani/gun/net4"},5:{type:"DragonBone",path:"ani/gun/net5"}},fish_shadow:{1:{type:"Img",path:"images/game/fish_shadow1"}},fish:{1:{type:"DragonBone",offset:[50,41,33,43],path:"ani/fish/fish1",ani_type:"horizon_turn",scale:.7},2:{type:"DragonBone",offset:[63,50,62,50],path:"ani/fish/fish2",scale:.7},3:{type:"DragonBone",offset:[47,67,38,58],path:"ani/fish/fish3",ani_type:"horizon_turn",scale:.7},4:{type:"DragonBone",offset:[82,90,86,91],path:"ani/fish/fish4",scale:.8},5:{type:"DragonBone",offset:[137,43,168,43],path:"ani/fish/fish5",scale:.7},6:{type:"DragonBone",offset:[49,47,36,44],path:"ani/fish/fish6",ani_type:"horizon_turn",scale:.7},7:{type:"DragonBone",offset:[47,56,38,55],path:"ani/fish/fish7",ani_type:"horizon_turn",scale:.7},8:{type:"DragonBone",offset:[44,79,120,80],path:"ani/fish/fish8",scale:.8},9:{type:"DragonBone",offset:[85,93,88,86],path:"ani/fish/fish9",scale:.8},10:{type:"DragonBone",offset:[84,91,87,88],path:"ani/fish/fish10",scale:.8},11:{type:"DragonBone",offset:[86,72,150,68],path:"ani/fish/fish11",ani_type:"horizon_turn",scale:.8},12:{type:"DragonBone",offset:[176,74,175,75],path:"ani/fish/fish12",scale:.8},13:{type:"DragonBone",offset:[162,103,201,102],path:"ani/fish/fish13",scale:.9},14:{type:"DragonBone",offset:[148,99,311,99],path:"ani/fish/fish14",scale:.9},15:{type:"DragonBone",offset:[229,157,290,156],path:"ani/fish/fish15",scale:.9},16:{type:"DragonBone",offset:[157,130,68,131],path:"ani/fish/fish16",ani_type:"horizon_turn",turn_ani:!0,coin_flag:!0,coin_color:"#ffd52c",scale:.9},17:{type:"DragonBone",offset:[122,92,150,92],path:"ani/fish/fish17",coin_flag:!0,coin_color:"#af5200",scale:.9},18:{type:"DragonBone",offset:[141,183,188,183],path:"ani/fish/fish18",coin_flag:!0,coin_color:"#412770",scale:.9},19:{type:"DragonBone",offset:[147,140,133,156],path:"ani/fish/fish19",ani_type:"horizon_turn",turn_ani:!0,coin_flag:!0,coin_color:"#ffde00",scale:.9},20:{type:"DragonBone",offset:[110,183,54,138],path:"ani/fish/fish20",ani_type:"horizon_turn",turn_ani:!0,coin_flag:!0,coin_color:"#7a3f04",scale:.9,coin_pos:{x:50,y:-30}},G1:{group:[{type:"2",pos:{x:20.5,y:49.5}},{type:"2",pos:{x:20,y:-51.5}}],offset:[101.5,83.5,98.5,0]},G2:{group:[{type:"1",pos:{x:3.5,y:49}},{type:"1",pos:{x:3.5,y:-71}},{type:"1",pos:{x:-76.5,y:-11}}],offset:[108.5,47.5,93.5,0]},G3:{group:[{type:"6",pos:{x:365,y:-15}},{type:"6",pos:{x:205,y:-15}},{type:"6",pos:{x:285,y:55}},{type:"6",pos:{x:285,y:-75}}],offset:[118.5,410.5,98.5,0]},G4:{group:[{type:"3",pos:{x:88,y:98.5}},{type:"3",pos:{x:77,y:-119.5}},{type:"3",pos:{x:-85,y:69.5}},{type:"3",pos:{x:-85,y:-77.5}},{type:"3",pos:{x:15,y:-5.5}}],offset:[164.5,154.5,143.5,0]}},fish_icon:{1:{type:"Img",path:"images/game/normal/icon_fish1"},2:{type:"Img",path:"images/game/normal/icon_fish2"}},other:{freezing:{type:"DragonBone",path:"ani/other/freezing"},exploding:{type:"DragonBone",path:"ani/other/exploding"},shoal_wave:{type:"DragonBone",path:"ani/other/shoal_wave"},pos_tip:{type:"DragonBone",path:"ani/other/pos_tip"},aim_big:{type:"DragonBone",path:"ani/other/aim_big"},aim:{type:"DragonBone",path:"ani/other/aim"},energy_light:{type:"DragonBone",path:"ani/other/energy_light"},award_circle:{type:"DragonBone",path:"ani/other/award_circle"},award_light:{type:"DragonBone",path:"ani/other/award_light"},coin:{type:"DragonBone",path:"ani/other/coin"},coin_light:{type:"DragonBone",path:"ani/other/coin_light"},skill_border_light:{type:"DragonBone",path:"ani/other/skill_border_light"}}}},53865:(e,t,n)=>{"use strict";n(67272)(t,"__esModule",{value:!0}),t.covertLang=l,t.init=o;var r=n(37026),i=n(89970),a=n(22426);function o(){var e=platform.getInfo();r.Config.SocketUrl=e.socket_url,r.Config.token=e.token,r.Config.isLogin=e.isLogin,r.Config.cndUrl=e.cdn,r.Config.lang=l(e.lang)}function l(e){var t=e,n=i.Lang.En;return"en"===t?n="en":"zh-Hant"===t?n="hk":"zh-Hans"===t?n="zh":"ja"===t?n="jp":"ko"===t&&(n="kor"),n}n(47638),alert(1),o(),new a.AppCtrl},86424:(e,t,n)=>{"use strict";var r=n(23710),i=n(67272),a=n(8171);i(t,"__esModule",{value:!0}),t.AppModel=void 0;var o=a(n(15375)),l=a(n(17061)),u=a(n(89395)),s=a(n(97709)),c=a(n(38191)),f=a(n(52305)),d=n(74227),h=n(38182),v=n(86408),p=n(11263),y=n(18657),g=n(87759);var m=function(e){(0,s.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,f.default)(t);if(n){var a=(0,f.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,c.default)(this,e)});function a(){var e;return(0,o.default)(this,a),e=i.call(this),p.modelState.app=(0,u.default)(e),e.setting=new y.SettingModel,e.user_info=new g.UserInfoModel,e.addCom(new h.EventCom),e}return(0,l.default)(a,[{key:"init",value:function(){this.user_info.init()}},{key:"initUserInfo",value:function(e){this.user_info.initUserInfo(e),this.setting.initUserInfo(e)}},{key:"enterGame",value:function(){var e=this.game;return e&&!e.destroyed||(e=new v.GameModel),this.game=e,e}}]),a}(d.ComponentManager);t.AppModel=m},91207:(e,t,n)=>{"use strict";var r=n(66890),i=n(83239),a=n(46993),o=n(99015),l=n(14571),u=n(32542),s=n(43693),c=n(67272),f=n(82530),d=n(8171);c(t,"__esModule",{value:!0}),t.BodyCom=void 0;var h=d(n(15375)),v=d(n(17061)),p=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var i={},a=c&&f;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?f(e,o):null;l&&(l.get||l.set)?c(i,o,l):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(n(86116)),y=n(34970);function g(e){if("function"!=typeof s)return null;var t=new s,n=new s;return(g=function(e){return e?n:t})(e)}function m(e,t){var n=void 0!==o&&l(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return _(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,h.default)(this,e),this.angle=0,this.pos={x:0,y:0},this.shapes=t,this.horizon_turn=n}return(0,v.default)(e,[{key:"update",value:function(e,t){t&&this.setAngle(t),this.setPos(e)}},{key:"setPos",value:function(e){var t=e.x,n=e.y,r=this.pos,i=r.x,a=r.y;if(t!==i||n!==a){var o,l=m(this.shapes);try{for(l.s();!(o=l.n()).done;){var u=o.value,s=u.shape,c=u.pos,f=this.angle;if(this.horizon_turn){var d=c.x,h=c.y;s.pos=new p.Vector(t+d,n+h)}else{var v=c.clone().rotate(f),y=v.x,g=v.y;s.pos=new p.Vector(t+y,n+g)}}}catch(e){l.e(e)}finally{l.f()}this.pos={x:t,y:n}}}},{key:"setAngle",value:function(e){var t=Math.atan2(e.y,e.x),n=this.shapes;if(t+=Math.PI/2,this.horizon_turn)this.angle*t<0&&(this.shapes=(0,y.scaleXShapeInfos)(this.shapes));else{var r,i=m(n);try{for(i.s();!(r=i.n()).done;){var a=r.value.shape;a instanceof p.Polygon&&a.setAngle(t)}}catch(e){i.e(e)}finally{i.f()}}this.angle=t}},{key:"destroy",value:function(){this.shapes=void 0,this.angle=0,this.pos={x:0,y:0}}}]),e}();t.BodyCom=k},34970:(e,t,n)=>{"use strict";var r=n(66890),i=n(83239),a=n(46993),o=n(99015),l=n(14571),u=n(32542),s=n(43693),c=n(67272),f=n(82530),d=n(8171);c(t,"__esModule",{value:!0}),t.cloneShape=k,t.cloneShapeInfos=function(e){var t,n=[],r=m(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i.pos,o=k(i.shape);n.push({pos:a.clone(),shape:o})}}catch(e){r.e(e)}finally{r.f()}return n},t.detectCollision=function(e,t){var n,r=e.shapes,i=t.shapes,a=m(r);try{for(a.s();!(n=a.n()).done;){var o,l=n.value.shape,u=m(i);try{for(u.s();!(o=u.n()).done;){var s=o.value.shape,c=new v.Response,f=!1;if(l instanceof v.Polygon&&s instanceof v.Polygon&&(f=v.testPolygonPolygon(l,s,c)),l instanceof v.Circle&&s instanceof v.Polygon&&(f=v.testCirclePolygon(l,s,c)),l instanceof v.Polygon&&s instanceof v.Circle&&(f=v.testCirclePolygon(s,l,c)),l instanceof v.Circle&&s instanceof v.Circle&&(f=v.testCircleCircle(s,l,c)),f)return!0}}catch(e){u.e(e)}finally{u.f()}return!1}}catch(e){a.e(e)}finally{a.f()}},t.getFishViewShape=function(e){var t=y.SPRITE.fish[e].offset,n=t[1]+t[3],r=t[0]+t[2],i={x:t[3],y:t[0]},a=new v.Box(new v.Vector(0,0),n,r).toPolygon();return i&&a.translate(-i.x,-i.y),[{shape:a,pos:new v.Vector(0,0)}]},t.getShapes=function(e,t){var n,r=[];"fish"===e?(n=p.SHAPE.fish[t]).as&&(n=p.SHAPE.fish[n.as]):n="bullet"===e?p.SHAPE.bullet:p.SHAPE.net;var i,a=m(n.shape_list);try{for(a.s();!(i=a.n()).done;){var o=i.value,l={},u=o.position||{x:0,y:0};if(l.pos=new v.Vector(u.x,u.y),"Circle"===o.type)l.shape=new v.Circle(new v.Vector(0,0),o.radius);else if("Box"===o.type){var s=new v.Box(new v.Vector(0,0),o.width,o.height);l.shape=s.toPolygon(),o.pivot?l.shape.translate(-o.pivot.x,-o.pivot.y):l.shape.translate(-o.width/2,-o.height/2)}else{for(var c=[],f=o.pivot,d=0;d<o.points.length;d+=2){var h=o.points[d],y=o.points[d+1];c.push(new v.Vector(h,y))}l.shape=new v.Polygon(new v.Vector(0,0),c),f&&l.shape.translate(-f.x,-f.y)}r.push(l)}}catch(e){a.e(e)}finally{a.f()}return r},t.scaleXShapeInfos=function(e){var t,n=[],r=m(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i.pos,o=i.shape,l=new v.Vector(-a.x,a.y),u=void 0;if(o instanceof v.Circle)u=k(o);else{var s,c=[],f=m(o.points);try{for(f.s();!(s=f.n()).done;){var d=s.value;c.push(new v.Vector(-d.x,d.y))}}catch(e){f.e(e)}finally{f.f()}u=new v.Polygon(c[0],(0,h.default)(c).call(c))}n.push({pos:l,shape:u})}}catch(e){r.e(e)}finally{r.f()}return n};var h=d(n(74779)),v=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var i={},a=c&&f;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?f(e,o):null;l&&(l.get||l.set)?c(i,o,l):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(n(86116)),p=n(70430),y=n(53531);function g(e){if("function"!=typeof s)return null;var t=new s,n=new s;return(g=function(e){return e?n:t})(e)}function m(e,t){var n=void 0!==o&&l(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return _(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e){if(e instanceof v.Polygon){var t,n=[],r=m(e.points);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(new v.Vector(i.x,i.y))}}catch(e){r.e(e)}finally{r.f()}return new v.Polygon(n[0],n)}if(e instanceof v.Circle)return new v.Circle(e.pos.clone(),e.r)}},62673:(e,t,n)=>{"use strict";var r=n(23710),i=n(83239),a=n(46993),o=n(99015),l=n(14571),u=n(32542),s=n(67272),c=n(8171);s(t,"__esModule",{value:!0}),t.GameFreezeCom=t.FreezingComEvent=void 0;var f=c(n(24142)),d=c(n(15375)),h=c(n(17061)),v=c(n(97709)),p=c(n(38191)),y=c(n(52305)),g=n(74227),m=n(30260),_=n(3828);function k(e,t){var n=void 0!==o&&l(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return b(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w={Freezing:"freezing",UnFreezing:"un_freezing"};t.FreezingComEvent=w;var S=function(e){(0,v.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,y.default)(t);if(n){var a=(0,y.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,p.default)(this,e)});function a(e){var t;return(0,d.default)(this,a),(t=i.call(this)).game=e,t.addCom(new m.TimeoutCom),t}return(0,h.default)(a,[{key:"freezing",value:function(e,t){var n=this,r=this.game,i=this.freezing_timeout,a=r.event,o=this.getCom(m.TimeoutCom);i&&o.clear(i),this.freezing_timeout=o.createTimeout((function(){n.unFreezing()}),1e3*e);var l,u=k(t);try{for(u.s();!(l=u.n()).done;){var s=l.value,c=r.getFishById(s);c&&c.setStatus(_.FishStatus.Freezed)}}catch(e){u.e(e)}finally{u.f()}a.emit(w.Freezing)}},{key:"unFreezing",value:function(){var e=this.game,t=this.freezing_timeout,n=e.fish_map,r=e.event,i=this.getCom(m.TimeoutCom);t&&i.clear(t);var a,o=k(n);try{for(o.s();!(a=o.n()).done;)(0,f.default)(a.value,2)[1].setStatus(_.FishStatus.Normal)}catch(e){o.e(e)}finally{o.f()}r.emit(w.UnFreezing)}}]),a}(g.ComponentManager);t.GameFreezeCom=S},84662:(e,t,n)=>{"use strict";var r=n(23710),i=n(67272),a=n(8171);i(t,"__esModule",{value:!0}),t.GunAutoShootCom=void 0;var o=a(n(15375)),l=a(n(17061)),u=a(n(97709)),s=a(n(38191)),c=a(n(52305)),f=n(74227),d=n(83091);var h=function(e){(0,u.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,c.default)(t);if(n){var a=(0,c.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,s.default)(this,e)});function a(e){var t;return(0,o.default)(this,a),(t=i.call(this)).gun=e,t}return(0,l.default)(a,[{key:"active",value:function(){var e=this.gun;e.event.on(d.GunEvent.SwitchOn,(function(){e.preAddBullet(e.direction,!0)}),this),e.setStatus(d.GunStatus.AutoShoot),e.preAddBullet(e.direction,!0),e.event.emit(d.GunEvent.AutoShoot,!0)}},{key:"clear",value:function(){var e=this.gun,t=e.event;e.setStatus(d.GunStatus.Normal),t.offAllCaller(this),e.event.emit(d.GunEvent.AutoShoot,!1)}},{key:"destroy",value:function(){this.clear(),this.gun.delCom(this),this.gun=void 0}}]),a}(f.ComponentManager);t.GunAutoShootCom=h},62822:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.DisplaceMoveCom=void 0;var a=i(n(15375)),o=i(n(17061)),l=n(63723),u=function(){function e(t){var n=this;(0,a.default)(this,e),this.is_stop=!1,this.onTick=function(e){var t=n.is_stop,r=n.update_fn;t||r(n.displace.update(e))},this.displace=t}return(0,o.default)(e,[{key:"onUpdate",value:function(e){this.update_fn=e}},{key:"start",value:function(){this.tick_index?this.is_stop=!1:(this.is_stop=!1,this.tick_index=(0,l.createTick)(this.onTick),this.onTick(0))}},{key:"stop",value:function(){this.is_stop=!0}},{key:"getRadio",value:function(){return this.displace.radio}},{key:"destroy",value:function(){(0,l.clearTick)(this.tick_index),this.displace=void 0,this.update_fn=void 0,this.is_stop=!1,this.tick_index=0}}]),e}();t.DisplaceMoveCom=u},39473:(e,t,n)=>{"use strict";var r=n(66890),i=n(43693),a=n(67272),o=n(82530),l=n(8171);a(t,"__esModule",{value:!0}),t.LockMoveCom=void 0;var u=l(n(60855)),s=l(n(77967)),c=l(n(15375)),f=l(n(17061)),d=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var i={},l=a&&o;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=l?o(e,u):null;s&&(s.get||s.set)?a(i,u,s):i[u]=e[u]}return i.default=e,n&&n.set(e,i),i}(n(86116)),h=n(63723);function v(e){if("function"!=typeof i)return null;var t=new i,n=new i;return(v=function(e){return e?n:t})(e)}var p=function(){function e(t,n,r,i){var a=this;(0,c.default)(this,e),this.is_stop=!1,this.update=function(e){var t=a.target,n=a.pos,r=a.is_stop,i=a.velocity_size;if(!r&&t.pos){var o=n.x,l=n.y,s=t.pos,c=s.x,f=s.y,h=new d.Vector(c-o,f-l).normalize().scale(i);n.x+=h.x*e,n.y+=h.y*e,a.detectOnHit()?(a.update_fn({pos:(0,u.default)({},t.pos),velocity:h}),a.on_hit(t)):a.update_fn({pos:(0,u.default)({},a.pos),velocity:h})}},this.target=r,this.pos=(0,u.default)({},t),this.start_pos=(0,u.default)({},t),this.velocity_size=n.len(),this.on_hit=i}return(0,f.default)(e,[{key:"start",value:function(){var e;this.tick_index?this.is_stop=!1:(this.is_stop=!1,this.tick_index=(0,h.createTick)((0,s.default)(e=this.update).call(e,this)),this.update(0))}},{key:"stop",value:function(){this.is_stop=!0}},{key:"onUpdate",value:function(e){this.update_fn=e}},{key:"detectOnHit",value:function(){var e=this.pos,t=this.start_pos,n=this.target.pos,r=new d.Vector(n.x-t.x,n.y-t.y).normalize();return!(new d.Vector(n.x-e.x,n.y-e.y).normalize().dot(r)>0||(this.pos=n,0))}},{key:"destroy",value:function(){(0,h.clearTick)(this.tick_index),this.tick_index=0,this.target=void 0,this.on_hit=void 0,this.pos=void 0,this.start_pos=void 0,this.velocity_size=0,this.update_fn=void 0,this.is_stop=!1}}]),e}();t.LockMoveCom=p},77488:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.VelocityMoveCom=void 0;var a=i(n(77967)),o=i(n(15375)),l=i(n(17061)),u=i(n(86116)),s=n(37026),c=n(63723),f=function(){function e(t,n){(0,o.default)(this,e),this.is_stop=!1,this.pos=t,this.velocity=n}return(0,l.default)(e,[{key:"start",value:function(){var e;this.tick_index?this.is_stop=!1:(this.is_stop=!1,this.tick_index=(0,c.createTick)((0,a.default)(e=this.update).call(e,this)),this.update(0))}},{key:"stop",value:function(){this.is_stop=!0}},{key:"update",value:function(e){var t=this.pos,n=this.velocity;this.is_stop||(t.x+=n.x*e,t.y+=n.y*e,this.detectHitWall(),this.update_fn({pos:t,velocity:n}))}},{key:"onUpdate",value:function(e){this.update_fn=e}},{key:"detectHitWall",value:function(){var e=s.Config.PoolHeight,t=s.Config.PoolWidth,n=s.Config.BulletZoneWidth,r=this.velocity,i=this.pos,a=r.x,o=r.y,l=(t-n)/2,c=l+n;i.x>c&&(i.x=c-(i.x-c),a=-Math.abs(r.x)),i.x<l&&(i.x=l+(l-i.x),a=Math.abs(r.x)),i.y>e&&(i.y=e-(i.y-e),o=-Math.abs(r.y)),i.y<0&&(i.y=-i.y,o=Math.abs(r.y)),this.velocity=new u.default.Vector(a,o),this.pos=i}},{key:"destroy",value:function(){(0,c.clearTick)(this.tick_index),this.tick_index=0,this.velocity=void 0,this.update_fn=void 0,this.is_stop=!1}}]),e}();t.VelocityMoveCom=f},50615:(e,t,n)=>{"use strict";var r=n(23710),i=n(83239),a=n(46993),o=n(99015),l=n(14571),u=n(32542),s=n(67272),c=n(8171);s(t,"__esModule",{value:!0}),t.ShoalEvent=t.ShoalCom=void 0,t.quickLeaveFish=E;var f=c(n(78953)),d=c(n(24142)),h=c(n(15375)),v=c(n(17061)),p=c(n(97709)),y=c(n(38191)),g=c(n(52305)),m=n(74227),_=n(37026),k=n(93774),b=n(42146),w=n(47589),S=n(62822);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C={PreAddShoal:"pre_add_shoal"};t.ShoalEvent=C;var I=function(e){(0,p.default)(c,e);var t,n,s=(t=c,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,g.default)(t);if(n){var a=(0,g.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,y.default)(this,e)});function c(e){var t;return(0,h.default)(this,c),(t=s.call(this)).shoal_map=new f.default,t.game=e,t}return(0,v.default)(c,[{key:"preAddShoal",value:function(e){var t=this.game,n=t.event,r=t.fish_map;n.emit(C.PreAddShoal,e);var s,c=function(e,t){var n=void 0!==o&&l(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return x(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}(r);try{for(c.s();!(s=c.n()).done;)E((0,d.default)(s.value,2)[1],e)}catch(e){c.e(e)}finally{c.f()}}},{key:"addShoal",value:function(e){}},{key:"removeShoal",value:function(e){this.shoal_map.delete(e)}},{key:"genFish",value:function(){}},{key:"destroy",value:function(){}}]),c}(m.ComponentManager);function E(e,t){var n=e.pos;if(!e.visible)return e.destroy();var r,i=_.Config.ClearFishTime,a=_.Config.PoolWidth,o=(0,b.calcNormalLen)("after",e.type),l={y:n.y};t?(r=a-n.x+o,l.x=a+o):(l.x=-o,r=n.x+o);var u=[{curve:new w.Line(n,l),length:r,radio:1}],s=new k.Displace(i,0,u,!1),c=new S.DisplaceMoveCom(s);e.setMoveCom(c),e.init()}t.ShoalCom=I},50634:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.FishBombEvent=t.FishBombCom=void 0;var a=i(n(26312)),o=i(n(15375)),l=i(n(17061)),u=n(42717),s={FishBomb:"fish_bomb"};t.FishBombEvent=s;var c=function(){function e(t){(0,o.default)(this,e),this.fish=t}return(0,l.default)(e,[{key:"active",value:function(e){var t,n=this.fish,r=n.pos,i=n.id,o={pos:r,player:e};e.need_emit&&(o.fish_list=(0,a.default)(t=(0,u.getBeBombFish)(r)).call(t,(function(e){return e.id!==i}))),n.event.emit(s.FishBomb,o)}},{key:"destroy",value:function(){var e;null===(e=this.fish.event)||void 0===e||e.offAllCaller(this),this.fish=void 0}}]),e}();t.FishBombCom=c},3828:(e,t,n)=>{"use strict";var r=n(23710),i=n(67272),a=n(8171);i(t,"__esModule",{value:!0}),t.FishStatus=t.FishModel=t.FishEvent=void 0;var o=a(n(25937)),l=a(n(15375)),u=a(n(17061)),s=a(n(89395)),c=a(n(45408)),f=a(n(97709)),d=a(n(38191)),h=a(n(52305)),v=n(74227),p=n(38182),y=n(64467),g=n(77513),m=n(37440),_=n(91207),k=n(34970);var b,w={Destroy:m.ModelEvent.Destroy,Move:"move",BeCast:"be_cast",BeCapture:"be_capture",StatusChange:"status_change",VisibleChange:"visible_change"};t.FishEvent=w,t.FishStatus=b,function(e){e[e.Normal=0]="Normal",e[e.QuickLeave=1]="QuickLeave",e[e.Freezed=2]="Freezed",e[e.Dead=3]="Dead"}(b||(t.FishStatus=b={}));var S=function(e){(0,f.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,h.default)(t);if(n){var a=(0,h.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,d.default)(this,e)});function a(e,t){var n;return(0,l.default)(this,a),(n=i.call(this)).status=b.Normal,n.horizon_turn=!1,n.visible=!1,n.onMoveChange=function(e){var t=(0,s.default)(n).body,r=e.pos,i=e.velocity,a=e.is_complete,o=e.visible;if(a)return n.destroy();n.setVisible(o),o&&(n.pos=r,n.velocity=i,t.update(r,i),n.event.emit(w.Move,{pos:r,velocity:i}))},n.game=t,n.initCom(e),n}return(0,u.default)(a,[{key:"initCom",value:function(e){var t=e.type,n=e.id,r=e.score,i=e.currency;(0,g.setProps)(this,{type:t,id:n,score:r||0,currency:i});var a=!1;"horizon_turn"===(0,y.getSpriteInfo)("fish",t).ani_type&&(a=!0);var o=(0,k.getShapes)("fish",Number(t)),l=new _.BodyCom(o,a),u=new p.EventCom;this.event=u,this.body=l,this.horizon_turn=a,this.addCom(new p.EventCom,l)}},{key:"init",value:function(){this.move_com.start()}},{key:"setMoveCom",value:function(e){var t=this.move_com;t&&(t.destroy(),this.delCom(t)),e.onUpdate(this.onMoveChange),this.move_com=e,this.addCom(e)}},{key:"setStatus",value:function(e){e!==this.status&&(this.status=e,this.event.emit(w.StatusChange,e),e===b.Freezed?this.move_com.stop():this.move_com.start())}},{key:"setVisible",value:function(e){e!==this.visible&&(this.visible=e,this.event.emit(w.VisibleChange,e))}},{key:"beCast",value:function(){this.event&&this.event.emit(w.BeCast)}},{key:"beCapture",value:function(){var e=this;return new o.default((function(t,n){if(e.event){var r=e.pos;e.event.emit(w.BeCapture,(function(){t(r),e.destroy()}))}else n(),e.destroy()}))}},{key:"destroy",value:function(){this.destroyed||(this.event.emit(w.Destroy),this.setStatus(b.Dead),this.game.removeFish(this),this.game=void 0,this.id=void 0,this.type=void 0,this.pos=void 0,this.velocity=void 0,this.visible=!1,this.horizon_turn=!1,this.move_com=void 0,this.event=void 0,this.body=void 0,(0,c.default)((0,h.default)(a.prototype),"destroy",this).call(this))}}]),a}(v.ComponentManager);t.FishModel=S},42717:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.createBombBody=D,t.createFish=function(e,t){var n=e.eid,r=e.fishId,i=e.score,a=e.currencyFish,o=(0,I.createFishDisplace)(e);if(o){var l=new A.DisplaceMoveCom(o),u={id:n,type:r,score:i,currency:a},s=new L.FishModel(u,t);return s.setMoveCom(l),(0,C.isBombFish)(s)&&s.addCom(new B.FishBombCom(s)),s}},t.createFishGroup=function(e,t){var n=e.fishId,u=e.group,s=e.score,c=e.currencyFish,h=[],v=(0,C.getSpriteInfo)("fish",n).group;if(!v)return h;var p=(0,I.createFishDisplace)(e),k=new A.DisplaceMoveCom(p),b=new y.default;k.onUpdate((function(e){var t,n=function(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return T(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?T(e,t):void 0}}(e))){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}(b);try{for(n.s();!(t=n.n()).done;)(0,(0,f.default)(t.value,2)[1].update_fn)(e)}catch(e){n.e(e)}finally{n.f()}}));for(var w=function(e){var n,r,i=v[e],a=i.type,o=i.pos,l=u[e].eid,p=(n=function(e){var t=e.pos,n=N(e,["pos"]),r=(0,_.default)({},n);return t&&(r.pos={x:t.x+o.x,y:t.y+o.y}),r},r=e,[function(e){b.set(r,{update_fn:function(t){var r=n(t);e(r)},id:r,isStop:!1})},function(){b.delete(r),0===b.size&&k.destroy()},function(){var e;b.get(r).isStop=!1,(0,g.default)(e=(0,d.default)((0,m.default)(b).call(b))).call(e,(function(e){return!0===e.isStop}))||k.start()},function(){var e;b.get(r).isStop=!0,(0,g.default)(e=(0,d.default)((0,m.default)(b).call(b))).call(e,(function(e){return!1===e.isStop}))||k.stop()}]),y=(0,f.default)(p,4),w=y[0],S=y[1],x={start:y[2],stop:y[3],onUpdate:w,destroy:S},I={id:l,type:a,score:s,currency:c},E=new L.FishModel(I,t);E.setMoveCom(x),(0,C.isBombFish)(E)&&E.addCom(new B.FishBombCom(E)),h.push(E)},S=0;S<u.length;S++)w(S);return h},t.getBeBombFish=O,t.getBeBombFishIds=function(e){var t;return(0,k.default)(t=O(e)).call(t,(function(e){return e.id}))},t.playerCaptureFish=function(e,t,n){return P(this,void 0,void 0,c.default.mark((function r(){var i,a,o;return c.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(0,C.isBombFish)(t)&&t.getCom(B.FishBombCom).active(e),r.next=3,t.beCapture();case 3:i=r.sent,a=n.drop,o=n.win,i||(0,E.error)("cant find fish pos"),e.captureFish(i,{win:o,drop:a});case 7:case"end":return r.stop()}}),r)})))},t.waitFishDestroy=function(e){var t=this,n=e.event;return new h.default((function(r,i){if(e.destroyed)return(0,b.default)(r);n.once(L.FishEvent.Destroy,(function(){(0,b.default)(r)}),t)}))};var c=s(n(66329)),f=s(n(24142)),d=s(n(21003)),h=s(n(25937)),v=s(n(4918)),p=s(n(2220)),y=s(n(78953)),g=s(n(85604)),m=s(n(72663)),_=s(n(60855)),k=s(n(46818)),b=s(n(81302)),w=s(n(86116)),S=n(37026),x=n(11263),C=n(64467),I=n(42146),E=n(55161),M=n(91207),A=n(62822),B=n(50634),L=n(3828);function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e,t,n,r){return new(n||(n=h.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},N=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(0,v.default)(t).call(t,r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof p.default){var i=0;for(r=(0,p.default)(e);i<r.length;i++)(0,v.default)(t).call(t,r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function O(e){var t=D();t.update(e);var n=(0,x.getCollisionAllFish)(t);return t.destroy(),n}function D(){var e={shape:new w.default.Circle(new w.default.Vector(0,0),S.Config.BombRadius),pos:new w.default.Vector(0,0)};return new M.BodyCom([e],!1)}},86408:(e,t,n)=>{"use strict";var r=n(23710),i=n(83239),a=n(46993),o=n(99015),l=n(14571),u=n(32542),s=n(67272),c=n(8171);s(t,"__esModule",{value:!0}),t.GameModel=t.GameEvent=void 0;var f=c(n(78953)),d=c(n(24142)),h=c(n(15375)),v=c(n(17061)),p=c(n(45408)),y=c(n(97709)),g=c(n(38191)),m=c(n(52305)),_=n(74227),k=n(38182),b=n(30260),w=n(37440),S=n(55161),x=n(62673),C=n(50615),I=n(42717),E=n(83125);function M(e,t){var n=void 0!==o&&l(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return A(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B={AddFish:"add_fish",AddPlayer:"add_player",Freezing:"freezing",Destroy:w.ModelEvent.Destroy};t.GameEvent=B;var L=function(e){(0,y.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,m.default)(t);if(n){var a=(0,m.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,g.default)(this,e)});function a(){var e;return(0,h.default)(this,a),(e=i.call(this)).currency="",e.fish_map=new f.default,e.player_map=new f.default,e.initCom(),e}return(0,v.default)(a,[{key:"setCurrency",value:function(e){this.currency=e}},{key:"initCom",value:function(){this.addCom(new k.EventCom,new b.TimeoutCom)}},{key:"event",get:function(){return this.getCom(k.EventCom)}},{key:"freezing_com",get:function(){var e=this.getCom(x.GameFreezeCom);return e||(e=new x.GameFreezeCom(this),this.addCom(e)),e}},{key:"addFish",value:function(e){var t=e.group,n=this.fish_map;if(t){var r,i=(0,I.createFishGroup)(e,this),a=M(i);try{for(a.s();!(r=a.n()).done;){var o=r.value;n.set(o.id,o),this.event.emit(B.AddFish,o),o.init()}}catch(e){a.e(e)}finally{a.f()}return i}var l=(0,I.createFish)(e,this);if(l)return n.set(l.id,l),this.event.emit(B.AddFish,l),l.init(),l}},{key:"removeFish",value:function(e){this.fish_map.delete(e.id)}},{key:"getFishById",value:function(e){return this.fish_map.get(e)}},{key:"getAllFish",value:function(){return this.fish_map}},{key:"captureFish",value:function(e){var t=e.userId,n=e.eid,r=e.backAmount,i=this.getPlayerById(t),a=this.getFishById(n);i?(r&&i.updateInfo({bullet_num:i.bullet_num+r}),a?(0,I.playerCaptureFish)(i,a,e):(0,S.error)("Game:>captureFish:> cant find fish for ".concat(n))):(0,S.error)("Game:>captureFish:> cant find player for ".concat(t))}},{key:"shoal_com",get:function(){var e=this.getCom(C.ShoalCom);return e||(e=new C.ShoalCom(this),this.addCom(e)),e}},{key:"addPlayer",value:function(e){var t=new E.PlayerModel(e,this);return this.player_map.set(e.user_id,t),this.event.emit(B.AddPlayer,t),t.init(),t}},{key:"getCurPlayer",value:function(){var e,t=M(this.player_map);try{for(t.s();!(e=t.n()).done;){var n=(0,d.default)(e.value,2)[1];if(n.is_cur_player)return n}}catch(e){t.e(e)}finally{t.f()}}},{key:"getPlayers",value:function(){return this.player_map}},{key:"getPlayerById",value:function(e){return this.player_map.get(e)}},{key:"removePlayer",value:function(e){this.player_map.delete(e.user_id)}},{key:"activeSkill",value:function(e,t){var n=this.getPlayerById(t.user_id);n?n.activeSkill(e,t):(0,S.error)("Game:>activeSkill:> cant find player:>".concat(t.user_id))}},{key:"disableSkill",value:function(e,t){var n=this.getPlayerById(t);n?n.disableSkill(e):(0,S.error)("Game:>resetSkill:> cant find player:>".concat(t))}},{key:"resetSkill",value:function(e,t){var n=this.getPlayerById(t);n?n.resetSkill(e):(0,S.error)("Game:>resetSkill:> cant find player:>".concat(t))}},{key:"shoot",value:function(e){var t=this.getPlayerById(e.userId);t?t.gun.addBullet(e.direction,!t.is_cur_player):(0,S.error)("Game:>resetSkill:> cant find player:>".concat(e.userId))}},{key:"shoalComingTip",value:function(e){this.shoal_com.preAddShoal(e)}},{key:"clear",value:function(){var e,t=this.fish_map,n=M(this.player_map);try{for(n.s();!(e=n.n()).done;)(0,d.default)(e.value,2)[1].destroy()}catch(e){n.e(e)}finally{n.f()}var r,i=M(t);try{for(i.s();!(r=i.n()).done;)(0,d.default)(r.value,2)[1].destroy()}catch(e){i.e(e)}finally{i.f()}this.currency="",this.fish_map.clear(),this.player_map.clear()}},{key:"destroy",value:function(){this.event.emit(B.Destroy),this.clear(),(0,p.default)((0,m.default)(a.prototype),"destroy",this).call(this)}}]),a}(_.ComponentManager);t.GameModel=L},37577:(e,t,n)=>{"use strict";var r=n(23710),i=n(83239),a=n(46993),o=n(99015),l=n(14571),u=n(32542),s=n(67272),c=n(8171);s(t,"__esModule",{value:!0}),t.BulletGroupEvent=t.BulletGroup=void 0;var f=c(n(78953)),d=c(n(40524)),h=c(n(24142)),v=c(n(15375)),p=c(n(17061)),y=c(n(89395)),g=c(n(45408)),m=c(n(97709)),_=c(n(38191)),k=c(n(52305)),b=n(74227),w=n(38182),S=n(37440),x=n(77513),C=n(8985);function I(e,t){var n=void 0!==o&&l(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return E(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M={Destroy:S.ModelEvent.Destroy};t.BulletGroupEvent=M;var A=function(e){(0,m.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,k.default)(t);if(n){var a=(0,k.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,_.default)(this,e)});function a(e,t){var n;(0,v.default)(this,a),(n=i.call(this)).bullet_map=new f.default,n.casted=!1,n.id=(0,x.genRandomStr)(),n.castFn=function(e){var t=(0,y.default)(n),r=t.gun,i=t.casted,a=t.bullet_map,o=t.bullet_cost;if(!i){var l=r.player,u=l.is_cur_player,s=l.need_emit;n.casted=!0,s&&r.castFish(e,o),r.removeBullet((0,y.default)(n)),n.gun=void 0;var c,f=I(a);try{for(f.s();!(c=f.n()).done;)(0,h.default)(c.value,2)[1].addNet(u)}catch(e){f.e(e)}finally{f.f()}n.destroy()}},n.bullet_cost=t.bullet_cost,n.gun=t;var r=new w.EventCom;return n.event=r,n.addCom(r),n.initBullet(e),n}return(0,p.default)(a,[{key:"init",value:function(){var e,t=I(this.bullet_map);try{for(t.s();!(e=t.n()).done;)(0,h.default)(e.value,2)[1].init()}catch(e){t.e(e)}finally{t.f()}}},{key:"initBullet",value:function(e){var t,n=e.bullets_pos,r=e.lock,i=e.velocity,a=this.gun,o=a.skin,l=a.bullet_cost,u=a.skin_level,s=I((0,d.default)(n).call(n));try{for(s.s();!(t=s.n()).done;){var c=(0,h.default)(t.value,2),f=c[0],v={skin:o,pos:c[1],bullet_cost:l,lock:r,skin_level:u,velocity:i.clone(),cast_fn:this.castFn},p=new C.BulletModel(v);this.bullet_map.set(f,p)}}catch(e){s.e(e)}finally{s.f()}}},{key:"destroy",value:function(){if(!this.destroyed){var e,t=this.bullet_map,n=I(t);try{for(n.s();!(e=n.n()).done;)(0,h.default)(e.value,2)[1].destroy()}catch(e){n.e(e)}finally{n.f()}t.clear(),this.event.emit(M.Destroy),this.event=void 0,this.gun=void 0,this.bullet_cost=0,(0,g.default)((0,k.default)(a.prototype),"destroy",this).call(this)}}}]),a}(b.ComponentManager);t.BulletGroup=A},8985:(e,t,n)=>{"use strict";var r=n(23710),i=n(67272),a=n(8171);i(t,"__esModule",{value:!0}),t.BulletModel=t.BulletEvent=void 0;var o=a(n(60855)),l=a(n(15375)),u=a(n(17061)),s=a(n(89395)),c=a(n(45408)),f=a(n(97709)),d=a(n(38191)),h=a(n(52305)),v=n(74227),p=n(38182),y=n(30260),g=n(37026),m=n(77513),_=n(37440),k=n(11263),b=n(91207),w=n(34970),S=n(39473),x=n(77488),C=n(89684);var I={Move:"move",AddNet:"add_net"};t.BulletEvent=I;var E=function(e){(0,f.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,h.default)(t);if(n){var a=(0,h.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,d.default)(this,e)});function a(e){var t;return(0,l.default)(this,a),(t=i.call(this)).need_detect_collision=!0,t.onMoveChange=function(e){var n=(0,s.default)(t).need_detect_collision,r=e.pos,i=e.velocity,a=t.body;if(a.update(r,i),t.pos=r,t.velocity=i,t.event.emit(I.Move,{pos:r,velocity:i}),t.need_detect_collision=!n,n){var o=(0,k.getCollisionFish)(a);o&&t.onHit(o)}},t.onLockMoveChange=function(e){var n=e.pos,r=e.velocity;t.pos=(0,o.default)({},e.pos),t.velocity=r,t.event.emit(I.Move,{pos:n,velocity:r})},t.onHit=function(e){var n=(0,s.default)(t),r=n.cast_fn,i=n.move_com;i.destroy(),t.delCom(i),t.move_com=void 0,t.getCom(y.TimeoutCom).createTimeout((function(){t.destroyed||r(e)}))},t.addNet=function(e){var n=(0,s.default)(t).pos,r=new C.NetModel({pos:n,show_cast:e},(0,s.default)(t));t.event.emit(I.AddNet,r)},(0,m.setProps)((0,s.default)(t),(0,o.default)((0,o.default)({},e),{velocity:e.velocity.scale(g.Config.BulletSpeed)})),t.initCom(),t}return(0,u.default)(a,[{key:"initCom",value:function(){var e,t=this.pos,n=this.velocity,r=this.lock,i=new p.EventCom,a=[i];if(r)e=new S.LockMoveCom(t,n,r,this.onHit),a.push(e),e.onUpdate(this.onLockMoveChange);else{var o=(0,w.getShapes)("bullet"),l=new b.BodyCom(o);e=new x.VelocityMoveCom(t,n),a.push(e,l),e.onUpdate(this.onMoveChange),this.body=l}a.push(new y.TimeoutCom),this.move_com=e,this.event=i,this.addCom.apply(this,a)}},{key:"init",value:function(){this.move_com.start()}},{key:"destroy",value:function(){this.event.emit(_.ModelEvent.Destroy),this.cast_fn=void 0,this.event=void 0,this.body=void 0,(0,c.default)((0,h.default)(a.prototype),"destroy",this).call(this)}}]),a}(v.ComponentManager);t.BulletModel=E},83091:(e,t,n)=>{"use strict";var r=n(66890),i=n(23710),a=n(83239),o=n(46993),l=n(99015),u=n(14571),s=n(32542),c=n(43693),f=n(67272),d=n(82530),h=n(8171);f(t,"__esModule",{value:!0}),t.GunStatus=t.GunModel=t.GunEvent=void 0;var v=h(n(78953)),p=h(n(67357)),y=h(n(24142)),g=h(n(15375)),m=h(n(17061)),_=h(n(45408)),k=h(n(97709)),b=h(n(38191)),w=h(n(52305)),S=n(74227),x=n(38182),C=n(30260),I=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var i={},a=f&&d;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?d(e,o):null;l&&(l.get||l.set)?f(i,o,l):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(n(86116)),E=n(37026),M=n(64467),A=n(84662),B=n(37577);function L(e){if("function"!=typeof c)return null;var t=new c,n=new c;return(L=function(e){return e?n:t})(e)}function T(e,t){var n=void 0!==l&&u(e)||e["@@iterator"];if(!n){if(s(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return P(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?o(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N,O={WillAddBullet:"will_add_bullet",AddBullet:"add_bullet",DirectionChange:"direction_change",SwitchOn:"switch_on",SpeedUpStatus:"speed_up_status",CastFish:"cast_fish",LevelChange:"level_change",AutoShoot:"auto_shoot",NotEnoughBulletNum:"not_enough_bullet_num"};t.GunEvent=O,t.GunStatus=N,function(e){e[e.Normal=0]="Normal",e[e.AutoShoot=1]="AutoShoot",e[e.LockFish=2]="LockFish"}(N||(t.GunStatus=N={}));var D=function(e){(0,k.default)(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!i)return!1;if(i.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,w.default)(t);if(n){var a=(0,w.default)(this).constructor;e=i(r,arguments,a)}else e=r.apply(this,arguments);return(0,b.default)(this,e)});function a(e,t,n){var i;return(0,g.default)(this,a),(i=r.call(this)).direction=new I.Vector(0,-1),i.bullet_map=new v.default,i.status=N.Normal,i.is_speedup=!1,i.shoot_space=E.Config.ShootTimeSpace,i.is_on=!0,i.rage=!1,i.pos=e,i.skin=t,i.player=n,i.initCom(),i}return(0,m.default)(a,[{key:"initCom",value:function(){var e=new x.EventCom,t=new C.TimeoutCom;this.addCom(e,t),this.event=e,this.timeout=t}},{key:"init",value:function(){this.initDirection(),this.setBulletCost(this.player.bullet_cost)}},{key:"initDirection",value:function(){this.player.server_index<2?this.setDirection(new I.Vector(0,-1)):this.setDirection(new I.Vector(0,1))}},{key:"setDirection",value:function(e){var t=this;e!==this.direction&&(this.direction=e,this.getCom(C.TimeoutCom).createTimeout((function(){t.event.emit(O.DirectionChange,e)}),this.shoot_space))}},{key:"changeSkin",value:function(e){this.skin=e,this.setBulletCost(this.bullet_cost,!0)}},{key:"setBulletCost",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e!==this.bullet_cost||t){var n=this.skin,r=this.timeout,i=this.event,a=this.shoot_space,o=(0,M.getGunLevelSkinInfo)(e),l=o.level_skin,u=o.hole_num;this.bullet_cost=e,this.skin_level=l,this.hole_num=u,r.createTimeout((function(){i.emit(O.LevelChange,{bullet_cost:e,skin:n,level_skin:l,hole_num:u})}),a)}}},{key:"setStatus",value:function(e){e!==this.status&&(this.status=e)}},{key:"toggleSpeedUp",value:function(e){if(e!==this.is_speedup){var t=this.event;this.is_speedup=e,t.emit(O.SpeedUpStatus,e),this.shoot_space=!0===e?E.Config.ShootTimeSpace/2:E.Config.ShootTimeSpace}}},{key:"autoShoot",get:function(){var e=this.getCom(A.GunAutoShootCom);return e||(e=new A.GunAutoShootCom(this),this.addCom(e)),e}},{key:"preAddBullet",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.status,i=this.is_on,a=this.event,o=this.shoot_space,l=this.player,u=this.bullet_cost;if(l.is_cur_player&&l.bullet_num-u<0)a.emit(O.NotEnoughBulletNum);else if((n||r!==N.LockFish)&&(e=e.clone().normalize(),this.setDirection(e),(n||r!==N.AutoShoot)&&i)){a.emit(O.WillAddBullet,e),this.is_on=!1;var s=this.getCom(C.TimeoutCom);s.createTimeout((function(){t.is_on=!0,a.emit(O.SwitchOn)}),o)}}},{key:"addBullet",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.bullet_cost,i=this.skin,a=this.skin_level,o=this.lock_fish,l=this.player,u=this.event,s=this.bullet_map,c=e.x,f=e.y,d=new I.Vector(c,f).normalize();if(!(l.bullet_num<r&&l.is_cur_player)){n&&this.setDirection(d);var h=(0,M.getBulletStartPos)(l.server_index,d.clone(),(0,p.default)(t="".concat(i)).call(t,a)),v={bullets_pos:h,velocity:d,lock:o},y=new B.BulletGroup(v,this);s.set(y.id,y),u.emit(O.AddBullet,{bullet_group:y,velocity:d,lock:o}),y.init(),l.updateInfo({bullet_num:l.bullet_num-r})}}},{key:"castFish",value:function(e,t){this.event.emit(O.CastFish,{fish:e,level:t})}},{key:"getAllBulletCost",value:function(){var e,t=0,n=T(this.bullet_map);try{for(n.s();!(e=n.n()).done;)t+=(0,y.default)(e.value,2)[1].bullet_cost}catch(e){n.e(e)}finally{n.f()}return t}},{key:"removeBullet",value:function(e){this.bullet_map.delete(e.id)}},{key:"destroy",value:function(){var e,t=T(this.bullet_map);try{for(t.s();!(e=t.n()).done;)(0,y.default)(e.value,2)[1].destroy()}catch(e){t.e(e)}finally{t.f()}this.player=void 0,this.lock_fish=void 0,this.setStatus(N.Normal),this.toggleSpeedUp(!1),this.bullet_map.clear(),(0,_.default)((0,w.default)(a.prototype),"destroy",this).call(this)}}]),a}(S.ComponentManager);t.GunModel=D},89684:(e,t,n)=>{"use strict";var r=n(23710),i=n(83239),a=n(46993),o=n(99015),l=n(14571),u=n(32542),s=n(67272),c=n(8171);s(t,"__esModule",{value:!0}),t.NetModel=t.NetEvent=void 0;var f=c(n(15375)),d=c(n(17061)),h=c(n(45408)),v=c(n(97709)),p=c(n(38191)),y=c(n(52305)),g=n(74227),m=n(38182),_=n(30260),k=n(11263),b=n(37440),w=n(91207),S=n(34970);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C={CastFish:"cast_fish"};t.NetEvent=C;var I=function(e){(0,v.default)(c,e);var t,n,s=(t=c,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,y.default)(t);if(n){var a=(0,y.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,p.default)(this,e)});function c(e,t){var n;(0,f.default)(this,c),n=s.call(this);var r=e.show_cast,i=e.pos;return n.bullet_cost=t.bullet_cost,n.skin=t.skin,n.skin_level=t.skin_level,n.show_cast=r,n.pos=i,n.init(),n}return(0,d.default)(c,[{key:"body",get:function(){return this.getCom(w.BodyCom)}},{key:"init",value:function(){var e=this,t=this.show_cast,n=(0,S.getShapes)("net"),r=new w.BodyCom(n);r.update(this.pos);var s=new _.TimeoutCom,c=new m.EventCom;this.addCom(c,s,r),this.event=c,t&&s.createTimeout((function(){var t,n=(0,k.getCollisionAllFish)(r),s=function(e,t){var n=void 0!==o&&l(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return x(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}(n);try{for(s.s();!(t=s.n()).done;)t.value.beCast()}catch(e){s.e(e)}finally{s.f()}e.event.emit(C.CastFish,n)}),0),s.createTimeout((function(){e.destroy()}),100)}},{key:"destroy",value:function(){this.event.emit(b.ModelEvent.Destroy),this.pos=void 0,this.bullet_cost=void 0,this.skin=void 0,this.skin_level=void 0,this.show_cast=!1,(0,h.default)((0,y.default)(c.prototype),"destroy",this).call(this)}}]),c}(g.ComponentManager);t.NetModel=I},83125:(e,t,n)=>{"use strict";var r=n(23710),i=n(83239),a=n(46993),o=n(99015),l=n(14571),u=n(32542),s=n(67272),c=n(8171);s(t,"__esModule",{value:!0}),t.PlayerModel=t.PlayerEvent=void 0;var f=c(n(66329)),d=c(n(24142)),h=c(n(15375)),v=c(n(17061)),p=c(n(45408)),y=c(n(97709)),g=c(n(38191)),m=c(n(52305)),_=c(n(25937)),k=c(n(4918)),b=c(n(2220)),w=c(n(78953)),S=c(n(60855)),x=n(74227),C=n(38182),I=n(37440),E=n(64467),M=n(55161),A=n(77513),B=n(3828),L=n(83091),T=n(6053);function P(e,t){var n=void 0!==o&&l(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return N(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O={CaptureFish:B.FishEvent.BeCapture,UpdateInfo:"update_info",Destroy:I.ModelEvent.Destroy};t.PlayerEvent=O;var D=function(e){(0,y.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,m.default)(t);if(n){var a=(0,m.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,g.default)(this,e)});function a(e,t){var n;return(0,h.default)(this,a),(n=i.call(this)).skill_map=new w.default,n.game=t,n.addCom(new C.EventCom),n.createGun(e),n}return(0,v.default)(a,[{key:"event",get:function(){return this.getCom(C.EventCom)}},{key:"createGun",value:function(e){var t=e.gun_skin,n=e.skills,r=e.server_index,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(0,k.default)(t).call(t,r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof b.default){var i=0;for(r=(0,b.default)(e);i<r.length;i++)(0,k.default)(t).call(t,r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["gun_skin","skills","server_index"]),a=(0,E.getGunInfo)(r).pos,o=new L.GunModel(a,t,this);this.gun=o,this.updateInfo((0,S.default)({server_index:r},i)),this.initSkill(n)}},{key:"init",value:function(){var e=this.skill_map;this.gun.init();var t,n=P(e);try{for(n.s();!(t=n.n()).done;)(0,d.default)(t.value,2)[1].init()}catch(e){n.e(e)}finally{n.f()}}},{key:"updateInfo",value:function(e){var t,n=e.bullet_cost;e.bullet_num<0&&this.is_cur_player&&((0,M.error)("test:> some thing case bullet num < 0"),e.bullet_num=0),(0,A.setProps)(this,e),e.bullet_cost&&this.gun.setBulletCost(n),null===(t=this.event)||void 0===t||t.emit(O.UpdateInfo)}},{key:"initSkill",value:function(e){var t=this.skill_map;for(var n in T.SkillCtorMap)if(T.SkillCtorMap.hasOwnProperty(n)){var r=T.SkillCtorMap[n],i=e[n]||{},a=(0,S.default)({player:this},i);t.set(n,new r(a))}}},{key:"activeSkill",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.skill_map.get(e);n.active(t)}},{key:"disableSkill",value:function(e){this.skill_map.get(e).disable()}},{key:"resetSkill",value:function(e){this.skill_map.get(e).reset()}},{key:"getSkill",value:function(e){return this.skill_map.get(e)}},{key:"addSkillNum",value:function(e,t){var n=this.skill_map.get(e);n?(t=n.skill_core.num+t,n.skill_core.setNum(t)):(0,M.error)("cant find skill for ".concat(e))}},{key:"captureFish",value:function(e,t){return n=this,r=void 0,i=void 0,a=f.default.mark((function n(){var r,i,a,o,l,u,s=this;return f.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new _.default((function(n,r){var i;null===(i=s.event)||void 0===i||i.emit(O.CaptureFish,{pos:e,data:t,resolve:n})}));case 2:if(!this.destroyed){n.next=4;break}return n.abrupt("return");case 4:if(r=t.win,i=t.drop,a=this.bullet_num,this.updateInfo({bullet_num:a+r}),i){o=P(i);try{for(o.s();!(l=o.n()).done;)u=l.value,this.addSkillNum(u.itemId,u.itemNum)}catch(e){o.e(e)}finally{o.f()}}case 8:case"end":return n.stop()}}),n,this)})),new(i||(i=_.default))((function(e,t){function o(e){try{u(a.next(e))}catch(e){t(e)}}function l(e){try{u(a.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,l)}u((a=a.apply(n,r||[])).next())}));var n,r,i,a}},{key:"changeSkin",value:function(e){this.gun.changeSkin(e)}},{key:"destroy",value:function(){var e,t=this.gun,n=this.skill_map,r=this.game,i=P(n);try{for(i.s();!(e=i.n()).done;)(0,d.default)(e.value,2)[1].destroy()}catch(e){i.e(e)}finally{i.f()}t.destroy(),r.removePlayer(this),this.event.emit(O.Destroy),this.skill_map.clear(),this.gun=void 0,(0,p.default)((0,m.default)(a.prototype),"destroy",this).call(this)}}]),a}(x.ComponentManager);t.PlayerModel=D},34085:(e,t,n)=>{"use strict";var r=n(23710),i=n(67272),a=n(8171);i(t,"__esModule",{value:!0}),t.AutoShootModel=void 0;var o=a(n(15375)),l=a(n(17061)),u=a(n(97709)),s=a(n(38191)),c=a(n(52305)),f=n(74227),d=n(43776);var h=function(e){(0,u.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,c.default)(t);if(n){var a=(0,c.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,s.default)(this,e)});function a(e){var t;return(0,o.default)(this,a),(t=i.call(this)).initCom(e),t}return(0,l.default)(a,[{key:"initCom",value:function(e){var t=new d.SkillCoreCom(e);this.addCom(t),this.skill_core=t}},{key:"toggle",value:function(){this.skill_core.status===d.SkillStatus.Normal?this.active():this.disable()}},{key:"init",value:function(){this.skill_core.init()}},{key:"reset",value:function(){var e=this.skill_core;e.player.gun.autoShoot.clear(),e.reset()}},{key:"active",value:function(){var e=this.skill_core;this.skill_core.player.gun.autoShoot.active(),e.active({used_time:0})}},{key:"disable",value:function(){this.skill_core.reset(),this.reset()}}]),a}(f.ComponentManager);t.AutoShootModel=h},36065:(e,t,n)=>{"use strict";var r=n(23710),i=n(83239),a=n(46993),o=n(99015),l=n(14571),u=n(32542),s=n(67272),c=n(8171);s(t,"__esModule",{value:!0}),t.BombModel=void 0;var f=c(n(15375)),d=c(n(17061)),h=c(n(97709)),v=c(n(38191)),p=c(n(52305)),y=n(74227),g=n(11263),m=n(42717),_=n(43776);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){(0,h.default)(c,e);var t,n,s=(t=c,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,p.default)(t);if(n){var a=(0,p.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,v.default)(this,e)});function c(e){var t;return(0,f.default)(this,c),(t=s.call(this)).initCom(e),t}return(0,d.default)(c,[{key:"initCom",value:function(e){var t=new _.SkillCoreCom(e);this.addCom(t),this.skill_core=t}},{key:"init",value:function(){this.skill_core.init()}},{key:"active",value:function(e){var t,n=e.num,r=e.fish_list,s=e.pos,c=e.used_time,f=e.is_bomb_fish,d=this.skill_core,h=d.player,v=function(e,t){var n=void 0!==o&&l(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return k(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}(r);try{for(v.s();!(t=v.n()).done;){var p=t.value,y=p.eid,_=p.win,b=p.drop,w=(0,g.getFishById)(y);w?(0,m.playerCaptureFish)(h,w,{win:_,drop:b}):h.updateInfo({bullet_num:h.bullet_num+_})}}catch(e){v.e(e)}finally{v.f()}d.activeEvent(s),f&&d.active({num:n,used_time:c})}},{key:"reset",value:function(){this.skill_core.reset()}},{key:"disable",value:function(){this.skill_core.disable()}}]),c}(y.ComponentManager);t.BombModel=b},33302:(e,t,n)=>{"use strict";var r=n(23710),i=n(67272),a=n(8171);i(t,"__esModule",{value:!0}),t.FreezeModel=void 0;var o=a(n(15375)),l=a(n(17061)),u=a(n(97709)),s=a(n(38191)),c=a(n(52305)),f=n(74227),d=n(11263),h=n(43776);var v=function(e){(0,u.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,c.default)(t);if(n){var a=(0,c.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,s.default)(this,e)});function a(e){var t;return(0,o.default)(this,a),(t=i.call(this)).initCom(e),t}return(0,l.default)(a,[{key:"initCom",value:function(e){var t=new h.SkillCoreCom(e);this.addCom(t),this.skill_core=t}},{key:"init",value:function(){this.skill_core.init()}},{key:"reset",value:function(){this.skill_core.reset()}},{key:"active",value:function(e){var t=this.skill_core,n=e.used_time,r=e.fish_list,i=e.duration;d.modelState.app.game.freezing_com.freezing(i-n,r),t.active(e)}},{key:"disable",value:function(){this.skill_core.disable()}}]),a}(f.ComponentManager);t.FreezeModel=v},69718:(e,t,n)=>{"use strict";var r=n(23710),i=n(83239),a=n(46993),o=n(99015),l=n(14571),u=n(32542),s=n(67272),c=n(8171);s(t,"__esModule",{value:!0}),t.LockFishModel=t.GunLockFishEvent=void 0;var f=c(n(24142)),d=c(n(15375)),h=c(n(17061)),v=c(n(89395)),p=c(n(45408)),y=c(n(97709)),g=c(n(38191)),m=c(n(52305)),_=c(n(4918)),k=c(n(2220)),b=c(n(78953)),w=c(n(60855)),S=c(n(81302)),x=n(74227),C=n(30260),I=c(n(86116)),E=n(3828),M=n(11263),A=n(55161),B=n(37577),L=n(83091),T=n(43776);function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N={StartLock:"start_lock",StopLock:"stop_lock"};t.GunLockFishEvent=N;var O=function(e){(0,y.default)(c,e);var t,n,s=(t=c,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,m.default)(t);if(n){var a=(0,m.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,g.default)(this,e)});function c(e){var t;return(0,d.default)(this,c),(t=s.call(this)).bullet_list=new b.default,t.onLockMove=function(){var e=(0,v.default)(t),n=e.gun,r=e.fish,i=e.skill_core;if(null==r?void 0:r.visible){var a=r.pos,o=a.x,l=a.y,u=n.pos,s=u.x,c=u.y;n.setDirection(new I.default.Vector(o-s,l-c)),i.player.need_emit&&((0,M.detectInScreen)(r.pos)||(t.unLock(),t.tipLock()))}},t.unLock=function(){var e=(0,v.default)(t),n=e.fish,r=e.gun,s=e.bullet_list;if(n&&r){var c,d=r.player,h=0,p=function(e,t){var n=void 0!==o&&l(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return P(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}(s);try{for(p.s();!(c=p.n()).done;){var y=(0,f.default)(c.value,2)[1];h+=y.bullet_cost,r.removeBullet(y),y.destroy()}}catch(e){p.e(e)}finally{p.f()}d.updateInfo({bullet_num:d.bullet_num+h}),s.clear(),r.event.emit(N.StopLock),r.setStatus(L.GunStatus.Normal),r.lock_fish=void 0,r.event.offAllCaller((0,v.default)(t)),n.event.offAllCaller((0,v.default)(t)),t.fish=null}},t.initCom(e),t}return(0,h.default)(c,[{key:"init",value:function(){var e=this,t=this.timeout,n=this.skill_core,r=this.init_info,i=r.lock_fish,a=r.lock_left,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(0,_.default)(t).call(t,r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof k.default){var i=0;for(r=(0,k.default)(e);i<r.length;i++)(0,_.default)(t).call(t,r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(r,["lock_fish","lock_left"]);a?t.createTimeout((function(){e.active((0,w.default)((0,w.default)({},o),{fish:i,duration:a+o.used_time,needActive:!0}))})):n.init(),this.gun=this.skill_core.player.gun}},{key:"reset",value:function(){this.skill_core.reset()}},{key:"initCom",value:function(e){var t=new T.SkillCoreCom(e),n=new C.TimeoutCom;this.addCom(t,n),this.skill_core=t,this.timeout=n,this.init_info=e}},{key:"active",value:function(e){var t=this,n=this.skill_core,r=e.fish,i=e.needActive;if(n.status===T.SkillStatus.Active||i){i&&n.active(e,(function(e){e===T.SkillStatus.Disable&&((0,A.log)("test:>lockFish:>disable"),t.unLock())}));var a=(0,M.getFishById)(r);if(!a)return(0,A.error)("cant find fish for eid=".concat(r));this.lock(a)}}},{key:"tipLock",value:function(){var e=this.gun,t=this.skill_core,n=(0,M.getAimFish)();n&&(0,A.log)("test:>tipLock",n,n.destroyed),t.activeEvent({fish:n,is_tip:!0,gun_pos:e.pos})}},{key:"lock",value:function(e){var t=this.gun,n=this.skill_core;this.unLock(),this.bindLockFish(e),n.activeEvent({fish:e,is_tip:!1,gun_pos:t.pos})}},{key:"bindLockFish",value:function(e){var t=this,n=this.gun,r=(this.skill_core,n.event),i=e.event;this.fish=e,n.lock_fish=e,this.onLockMove(),i.on(E.FishEvent.Move,this.onLockMove,this),i.on(E.FishEvent.Destroy,(function(){t.unLock(),(0,S.default)((function(){t.tipLock()}))}),this),n.setStatus(L.GunStatus.LockFish),n.preAddBullet(n.direction,!0),r.on(L.GunEvent.SwitchOn,(function(){n.preAddBullet(n.direction,!0)}),this);var a=0;r.on(L.GunEvent.AddBullet,(function(e){if(e.lock){var n=e.bullet_group,r=a+"";a++,t.bullet_list.set(r,n),n.event.on(B.BulletGroupEvent.Destroy,(function(){t.bullet_list.delete(r)}),t)}}),this)}},{key:"disable",value:function(){this.skill_core.disable()}},{key:"destroy",value:function(){var e,t=this.fish;null===(e=null==t?void 0:t.event)||void 0===e||e.offAllCaller(this),this.unLock(),this.fish=void 0,this.skill_core=void 0,this.gun=void 0,(0,p.default)((0,m.default)(c.prototype),"destroy",this).call(this)}}]),c}(x.ComponentManager);t.LockFishModel=O},43776:(e,t,n)=>{"use strict";var r=n(23710),i=n(67272),a=n(8171);i(t,"__esModule",{value:!0}),t.SkillStatus=t.SkillEvent=t.SkillCoreCom=void 0;var o,l=a(n(60855)),u=a(n(15375)),s=a(n(17061)),c=a(n(89395)),f=a(n(45408)),d=a(n(97709)),h=a(n(38191)),v=a(n(52305)),p=n(74227),y=n(38182),g=n(45359),m=n(55161),_=n(77513);t.SkillStatus=o,function(e){e.Normal="normal",e.PreActive="pre_active",e.Disable="disable",e.Active="active"}(o||(t.SkillStatus=o={}));var k={UpdateInfo:"update_info",StatusChange:"status_change",UpdateRadio:"update_radio",ActiveSkill:"active_skill",DisableSkill:"disable_skill",Destroy:"destroy"};t.SkillEvent=k;var b=function(e){(0,d.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,v.default)(t);if(n){var a=(0,v.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,h.default)(this,e)});function a(e){var t;return(0,u.default)(this,a),(t=i.call(this)).cool_time=10,t.used_time=0,t.status=o.Normal,(0,_.setProps)((0,c.default)(t),(0,l.default)({},e)),t.initCom(),t}return(0,s.default)(a,[{key:"initCom",value:function(){var e=new y.EventCom;this.addCom(e),this.event=e}},{key:"init",value:function(){var e=this.used_time,t=this.num;e&&(this.active({used_time:e,num:t}),(0,_.setProps)(this,{used_time:0})),this.event.emit(k.UpdateInfo)}},{key:"setNum",value:function(e){this.num=e,this.event.emit(k.UpdateInfo)}},{key:"setStatus",value:function(e){this.status!==e&&(this.status=e,this.event.emit(k.StatusChange,e))}},{key:"activeEvent",value:function(e){this.event.emit(k.ActiveSkill,e)}},{key:"active",value:function(e,t){var n=this;if(this.status===o.Active)return!1;var r=this.cool_time,i=this.event,a=e.used_time,l=e.num,u=e.duration||a,s=r-a,c=u-a;c>s&&(c=s),this.setNum(l),this.setStatus(o.Active),this.count_index=(0,g.startCount)(s,.05,(function(e){var a=(1-e)*s,l=e*(s/r);i.emit(k.UpdateRadio,l),a>=c&&n.status!==o.Disable&&(n.disable(),(0,_.callFunc)(t,n.status)),0===l&&(n.reset(),(0,_.callFunc)(t,n.status))}))}},{key:"reset",value:function(){this.status!==o.Active&&((0,m.debug)("SkillCoreCom:>reset:>"),this.setStatus(o.Normal),(0,g.clearCount)(this.count_index))}},{key:"disable",value:function(){this.setStatus(o.Disable)}},{key:"destroy",value:function(){this.event.emit(k.Destroy),this.setStatus(o.Normal),(0,g.clearCount)(this.count_index),(0,f.default)((0,v.default)(a.prototype),"destroy",this).call(this)}}]),a}(p.ComponentManager);t.SkillCoreCom=b},6053:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.SkillCtorMap=void 0;var a,o=i(n(67513)),l=n(37026),u=n(34085),s=n(36065),c=n(33302),f=n(69718),d=(a={},(0,o.default)(a,l.SkillMap.Freezing,c.FreezeModel),(0,o.default)(a,l.SkillMap.Bomb,s.BombModel),(0,o.default)(a,l.SkillMap.LockFish,f.LockFishModel),(0,o.default)(a,l.SkillMap.Auto,u.AutoShootModel),a);t.SkillCtorMap=d},37440:(e,t,n)=>{"use strict";n(67272)(t,"__esModule",{value:!0}),t.ModelEvent=void 0,t.ModelEvent={Destroy:"destroy"}},11263:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.detectInScreen=w,t.getAimFish=function(){var e,t=b.app.game,n=(0,p.default)((0,c.default)(e=t.getAllFish()).call(e));return n=(0,f.default)(n).call(n,(function(e){return e.visible&&w(e.pos)})),(n=(0,d.default)(n).call(n,(function(e,t){return t.score-e.score})))[0]},t.getCollisionAllFish=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=b.app.game.getAllFish(),i=_(r);try{for(i.s();!(t=i.n()).done;){var a=(0,v.default)(t.value,2),o=a[1];if(-1===(0,h.default)(n).call(n,o)){var l=o.body,u=o.visible;u&&(0,m.detectCollision)(e,l)&&n.push(o)}}}catch(e){i.e(e)}finally{i.f()}return n},t.getCollisionFish=function(e){var t,n=_(b.app.game.getAllFish());try{for(n.s();!(t=n.n()).done;){var r=(0,v.default)(t.value,2)[1],i=r.body;if((0,m.detectCollision)(e,i))return r}}catch(e){n.e(e)}finally{n.f()}},t.getCurPlayer=function(){return b.app.game.getCurPlayer()},t.getCurUserId=function(){return b.app.user_info.user_id},t.getFishById=function(e){return b.app.game.getFishById(e)},t.getGameCurrency=function(){return b.app.game.currency},t.getPlayerById=function(e){return b.app.game.getPlayerById(e)},t.getUserInfo=function(){return b.app.user_info},t.isCurUser=function(e){return e===b.app.user_info.user_id},t.modelState=void 0;var c=s(n(72663)),f=s(n(26312)),d=s(n(14538)),h=s(n(4918)),v=s(n(24142)),p=s(n(21003)),y=n(24629),g=n(37026),m=n(34970);function _(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return k(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?k(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b={};function w(e){var t=y.Laya.stage.width,n=(g.Config.PoolWidth-t)/2,r=n+t,i=e.x;return i>n&&i<r}t.modelState=b},18657:(e,t,n)=>{"use strict";var r=n(23710),i=n(67272),a=n(8171);i(t,"__esModule",{value:!0}),t.SettingModel=t.SettingEvent=void 0;var o=a(n(24142)),l=a(n(15375)),u=a(n(17061)),s=a(n(97709)),c=a(n(38191)),f=a(n(52305)),d=n(74227),h=n(38182),v=n(54375);var p={VoiceChange:"voice_change",MusicChange:"music_change"};t.SettingEvent=p;var y=function(e){(0,s.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,f.default)(t);if(n){var a=(0,f.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,c.default)(this,e)});function a(){var e;return(0,l.default)(this,a),(e=i.call(this)).addCom(new h.EventCom),e}return(0,u.default)(a,[{key:"initUserInfo",value:function(e){var t=e.userId,n=(0,v.getAudio)(t),r=(0,o.default)(n,2),i=r[0],a=r[1];this.voice=i,this.music=a}},{key:"event",get:function(){return this.getCom(h.EventCom)}},{key:"setVoice",value:function(e){e!==this.voice&&(this.voice=e,(0,v.setVoice)(e),this.event.emit(p.VoiceChange,e))}},{key:"setMusic",value:function(e){e!==this.music&&(this.music=e,(0,v.setMusic)(e),this.event.emit(p.MusicChange,e))}}]),a}(d.ComponentManager);t.SettingModel=y},87759:(e,t,n)=>{"use strict";var r=n(23710),i=n(67272),a=n(8171);i(t,"__esModule",{value:!0}),t.UserInfoModel=t.UserInfoEvent=void 0;var o=a(n(78953)),l=a(n(15375)),u=a(n(17061)),s=a(n(97709)),c=a(n(38191)),f=a(n(52305)),d=n(74227),h=n(38182),v=n(37026),p=n(36620),y=n(54375);var g={CurBalanceChange:"cur_balance_change",LangChange:"lang_change",AccountChange:"account_change",NicknameChange:"nick_name_change"};t.UserInfoEvent=g;var m=function(e){(0,s.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,f.default)(t);if(n){var a=(0,f.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,c.default)(this,e)});function a(){var e;return(0,l.default)(this,a),(e=i.call(this)).account_map=new o.default,e}return(0,u.default)(a,[{key:"init",value:function(){var e=v.Config.lang;this.setLang(e)}},{key:"initUserInfo",value:function(e){var t=e.userId,n=e.showName,r=e.balances;this.setUserId(t),this.setNickname(n),this.setAccount(r)}},{key:"event",get:function(){var e=this.getCom(h.EventCom);return e||(e=new h.EventCom,this.addCom(e)),e}},{key:"setCurBalance",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,y.setCacheBalance)(e,null===(t=this.account_map.get(e))||void 0===t?void 0:t.num),(e!==this.cur_balance||n)&&(this.cur_balance=e,this.event.emit(g.CurBalanceChange,e))}},{key:"setLang",value:function(e){e!==this.lang&&(this.lang=e,(0,p.setItem)("local_lang",e),this.event.emit(g.LangChange,e))}},{key:"setUserId",value:function(e){this.user_id=e}},{key:"setNickname",value:function(e){this.nickname=e,this.event.emit(g.NicknameChange,this.nickname)}},{key:"setAccount",value:function(e){var t;for(var n in e)if(e.hasOwnProperty(n)){t||(t=n);var r=e[n],i=r.balance,a=r.imageUrl,o=r.hide;this.account_map.set(n,{num:Number(i),icon:a,hide:o})}this.event.emit(g.AccountChange,this.account_map);var l=(0,y.getCacheCurrency)(this.account_map);this.setCurBalance(l||t,!0)}}]),a}(d.ComponentManager);t.UserInfoModel=m},54375:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.getAudio=function(e){var t=(0,c.getItem)("".concat(e,":voice")),n=(0,c.getItem)("".concat(e,":music")),r=n?Number(n):.5,i=t?Number(t):.5;return o.AudioCtrl.setVoice(i),o.AudioCtrl.setMusic(r),[i,r]},t.getCacheCurrency=function(e){var t=paladin.getCurrency();return t&&e.get(t)?t:e.size?(0,a.default)(e)[0]:void 0},t.getCurrencyIcon=function(e){var t;return null===(t=(0,s.getUserInfo)().account_map.get(e))||void 0===t?void 0:t.icon},t.setCacheBalance=function(e,t){if(void 0!==e){paladin.account.currency({name:e,balance:t});var n=(0,s.getCurUserId)();return(0,c.setItem)("".concat(n,":balance"),e)}},t.setMusic=function(e){var t=(0,s.getCurUserId)();o.AudioCtrl.setMusic(e),(0,c.setItem)("".concat(t,":music"),e+"")},t.setVoice=function(e){var t=(0,s.getCurUserId)();o.AudioCtrl.setVoice(e),(0,c.setItem)("".concat(t,":voice"),e+"")},t.tipPlatformCurrency=function(e){var t=(0,l.getLang)();e!==paladin.getCurrency()&&f.default.tip(u.InternationalTip[t].platformDiffCurrencyEnterGameErr)};var a=i(n(74354)),o=n(80356),l=n(58465),u=n(89970),s=n(11263),c=n(36620),f=i(n(10535))},47638:(e,t,n)=>{"use strict";var r=n(8171)(n(71939));Math.log2=r.default||function(e){return Math.log(e)*Math.LOG2E}},84228:(e,t,n)=>{"use strict";var r=n(23710),i=n(67272),a=n(8171);i(t,"__esModule",{value:!0}),t.ui=void 0;var o=a(n(15375)),l=a(n(17061)),u=a(n(45408)),s=a(n(97709)),c=a(n(38191)),f=a(n(52305)),d=n(28294),h=n(23835),v=n(96530),p=n(93408),y=n(33879),g=n(75055),m=n(78362),_=n(44476),k=n(81870),b=n(58336),w=n(37564),S=n(22825),x=n(79698),C=n(75485),I=n(51931),E=n(57768);function M(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;n=r(i,arguments,a)}else n=i.apply(this,arguments);return(0,c.default)(this,n)}}var A,B=h.ClassUtils.regClass;t.ui=A,function(e){var t;(function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[v.Label,p.Box,y.Button,g.Dialog,m.Sprite,_.Image],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/alert/alert")}}]),n}(g.Dialog);e.alertUI=t,B("ui.pop.alert.alertUI",t);var n=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[v.Label,_.Image,y.Button,g.Dialog,p.Box,m.Sprite],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/alert/buyBullet")}}]),n}(g.Dialog);e.buyBulletUI=n,B("ui.pop.alert.buyBulletUI",n);var r=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,_.Image,v.Label,g.Dialog],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/alert/tip")}}]),n}(g.Dialog);e.tipUI=r,B("ui.pop.alert.tipUI",r);var i=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[_.Image,v.Label,g.Dialog],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/alert/topTip")}}]),n}(g.Dialog);e.topTipUI=i,B("ui.pop.alert.topTipUI",i);var a=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[v.Label,k.Text,g.Dialog,p.Box,m.Sprite,_.Image,y.Button],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/alert/voice")}}]),n}(g.Dialog);e.voiceUI=a,B("ui.pop.alert.voiceUI",a);var c=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,b.ProgressBar,y.Button],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/alert/voiceProgress")}}]),n}(d.Scene);e.voiceProgressUI=c,B("ui.pop.alert.voiceProgressUI",c)})((t=e.pop||(e.pop={})).alert||(t.alert={}))}(A||(t.ui=A={})),function(e){var t;(function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,y.Button,v.Label,g.Dialog],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/guide/GuideDialog")}}]),n}(g.Dialog);e.GuideDialogUI=t,B("ui.pop.guide.GuideDialogUI",t);var n=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[w.Skeleton,m.Sprite],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/guide/GuidePointer")}}]),n}(d.Scene);e.GuidePointerUI=n,B("ui.pop.guide.GuidePointerUI",n);var r=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[S.HTMLDivElement,x.View,_.Image],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/guide/GuidePrompt")}}]),n}(x.View);e.GuidePromptUI=r,B("ui.pop.guide.GuidePromptUI",r)})((t=e.pop||(e.pop={})).guide||(t.guide={}))}(A||(t.ui=A={})),function(e){var t;(function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,v.Label,C.List,g.Dialog,_.Image,y.Button,m.Sprite,I.Tab,E.ViewStack],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/help/help")}}]),n}(g.Dialog);e.helpUI=t,B("ui.pop.help.helpUI",t);var n=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[_.Image,v.Label,x.View],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/help/helpItem")}}]),n}(x.View);e.helpItemUI=n,B("ui.pop.help.helpItemUI",n);var r=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,_.Image,v.Label,x.View,m.Sprite],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/help/skillItem")}}]),n}(x.View);e.skillItemUI=r,B("ui.pop.help.skillItemUI",r)})((t=e.pop||(e.pop={})).help||(t.help={}))}(A||(t.ui=A={})),function(e){var t;(function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[w.Skeleton,_.Image,x.View,p.Box,m.Sprite],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.createView(n.uiView)}}]),n}(x.View);t.uiView={type:"View",props:{width:119,height:119},compId:2,child:[{type:"Box",props:{y:-1,x:-1},compId:18,child:[{type:"SkeletonPlayer",props:{y:59,x:58,visible:!1,var:"light",url:"image/pop/lottery/exchange_circle_light.sk",runtime:"Laya.Skeleton"},compId:15},{type:"Image",props:{y:0,x:-3,width:128,skin:"image/pop/lottery/lottery_item_bg.png",height:128},compId:16,child:[{type:"Sprite",props:{y:-16,x:-16,texture:"image/pop/lottery/lottery_item_light.png"},compId:17}]},{type:"Image",props:{y:60,x:60,width:140,var:"light_circle",skin:"image/pop/lottery/light_circle.png",scaleY:1.1,scaleX:1.1,pivotY:70,pivotX:70,height:140,alpha:.8},compId:21},{type:"SkeletonPlayer",props:{y:61,x:60,width:1,visible:!1,var:"box_ani",url:"image/pop/lottery/box.sk",height:100,runtime:"Laya.Skeleton"},compId:22},{type:"Image",props:{y:25,x:22,var:"box_img",skin:"image/pop/lottery/box_normal.png"},compId:26}]}],loadList:["image/pop/lottery/exchange_circle_light.sk","image/pop/lottery/lottery_item_bg.png","image/pop/lottery/lottery_item_light.png","image/pop/lottery/light_circle.png","image/pop/lottery/box.sk","image/pop/lottery/box_normal.png"],loadList3D:[]},e.itemUI=t,B("ui.pop.lottery.itemUI",t);var n=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[y.Button,v.Label,_.Image,m.Sprite,p.Box],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.createView(n.uiView)}}]),n}(d.Scene);n.uiView={type:"Scene",props:{width:211,height:253},compId:2,child:[{type:"Image",props:{y:0,x:3.5,skin:"image/pop/lottery/lottery_item2_bg.png",sizeGrid:"42,60,37,53"},compId:17,child:[{type:"SkeletonPlayer",props:{y:127,x:101,url:"image/pop/lottery/exchange_item_light.sk",runtime:"Laya.Skeleton"},compId:13},{type:"Image",props:{y:144,x:1,width:202,skin:"image/pop/lottery/lottery_item2_banner.png",sizeGrid:"0,127,0,31",height:28},compId:19}]},{type:"Sprite",props:{y:20,x:49,texture:"image/pop/lottery/lottery_item2_nbg.png"},compId:4},{type:"Button",props:{y:177,x:37,var:"btn_buy",stateNum:1,skin:"image/pop/lottery/btn_lottery_bug.png"},compId:5,child:[{type:"Label",props:{y:12,x:65,width:53,var:"price_label",text:"500",height:24,fontSize:24,color:"#174c7d",bold:!0,align:"right"},compId:7},{type:"Image",props:{y:8.5,x:22,width:45,var:"price_tag",skin:"image/pop/lottery/tag_bg.png",height:33},compId:12,child:[{type:"Image",props:{y:4,x:12,width:22,var:"coin_icon",skin:"image/pop/lottery/tag_coin_bg.png",height:22},compId:21}]}]},{type:"Label",props:{y:145,width:156,var:"remain_label",valign:"middle",text:"剩余10/20",strokeColor:"#621615",stroke:2,height:22,fontSize:18,color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:8},{type:"Box",props:{y:44,width:183,height:80,centerX:1},compId:18,child:[{type:"Label",props:{y:15,x:-33,width:145,var:"num_label",valign:"middle",text:"1000",strokeColor:"#692315",stroke:2,pivotY:15,pivotX:73,height:30,fontSize:36,font:"lottery",color:"#f4e090",centerX:0,bold:!0,align:"center"},compId:10},{type:"Label",props:{y:69,x:0,width:155,var:"item_type",valign:"middle",text:"BTC",strokeColor:"#692315",stroke:2,pivotY:30,pivotX:73,height:30,fontSize:36,font:"alphabet",color:"#f4e090",centerX:0,bold:!0,align:"center"},compId:22}]}],loadList:["image/pop/lottery/lottery_item2_bg.png","image/pop/lottery/exchange_item_light.sk","image/pop/lottery/lottery_item2_banner.png","image/pop/lottery/lottery_item2_nbg.png","image/pop/lottery/btn_lottery_bug.png","image/pop/lottery/tag_bg.png","image/pop/lottery/tag_coin_bg.png"],loadList3D:[]},e.item2UI=n,B("ui.pop.lottery.item2UI",n);var r=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[y.Button,v.Label,_.Image,m.Sprite,p.Box],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.createView(n.uiView)}}]),n}(d.Scene);r.uiView={type:"Scene",props:{width:182,height:253},compId:2,child:[{type:"Image",props:{y:0,x:2,width:182,skin:"image/pop/lottery/lottery_item2_bg.png",sizeGrid:"42,60,37,53",height:253},compId:17,child:[{type:"SkeletonPlayer",props:{y:126.5,x:87.5,url:"image/pop/lottery/exchange_item_light.sk",runtime:"Laya.Skeleton"},compId:13},{type:"Image",props:{y:144,x:1,width:173,skin:"image/pop/lottery/lottery_item2_banner.png",sizeGrid:"0,127,0,31",height:28},compId:19}]},{type:"Sprite",props:{y:22,x:33,texture:"image/pop/lottery/lottery_item2_nbg.png"},compId:4},{type:"Button",props:{y:178,x:22,var:"btn_buy",stateNum:1,skin:"image/pop/lottery/btn_lottery_bug.png"},compId:5,child:[{type:"Label",props:{y:12,x:65,width:51,var:"price_label",text:"500",height:24,fontSize:24,color:"#174c7d",bold:!0,align:"right"},compId:7},{type:"Image",props:{y:8.5,x:22,width:45,var:"price_tag",skin:"image/pop/lottery/tag_bg.png",height:33},compId:12,child:[{type:"Image",props:{y:5,x:13.5,width:20,var:"coin_icon",skin:"image/pop/lottery/tag_coin_bg.png",height:20},compId:21}]}]},{type:"Label",props:{y:145,width:156,var:"remain_label",valign:"middle",text:"剩余10/20",strokeColor:"#621615",stroke:2,height:22,fontSize:18,color:"#ffffff",centerX:4,bold:!0,align:"center"},compId:8},{type:"Box",props:{y:45,width:183,height:80,centerX:-1},compId:18,child:[{type:"Label",props:{y:15,x:-33,width:145,var:"num_label",valign:"middle",text:"1000",strokeColor:"#692315",stroke:2,pivotY:15,pivotX:73,height:30,fontSize:36,font:"lottery",color:"#f4e090",centerX:0,bold:!0,align:"center"},compId:10},{type:"Label",props:{y:69,x:0,width:155,var:"item_type",valign:"middle",text:"BTC",strokeColor:"#692315",stroke:2,pivotY:30,pivotX:73,height:30,fontSize:36,font:"alphabet",color:"#f4e090",centerX:0,bold:!0,align:"center"},compId:23}]}],loadList:["image/pop/lottery/lottery_item2_bg.png","image/pop/lottery/exchange_item_light.sk","image/pop/lottery/lottery_item2_banner.png","image/pop/lottery/lottery_item2_nbg.png","image/pop/lottery/btn_lottery_bug.png","image/pop/lottery/tag_bg.png","image/pop/lottery/tag_coin_bg.png"],loadList3D:[]},e.item2fiveUI=r,B("ui.pop.lottery.item2fiveUI",r);var i=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[v.Label,y.Button,_.Image,m.Sprite,p.Box],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.createView(n.uiView)}}]),n}(d.Scene);i.uiView={type:"Scene",props:{width:877,height:230},compId:2,child:[{type:"Image",props:{y:0,x:0,width:877,skin:"image/pop/lottery/lottery_item2_bg.png",sizeGrid:"23,76,31,60",height:240},compId:17},{type:"Sprite",props:{y:3,x:66,texture:"image/pop/lottery/money_bg.png"},compId:19,child:[{type:"SkeletonPlayer",props:{y:156,x:165,url:"image/pop/lottery/exchange_item_light.sk",scaleY:-1,runtime:"Laya.Skeleton"},compId:24},{type:"SkeletonPlayer",props:{y:86,x:165,url:"image/pop/lottery/exchange_item_light.sk",runtime:"Laya.Skeleton"},compId:13},{type:"Sprite",props:{y:58,x:109,texture:"image/pop/lottery/lottery_item2_nbg.png"},compId:4},{type:"Box",props:{y:81,width:210,height:71,centerX:-1},compId:18,child:[{type:"Label",props:{y:15,x:-33,width:145,var:"num_label",valign:"middle",text:"1000",strokeColor:"#692315",stroke:2,pivotY:15,pivotX:73,height:30,fontSize:36,font:"lottery",color:"#f4e090",centerX:0,bold:!0,align:"center"},compId:10},{type:"Label",props:{y:69,x:0,width:155,var:"item_type",valign:"middle",text:"BTC",strokeColor:"#692315",stroke:2,pivotY:30,pivotX:73,height:30,fontSize:36,font:"alphabet",color:"#f4e090",centerX:0,bold:!0,align:"center"},compId:26}]}]},{type:"Box",props:{y:59,x:391,width:475,height:133},compId:25,child:[{type:"Button",props:{y:74,x:168,var:"btn_buy",stateNum:1,skin:"image/pop/lottery/btn_lottery_bug.png"},compId:5,child:[{type:"Label",props:{y:12,x:65,width:51,var:"price_label",text:"500",height:24,fontSize:24,color:"#174c7d",bold:!0,align:"right"},compId:7},{type:"Image",props:{y:7.5,x:22,width:45,var:"price_tag",skin:"image/pop/lottery/tag_bg.png",height:33},compId:22,child:[{type:"Image",props:{y:5,x:13.5,width:20,var:"coin_icon",skin:"image/pop/lottery/tag_coin_bg.png",height:20},compId:23}]}]},{type:"Image",props:{y:0,x:97,width:280,skin:"image/pop/lottery/remain_bg.png",sizeGrid:"10,21,10,23",height:43},compId:21,child:[{type:"Label",props:{y:10,x:7,width:266,var:"remain_label",valign:"middle",text:"剩余: 10/20",height:22,fontSize:24,color:"#fdf3cf",bold:!0,align:"center"},compId:8}]}]}],loadList:["image/pop/lottery/lottery_item2_bg.png","image/pop/lottery/money_bg.png","image/pop/lottery/exchange_item_light.sk","image/pop/lottery/lottery_item2_nbg.png","image/pop/lottery/btn_lottery_bug.png","image/pop/lottery/tag_bg.png","image/pop/lottery/tag_coin_bg.png","image/pop/lottery/remain_bg.png"],loadList3D:[]},e.item2oneUI=i,B("ui.pop.lottery.item2oneUI",i);var a=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[y.Button,v.Label,_.Image,m.Sprite,p.Box],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/lottery/item2two")}}]),n}(d.Scene);e.item2twoUI=a,B("ui.pop.lottery.item2twoUI",a);var c=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,_.Image,C.List,y.Button,v.Label,b.ProgressBar,g.Dialog,m.Sprite],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/lottery/lottery")}}]),n}(g.Dialog);e.lotteryUI=c,B("ui.pop.lottery.lotteryUI",c);var h=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[m.Sprite,v.Label,S.HTMLDivElement,y.Button,g.Dialog],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/lottery/reward")}}]),n}(g.Dialog);e.rewardUI=h,B("ui.pop.lottery.rewardUI",h)})((t=e.pop||(e.pop={})).lottery||(t.lottery={}))}(A||(t.ui=A={})),function(e){var t;(function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[C.List,x.View,_.Image,m.Sprite,p.Box,v.Label],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/record/coinMenu")}}]),n}(x.View);e.coinMenuUI=t,B("ui.pop.record.coinMenuUI",t);var n=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[C.List,x.View,_.Image,m.Sprite,p.Box,v.Label],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/record/dateMenu")}}]),n}(x.View);e.dateMenuUI=n,B("ui.pop.record.dateMenuUI",n);var r=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,v.Label,C.List,y.Button,m.Sprite,g.Dialog,_.Image],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/record/gameRecord")}}]),n}(g.Dialog);e.gameRecordUI=r,B("ui.pop.record.gameRecordUI",r);var i=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[C.List,x.View,_.Image,m.Sprite,p.Box,v.Label],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/record/itemMenu")}}]),n}(x.View);e.itemMenuUI=i,B("ui.pop.record.itemMenuUI",i);var a=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,v.Label,C.List,y.Button,m.Sprite,g.Dialog,_.Image],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/record/itemRecord")}}]),n}(g.Dialog);e.itemRecordUI=a,B("ui.pop.record.itemRecordUI",a);var c=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[v.Label,_.Image,m.Sprite],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/record/selectCoinBox")}}]),n}(d.Scene);e.selectCoinBoxUI=c,B("ui.pop.record.selectCoinBoxUI",c);var h=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[v.Label,m.Sprite],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/record/selectItemBox")}}]),n}(d.Scene);e.selectItemBoxUI=h,B("ui.pop.record.selectItemBoxUI",h)})((t=e.pop||(e.pop={})).record||(t.record={}))}(A||(t.ui=A={})),function(e){var t;(function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,_.Image,C.List,v.Label,g.Dialog,m.Sprite,y.Button],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/shop/shop")}}]),n}(g.Dialog);e.shopUI=t,B("ui.pop.shop.shopUI",t);var n=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[m.Sprite,_.Image,v.Label,E.ViewStack,y.Button,p.Box],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/shop/shopGunItem")}}]),n}(d.Scene);e.shopGunItemUI=n,B("ui.pop.shop.shopGunItemUI",n);var r=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[m.Sprite,_.Image,v.Label,y.Button],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("pop/shop/shopItemItem")}}]),n}(d.Scene);e.shopItemItemUI=r,B("ui.pop.shop.shopItemItemUI",r)})((t=e.pop||(e.pop={})).shop||(t.shop={}))}(A||(t.ui=A={})),function(e){var t;(function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,_.Image,w.Skeleton,y.Button,v.Label,S.HTMLDivElement],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/game/game")}}]),n}(d.Scene);e.gameUI=t,B("ui.scenes.game.gameUI",t);var n=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,w.Skeleton,_.Image,v.Label,y.Button,x.View],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.createView(n.uiView)}}]),n}(x.View);n.uiView={type:"View",props:{y:111,x:111,width:223,runtime:"view/scenes/game/gunBoxView.ts",mouseThrough:!0,mouseEnabled:!0,height:223,anchorY:.5,anchorX:.5},compId:2,child:[{type:"Box",props:{y:114,x:111,width:149,var:"ani_box",pivotY:77.5,pivotX:74,height:149},compId:7,child:[{type:"Box",props:{y:77.5,x:74,width:59,var:"gun_box",height:45},compId:8,child:[{type:"SkeletonPlayer",props:{var:"base",url:"ani/gun/base11.sk",runtime:"Laya.Skeleton"},compId:9},{type:"SkeletonPlayer",props:{var:"gun",url:"ani/gun/gun11.sk",runtime:"Laya.Skeleton"},compId:10},{type:"SkeletonPlayer",props:{y:0,x:0,var:"light",url:"ani/gun/light11.sk",runtime:"Laya.Skeleton"},compId:11},{type:"SkeletonPlayer",props:{y:0,x:0,var:"body",url:"ani/gun/light11.sk",runtime:"Laya.Skeleton"},compId:18}]}]},{type:"Box",props:{y:142,x:110,width:177,var:"ctrl_wrap",height:51,anchorY:.5,anchorX:.5},compId:22,child:[{type:"Image",props:{y:26,x:88,width:120,var:"score_box",skin:"image/game/time_bg.png",sizeGrid:"0,20,0,22",height:48,anchorY:.5,anchorX:.5},compId:13,child:[{type:"Label",props:{y:2,x:0,width:120,var:"score_label",valign:"middle",text:"100",height:44,font:"score_num",align:"center"},compId:14}]},{type:"Box",props:{y:0,x:0,visible:!1,var:"ctrl_box"},compId:23,child:[{type:"Button",props:{y:0,x:121,var:"btn_add",stateNum:1,skin:"image/game/btn_add.png"},compId:15},{type:"Button",props:{y:0,x:9,var:"btn_minus",stateNum:1,skin:"image/game/btn_minus.png",left:9},compId:16}]}]}],loadList:["ani/gun/base11.sk","ani/gun/gun11.sk","ani/gun/light11.sk","image/game/time_bg.png","image/game/btn_add.png","image/game/btn_minus.png"],loadList3D:[]},e.gunBoxUI=n,B("ui.scenes.game.gunBoxUI",n);var r=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[m.Sprite,p.Box,_.Image,w.Skeleton,x.View],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/game/skillBox")}}]),n}(x.View);e.skillBoxUI=r,B("ui.scenes.game.skillBoxUI",r);var i=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[_.Image,m.Sprite,v.Label,w.Skeleton,x.View],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.createView(n.uiView)}}]),n}(x.View);i.uiView={type:"View",props:{width:94,runtime:"view/scenes/game/skillItemView.ts",mouseThrough:!1,mouseEnabled:!0,height:96},compId:2,child:[{type:"Sprite",props:{y:48,x:47,width:94,texture:"image/game/skill_bg.png",pivotY:48,pivotX:47,height:96},compId:3},{type:"Image",props:{y:7,x:8,width:80,var:"skill_icon",skin:"image/game/skill_aim.png",height:80},compId:7},{type:"Sprite",props:{y:8,x:8,width:81,var:"overlay",texture:"image/game/skill_overlay.png",height:79},compId:6},{type:"Label",props:{y:59,x:8,width:78,var:"num_label",valign:"middle",text:"0",strokeColor:"#000",stroke:3,height:28,fontSize:24,color:"#ffffff",bold:!0,align:"right"},compId:5},{type:"SkeletonPlayer",props:{y:48,x:49,width:100,visible:!1,var:"border_light",url:"ani/other/skill_border_light.sk",height:100,runtime:"Laya.Skeleton"},compId:8},{type:"Label",props:{y:8,x:9,width:78,visible:!1,var:"shortcut_label",valign:"middle",text:"0",strokeColor:"#000",stroke:3,height:28,fontSize:24,color:"#ffffff",bold:!0,align:"left"},compId:9}],loadList:["image/game/skill_bg.png","image/game/skill_aim.png","image/game/skill_overlay.png","ani/other/skill_border_light.sk"],loadList3D:[]},e.skillItemUI=i,B("ui.scenes.game.skillItemUI",i)})((t=e.scenes||(e.scenes={})).game||(t.game={}))}(A||(t.ui=A={})),function(e){var t;(function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[_.Image,C.List,x.View,m.Sprite,p.Box,v.Label],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/hall/coinMenu")}}]),n}(x.View);e.coinMenuUI=t,B("ui.scenes.hall.coinMenuUI",t);var n=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[_.Image,C.List,x.View,m.Sprite,p.Box],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/hall/flagMenu")}}]),n}(x.View);e.flagMenuUI=n,B("ui.scenes.hall.flagMenuUI",n);var r=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[m.Sprite,p.Box,v.Label,w.Skeleton],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/hall/hall")}}]),n}(d.Scene);e.hallUI=r,B("ui.scenes.hall.hallUI",r);var i=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[p.Box,v.Label,y.Button,_.Image,x.View,m.Sprite],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/hall/header")}}]),n}(x.View);e.headerUI=i,B("ui.scenes.hall.headerUI",i)})((t=e.scenes||(e.scenes={})).hall||(t.hall={}))}(A||(t.ui=A={})),function(e){!function(e){var t=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[b.ProgressBar,g.Dialog,m.Sprite,p.Box],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/loading")}}]),n}(g.Dialog);e.loadingUI=t,B("ui.scenes.loadingUI",t);var n=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).referenceClass=[],e}return(0,l.default)(n,[{key:"createChildren",value:function(){(0,u.default)((0,f.default)(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/test")}}]),n}(d.Scene);e.testUI=n,B("ui.scenes.testUI",n)}(e.scenes||(e.scenes={}))}(A||(t.ui=A={}))},90564:(e,t,n)=>{"use strict";var r=n(66890),i=n(83239),a=n(46993),o=n(99015),l=n(14571),u=n(32542),s=n(43693),c=n(67272),f=n(82530),d=n(8171);c(t,"__esModule",{value:!0}),t.blink=function(e,t){A({sprite:e,props_arr:[{alpha:1},{alpha:.3}],time:t||300})},t.completeAni=T,t.countDown=function(e,t,n,r){return B({callback:r,caller:e,end_props:{x:0},start_props:{x:t},step:t+1,step_fun:function(e){n(Math.floor(e.x))},time:1e3*t})},t.fade_in=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return I(this,void 0,void 0,v.default.mark((function i(){var a,o;return v.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,T(e);case 2:return a={alpha:0,visible:!0},t=t||700,n=n||"circleOut",o={alpha:r},i.abrupt("return",E({ease_fn:n,end_props:o,sprite:e,start_props:a,time:t}));case 7:case"end":return i.stop()}}),i)})))},t.fade_out=function(e,t,n){return I(this,void 0,void 0,v.default.mark((function r(){var i;return v.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,T(e);case 2:return t=t||700,n=n||"circleOut",i={alpha:0},r.abrupt("return",E({ease_fn:n,end_props:i,sprite:e,time:t}).then((function(){e.destroyed||(e.visible=!1,e.alpha=1)})));case 6:case"end":return r.stop()}}),r)})))},t.move=function(e,t,n,r,i){return I(this,void 0,void 0,v.default.mark((function a(){return v.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,T(e);case 2:return M(e,t),a.abrupt("return",E({sprite:e,end_props:n,time:r,ease_fn:i}));case 4:case"end":return a.stop()}}),a)})))},t.rotate=function(e,t,n,r){var i=Number(e.rotation);return i!=i&&(e.rotation=0),E({sprite:e,end_props:{rotation:t},time:n,ease_fn:r})},t.scale_in=function(e,t,n){return I(this,void 0,void 0,v.default.mark((function r(){var i,a;return v.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,T(e);case 2:return n=n||"circleIn",t=t||400,i={alpha:.2,scaleX:.2,scaleY:.2,visible:!0},a={alpha:1,scaleX:1,scaleY:1},r.abrupt("return",E({sprite:e,start_props:i,end_props:a,time:t,ease_fn:n}));case 7:case"end":return r.stop()}}),r)})))},t.scale_out=function(e,t,n){return I(this,void 0,void 0,v.default.mark((function r(){var i;return v.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,T(e);case 2:return n=n||"circleIn",t=t||400,i={alpha:.2,scaleX:.2,scaleY:.2},r.abrupt("return",E({sprite:e,end_props:i,time:t,ease_fn:n}).then((function(){e.destroyed||M(e,{visible:!1,scaleX:1,scaleY:1,alpha:1})})));case 6:case"end":return r.stop()}}),r)})))},t.setStyle=M,t.sleep=function(e){return new p.default((function(t,n){(0,y.default)((function(){t(e)}),1e3*e)}))},t.slide_down_in=function(e,t,n,r){return I(this,void 0,void 0,v.default.mark((function i(){var a,o,l,u;return v.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r||(a=e.getBounds().height,r=a>50?50:a),i.next=3,T(e);case 3:return n=n||"circleOut",t=t||200,M(e,{alpha:.2,visible:!0}),o=e.y,l={y:o-r},u={alpha:1,y:o},i.next=11,E({sprite:e,start_props:l,end_props:u,time:t,ease_fn:n});case 11:case"end":return i.stop()}}),i)})))},t.slide_down_out=function(e,t,n,r){var i=this;return new p.default((function(a,o){return I(i,void 0,void 0,v.default.mark((function i(){var o;return v.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r||(o=e.getBounds().height,r=o>50?50:o),i.next=3,T(e);case 3:(0,y.default)((function(){n=n||"circleIn",t=t||200;var i=e.y;return E({sprite:e,end_props:{alpha:0,y:i+r},time:t,ease_fn:n}).then((function(){e.destroyed||(M(e,{visible:!1,alpha:1,y:i}),a())}))}));case 4:case"end":return i.stop()}}),i)})))}))},t.slide_left_in=function(e,t,n,r){return I(this,void 0,void 0,v.default.mark((function i(){var a,o,l,u;return v.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r||(a=e.getBounds().width,r=a>50?50:a),i.next=3,T(e);case 3:return n=n||"easeIn",t=t||200,M(e,{alpha:.2,visible:!0}),o=e.x,l={x:o+r},u={alpha:1,x:o},i.abrupt("return",E({sprite:e,start_props:l,end_props:u,time:t,ease_fn:n}));case 10:case"end":return i.stop()}}),i)})))},t.slide_left_out=function(e,t,n,r){return I(this,void 0,void 0,v.default.mark((function i(){var a,o,l;return v.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r||(a=e.getBounds().width,r=a>50?50:a),i.next=3,T(e);case 3:return n=n||"circleIn",t=t||200,o=e.x,l={alpha:0,x:o+r},i.abrupt("return",E({sprite:e,end_props:l,time:t,ease_fn:n}).then((function(){e.destroyed||(e.visible=!1,e.alpha=1,e.x=o)})));case 8:case"end":return i.stop()}}),i)})))},t.slide_right_in=function(e,t,n,r){return I(this,void 0,void 0,v.default.mark((function i(){var a,o,l,u;return v.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r||(a=e.getBounds().width,r=a>50?50:a),i.next=3,T(e);case 3:return n=n||"circleOut",t=t||200,M(e,{alpha:.2,visible:!0}),o=e.x,l={x:o-r},u={alpha:1,x:o},i.abrupt("return",E({sprite:e,start_props:l,end_props:u,time:t,ease_fn:n}));case 10:case"end":return i.stop()}}),i)})))},t.slide_right_out=function(e,t,n,r){return I(this,void 0,void 0,v.default.mark((function i(){var a,o,l;return v.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r||(a=e.getBounds().width,r=a>50?50:a),i.next=3,T(e);case 3:return n=n||"circleIn",t=t||200,o=e.x,l={alpha:0,x:o-r},i.abrupt("return",E({sprite:e,end_props:l,time:t,ease_fn:n}).then((function(){e.destroyed||(e.visible=!1,e.alpha=1,e.x=o)})));case 8:case"end":return i.stop()}}),i)})))},t.slide_up_in=function(e,t,n,r){return I(this,void 0,void 0,v.default.mark((function i(){var a,o,l,u;return v.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r||(a=e.getBounds().height,r=a>50?50:a),i.next=3,T(e);case 3:return n=n||"circleOut",t=t||200,M(e,{alpha:.2,visible:!0}),o=e.y,l={y:o+r},u={alpha:1,y:o},i.abrupt("return",E({sprite:e,start_props:l,end_props:u,time:t,ease_fn:n}));case 10:case"end":return i.stop()}}),i)})))},t.slide_up_out=function(e,t,n,r){return I(this,void 0,void 0,v.default.mark((function i(){var a,o,l;return v.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r||(a=e.getBounds().height,r=a>50?50:a),i.next=3,T(e);case 3:return n=n||"circleIn",t=t||200,o=e.y,l={alpha:1,y:o-r},i.next=9,E({sprite:e,end_props:l,time:t,ease_fn:n}).then((function(){e.destroyed||M(e,{visible:!1,alpha:1,y:o})}));case 9:case"end":return i.stop()}}),i)})))},t.stepAni=function(e){var t,n=e.props_arr,r=e.time,i=void 0===r?300:r,a=e.loop,o=void 0===a||a,l=e.step_fn,u=n.length,s=!1;return function(){I(this,void 0,void 0,v.default.mark((function e(){var r,a,c;return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=v.default.mark((function e(r){return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=3;break}return a=r,e.abrupt("return",{v:void 0});case 3:return e.next=5,new p.default((function(e,a){t=(0,y.default)((function(){l(n[r]),e()}),i)}));case 5:o&&r>=u-1&&(r=-1),a=r;case 7:case"end":return e.stop()}}),e)})),a=0;case 2:if(!(a<u)){e.next=10;break}return e.delegateYield(r(a),"t0",4);case 4:if(c=e.t0,"object"!==(0,h.default)(c)){e.next=7;break}return e.abrupt("return",c.v);case 7:a++,e.next=2;break;case 10:case"end":return e.stop()}}),e)})))}(),function(){clearTimeout(t),s=!0}},t.stopAni=L,t.tween=E,t.tweenLoop=A,t.tweenProps=void 0;var h=d(n(66890)),v=d(n(66329)),p=d(n(25937)),y=d(n(81302)),g=d(n(53774)),m=d(n(2057)),_=n(45840),k=n(41107),b=n(84221),w=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var i={},a=c&&f;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?f(e,o):null;l&&(l.get||l.set)?c(i,o,l):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(n(99310));function S(e){if("function"!=typeof s)return null;var t=new s,n=new s;return(S=function(e){return e?n:t})(e)}function x(e,t){var n=void 0!==o&&l(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return C(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=function(e,t,n,r){return new(n||(n=p.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))};function E(e){var t=this;return new p.default((function(n,r){return I(t,void 0,void 0,v.default.mark((function t(){var i,a,o,l,u,s,c;return v.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.sprite,a=e.start_props,o=e.end_props,!i.destroyed){t.next=3;break}return t.abrupt("return",r());case 3:return t.next=5,T(i);case 5:if(l=e.ease_fn,u=e.time,s=new b.Tween,"string"==typeof(l=l||_.Ease.linearNone)&&(l=_.Ease[l]),M(i,a),0!==u&&!i.is_stop){t.next=15;break}return M(i,o),n(),t.abrupt("return");case 15:for(c in u=u||300,o)i[c]===o[c]&&delete o[c];(0,g.default)(o).length||n(),i.tween=s.to(i,o,u,l,k.Handler.create(i,(function(){i.destroyed?r():n()})));case 19:case"end":return t.stop()}}),t)})))}))}function M(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function A(e){var t=e.sprite,n=e.props_arr,r=e.time,i=e.ease_fn,a=e.is_jump,o=e.end_jump,l=e.step_fn,u=n.length,s=0,c=0;L(t),function e(){if(!t.destroyed){if(a)!function(e,t,n){new p.default((function(r,i){(0,y.default)((function(){M(e,t),r()}),n)}))}(t,n[s],r);else{var f=s+1;f>=u&&(o?(s=0,f=1):f=0);var d=n[s],h=n[f];E({ease_fn:i,end_props:h,sprite:t,start_props:d,time:r}).then((function(){l(c),(0,y.default)(e,0)}))}s++,c++,s>=u&&(s=0)}}()}var B=function(){var e=[];function t(e,t,n){return e+(t-e)*n}function n(t,n){for(var r=e.length-1;r>=0;r--){var i=e[r].caller,a=e[r].off,o=e[r].callback;i===t&&(n&&o&&"function"==typeof o&&o(),a&&"function"==typeof a&&a(),(0,m.default)(e).call(e,r,1))}}return function(r){var i,a=r.callback,o=r.caller,l=r.start_props,u=r.end_props,s=r.time,c=r.time_fun,f=r.step_fun,d=r.step,h=d?s/d:1e3/60,v=s/h;if("string"==typeof c&&(i=_.Ease[c]),i||(i=_.Ease.linearNone),n(o,!0),!l){l={};for(var p=0,y=(0,g.default)(u);p<y.length;p++){var m=y[p];l[m]=o[m]||0}}for(var k=[],b=0,S=(0,g.default)(u);b<S.length;b++){var C=S[b];l[C]!==u[C]&&k.push(C)}if(0!==k.length){var I=w.loop(M,h);e.push({callback:a,caller:o,off:I,step_fun:f});var E=0;return M(1),function(e){n(o,e)}}function M(e){if(o.destroyed||o.is_stop)return n(o);if(E>=v)return n(o,!0);var r={},a=E/v;if(c||(a=i(a,0,1,1)),E>=v){var s,d=x(k);try{for(d.s();!(s=d.n()).done;){var h=s.value;r[h]=u[h]}}catch(e){d.e(e)}finally{d.f()}}else{var p,y=x(k);try{for(y.s();!(p=y.n()).done;){var g=p.value;r[g]=t(l[g],u[g],a)}}catch(e){y.e(e)}finally{y.f()}}if("function"==typeof f)f(r,e);else for(var m in r)r.hasOwnProperty(m)&&(r[m]=t(l[m],u[m],a));E+=e}a&&"function"==typeof a&&a()}}();function L(e){if(e)return"function"==typeof e?e():e.time_out?clearTimeout(e.time_out):void(e.tween&&(e.tween.complete(),e.tween.clear()))}function T(e){return new p.default((function(t,n){e&&(e.tween&&(e.tween.complete(),e.tween.clear(),e.tween=void 0),(0,y.default)((function(){t()})))}))}t.tweenProps=B},44517:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.asyncOnly=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new o.default((function(r,i){var a=c.get(e);if(!a){var o=t();n||(o=o.then((function(t){return c.delete(e),t})).catch((function(t){throw c.delete(e),t}))),a={wait:o,reject:i,resolve:r},c.set(e,a)}a.wait.then((function(e){r(e)})).catch((function(e){i(e)}))}))},t.asyncQue=function(e,t){return new o.default((function(n,r){var i=u.get(e);i||(i={is_running:!1,que:[]},u.set(e,i));var a,o,l=i,c=l.que,f=l.is_running;o={async_fn:t,resolve:n,reject:r},(a=c).length?a[a.length-1]=o:a.push(o),f||s(e)}))},t.clearAsyncOnly=function(e){var t=c.get(e);t&&(0,l.default)((function(){var n=t.reject;c.delete(e),n("Async Only be rejected")}))},t.clearAsyncQue=function(e){var t=u.get(e),n=t.que.length;t&&(0!==n&&(0,t.que[n-1].resolve)(!0),t.que=[],t.is_running=!1)};var a=i(n(78953)),o=i(n(25937)),l=i(n(81302)),u=new a.default;function s(e){var t=u.get(e),n=t.que;if(n.length){t.is_running=!0;var r=n.shift();r.async_fn().then((function(){r.resolve(0===n.length),s(e)})).catch((function(){r.reject(0===n.length),s(e)}))}else t.is_running=!1}var c=new a.default},51720:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.BgMonitorEvent=t.BgMonitor=void 0;var a=i(n(37101)),o=i(n(15375)),l=i(n(17061)),u=n(38182),s=n(24629),c={VisibleChange:"VisibleChange"};t.BgMonitorEvent=c;var f=function(){function e(){var t=this;(0,o.default)(this,e),this.event=new u.EventCom,this.visibilityChange=function(){var e=document.visibilityState;"hidden"===e&&t.emitEvent(!1),"visible"===e&&t.emitEvent(!0)},this.init()}return(0,l.default)(e,[{key:"init",value:function(){var e=this;if(null===document||void 0===document?void 0:document.visibilityState)return document.addEventListener("visibilitychange",this.visibilityChange);var t=s.Laya.Browser,n=t.now();if(t.onAndroid){var r=0;this.interval=(0,a.default)((function(){var i=t.now();i-n>1e3&&(r>1?(clearInterval(e.interval),e.emitEvent(!1)):r+=1),n=i}),300)}else this.interval=(0,a.default)((function(){var r=t.now();r-n>1e3&&(clearInterval(e.interval),e.emitEvent(!1)),n=r}),300)}},{key:"emitEvent",value:function(e){this.event.emit(c.VisibleChange,e)}}]),e}();t.BgMonitor=f},45359:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.clearCount=s,t.startCount=function(e,t,n){var r=l++,i=e/t,a=0,c=function(e){if((a+=e)>=i)return n(0),s(r);n((i-a)/i)};return(0,o.loop)(c,1e3*t,null),n(1),u.set(r,(function(){(0,o.clear)(c,null)})),r};var a=i(n(78953)),o=n(99310),l=0,u=new a.default;function s(e){u.get(e)&&(u.get(e)(),u.delete(e),u.size)}},64467:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.createGunBox=function(e){var t=new v.Box,n=new v.Box;t.size(149,149),n.pos(74,77),t.addChild(n);var r=(0,h.createSkeleton)("ani/gun/gun".concat(e,"/base")),i=(0,h.createSkeleton)("ani/gun/gun".concat(e,"/light")),a=(0,h.createSkeleton)("ani/gun/gun".concat(e,"/gun"));n.addChildren(r,i,a)},t.createSprite=function(e,t){var n,r=w(e,t),i=r.type,a=r.path,o=r.pivot||{x:0,y:0};if("DragonBone"===i)n=(0,h.createSkeleton)(a);else if("Frame"===i)n=(0,h.createAnimation)(a);else if(n=(0,h.createImg)(a),!o.x&&!o.y){var l=n.getBounds();o={x:l.width/2,y:l.height/2}}return n.pivot(o.x,o.y),n},t.getBulletStartPos=function(e,t,n){var r,i=p.Coordinates.bullet_offset[n],a=[],o=t.clone().normalize().scale(30,30),l=t.clone().normalize().rotate(Math.PI/2),u=k(i);try{for(u.s();!(r=u.n()).done;){var s=r.value,c=l.clone().scale(s,s),f=e,h=p.Coordinates.gun_global_pos[f],v=p.Coordinates.guns_inside_pos.origin_point,y=p.Coordinates.guns_inside_pos.start_point,g=void 0,m=void 0;f<=1?(g=y.x-v.x,m=y.y-v.y):(g=v.x-y.x,m=v.y-y.y);var b,w=new d.default.Vector(g,m);b=f<=1?(0,_.vectorToAngle)(t)+Math.PI/2:(0,_.vectorToAngle)(t)-Math.PI/2,w=w.rotate(b),g=h.x+w.x+c.x+o.x,m=h.y+w.y+c.y+o.y,a.push({x:g,y:m})}}catch(e){u.e(e)}finally{u.f()}return a},t.getGunInfo=function(e){return{pos:p.Coordinates.gun_global_pos[e]}},t.getGunLevelSkinInfo=function(e){for(var t=y.GunInfo.LevelUp,n=y.GunInfo.HoleNum,r=0;r<t.length;r++){if(e<t[r])return{level_skin:"".concat(r+1),hole_num:n[r]}}return{level_skin:"".concat(3),hole_num:n[2]}},t.getGunSkinMap=function(e,t){var n,r=m.SPRITE.gun[e],i=new c.default,a=k(r);try{for(a.s();!(n=a.n()).done;){var o,l=n.value;"body"===l&&"5"===e?i.set(l,"".concat(e)):i.set(l,(0,f.default)(o="".concat(e)).call(o,t))}}catch(e){a.e(e)}finally{a.f()}return i},t.getShadowInfo=function(e){return p.Coordinates.shadowPos[e]||p.Coordinates.shadowPos.default},t.getShapeInfo=function(e,t){var n=g.SHAPE[e][t]||g.SHAPE[e][1]||g.SHAPE[e];return n.as&&(n=m.SPRITE[e][n.as]),n},t.getSpriteInfo=w,t.isBombFish=function(e){return"9"===e.type};var c=s(n(78953)),f=s(n(67357)),d=s(n(86116)),h=n(6893),v=n(93408),p=n(70555),y=n(46665),g=n(70430),m=n(53531),_=n(54049);function k(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return b(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?b(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){var n=m.SPRITE[e][t];return n.as&&(n=m.SPRITE[e][n.as]),n}},93774:(e,t,n)=>{"use strict";var r=n(66890),i=n(43693),a=n(67272),o=n(82530),l=n(8171);a(t,"__esModule",{value:!0}),t.Displace=void 0;var u=l(n(74779)),s=l(n(15375)),c=l(n(17061)),f=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var i={},l=a&&o;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=l?o(e,u):null;s&&(s.get||s.set)?a(i,u,s):i[u]=e[u]}return i.default=e,n&&n.set(e,i),i}(n(86116)),d=n(42146);function h(e){if("function"!=typeof i)return null;var t=new i,n=new i;return(h=function(e){return e?n:t})(e)}var v=function(){function e(t,n,r,i){(0,s.default)(this,e),this.curve_list=[],this.cur_curve_info={},this.is_reverse=!1,this.total_frame=(0,d.timeToFrame)(t),this.used_frame=(0,d.timeToFrame)(n),this.curve_list=r,this.is_reverse=i}return(0,c.default)(e,[{key:"update",value:function(e){var t=this.is_reverse,n=(this.used_frame=this.used_frame+e)/this.total_frame,r=!1;if(this.radio=n,n<=0)return{visible:!1};if(n>=1)return{is_complete:r=!0};t&&(n=1-n);var i=this.getPointAtRadio(n),a=i.position,o=i.direction;return t&&(o=(0,u.default)(o).call(o)),{visible:!0,pos:a,velocity:o,is_complete:r}}},{key:"getPointAtRadio",value:function(e){var t=this.calcCurCurveInfo(e),n=t.curve,r=t.radio_in_curve,i=t.index,a=n.curve.get(r),o=n.curve.derivative(r);if(n.curve.is_static){var l,u,s=this.curve_list;i-1>=0?(l=s[i-1].curve,u=1):(l=s[i+1].curve,u=0),o=l.derivative(u)}return{position:a,direction:new f.Vector(o.x,o.y)}}},{key:"calcCurCurveInfo",value:function(e){var t=this.cur_curve_info,n=this.curve_list,r=this.is_reverse,i=t.end_radio,a=t.start_radio,o=0;if(!r&&i&&e<i||r&&a&&e>a)return o=(e-a)/(i-a),t.radio_in_curve=o,t;for(var l,u,s=0,c=0;c<n.length;c++)if(!(e>(u=n[c]).radio)){0===(s=c)?(l=0,o=e/u.radio):o=(e-(l=n[c-1].radio))/(u.radio-l);break}return t.radio_in_curve=o,t.index=s,t.start_radio=l,t.end_radio=u.radio,t.curve=u,t}}]),e}();t.Displace=v},42146:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.calcFixLen=k,t.calcNormalLen=_,t.createBezier=x,t.createCurvesByFun=w,t.createCurvesByPath=b,t.createFishDisplace=function(e){var t,n=e.fishId,r=e.displaceType,i=e.pathNo,o=e.pathList,l=e.usedTime,u=e.totalTime,c=(0,a.default)(e),h=e.funList,v=e.displaceLen;if("path"===r){var p;if(i?p=s.PATH[i]:o&&(p=o),!p)return void(0,f.error)("cant find path for no:".concat(i));t=b(p,n)}else t=w(h,n,v);return new d.Displace(u/1e3,l/1e3,t,c)},t.createLine=C,t.createOffsetLine=S,t.createSpace=m,t.getLineOutPoint=g,t.stage_width=t.stage_height=void 0,t.timeToFrame=function(e){return Math.ceil(60*e)};var a=i(n(74779)),o=i(n(63180)),l=i(n(86116)),u=i(n(11369)),s=n(47291),c=n(64467),f=n(55161),d=n(93774),h=n(71447),v=n(47589),p=u.default.width;t.stage_width=p;var y=u.default.height;function g(e,t){var n,r,i=0;(r=i-e.x)*t.x<0&&(r=(i=u.default.width)-e.x);var a,o,l,s=i*i+(n=r*t.y/t.x+e.y)*n;return(l=o-e.y)*t.y<0&&(l=(o=u.default.height)-e.y),s<(a=l*t.x/t.y+e.x)*a+o*o?{x:i,y:n}:{x:a,y:o}}function m(e,t,n,r){var i,o,u=(0,c.getSpriteInfo)("fish",r),s=u.ani_type;if(u.offset&&"horizon_turn"===s){var f=k(t,r);i=f.fish_len,o=f.derivative}else i=_(e,r),o=new l.default.Vector(n.x,n.y).normalize(),"before"===e&&(o=(0,a.default)(o).call(o));var d=o.scale(i,i),h={x:t.x+d.x,y:t.y+d.y};return{curve:"before"===e?new v.Line(h,t):new v.Line(t,h),length:i}}function _(e,t){var n=(0,c.getSpriteInfo)("fish",t).offset;return n||(0,f.error)("can't find fish sprite offset"),"before"===e?n[0]:n[2]}function k(e,t){var n,r,i=(0,c.getSpriteInfo)("fish",t);return e.y<=0?(n=Math.max(i.offset[0],i.offset[2]),r=new l.default.Vector(0,-1)):e.x>=p?(n=Math.max(i.offset[1],i.offset[3]),r=new l.default.Vector(1,0)):e.y>=y?(n=Math.max(i.offset[0],i.offset[2]),r=new l.default.Vector(0,1)):(n=Math.max(i.offset[1],i.offset[3]),r=new l.default.Vector(-1,0)),{fish_len:n,derivative:r}}function b(e,t){for(var n=[],r=0,i=0;i<e.length;i++){var a=void 0,o=void 0,l=e[i];if(l.length>=6)o=(a=x(l)).curve;else{if(4!==l.length)continue;o=(a=C(l)).curve}if(n.push(a),0===i){var u=m("before",o.get(0),o.derivative(0),t);n.unshift(u),r+=u.length}if(i===e.length-1){var s=m("after",o.get(1),o.derivative(1),t);n.push(s),r+=s.length}r+=a.length}for(var c=0,f=0,d=n;f<d.length;f++){var h=d[f];c+=h.length,h.radio=c/r}return n}function w(e,t,n){for(var r=0,i=[],a=0;a<e.length;a++){var o={},l=e[a],u=l.funNo,s=l.params,c=l.no_enter_leave,f=l.no_enter_leave,d=l.radio,v=h.FUNCTION[u].apply(this,s);o.curve=v;var p=n*d;if(p||"function"!=typeof v.length||(p=v.length(1)),o.length=p||1,r+=o.length,i.push(o),0===a&&!c){var y=m("before",v.get(0),v.derivative(0),t);i.unshift(y),r+=y.length}if(a===e.length-1){if(f){var g=S(o,"after");i.push(g),r+=g.length,v=g.curve}var _=m("after",v.get(1),v.derivative(1),t);i.push(_),r+=_.length}}for(var k=0,b=0,w=i;b<w.length;b++){var x=w[b];k+=x.length,x.radio=k/r}return i}function S(e,t){var n=0;"after"===t&&(n=1);var r=e.curve.get(n),i=e.curve.derivative(n),o=new l.default.Vector(i.x,i.y);"before"===t&&(o=(0,a.default)(o).call(o));var u=g(r,o),s=new v.Line(u,r);return"after"===t&&(s=new v.Line(r,u)),{curve:s,length:s.length(1)}}function x(e){var t=new o.default(e);return{curve:t,length:t.length()}}function C(e){var t={x:e[0],y:e[1]},n={x:e[2],y:e[3]},r=new v.Line(t,n);return{curve:r,length:r.length(1)}}t.stage_height=y},71447:(e,t,n)=>{"use strict";n(67272)(t,"__esModule",{value:!0}),t.FUNCTION=void 0;var r=n(47589),i={1:function(e,t,n,r,i){var a=i[1]-i[0],o=1;return a<0&&(o=-1),{get:function(o){return{x:o=i[0]+o*a,y:e*Math.sin(r+t*o)+n}},derivative:function(n){return n=i[0]+n*a,{x:o,y:o*e*t*Math.cos(r+t*n)}}}},2:function(e,t,n){var r=n[1]-n[0],i=r>0?1:-1,a=Math.abs(r)*t,o={x:e.x-i*t,y:750},l=750-e.y,u=e.y,s=l+a+u,c=[0,l/s,(l+a)/s,1];return{get:function(i){for(var a=0,s=0;s<c.length&&!(i<c[s]);s++)a=s;return i=(i-c[a])/(c[a+1]-c[a]),0===a?{x:o.x,y:750-i*l}:1===a?(i=i*r+n[0],{x:e.x+Math.cos(i)*t,y:e.y+Math.sin(i)*t}):{x:o.x,y:u*(1-i)}},derivative:function(e){for(var t=0,a=0;a<c.length&&!(e<c[a]);a++)t=a;return e=(e-c[t])/(c[t+1]-c[t]),1!==t?{x:0,y:-1}:(e=e*r+n[0],{x:i*Math.cos(Math.PI/2+e),y:i*Math.sin(Math.PI/2+e)})}}},3:function(e,t){return new r.Line(e,t)},4:function(e,t,n){var r=n[1]-n[0],i=r>0?1:-1,a=667+e,o=375+t,l=187.5;return{get:function(e){return e=n[0]+e*r,{x:333.5*Math.cos(e)+a,y:l*Math.sin(e)+o}},derivative:function(e){return e=n[0]+e*r,{x:333.5*-i*Math.sin(e),y:i*l*Math.cos(e)}},length:function(e){return Math.abs(Math.ceil(e*(2*Math.PI*l+584)*r/(2*Math.PI)))}}}};t.FUNCTION=i},47589:(e,t,n)=>{"use strict";var r=n(66890),i=n(43693),a=n(67272),o=n(82530),l=n(8171);a(t,"__esModule",{value:!0}),t.Line=void 0;var u=l(n(15375)),s=l(n(17061)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var i={},l=a&&o;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=l?o(e,u):null;s&&(s.get||s.set)?a(i,u,s):i[u]=e[u]}return i.default=e,n&&n.set(e,i),i}(n(86116));function f(e){if("function"!=typeof i)return null;var t=new i,n=new i;return(f=function(e){return e?n:t})(e)}var d=function(){function e(t,n){(0,u.default)(this,e),this.is_static=!1,t.x===n.x&&t.y===n.y&&(this.is_static=!0,this.len=0,this.direction=new c.Vector(0,0));var r=t.x,i=t.y,a=n.x,o=n.y-i,l=a-r,s=Math.sqrt(l*l+o*o);this.start_pos=t,this.end_pos=n,this.direction=new c.Vector(l,o).normalize(),this.len=s}return(0,s.default)(e,[{key:"get",value:function(e){var t=e*this.len,n=this.direction.clone().scale(t,t),r=this.start_pos.x,i=this.start_pos.y;return{x:r+n.x,y:i+n.y}}},{key:"derivative",value:function(e){return this.direction}},{key:"length",value:function(e){return this.len}}]),e}();t.Line=d},10659:(e,t,n)=>{"use strict";var r=n(23710),i=n(83239),a=n(46993),o=n(99015),l=n(14571),u=n(32542),s=n(67272),c=n(8171);s(t,"__esModule",{value:!0}),t.KeyBoardNumber=void 0;var f=c(n(4918)),d=c(n(60855)),h=c(n(74354)),v=c(n(77967)),p=c(n(53774)),y=c(n(21003)),g=c(n(89395)),m=c(n(15375)),_=c(n(17061)),k=c(n(45408)),b=c(n(97709)),w=c(n(38191)),S=c(n(52305)),x=n(24629),C=n(78362),I=n(89662),E=n(93408),M=n(44476),A=n(96530),B=n(45840),L=n(84221);function T(e,t){var n=void 0!==o&&l(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return P(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,S.default)(e);if(t){var a=(0,S.default)(this).constructor;n=r(i,arguments,a)}else n=i.apply(this,arguments);return(0,w.default)(this,n)}}var O={confirm:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAWlBMVEUAAADMQkLLQkLLQkL9Y2PLQkLLQkL9Y2PMQkL9Y2PLQkLLQkLdTk75YGD7YmL9Y2P2Xl77YmL9Y2P9Y2P9Y2PLQkL9Y2PLQkL3Xl7cTU3tWFj5YGDoVVXmVFTAQB7jAAAAFnRSTlMA4qyPiltUU9sGBvr59e3cyl/fplYHf9H6ogAAAJVJREFUKM/lzFkOhCAQRdEHCs5TD1WAuv9ttm00xii1Ae/vSS7Wis/7Ree6DHtZRzelm6Z0XyrpUvY/U7S2QNFSvAEDCfXoJW7QkBTooTzK7CR1CBIH1BLXyIX7qKB9nL2G4TmmMxuUiqd7nVh9Acvs3RWdZ7ZYSpjZB3eysCAnwOaXDgVsfsXcAnul0ao6qFLalCv8AOM4RjeBMUEAAAAAAElFTkSuQmCC",delete:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAb1BMVEUAAADLy8ttbGzMzMzMzMxtbGzMzMxtbGzMzMxtbGzMzMxubW3MzMxtbGxtbGyQj4/MzMxtbGxtbGzMzMzMzMzMzMzMzMzMzMzMzMxwb29tbGzMzMxtbGzBwcGtra2NjIy/vr6goKCPjo6kpKSko6Pen5mzAAAAG3RSTlMA/N2piVtVVAYGA+ParPr54ZSKW1Hz5OPf2quDrJY6AAAAqklEQVQoz9XPSQ6DMBBE0TKEeR4yum0Dyf3PGCARLLA76/ztk0oqrMWhfxNy65z7YYytPpeH8v6L6UlaO6Urz+rwRUPpLATiq5svMTrJ1MHn2EfNcQ3BsYBk+2P+8XvgWEFzrFFxXOGumO0MD+NmUyCg0aUjBUgyetn1SVkCRETG8m4wRBHmWiKatBI7CaUnImqxlDZkrUnxKfKO6EXYSoLCK3cqvSJIVngDsvlU0+yaOfMAAAAASUVORK5CYII=",number:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAeFBMVEUAAADGxsa3t7f///////////////////+3t7e3t7fo6Oi3t7fT09P///////+3t7e6urr///+3t7f///+3t7e3t7f///////////////+3t7e3t7f///+3t7fQ0ND29vb19fX7+/v39/fo6Ojh4eHe3t65ubm4uLiqIy5xAAAAHHRSTlMABeKJVQb64VtV/Prp5NvbrqysppSKW1Hz11xTZZ6wfwAAAKVJREFUKM/d00cSgzAQRNEWOefgIIkM97+hMbhwuUBzAP/tq1nMorFlGrlt8aPbPTdMHNURPxXVH2Q6v0xnG6+q8LcaXJkBmKGaQxMVJ6qQUpzCptiGRbEFTva/3FHaoaW4gUexh4DiAEmv1j6BI9UsH2DapNJJY4C7jNc6Li7WSiHbM7ZSlPsMCjHLofn5d5CzKBj2nrE4Fbs4Yk6m+V/ytczZT1+rJlhgr8lBXAAAAABJRU5ErkJggg=="},D=[{text:"1",skin:"number",x:20,y:15},{text:"2",skin:"number",x:280,y:15},{text:"3",skin:"number",x:545,y:15},{text:"4",skin:"number",x:20,y:125},{text:"5",skin:"number",x:280,y:125},{text:"6",skin:"number",x:545,y:125},{text:"7",skin:"number",x:20,y:235},{text:"8",skin:"number",x:280,y:235},{text:"9",skin:"number",x:545,y:235},{text:"0",skin:"number",x:810,y:15},{text:"00",skin:"number",x:810,y:125},{text:".",skin:"number",x:810,y:235},{text:"",skin:"confirm",x:1070,y:15},{text:"",skin:"delete",x:1070,y:235}],F=I.Event.CLICK,U={config:{caller:null,closeOnSide:!0,shadowAlpha:.3,shadowColor:"#000000",nullMsg:"输入的值不能为空",length:11,float:!1,fixed:4,delTxt:"删除",confirmTxt:"确定",input:function(e){},close:function(e,t){}}},G=function(e){(0,b.default)(n,e);var t=N(n);function n(){var e;return(0,m.default)(this,n),(e=t.call(this)).textValue="",e.firstInput=!1,e.init(),e}return(0,_.default)(n,[{key:"destroy",value:function(){x.Laya.stage.off(x.Laya.Event.RESIZE,this,this.onResize),this.keyBoardMask=null,this.keyBoardPanel=null,this.textValue=null,(0,k.default)((0,S.default)(n.prototype),"destroy",this).call(this,!0)}},{key:"init",value:function(){this.size(x.Laya.stage.width,x.Laya.stage.height),this.zOrder=1e3;var e=new V;e.on("input",this,this.onInput),e.on("exit",this,this.onExit);var t=new z;t.on("exit",this,(function(t){e.exit(t)})),this.keyBoardMask=t,this.keyBoardPanel=e,this.addChildren(t,e),x.Laya.stage.on(x.Laya.Event.RESIZE,this,this.onResize)}},{key:"onExit",value:function(e){this.removeSelf(),U.config.close&&U.config.close.call(U.config.caller,e,"confirm"===e?this.textValue+"":null),this.textValue=""}},{key:"onInput",value:function(e){var t=U.config,n=t.delTxt,r=t.confirmTxt,i=t.nullMsg,a=t.input,o=t.float,l=t.fixed,u=t.length;switch(e){case n:var s=this.textValue.split("");s.pop(),this.textValue=s.join(""),this.textValue?this.keyBoardPanel.update(this.textValue,"#ffffff"):this.keyBoardPanel.update(i,"#ff0000"),a&&a.call(U.config.caller,this.textValue);break;case r:this.keyBoardPanel.exit("confirm");break;default:if(this.firstInput&&(this.textValue="",this.firstInput=!1),"."===e){var c;if(!0!==o)return;if(""===this.textValue&&(e="0."),-1!==(0,f.default)(c=this.textValue).call(c,"."))return}if(!0===o){var d=this.textValue.split(".")[1];if(d&&d.length>=l)return}if((this.textValue+e).length>u)return;this.textValue=this.textValue+e,this.textValue=this.textValue.replace(/^0+/,""),a&&a.call(U.config.caller,this.textValue),this.textValue?this.keyBoardPanel.update(this.textValue,"#ffffff"):this.keyBoardPanel.update(i,"#ff0000")}}},{key:"enter",value:function(e,t){var n=this;U.config=(0,d.default)((0,d.default)({},U.config),t),this.textValue=e,this.firstInput=!0,x.Laya.timer.callLater(this,(function(){n.keyBoardMask.update(n.width,n.height,U.config.shadowAlpha,U.config.shadowColor,U.config.closeOnSide),n.keyBoardPanel.enter(n.textValue)})),x.Laya.stage.addChild(this)}},{key:"close",value:function(){this.removeSelf(),this.textValue="",this.keyBoardPanel.exit("force")}},{key:"onResize",value:function(){var e=x.Laya.stage.width,t=x.Laya.stage.height;this.size(e,t),this.keyBoardMask.resize(e,t),this.keyBoardPanel.resize(e,t)}}]),n}(E.Box);t.KeyBoardNumber=G;var z=function(e){(0,b.default)(n,e);var t=N(n);function n(){var e;return(0,m.default)(this,n),(e=t.call(this)).configAlpha=null,e.configColor=null,e.closeOnSide=!1,e.on(F,(0,g.default)(e),(function(){e.closeOnSide&&e.event("exit",["mask",null])})),e}return(0,_.default)(n,[{key:"update",value:function(e,t,n,r,i){this.alpha=this.configAlpha=n,this.configColor=r,this.closeOnSide=i,this.resize(e,t)}},{key:"resize",value:function(e,t){this.size(e,t),this.graphics.clear(),this.graphics.drawRect(0,0,this.width,this.height,this.configColor),this.alpha=this.configAlpha}}]),n}(C.Sprite),R=function(e){(0,b.default)(n,e);var t=N(n);function n(){var e;return(0,m.default)(this,n),(e=t.call(this)).init(),e}return(0,_.default)(n,[{key:"destroy",value:function(){(0,k.default)((0,S.default)(n.prototype),"destroy",this).call(this),this.Mask=null,this.textValue=null,this.originHeight=null}},{key:"init",value:function(){this.originHeight=60;var e=new z;e.update(this.width,this.height,.5,"#000000",!1);var t=new A.Label;t.height=30,t.fontSize=30,t.align="center",this.Mask=e,this.textValue=t,this.addChildren(e,t)}},{key:"update",value:function(e,t){this.textValue.color=t,this.textValue.text=e}},{key:"resize",value:function(e,t){var n=t/1334;this.size(e,this.originHeight*n),this.Mask.resize(this.width,this.height),this.textValue.width=e,this.textValue.bottom=0,this.top=-this.height}}]),n}(E.Box),j=function(e){(0,b.default)(n,e);var t=N(n);function n(e,r){var i;return(0,m.default)(this,n),(i=t.call(this)).init(e,r),i}return(0,_.default)(n,[{key:"destroy",value:function(){(0,k.default)((0,S.default)(n.prototype),"destroy",this).call(this,!0),this.config=null,this.label=null}},{key:"init",value:function(e,t){var n=this;e.width=240,e.height="confirm"===e.skin?210:100,this.config=e,this.skin=O[e.skin],this.sizeGrid="15,15,15,15",this.resize(x.Laya.stage.width,x.Laya.stage.height),this.create(),this.on(F,this,(function(){t(n.config.text)}))}},{key:"create",value:function(){var e=this.config,t=e.text,n=e.skin,r=t;"confirm"===n?r=U.config.confirmTxt:"delete"===n&&(r=U.config.delTxt),this.config.text=r;var i=new A.Label(r);i.color="confirm"===n?"#ffffff":"#1c1c1c",i.font="arial",i.align="center",i.fontSize=40,i.size(this.width,i.fontSize),i.centerY=0,this.label=i,this.addChild(i)}},{key:"enter",value:function(){var e=this.config,t=e.text,n=e.skin,r=t;"confirm"===n?r=U.config.confirmTxt:"delete"===n&&(r=U.config.delTxt),this.config.text=r,this.label.text=r}},{key:"resize",value:function(e,t){var n=e/1334,r=t/1334;this.size(this.config.width*n,this.config.height*r),this.pos(this.config.x*n,this.config.y*r),this.label&&(this.label.width=this.width)}}]),n}(M.Image),V=function(e){(0,b.default)(n,e);var t=N(n);function n(){var e;return(0,m.default)(this,n),(e=t.call(this)).keys=[],e.init(),e}return(0,_.default)(n,[{key:"init",value:function(){var e=x.Laya.stage.height;e=e<750?750:e,this.size(x.Laya.stage.width,e/1334*350),this.bottom=-this.height;var t=new z;t.update(this.width,this.height,.5,"#000000",!1);var n=new R;n.resize(this.width,e),this.inputText=n,this.panelMask=t,this.addChildren(t,n);var r,i=T(D);try{for(i.s();!(r=i.n()).done;){var a,o=r.value;(0,h.default)(this).push(new j(o,(0,v.default)(a=this.onClick).call(a,this)))}}catch(e){i.e(e)}finally{i.f()}this.addChildren.apply(this,(0,y.default)((0,h.default)(this)))}},{key:"onClick",value:function(e){this.event("input",[e])}},{key:"update",value:function(e,t){this.inputText.update(e,t)}},{key:"enter",value:function(e){this.inputText.update(e,"#ffffff"),L.Tween.to(this,{bottom:0},200,B.Ease.cubicOut);var t,n=T((0,h.default)(this));try{for(n.s();!(t=n.n()).done;)t.value.enter()}catch(e){n.e(e)}finally{n.f()}}},{key:"exit",value:function(e){var t=this;"force"!==e?L.Tween.to(this,{bottom:-this.height},150,B.Ease.cubicOut,x.Laya.Handler.create(this,(function(){t.event("exit",[e])}))):this.bottom=-this.height}},{key:"resize",value:function(e,t){var n=(t=t<750?750:t)/1334;this.size(e,350*n),this.panelMask.resize(this.width,this.height),this.inputText.resize(e,t);for(var r=0,i=(0,p.default)((0,h.default)(this));r<i.length;r++){var a=i[r];(0,h.default)(this)[a].resize(e,t)}}}]),n}(E.Box)},63323:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(15375)),o=i(n(17061)),l=n(24629),u=n(89662),s=function(){function e(t,n){(0,a.default)(this,e),this.view=t,this.on_progress=n,this.initEvent()}return(0,o.default)(e,[{key:"initEvent",value:function(){var e=this,t=this.view,n=u.Event.MOUSE_DOWN,r=u.Event.MOUSE_MOVE,i=u.Event.MOUSE_OVER,a=u.Event.MOUSE_OUT,o=u.Event.MOUSE_UP;t.on(n,this,(function(t){e.onClick(t),l.Laya.stage.on(r,e,e.onMouseMove),l.Laya.stage.on(i,e,e.onMouseOut),l.Laya.stage.on(a,e,e.onMouseOut),l.Laya.stage.on(o,e,e.onMouseOut)}))}},{key:"onClick",value:function(e){e.stopPropagation();var t=this.view.box,n=t.width,r=t.getMousePoint().x/n;r>1&&(r=1),r<0&&(r=0),this.setProgress(r)}},{key:"onMouseMove",value:function(e){var t=this.view.box;e.stopPropagation();var n=t.getMousePoint().x/t.width;n>1&&(n=1),n<0&&(n=0),this.setProgress(n)}},{key:"onMouseOut",value:function(e){e.stopPropagation(),l.Laya.stage.offAllCaller(this)}},{key:"setProgress",value:function(e){var t=this.view,n=t.box,r=t.progress_bar,i=t.progress_btn,a=n.width;e!==this.radio&&(this.radio=e,r.value=e,i.x=e*a,e<.1&&(e=0),this.on_progress(e))}},{key:"destroy",value:function(){this.view=void 0,this.on_progress=void 0}}]),e}();t.default=s},44846:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.LayaSlider=void 0;var a=i(n(15375)),o=i(n(17061)),l=n(89662),u=n(98693),s=n(93408),c=n(41107),f=n(84221),d=1/6,h=function(){function e(t,n){(0,a.default)(this,e),this.dom={},this.config={},this.tmp={},this.touch_status="end",this.dom.glr=t,this.initConfig(n),this.init()}return(0,o.default)(e,[{key:"next",value:function(){"end"===this.touch_status&&(this.detectNextShowIndex("right"),this.animateMove())}},{key:"prev",value:function(){"end"===this.touch_status&&(this.detectNextShowIndex("left"),this.animateMove(!1))}},{key:"goto",value:function(e){"end"===this.touch_status&&(this.tmp.next_show_index=e,this.animateMove(!1))}},{key:"initConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config.cur_index=e.origin_index||0,this.config.item_space=e.item_space||10,this.config.animate_time=e.animate_time||500,this.config.pagination=!e.hasOwnProperty("pagination")||e.pagination,e.hasOwnProperty("loop")?this.config.loop=e.loop:this.config.loop=true,this.config.end_call_back=e.end_call_back||null,e.item_width&&(this.config.move_space=e.item_width+this.config.item_space,this.config.move_scope=this.config.move_space*d)}},{key:"init",value:function(){this.initDom(),this.initEvent(),this.config.move_space||(this.config.move_space=this.dom.con.width+this.config.item_space,this.config.move_scope=this.config.move_space*d)}},{key:"initEvent",value:function(){var e=this.dom.list,t=l.Event.MOUSE_DOWN,n=l.Event.MOUSE_MOVE,r=l.Event.MOUSE_UP,i=l.Event.MOUSE_OUT;this.config.pagination&&(this.dom.pagination.selectHandler=c.Handler.create(this,this.paginationHandler,null,!1)),e.on(t,this,this.onTouchStart),e.on(n,this,this.onTouchMove),e.on(r,this,this.onTouchEnd),e.on(i,this,this.onTouchEnd)}},{key:"initDom",value:function(){var e=this.dom.glr;this.dom.con=e.getChildByName("con"),this.dom.list=this.dom.con.getChildByName("list"),this.replaceGlrList(),this.addMask(),this.dom.items=[];for(var t=0;t<this.dom.list.numChildren;t++)this.dom.items.push(this.dom.list.getChildAt(t));var n=this.config.pagination;n&&(this.dom.pagination="boolean"==typeof n?e.getChildByName("pagination"):n)}},{key:"addMask",value:function(){var e=this.dom.con;e.scrollRect=new u.Rectangle(0,0,e.width,e.height)}},{key:"replaceGlrList",value:function(){var e=this.dom,t=e.con,n=e.list,r=new s.Box;r.name="list";for(var i=[],a=0;a<n.numChildren;a++){var o=n.getChildAt(a);o.name="item",o.visible=!0,i.push(o)}for(var l=0;l<i.length;l++)i[l].visible=0===l,r.addChild(i[l]);this.dom.list=r,t.addChild(r),r.space=10,r.cacheAs="none",r.x=n.x,r.y=n.y,t.removeChild(n),n.destroy()}},{key:"paginationHandler",value:function(e,t){if("onEndAnimate"===this.touch_status)return!0;var n;n=this.config.cur_index>e?"left":"right",this.handleMoveEffect(n,e),this.animateMove(t)}},{key:"onTouchStart",value:function(e){var t=this.dom.list;if("onEndAnimate"===this.touch_status)return!0;this.tmp.start_point={x:e.stageX,y:e.stageY},this.tmp.origin_pos={x:t.x},this.touch_status="start"}},{key:"onTouchMove",value:function(e){var t=this.touch_status,n=this.dom.list;if("start"!==t&&"move"!==t)return!0;"start"===t&&(this.touch_status="move"),this.tmp.move_dist={x:e.stageX-this.tmp.start_point.x,y:e.stageY-this.tmp.start_point.y},n.x=this.tmp.origin_pos.x+this.tmp.move_dist.x,this.detectMoveDirection(this.tmp.move_dist.x)}},{key:"detectMoveDirection",value:function(e){var t,n=this.config.loop,r=this.dom.items.length,i=this.config.cur_index;if(e>0)t="left";else{if(!(e<0))return this.tmp.next_show_index=i,!0;t="right"}!n&&(0===i&&"left"===t||i===r-1&&"right"===t)||this.detectNextShowIndex(t)}},{key:"detectNextShowIndex",value:function(e){var t,n=this.config.cur_index,r=this.dom.items.length;(t="left"===e?n-1:n+1)<0?t=r-1:t>=r&&(t=0),this.handleMoveEffect(e,t)}},{key:"handleMoveEffect",value:function(e,t){var n=this.config,r=n.cur_index,i=n.move_space,a=this.dom.items;if(e===this.tmp.move_direction&&t===this.tmp.next_show_index)return!0;this.tmp.move_direction=e,this.tmp.next_show_index=t;for(var o=0;o<a.length;o++)o!==r&&o!==t&&(a[o].x=0,a[o].visible=!1);var l=a[t];l.visible=!0,l.x="left"===e?-i:i}},{key:"onTouchEnd",value:function(){var e,t,n=null===(t=null===(e=this.tmp)||void 0===e?void 0:e.move_dist)||void 0===t?void 0:t.x;return"onEndAnimate"===this.touch_status||("move"===this.touch_status&&n?(n=this.tmp.move_dist.x,Math.abs(n)<this.config.move_scope&&(this.tmp.next_show_index=this.config.cur_index),void 0===this.tmp.next_show_index&&(this.tmp.next_show_index=this.config.cur_index),void this.animateMove()):(this.reset(),!0))}},{key:"animateMove",value:function(e){var t=this.config.end_call_back,n=this.tmp.next_show_index,r=this.config.move_space;this.touch_status="onEndAnimate",this.config.cur_index===n?r=0:(this.config.cur_index=n,"right"===this.tmp.move_direction&&(r=-r));var i=this.dom.list,a={x:r};function o(){this.config.pagination&&(this.dom.pagination.selectedIndex=this.config.cur_index),t&&"function"==typeof t&&t(this.config.cur_index),this.reset()}!1===e?(i.x=r,o.call(this)):f.Tween.to(i,a,this.config.animate_time,null,c.Handler.create(this,o))}},{key:"reset",value:function(){this.resetGlrCon(),this.tmp={},this.touch_status="end"}},{key:"resetGlrCon",value:function(){var e=this.dom,t=e.list,n=e.items,r=this.config.cur_index;t.x=0,n[r].x=0;for(var i=0;i<n.length;i++)i===this.config.cur_index?(n[i].visible=!0,n[i].x=0):n[i].visible=!1}}]),e}();t.LayaSlider=h},4155:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.tween=function(e,t){return new a.default((function(n,r){var i={_val:0,get val(){return this._val},set val(e){this._val=e,t(e)}};u.Tween.to(i,{val:1},e,o.Ease.sineInOut,l.Handler.create(null,(function(){n()})))}))};var a=i(n(25937)),o=n(45840),l=n(41107),u=n(84221)},52782:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.getRectRadiusPath=function(e,t,n,r,i){return[["moveTo",e+i,t],["lineTo",e+n-i,t],["arcTo",e+n,t,e+n,t+i,i],["lineTo",e+n,t+r-i],["arcTo",e+n,t+r,e+n-i,t+r,i],["lineTo",e+i,t+r],["arcTo",e,t+r,e,t+r-i,i],["lineTo",e,t+i],["arcTo",e,t,e+i,t,i],["closePath"]]},t.isClosest=k,t.offMouseMove=function(e){for(var t=m.length-1;t>=0;t--){var n=m[t],r=n.item,i=n.off;r===e&&(i(),(0,f.default)(m).call(m,t,1))}},t.onMouseMove=function(e,t){var n=p.Event.MOUSE_MOVE,r=function(n){var r=e.getMousePoint(),i=r.x,a=r.y;t({x:i,y:a})};e.on(n,e,r),m.push({item:e,off:function(){e.off(n,e,r)}})},t.onNode=function(e,t,n,r){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e3,o=new h.Observable((function(n){var o=function(t){!0!==e.is_disable&&(e.is_disable=!0,(0,c.default)((function(){e&&e.destroyed||(e.is_disable=!1)}),a),n.next(t),i=n,r&&n.complete())};e.on(t,e,o),n.add((function(){e.off(t,e,o)}))}));o.pipe((0,d.throttleTime)(a||1e3)).subscribe((function(t){e&&e.destroyed?i&&i.complete():n(t)}))},t.onStageClick=function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=new h.Observable((function(t){var a=function(e){if(n){var a,o=e.target,l=y(n);try{for(l.s();!(a=l.n()).done;)if(k(o,a.value))return}catch(e){l.e(e)}finally{l.f()}}t.next(e),r=t,i&&t.complete()};v.Laya.stage.on(p.Event.CLICK,e,a),t.add((function(){v.Laya.stage.off(p.Event.CLICK,e,a)}))}));a.subscribe((function(n){e&&e.destroyed?r&&r.complete():t.call(e,n)}))},t.resizeContain=_,t.resizeParent=function(e,t,n){var r=e.parent;_(r,t),n&&r.width<n&&(r.width=n)};var c=s(n(81302)),f=s(n(2057)),d=n(6867),h=n(79520),v=n(24629),p=n(89662);function y(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return g(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?g(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=[];function _(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"horizontal",r=e.numChildren,i=[],a=0,o=0;o<r;o++){var l=e.getChildAt(o);l.visible&&i.push(l)}for(var u=0;u<i.length;u++){var s=i[u];"horizontal"===n?s.x=a:s.y=a,"horizontal"===n?u!==i.length-1?a+=s.width+t:a+=s.width:u!==i.length-1?a+=s.height+t:a+=s.height}"horizontal"===n?e.width=a:e.height=a}function k(e,t){return!!e&&(e===t||k(e.parent,t))}},36620:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.getItem=function(e){var t=localStorage.getItem(e);if(!t)return t;var n=t.split("|"),r=(0,a.default)(n,3),i=r[0],o=r[1],u=r[2];if(!o)return i;var s=Number(o),c=Number(u);return(0,l.default)()-c<s?i:(localStorage.removeItem(e),null)},t.removeItem=function(e){localStorage.removeItem(e)},t.setItem=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n){var r,i,a=24*Number(n)*60*60*1e3;t=(0,o.default)(r=(0,o.default)(i="".concat(t,"|")).call(i,a,"|")).call(r,(0,l.default)())}localStorage.setItem(e,t)};var a=i(n(24142)),o=i(n(67357)),l=i(n(35945))},55161:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.log=t.error=t.debug=void 0;var a=i(n(77967)),o=i(n(91728)),l=n(77513);function u(e){if(!(0,l.getParams)("GodMode"))return function(){};var t=console[e];return t||(t=console.log),(0,a.default)(t).call(t,window.console)}var s=console.log;t.log=s;var c=console.warn;t.debug=c;var f=console.error;t.error=f,(0,o.default)((function(){t.log=s=u(),t.debug=c=u("debug"),t.error=f=u("error")}))},54049:(e,t,n)=>{"use strict";var r=n(66890),i=n(43693),a=n(67272),o=n(82530);a(t,"__esModule",{value:!0}),t.angleToDegree=c,t.angleToVector=function(e){return new l.Vector(Math.cos(e),Math.sin(e))},t.degreeToAngle=function(e){return e*Math.PI/180},t.degreeToVector=function(e){var t=e*Math.PI/180;return{x:Math.cos(t),y:Math.sin(t)}},t.frameToTime=function(e){return Math.ceil(e/60)},t.timeToFrame=function(e){return Math.ceil(60*e)},t.vectorToAngle=s,t.vectorToDegree=function(e){return c(s(e))};var l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},l=a&&o;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var c=l?o(e,s):null;c&&(c.get||c.set)?a(i,s,c):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(86116));function u(e){if("function"!=typeof i)return null;var t=new i,n=new i;return(u=function(e){return e?n:t})(e)}function s(e){return Math.atan2(e.y,e.x)}function c(e){return 180*e/Math.PI}},68267:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.Pagination=void 0;var a=i(n(15375)),o=i(n(17061)),l=function(){function e(){(0,a.default)(this,e)}return(0,o.default)(e,[{key:"updateData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;e===this.item_total_num&&this.item_page_num===t&&this.pagination_num===n||(this.item_total_num=e,this.item_page_num=t,this.pagination_num=n,this.cur_page=0,this.analyse())}},{key:"reset",value:function(){this.item_total_num=0,this.item_page_num=0,this.pagination_num=0,this.cur_page=0}},{key:"next",value:function(){this.has_next&&(this.cur_page+=1,this.analyse())}},{key:"prev",value:function(){this.has_prev&&(this.cur_page-=1,this.analyse())}},{key:"setCurPage",value:function(e){e<0&&(e=0),e>this.page_num-1&&(e=this.page_num-1),this.cur_page=e,this.analyse()}},{key:"rightSpread",value:function(){if(this.has_right_spread){var e=this.cur_page+this.pagination_num;e>this.page_num-1&&(e=this.page_num-1),this.cur_page=e,this.analyse()}}},{key:"leftSpread",value:function(){if(this.has_left_spread){var e=this.cur_page-this.pagination_num;e<0&&(e=0),this.cur_page=e,this.analyse()}}},{key:"analyse",value:function(){var e=this.item_total_num,t=this.item_page_num,n=this.cur_page,r=this.pagination_num,i=Math.ceil(e/t);this.page_num=i;var a=(n+1)*t;a>e&&(a=e);var o=[n*t,a];this.item_range=o;var l=n>0,u=n<i-1;this.has_prev=l,this.has_next=u;var s=n-Math.ceil((r-1)/2);s<0&&(s=0);var c=s+r;c>i&&(s=(c=i)-r)<0&&(s=0);var f=[s,c];this.pagination_range=f;var d=s>1,h=c<i-1;this.has_left_spread=d,this.has_right_spread=h}},{key:"output",value:function(){var e=this.cur_page,t=this.item_range,n=this.has_next,r=this.has_prev,i=this.pagination_range,a=this.has_left_spread,o=this.has_right_spread,l=this.page_num,u=[];if(i[0]>0&&u.push(0),a&&u.push("left_spread"),i)for(var s=i[0];s<i[1];s++)u.push(s);return o&&u.push("right_spread"),i[1]<l&&u.push(l-1),u.length>0&&(u.unshift("prev"),u.push("next")),{cur_page:e,item_range:t,has_next:n,has_prev:r,pagination_arr:u,pagination_range:i,page_num:l}}}]),e}();t.Pagination=l},37478:(e,t,n)=>{"use strict";var r=n(26312),i=n(46818);n(67272)(t,"__esModule",{value:!0}),t.onKeyBoardEvent=function(e){return(0,o.fromEvent)(document.body,"keydown").pipe(r(a)((function(t){return t.keyCode===e})),i(a)((function(e){return e.preventDefault(),e})))},t.onNodeEvent=function(e,t,n){return new o.Observable((function(r){var i=function(e){e.stopPropagation(),r.next(e),n&&r.complete()};e.on(t,e,i),r.add((function(){e.off(t,e,i)}))}))};var a=n(6867),o=n(79520)},63723:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.clearTick=function(e){g.delete(e),0===g.size&&(h.Laya.timer.clear(null,k),m=!1,p=0)},t.createTick=function(e){return m||(m=!0,h.Laya.timer.loop(y,null,k)),_++,g.set(_,{fn:e,index:_}),_};var c=s(n(24142)),f=s(n(78953)),d=s(n(35945)),h=n(24629);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p,y=1e3/60,g=new f.default,m=!1,_=0;function k(){var e=1;if(p){var t=(0,d.default)(),n=t-p;e=Math.floor(n/y*1),p=t-(n-e/1*y)}else p=(0,d.default)();var u,s=function(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return v(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}(g);try{for(s.s();!(u=s.n()).done;)(0,c.default)(u.value,2)[1].fn(e)}catch(e){s.e(e)}finally{s.f()}}},77513:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.addZeroToNum=p,t.callFunc=function(e){if(h(e)){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.apply(void 0,n)}},t.changeNum=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",n=v(e);if("add"===t){var r=p(1,n.length-1);return e+r}var i=n[0];return e-p(1,1===i?n.length-2:n.length-1)},t.createColorFilter=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255;if("string"==typeof e){var i=g(e);e=i.r,t=i.g,n=i.b,r=255}var a=[e/=255,0,0,0,0,0,t/=255,0,0,0,0,0,n/=255,0,0,0,0,0,r/=255,0];return new c.ColorFilter(a)},t.createDarkFilter=y,t.createGLowRedFilter=function(){return new f.GlowFilter("#ff0000",10,0,0)},t.createRedFilter=function(){return new c.ColorFilter([.5,.5,.5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0])},t.darkNode=function(e){e.filters=[y()]},t.formatDateStr=m,t.genRandomStr=function(){return Math.random().toString().replace("0.","")},t.getDateFromNow=function(e){var t=new Date,n=t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate(),r=new Date(n),i=new Date(n);i.setDate(t.getDate()+e),r.setDate(t.getDate()+e+1);var a=i.getMonth()+1,o=i.getDate();return{date_str:m(a)+"-"+m(o),start:i.valueOf(),end:r.valueOf()}},t.getParams=function(e){return a||(a={},window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(e,t,n){return a[t]=n,n}))),a[e]},t.hexToRgb=g,t.isFunc=h,t.playSkeleton=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.player?e.play.apply(e,n):e.once(s.Event.PLAYED,e,(function(){(0,o.default)((function(){e.play.apply(e,n)}))}))},t.playSkeletonOnce=function(e,t){return new l.default((function(n,r){e.once(s.Event.STOPPED,e,(function(){n(void 0)})),e.player?e.play(t,!1):e.once(s.Event.PLAYED,e,(function(){(0,o.default)((function(){e.play(t,!1)}))}))}))},t.setProps=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},t.splitNum=v,t.stopSkeleton=function(e){e.player?e.stop():e.once(s.Event.PLAYED,e,(function(){(0,o.default)((function(){e.stop()}))}))},t.tplStr=function(e,t){var n=e;for(var r in t)t.hasOwnProperty(r)&&(console.log(r,n),n=n.replace(new RegExp("{".concat(r,"}"),"g"),t[r]+""));return n},t.unDarkNode=function(e){e.filters=null},t.utilSkeletonLoadUrl=function(e,t){return new l.default((function(n,r){e.load(t,new d.Handler(e,(function(){n(void 0)})))}))};var a,o=i(n(81302)),l=i(n(25937)),u=i(n(79962)),s=n(89662),c=n(20084),f=n(12677),d=n(41107);function h(e){return e&&"function"==typeof e}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e<1)return t;var n=e%10,r=(e-n)/10;return t.unshift(n),v(r,t)}function p(e,t){return(t-=1)<0?e:p(e*=10,t)}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.7,t=1-e,n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];return new c.ColorFilter(n)}function g(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:(0,u.default)(t[1],16),g:(0,u.default)(t[2],16),b:(0,u.default)(t[3],16)}:null}function m(e){return e<10?"0"+e:""+e}},99310:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.clear=g,t.clearAll=function(e){for(var t=y.length-1;t>=0;t--){e!==y[t].caller||(0,f.default)(y).call(y,t,1)}m()},t.loop=function(e,t,n,r){var i=function(){g(e,n)};return y.push({caller:n,delay:t,fun:e,off:i,once:r,then:(0,c.default)()}),m(),i};var c=s(n(35945)),f=s(n(2057)),d=s(n(46818)),h=n(24629);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function e(t,n){return n?e(n,t%n):t},y=[];function g(e,t){for(var n=y.length-1;n>=0;n--){var r=y[n],i=r.fun;if(r.caller===t&&i===e)return(0,f.default)(y).call(y,n,1),void m()}}function m(){h.timer.clear(this,_);var e=(0,d.default)(y).call(y,(function(e){return e.delay}));if(e.length){var t=function(e){var t,n,u=function(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return v(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}(e);try{for(u.s();!(n=u.n()).done;){var s=n.value;t=p(s,t)}}catch(e){u.e(e)}finally{u.f()}return t}(e);h.timer.loop(t,this,_)}}function _(){var e=y.length;if(e)for(var t=(0,c.default)(),n=e-1;n>=0;n--){var r=y[n],i=r.fun,a=r.then,o=r.delay,l=r.once,u=r.off,s=t-a||0;if(!(s<o)){var f=Math.floor(s/o),d=t-(s-f*o);"function"==typeof i&&i(f),l?u():r.then=d}}}},55437:(e,t,n)=>{"use strict";var r=n(23710),i=n(67272),a=n(8171);i(t,"__esModule",{value:!0}),t.default=t.AlertRes=void 0;var o=a(n(66329)),l=a(n(15375)),u=a(n(17061)),s=a(n(97709)),c=a(n(38191)),f=a(n(52305)),d=a(n(25937)),h=a(n(4918)),v=a(n(2220)),p=a(n(60855)),y=a(n(68700)),g=n(89662),m=n(80356),_=n(58465),k=n(14082),b=n(89970),w=n(84228);var S=function(e,t,n,r){return new(n||(n=d.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(0,h.default)(t).call(t,r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof v.default){var i=0;for(r=(0,v.default)(e);i<r.length;i++)(0,h.default)(t).call(t,r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},C=function(e){(0,s.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,f.default)(t);if(n){var a=(0,f.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,c.default)(this,e)});function a(){var e;return(0,l.default)(this,a),(e=i.apply(this,arguments)).isModal=!0,e}return(0,u.default)(a,[{key:"zOrder",get:function(){return 100}},{key:"onAwake",value:function(){this.initEvent()}},{key:"initEvent",value:function(){var e=this,t=this.btn_confirm,n=this.btn_cancel;t.on(g.Event.CLICK,t,(function(t){t.stopPropagation(),e.close("confirm")})),n.on(g.Event.CLICK,t,(function(t){t.stopPropagation(),e.close("cancel")}))}},{key:"alert",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.initLang(),new d.default((function(r,i){var a=n.hide_cancel,o=n.confirm_text,l=t.label,u=t.btn_cancel,s=t.btn_confirm,c=t.btn_confirm_label;l.text=e,t.close_resolve=r,a?(u.visible=!1,s.x=127):(u.visible=!0,s.x=255),o&&(c.text=o)}))}},{key:"onClosed",value:function(e){m.AudioCtrl.play(k.AudioRes.Click);var t=this.close_resolve;t&&t(e),this.close_resolve=void 0}},{key:"initLang",value:function(){var e=(0,_.getLang)(),t=this.title,n=this.btn_confirm_label,r=this.btn_cancel_label,i=b.InternationalTip[e],a=i.tips,o=i.cancel,l=i.confirm;t.text=a,n.text=l,r.text=o}}],[{key:"alert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return S(this,void 0,void 0,o.default.mark((function n(){var r,i,l,u;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.hide_cancel,i=t.confirm_text,l=x(t,["hide_cancel","confirm_text"]),m.AudioCtrl.play(k.AudioRes.PopShow),n.next=4,y.default.director.openDialog(a,(0,p.default)({},l));case 4:return u=n.sent,n.next=7,u.alert(e,{hide_cancel:r,confirm_text:i});case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}}),n)})))}}]),a}(w.ui.pop.alert.alertUI);t.default=C,t.AlertRes=["pop/alert/alert.json","image/pop/alert/alert_bg_01.png","image/pop/alert/alert_bg_02.png","image/pop/alert/btn_close.png","image/pop/alert/alert_con_bg.png","image/pop/alert/btn_cancel.png","image/pop/alert/btn_confirm.png"]},13817:(e,t,n)=>{"use strict";var r=n(23710),i=n(67272),a=n(8171);i(t,"__esModule",{value:!0}),t.buyItemAlert=A,t.buySkinAlert=function(e,t){return new h.default((function(n,r){var i=(0,m.getLang)(),a=k.InternationalTip[i].bullet,o=k.InternationalTip[i].buySkinTip.replace("$1",e+"").replace("$2",a).replace("$3",t);x.default.alert(o).then((function(e){"confirm"===e?n(!0):r()}))}))},t.default=void 0,t.getSkillName=M;var o=a(n(66329)),l=a(n(15375)),u=a(n(17061)),s=a(n(45408)),c=a(n(97709)),f=a(n(38191)),d=a(n(52305)),h=a(n(25937)),v=a(n(67357)),p=a(n(68700)),y=n(89662),g=n(66589),m=n(58465),_=n(37026),k=n(89970),b=n(11263),w=n(84228),S=n(77513),x=a(n(55437)),C=n(79699),I=a(n(10535));var E=function(e){(0,c.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,d.default)(t);if(n){var a=(0,d.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,f.default)(this,e)});function a(){var e;return(0,l.default)(this,a),(e=i.apply(this,arguments)).isModal=!0,e}return(0,u.default)(a,[{key:"onAwake",value:function(){var e=this;(0,m.onLangChange)(this,(function(t){e.initLang(t)})),this.initEvent()}},{key:"initEvent",value:function(){var e=this,t=this.btn_minus,n=this.btn_add,r=this.btn_buy,i=y.Event.CLICK;t.on(i,this,(function(){e.changeNum("minus")})),n.on(i,this,(function(){e.changeNum("add")})),r.on(i,this,(function(){var t=(0,m.getLang)(),n=k.InternationalTip[t].buySuccess,r=e.buy_info,i=r.id,a=r.num,o=r.price;A(a,o,i).then((function(t){t&&(0,C.buyItem)(i,a,o).then((function(){I.default.tip(n),e.close()}))}))})),this.num_label.on(i,this,(function(){g.ctrlState.app.keyboard_number.enter(e.num_label.text,{close:function(t,n){"confirm"===t&&e.setNum(Number(n))}})}))}},{key:"setNum",value:function(e){var t=this.buy_info.price,n=(0,m.getLang)(),r=k.InternationalTip[n].beyondBulletNum,i=(0,b.getCurPlayer)();e*t>i.bullet_num&&(I.default.tip(r),e=Math.floor(i.bullet_num/t)),this.buy_info.num=e,this.num_label.text=e+"",this.setIntro()}},{key:"changeNum",value:function(e){var t=this.num_label.text,n=Number(t),r=t.length-1,i=(0,S.addZeroToNum)(1,r);"minus"===e&&i===n&&(i=(0,S.addZeroToNum)(1,r-1)),"add"===e?n+=i:n-=i,n<1&&(n=1),this.setNum(n)}},{key:"setIntro",value:function(){var e,t,n,r,i=(0,m.getLang)(),a=this.intro,o=this.buy_info,l=k.InternationalTip[i],u=(l.purchase,l.buyBulletCost),s=l.bullet,c=o.price,f=o.num;a.text="en"===i?(0,v.default)(e=(0,v.default)(t="".concat(u," ")).call(t,c*f," ")).call(e,s):(0,v.default)(n=(0,v.default)(r="".concat(u)).call(r,c*f)).call(n,s)}},{key:"initLang",value:function(e){var t=k.InternationalTip[e].purchase,n=this.title,r=this.btn_label;n.text=t,r.text=t,this.setIntro()}},{key:"buy",value:function(e){var t=this.num_label,n=this.icon,r=e.num,i=e.id,a=r+"";t.text=a,n.skin="image/pop/shop/icon/".concat(i,".png"),this.buy_info=e,this.setIntro()}},{key:"destroy",value:function(){(0,m.offLangChange)(this),(0,s.default)((0,d.default)(a.prototype),"destroy",this).call(this)}}],[{key:"preEnter",value:function(e){return t=this,n=void 0,r=void 0,i=o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.default.director.openDialog({dialog:a,use_exist:!0,stay_scene:!0});case 2:t.sent.buy(e);case 4:case"end":return t.stop()}}),t)})),new(r||(r=h.default))((function(e,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function l(e){try{u(i.throw(e))}catch(e){a(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,l)}u((i=i.apply(t,n||[])).next())}));var t,n,r,i}}]),a}(w.ui.pop.alert.buyBulletUI);function M(e){var t=(0,m.getLang)(),n=k.InternationalTip[t],r=n.bomb,i=n.lock,a=n.freeze;switch(e){case _.SkillMap.Bomb:return r;case _.SkillMap.Freezing:return a;case _.SkillMap.LockFish:return i}}function A(e,t,n){return new h.default((function(r,i){var a=(0,m.getLang)(),o=k.InternationalTip[a],l=o.bullet,u=(o.buySuccess,k.InternationalTip[a].buyItemTip.replace("$1",e*t+"").replace("$2",l).replace("$3",e+"").replace("$4",M(n)));x.default.alert(u).then((function(e){"confirm"===e?r(!0):i()}))}))}t.default=E},45170:(e,t,n)=>{"use strict";var r=n(23710),i=n(67272),a=n(8171);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(66329)),l=a(n(15375)),u=a(n(17061)),s=a(n(45408)),c=a(n(97709)),f=a(n(38191)),d=a(n(52305)),h=a(n(25937)),v=a(n(68700)),p=n(26366),y=n(41107),g=n(58465),m=n(37026),_=n(89970),k=n(84228),b=n(44846),w=n(52782),S=n(30387);var x=function(e,t,n,r){return new(n||(n=h.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},C=function(e){(0,c.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,d.default)(t);if(n){var a=(0,d.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,f.default)(this,e)});function a(){var e;return(0,l.default)(this,a),(e=i.apply(this,arguments)).isModal=!0,e}return(0,u.default)(a,[{key:"onAwake",value:function(){var e=this;(0,g.onLangChange)(this,(function(t){e.initLang(t)})),this.slider_glr=new b.LayaSlider(this.glr);var t=this.skill_list,n=this.fish_list;n.array=[],t.array=[],n.renderHandler=y.Handler.create(this,this.fishListRender,null,!1),t.renderHandler=y.Handler.create(this,this.skillListRender,null,!1),n.array=S.test_fish_list}},{key:"goto",value:function(e){this.slider_glr.goto(e)}},{key:"fishListRender",value:function(e,t){var n=this.times_tpl,r=this.fish_list.array[t],i=r.id,a=r.num,o=r.is_special,l=e.bg,u=e.num_label,s=e.icon;u.text=a?a+n:"",s.skin="image/pop/help/fish".concat(i,".png");var c=o?"":"1";l.skin="image/pop/help/fish_item_bg".concat(c,".png")}},{key:"skillListRender",value:function(e,t){var n=e.skill_icon,r=e.intro_label,i=e.item_box,a=this.skill_list.array[t],o=a.id,l=a.intro;r.text=l,o!==m.SkillMap.Super?n.skin="image/game/skill_".concat(m.SkillNameMap[o],".png"):(i.visible=!1,r.x=10,r.width=r.parent.width)}},{key:"initLang",value:function(e){var t=_.InternationalTip[e],n=t.help,r=t.help1,i=t.help2,a=t.help3,o=t.help31,l=t.help4,u=t.help41,s=t.help42,c=t.help43,f=t.times,d=this.title,h=this.intro1,v=this.intro2,p=this.intro3,y=this.intro31,g=this.intro4,m=this.intro41;this.times_tpl=f,this.fish_list.refresh(),d.text=n,h.text=r,v.text=i,p.text=a,y.text=o,g.text=l,m.text=u+"\n"+s+"\n"+c,this.skill_list.array=(0,S.getSkillIntroList)(e),(0,w.resizeContain)(this.item0_wrap,10,"vertical"),(0,w.resizeContain)(this.item1_wrap,10,"vertical"),(0,w.resizeContain)(this.item2_wrap,10,"vertical")}},{key:"destroy",value:function(){(0,g.offLangChange)(this),(0,s.default)((0,d.default)(a.prototype),"destroy",this).call(this)}}],[{key:"preEnter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return x(this,void 0,void 0,o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.default.director.openDialog({dialog:a,use_exist:!0,stay_scene:!0});case 2:t.sent.goto(e);case 4:case"end":return t.stop()}}),t)})))}},{key:"preLoad",value:function(){return x(this,void 0,void 0,o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.loaderManager.preLoad("Dialog","pop/help/help.scene"));case 1:case"end":return e.stop()}}),e)})))}}]),a}(k.ui.pop.help.helpUI);t.default=C},30387:(e,t,n)=>{"use strict";n(67272)(t,"__esModule",{value:!0}),t.getSkillIntroList=function(e){var t=i.InternationalTip[e],n=t.help2Freeze,a=t.help2Lock,o=t.help2Bomb;return[{id:r.SkillMap.Bomb,intro:o},{id:r.SkillMap.Freezing,intro:n},{id:r.SkillMap.LockFish,intro:a}]},t.test_fish_list=void 0;var r=n(37026),i=n(89970);t.test_fish_list=[{id:1,num:2,is_special:300},{id:2,num:3,is_special:300},{id:3,num:5,is_special:300},{id:4,num:8,is_special:300},{id:5,num:10,is_special:300},{id:6,num:15,is_special:300},{id:7,num:20,is_special:300},{id:8,num:30,is_special:300},{id:10,num:50,is_special:300},{id:11,num:80,is_special:300},{id:12,num:100,is_special:300},{id:13,num:150,is_special:300},{id:14,num:200,is_special:300},{id:15,num:250,is_special:300},{id:20,num:300,is_special:300},{id:9,num:0,is_special:300}]},64525:(e,t,n)=>{"use strict";var r=n(23710),i=n(83239),a=n(46993),o=n(99015),l=n(14571),u=n(32542),s=n(67272),c=n(8171);s(t,"__esModule",{value:!0}),t.default=void 0;var f=c(n(66329)),d=c(n(24142)),h=c(n(21003)),v=c(n(15375)),p=c(n(17061)),y=c(n(45408)),g=c(n(97709)),m=c(n(38191)),_=c(n(52305)),k=c(n(25937)),b=c(n(67357)),w=c(n(60855)),S=c(n(25189)),x=c(n(68700)),C=n(26366),I=n(89662),E=n(41107),M=n(80356),A=n(545),B=n(58465),L=n(14082),T=n(89970),P=n(84228),N=n(90564),O=n(4155),D=n(52782),F=n(55161),U=n(77513),G=c(n(45170)),z=n(67650),R=n(79699),j=c(n(25463));function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var H=function(e,t,n,r){return new(n||(n=k.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},$=function(e){(0,g.default)(c,e);var t,n,s=(t=c,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,_.default)(t);if(n){var a=(0,_.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,m.default)(this,e)});function c(){var e;return(0,v.default)(this,c),(e=s.apply(this,arguments)).is_init=!1,e.isModal=!0,e.renderLottery=function(t,n){var r=t.light,i=t.light_circle,a=t.box_ani,o=t.box_img,l=e.lottery_list.array[n],u=l.cur,s=l.get;if(l.lottery_num,i.visible=!1,r.visible=!1,o.visible=!0,a.visible=!1,u){var c=s?"active":"move";r.visible=!0,"move"===c?i.visible=!0:(o.visible=!1,a.visible=!0,(0,U.playSkeletonOnce)(a,0).then((function(){return(0,U.playSkeletonOnce)(r,c).then((function(){e.showLotteryAward(l)}))})),r.playbackRate(1))}},e}return(0,p.default)(c,[{key:"reloadData",value:function(){return H(this,void 0,void 0,f.default.mark((function e(){var t;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.getLotteryData)();case 2:t=e.sent,this.initData(t);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"onEnable",value:function(){M.AudioCtrl.play(L.AudioRes.PopShow),this.is_init||this.init(),this.is_init=!0}},{key:"init",value:function(){var e=this,t=this.lottery_list,n=this.btn_lottery;this.lottery_exchange_ctrl,t.array=[],this.lottery_exchange_ctrl=new z.LotteryExchangeCtrl(this.exchange_list),t.renderHandler=new E.Handler(t,this.renderLottery,void 0,!1),(0,D.onNode)(n,I.Event.CLICK,(function(){e.runLottery()}))}},{key:"initData",value:function(e){var t,n,r=e.lottery,s=e.exchange,c=e.lottery_cost,f=e.lottery_num,d=this.lottery_list,v=this.progress,p=this.lottery_remain,y=this.lottery_exchange_ctrl,g=this.btn_lottery,m=[],_=function(e,t){var n=void 0!==o&&l(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return V(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?V(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}(r);try{for(_.s();!(n=_.n()).done;){var k=n.value;m.push((0,w.default)((0,w.default)({},k),{cur:!1,get:!1}))}}catch(e){_.e(e)}finally{_.f()}var S=m.length;if(S<5){(0,F.log)("test:>lottery:>0",m);for(var x=0;x<5-S;x++)m.push({lottery_id:"xx",lottery_type:"xx",lottery_num:0,cur:!1,get:!1})}var C=f/c;v.value=C>1?1:C,p.text=(0,b.default)(t="".concat(f,"/")).call(t,c),d.array=m,(0,F.log)("test:>lottery:>1",C,m),g.disabled=C<1,y.renderData((0,h.default)(s)),this.remain_info={lottery_num:f,lottery_cost:c}}},{key:"runLottery",value:function(){var e=this,t=this.remain_info,n=this.progress,r=this.lottery_remain,i=this.btn_lottery,a=t.lottery_num,o=t.lottery_cost;a<o||(0,R.runLottery)().then((function(l){return H(e,void 0,void 0,f.default.mark((function e(){var u;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.runLotteryAni(l);case 2:a-=o,n.value=a/o,t.lottery_num=a,r.text=(0,b.default)(u="".concat(a,"/")).call(u,o),i.disabled=a<o;case 7:case"end":return e.stop()}}),e,this)})))}))}},{key:"runLotteryAni",value:function(e){var t=this;return new k.default((function(n,r){var i=t.lottery_list,a=t.btn_lottery,o=i.array;a.disabled=!0;var l=(0,S.default)(o).call(o,(function(t){return t.lottery_id===e}))+20,u=!1;(0,O.tween)(3e3,(function(e){var r=Math.round(e*l)%5;if(!u){1===e&&(u=!0);for(var a=0;a<o.length;a++){var s=o[a];s.get=!1,s.cur=a===r}u&&(o[r].get=!0,o[r].cur=!0,(0,N.sleep)(2).then((function(){t.completeLottery(),n()}))),i.refresh()}}))}))}},{key:"completeLottery",value:function(){this.btn_lottery.disabled=!1,clearInterval(this.lottery_interval)}},{key:"showLotteryAward",value:function(e){var t=this,n=e.lottery_type,r=e.lottery_num;"bullet"===n&&(0,A.changeBulletNum)(r),j.default.preEnter({type:n,num:r}).then((function(){t.reloadData()}))}},{key:"destroy",value:function(){var e=this.lottery_exchange_ctrl;this.completeLottery(),(0,B.offLangChange)(this),(0,y.default)((0,_.default)(c.prototype),"destroy",this).call(this),e.destroy(),this.lottery_exchange_ctrl=void 0}},{key:"onAwake",value:function(){var e=this,t=this.btn_help;(0,B.onLangChange)(this,(function(t){e.initLang(t)})),t.on(I.Event.CLICK,this,(function(){G.default.preEnter(2)}))}},{key:"initLang",value:function(e){var t=this.title,n=this.btn_label,r=this.sub_title,i=this.lottery_exchange_ctrl,a=T.InternationalTip[e],o=a.luckyDraw,l=a.redemption;n.text=o,r.text=l,i.refresh(),(0,D.resizeParent)(n,30,142),t.skin="image/international/txt_lottery_".concat(e,".png")}}],[{key:"preEnter",value:function(){var e=x.default.director.openDialog({dialog:c,use_exist:!0,stay_scene:!0}),t=(0,R.getLotteryData)();return k.default.all([e,t]).then((function(e){var t=(0,d.default)(e,2),n=t[0],r=t[1];n.initData(r)}))}},{key:"preLoad",value:function(){return C.loaderManager.preLoad("Dialog","pop/lottery/lottery.scene")}}]),c}(P.ui.pop.lottery.lotteryUI);t.default=$},67650:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.LotteryExchangeCtrl=void 0;var c=s(n(66329)),f=s(n(24142)),d=s(n(15375)),h=s(n(17061)),v=s(n(25937)),p=s(n(40524)),y=s(n(67357)),g=n(24354),m=n(89662),_=n(58465),k=n(37026),b=n(89970),w=n(54375),S=n(84228),x=n(77513),C=n(79699),I=s(n(25463));function E(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return M(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?M(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A=function(e,t,n,r){return new(n||(n=v.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},B=function(){function e(t){(0,d.default)(this,e),this.item_list=[],this.data=[],this.view=t,this.clear()}return(0,h.default)(e,[{key:"renderData",value:function(e){return A(this,void 0,void 0,c.default.mark((function t(){var n,r,i,a,o,l,u,s,d,h;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.view,r=e.length,this.data=e,this.clear(),a=10,o=0,1===r?i=S.ui.pop.lottery.item2oneUI:5===r?(i=S.ui.pop.lottery.item2fiveUI,a=5):2===r?(i=S.ui.pop.lottery.item2twoUI,a=50):3===r?(a=80,i=S.ui.pop.lottery.item2UI):i=S.ui.pop.lottery.item2UI,l=E((0,p.default)(e).call(e)),t.prev=8,l.s();case 10:if((u=l.n()).done){t.next=22;break}return s=(0,f.default)(u.value,2),d=s[0],s[1],h=new i,n.addChild(h),this.item_list.push(h),t.next=17,(0,g.afterActive)(h);case 17:h.x=o,o+=h.width,d!==e.length-1&&(o+=a);case 20:t.next=10;break;case 22:t.next=27;break;case 24:t.prev=24,t.t0=t.catch(8),l.e(t.t0);case 27:return t.prev=27,l.f(),t.finish(27);case 30:n.width=o,this.refresh();case 32:case"end":return t.stop()}}),t,this,[[8,24,27,30]])})))}},{key:"refresh",value:function(){var e,t=this.data,n=this.item_list,r=E((0,p.default)(n).call(n));try{for(r.s();!(e=r.n()).done;){var i=(0,f.default)(e.value,2),a=i[0],o=i[1];this.renderItem(o,t[a])}}catch(e){r.e(e)}finally{r.f()}}},{key:"renderItem",value:function(e,t){var n,r,i=this,a=e.price_label,o=e.coin_icon,l=e.remain_label,u=e.num_label,s=e.btn_buy,c=e.item_type,f=(0,_.getLang)(),d=b.InternationalTip[f].Num,h=t.exchange_type,v=t.exchange_id,p=t.exchange_num,g=t.cost_num,S=t.cur_num,C=k.ItemMap[v];C=C?C.toLowerCase():C;var I=p+"";a.text=g+"";var E=(0,w.getCurrencyIcon)(h);o.skin=E,o.filters=[(0,x.createColorFilter)("#64280e")],u.text=I,c.text=h.toUpperCase(),l.text=(0,y.default)(n=(0,y.default)(r="".concat(d,": ")).call(r,S,"/")).call(n,g);var M=1/(I.length/3),A=1/(h.length/4);M=M>1?1:M,A=A>.95?.95:A,u.scale(M,M),c.scale(A,A),s.offAll(),S<g?e.filters=[(0,x.createDarkFilter)(.3)]:(e.filters=null,s.on(m.Event.CLICK,s,(function(){i.runTicketExchange(t)})))}},{key:"runTicketExchange",value:function(e){return A(this,void 0,void 0,c.default.mark((function t(){var n,r,i,a,o,l;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.exchange_id,r=e.cost_num,i=e.cur_num,a=e.exchange_type,t.next=3,(0,C.runTicketExchange)(n);case 3:o=t.sent,l=o.num,I.default.preEnter({type:a,num:l}),e.cur_num=i-r,this.refresh();case 8:case"end":return t.stop()}}),t,this)})))}},{key:"clear",value:function(){this.view.removeChildren(),this.item_list=[]}},{key:"destroy",value:function(){this.item_list=[],this.data=[],this.clear(),this.view=void 0}}]),e}();t.LotteryExchangeCtrl=B},79699:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.buyItem=function(e,t,n){return new d.default((function(r,i){var a=(0,y.getSocket)(g.ServerName.Game);a.event.once(g.ServerEvent.Buy,(function(i,a){if(200!==a)return(0,p.errorHandler)(a,i);var o=m.modelState.app.user_info.user_id,l=[];t&&l.push({id:e,num:t,type:"skill"}),-n&&l.push({num:-n*t,type:"bullet"}),v.ctrlState.game.changeUserNumInfo({userId:o,change_arr:l}),r(!0)})),a.send(g.ServerEvent.Buy,{itemId:e,num:t})}))},t.genShopInfo=b,t.getBulletList=function(e){return new d.default((function(t,n){var r=(0,y.getSocket)(g.ServerName.Hall);r.event.once(g.ServerEvent.GetBulletList,(function(e){t(e)})),r.send(g.ServerEvent.GetBulletList,(0,h.default)({},e))}))},t.getItemList=function(e){return new d.default((function(t,n){var r=(0,y.getSocket)(g.ServerName.Hall);r.event.once(g.ServerEvent.GetItemList,(function(e){t(e)})),r.send(g.ServerEvent.GetItemList,(0,h.default)({},e))}))},t.getLotteryData=function(){var e=new d.default((function(e,t){var n=(0,y.getSocket)(g.ServerName.Game);n.event.once(g.ServerEvent.LotteryList,(function(t){e(t)})),n.send(g.ServerEvent.LotteryList)})),t=new d.default((function(e,t){var n=(0,y.getSocket)(g.ServerName.Game);n.event.once(g.ServerEvent.ExchangeList,(function(t){e(t)})),n.send(g.ServerEvent.ExchangeList)}));return d.default.all([e,t]).then((function(e){var t=(0,f.default)(e,2),n=t[0],r=t[1],i=n.costNum,a=n.curNum,o=n.list,l=r.list;(0,c.default)(r);var u,s=[],d=[],h=_(o);try{for(h.s();!(u=h.n()).done;){var v=u.value;s.push({lottery_type:v.name,lottery_id:v.id,lottery_num:v.num})}}catch(e){h.e(e)}finally{h.f()}var p,y=_(l);try{for(y.s();!(p=y.n()).done;){var g=p.value;d.push({exchange_id:g.itemId,exchange_type:g.name,exchange_num:g.num,cost_num:g.cost,cur_num:g.curNum})}}catch(e){y.e(e)}finally{y.f()}var m=a/i;return{lottery:s,exchange:d,radio:m=m>1?1:m,lottery_cost:i,lottery_num:a}}))},t.getRecentBullet=function(){return new d.default((function(e,t){var n=(0,y.getSocket)(g.ServerName.Hall);n.event.once(g.ServerEvent.GetRecentBullet,(function(t){e(t)})),n.send(g.ServerEvent.GetRecentBullet)}))},t.getShopInfo=function(){return new d.default((function(e,t){var n=(0,y.getSocket)(g.ServerName.Game);n.event.once(g.ServerEvent.ShopList,(function(t){e(b(t))})),n.send(g.ServerEvent.ShopList)}))},t.runLottery=function(){return new d.default((function(e,t){var n=(0,y.getSocket)(g.ServerName.Game);n.event.once(g.ServerEvent.Lottery,(function(t,n){200===n&&e(t.id)})),n.send(g.ServerEvent.Lottery)}))},t.runTicketExchange=function(e){return new d.default((function(t,n){var r=(0,y.getSocket)(g.ServerName.Game);r.event.once(g.ServerEvent.TicketExchange,(function(e){t(e)})),r.send(g.ServerEvent.TicketExchange,{itemId:e})}))},t.useGunSkin=function(e){return new d.default((function(t,n){var r=(0,y.getSocket)(g.ServerName.Game);r.event.once(g.ServerEvent.UseSkin,(function(e){t(!0)})),r.send(g.ServerEvent.UseSkin,{skinId:e,userId:m.modelState.app.user_info.user_id})}))};var c=s(n(17628)),f=s(n(24142)),d=s(n(25937)),h=s(n(60855)),v=n(66589),p=n(59914),y=n(43267),g=n(26744),m=n(11263);function _(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return k(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?k(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t,n={gun:[],item:[]},r=_(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i.type,o=i.item_id,l=i.status,u=i.price,s=i.num,c=i.name;1===a?n.gun.push({id:o,price:u,status:l,name:c}):n.item.push({id:o,price:u,num:s,name:c})}}catch(e){r.e(e)}finally{r.f()}return n}},60971:(e,t,n)=>{"use strict";var r=n(23710),i=n(83239),a=n(46993),o=n(99015),l=n(14571),u=n(32542),s=n(67272),c=n(8171);s(t,"__esModule",{value:!0}),t.default=void 0;var f=c(n(66329)),d=c(n(24142)),h=c(n(15375)),v=c(n(17061)),p=c(n(45408)),y=c(n(97709)),g=c(n(38191)),m=c(n(52305)),_=c(n(25937)),k=c(n(25189)),b=c(n(46818)),w=c(n(67357)),S=c(n(68700)),x=n(26366),C=n(58465),I=n(89970),E=n(84228),M=n(52782),A=n(77513),B=n(79699),L=n(96231),T=n(23728);function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}for(var N=[],O=0;O>=-7;O--)N.push((0,A.getDateFromNow)(O));var D=function(e){(0,y.default)(c,e);var t,n,s=(t=c,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,m.default)(t);if(n){var a=(0,m.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,g.default)(this,e)});function c(){var e;return(0,h.default)(this,c),(e=s.apply(this,arguments)).isModal=!0,e}return(0,v.default)(c,[{key:"onAwake",value:function(){var e=this,t=this.select_item,n=this.select_coin,r=this.date_menu,i=this.coin_menu,a=this.btn_search;this.record_list.array=[];var o=new T.SelectCtrl(n,i);o.setRender(this.renderSelectCoin),(0,C.onAccountChange)(this,(function(t){e.renderCoinMenu(t)})),o.init();var l=new T.SelectCtrl(t,r);l.setRender(this.renderSelectItem),l.init(),l.setList(N),l.setCurIndex(0);var u=new L.PaginationCtrl(this.pagination);u.on(L.PaginationEvent.Change,(function(t){var n=t.cur;t.trigger_change&&e.search(n+1)})),this.pagination_ctrl=u,(0,M.onNode)(a,"click",(function(){e.pagination_ctrl.reset(),e.search(1)})),this.select_coin_ctrl=o,this.select_date_ctrl=l,(0,C.onLangChange)(this,(function(t){e.initLang(t)}))}},{key:"onEnable",value:function(){var e=this,t=this.select_coin_ctrl,n=this.select_date_ctrl;(0,B.getRecentBullet)().then((function(r){var i=t.getList(),a=n.getList(),o=(0,k.default)(i).call(i,(function(e){return e.coin_name===r.currency})),l=(0,k.default)(a).call(a,(function(e){return e.start<r.time&&e.end>r.time}));-1===o&&(o=0),-1===l&&(l=0),t.setCurIndex(o),n.setCurIndex(l),e.search(1)}))}},{key:"initLang",value:function(e){var t=I.InternationalTip[e],n=t.gameListTitle,r=t.search,i=t.prize,a=t.cost,o=I.InternationalTip[e].noData,l=this.title,u=this.title_box,s=this.btn_search_label,c=this.empty_tip;l.text=n;for(var f=[a,i],d=0;d<u.numChildren;d++)u.getChildAt(d).text=f[d];s.text=r,c.text=o}},{key:"renderSelectCoin",value:function(e,t){var n=e.coin_icon,r=e.coin_name,i=t.coin_icon,a=t.coin_name;n.skin=i,r.text=a}},{key:"renderSelectItem",value:function(e,t){var n=e.item_name,r=t.date_str;n.text=r}},{key:"renderCoinMenu",value:function(e){var t,n=this.select_coin_ctrl,r=[],s=function(e,t){var n=void 0!==o&&l(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return P(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}(e);try{for(s.s();!(t=s.n()).done;){var c=(0,d.default)(t.value,2),f=c[0],h=c[1].icon;r.push({coin_icon:h,coin_name:f})}}catch(e){s.e(e)}finally{s.f()}n.setList(r)}},{key:"search",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this.select_coin_ctrl,r=this.select_date_ctrl,i=this.pagination_ctrl,a=this.empty_tip,o=n.getCurData()||{},l=r.getCurData()||{};this.renderRecordList([]);var u=10;(0,B.getBulletList)({currency:o.coin_name,startTime:l.start,endTime:l.end,pageNum:t,pageSize:u}).then((function(t){i.update(t.total,u),e.renderRecordList(t.list),a.visible=!t.list.length}))}},{key:"renderRecordList",value:function(e){this.record_list.array=(0,b.default)(e).call(e,(function(e){var t,n;return{prize:e.prize?(0,w.default)(t="".concat(e.prize,"  ")).call(t,e.currency):0,cost:e.cost?(0,w.default)(n="".concat(e.cost,"  ")).call(n,e.currency):0}}))}},{key:"destroy",value:function(){(0,C.offBindEvent)(this),this.select_coin_ctrl.destroy(),this.select_date_ctrl.destroy(),this.select_coin_ctrl=void 0,this.select_date_ctrl=void 0,(0,p.default)((0,m.default)(c.prototype),"destroy",this).call(this)}}],[{key:"preEnter",value:function(){return e=this,t=void 0,n=void 0,r=f.default.mark((function e(){var t;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.default.director.openDialog({dialog:c,use_exist:!0,stay_scene:!0});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})),new(n||(n=_.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}));var e,t,n,r}},{key:"preLoad",value:function(){return x.loaderManager.preLoad("Dialog","pop/record/gameRecord.scene")}}]),c}(E.ui.pop.record.gameRecordUI);t.default=D},47859:(e,t,n)=>{"use strict";var r=n(23710),i=n(83239),a=n(46993),o=n(99015),l=n(14571),u=n(32542),s=n(67272),c=n(8171);s(t,"__esModule",{value:!0}),t.default=void 0;var f=c(n(66329)),d=c(n(24142)),h=c(n(15375)),v=c(n(17061)),p=c(n(45408)),y=c(n(97709)),g=c(n(38191)),m=c(n(52305)),_=c(n(25937)),k=c(n(46818)),b=c(n(81302)),w=c(n(68700)),S=n(26366),x=n(58465),C=n(89970),I=n(84228),E=n(13817),M=n(79699),A=n(96231),B=n(23728);function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=function(e){(0,y.default)(c,e);var t,n,s=(t=c,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,m.default)(t);if(n){var a=(0,m.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,g.default)(this,e)});function c(){var e;return(0,h.default)(this,c),(e=s.apply(this,arguments)).isModal=!0,e.isInit=!1,e}return(0,v.default)(c,[{key:"onAwake",value:function(){var e,t=this,n=this.select_item,r=this.select_coin,i=this.item_menu,a=this.coin_menu,o=this.btn_search,l=new B.SelectCtrl(r,a);l.setRender(this.renderSelectCoin),(0,x.onAccountChange)(this,(function(e){t.renderCoinMenu(e)})),l.init(),(0,x.onLangChange)(this,(function(e){t.initLang(e)}));var u=new B.SelectCtrl(n,i);u.setRender(this.renderSelectItem),u.init();var s=(0,k.default)(e=["2001","2002","2003"]).call(e,(function(e){return{item_name:(0,E.getSkillName)(e),item_id:e}}));s.unshift({item_name:"ALL",item_id:void 0}),u.setList(s),u.setCurIndex(0);var c=new A.PaginationCtrl(this.pagination);c.on(A.PaginationEvent.Change,(function(e){e.cur;for(var n=e.range,r=t.all_list,i=[],a=n[0];a<n[1];a++)i.push(r[a]);t.renderRecordList(i)})),this.pagination_ctrl=c,o.on("click",null,(function(){t.search()})),(0,b.default)((function(){t.search()})),this.select_coin_ctrl=l,this.select_item_ctrl=u}},{key:"onEnable",value:function(){var e=this;if(this.isInit){var t=this.select_coin_ctrl,n=this.select_item_ctrl;t.setCurIndex(0),n.setCurIndex(0),(0,b.default)((function(){e.search()}))}else this.isInit=!0}},{key:"initLang",value:function(e){var t=C.InternationalTip[e],n=t.itemListTitle,r=t.search,i=t.itemList1,a=t.itemList2,o=t.itemList3,l=t.gameNo,u=t.remainingNum,s=C.InternationalTip[e].noData,c=this.title,f=this.title_box,d=this.btn_search_label,h=this.empty_tip;c.text=n,h.text=s;for(var v=[i,a,o,u,l],p=0;p<f.numChildren;p++)f.getChildAt(p).text=v[p];d.text=r}},{key:"renderSelectCoin",value:function(e,t){var n=e.coin_icon,r=e.coin_name,i=t.coin_icon,a=t.coin_name;i?(r.x=43,n.visible=!0,n.skin=i):(r.x=15,n.visible=!1),r.text=a}},{key:"renderSelectItem",value:function(e,t){var n=e.item_name,r=t.item_name;n.text=r}},{key:"renderCoinMenu",value:function(e){var t=this.select_coin_ctrl,n=[];n.push({coin_icon:"",coin_name:"ALL",coin_id:void 0});var r,s=function(e,t){var n=void 0!==o&&l(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return L(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}(e);try{for(s.s();!(r=s.n()).done;){var c=(0,d.default)(r.value,2),f=c[0],h=c[1].icon;n.push({coin_icon:h,coin_name:f,coin_id:f})}}catch(e){s.e(e)}finally{s.f()}t.setList(n),t.setCurIndex(0)}},{key:"search",value:function(){var e=this,t=this.empty_tip,n=this.select_coin_ctrl,r=this.select_item_ctrl,i=this.pagination_ctrl,a=n.getCurData()||{},o=(r.getCurData()||{}).item_id,l=a.coin_id;this.renderRecordList([]),(0,M.getItemList)({itemId:o,currency:l}).then((function(n){e.all_list=n.list,t.visible=!n.list.length,i.update(n.list.length,10)}))}},{key:"setList",value:function(e){this.all_list=e,this.pagination_ctrl.update(e.length,9)}},{key:"renderRecordList",value:function(e){this.record_list.array=(0,k.default)(e).call(e,(function(e){return{buy_total:e.buyNum,remain:e.curNum,type:(0,E.getSkillName)(e.itemId+""),give_total:e.prizeNum,no:e.currency}}))}},{key:"destroy",value:function(){(0,x.offBindEvent)(this),this.select_coin_ctrl.destroy(),this.select_item_ctrl.destroy(),this.select_coin_ctrl=void 0,this.select_item_ctrl=void 0,(0,p.default)((0,m.default)(c.prototype),"destroy",this).call(this)}}],[{key:"preEnter",value:function(){return e=this,t=void 0,n=void 0,r=f.default.mark((function e(){var t;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.default.director.openDialog({dialog:c,use_exist:!0,stay_scene:!0});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})),new(n||(n=_.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}));var e,t,n,r}},{key:"preLoad",value:function(){return S.loaderManager.preLoad("Dialog","pop/record/itemRecord.scene")}}]),c}(I.ui.pop.record.itemRecordUI);t.default=T},96231:(e,t,n)=>{"use strict";var r=n(23710),i=n(83239),a=n(46993),o=n(99015),l=n(14571),u=n(32542),s=n(67272),c=n(8171);s(t,"__esModule",{value:!0}),t.PaginationEvent=t.PaginationCtrl=void 0;var f=c(n(15375)),d=c(n(17061)),h=c(n(97709)),v=c(n(38191)),p=c(n(52305)),y=n(38182),g=n(33879),m=n(44476),_=n(96530),k=n(52782),b=n(68267);function w(e,t){var n=void 0!==o&&l(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return S(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x={Change:"change"};t.PaginationEvent=x;var C=function(e){(0,h.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,p.default)(t);if(n){var a=(0,p.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,v.default)(this,e)});function a(e){var t;return(0,f.default)(this,a),(t=i.call(this)).view=e,t.init(),t}return(0,d.default)(a,[{key:"init",value:function(){this.view.removeChildren(),this.pagination=new b.Pagination}},{key:"reset",value:function(){this.pagination.reset()}},{key:"update",value:function(e,t){this.pagination.updateData(e,t),this.render(this.pagination.output(),!1)}},{key:"triggerAction",value:function(e){var t=this.pagination;switch(e){case"prev":t.prev();break;case"next":t.next();break;case"left_spread":t.leftSpread();break;case"right_spread":t.rightSpread();break;default:t.setCurPage(e)}this.render(t.output())}},{key:"render",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.view,i=e.pagination_arr,a=e.cur_page,o=e.item_range,l=e.has_prev,u=e.has_next;if(r.removeChildren(),i.length<=1)this.emit(x.Change,{cur:a,range:o,trigger_change:n});else{var s,c=w(i);try{var f=function(){var e=s.value,n=void 0;switch(e){case"prev":(n=I()).disabled=!l;break;case"next":(n=E()).disabled=!u;break;case"left_spread":case"right_spread":n=A();break;default:n=M(e+1,e===a)}n.on("click",null,(function(){t.triggerAction(e)})),r.addChild(n)};for(c.s();!(s=c.n()).done;)f()}catch(e){c.e(e)}finally{c.f()}(0,k.resizeContain)(r,5),r.x=(r.parent.width-r.width)/2,this.emit(x.Change,{cur:a,range:o,trigger_change:n})}}}]),a}(y.EventCom);function I(){var e=new g.Button;e.skin="image/pop/record/btn_pagination1.png",e.stateNum=1,e.label="";var t=new m.Image;return t.skin="image/pop/record/left.png",t.x=23,t.y=8,e.addChild(t),e}function E(){var e=new g.Button;e.skin="image/pop/record/btn_pagination1.png",e.stateNum=1,e.label="";var t=new m.Image;return t.skin="image/pop/record/next.png",t.x=23,t.y=8,e.addChild(t),e}function M(e,t){var n=new g.Button;n.skin="image/pop/record/btn_pagination2.png",n.stateNum=1,n.label="";var r=new _.Label;return r.fontSize=25,r.bold=!0,t?(r.color="#492b00",n.skin="image/pop/record/btn_pagination0.png"):(r.color="#06684a",n.skin="image/pop/record/btn_pagination2.png"),r.align="center",r.valign="middle",r.x=8,r.y=7,r.width=54,r.height=29,r.text=e+"",n.addChild(r),n}function A(){var e=new g.Button;e.skin="image/pop/record/btn_pagination2.png",e.stateNum=1,e.label="";var t=new _.Label;return t.fontSize=25,t.bold=!0,t.color="#06684a",t.align="center",t.valign="middle",t.x=8,t.y=5,t.width=54,t.height=29,t.text="...",e.addChild(t),e}t.PaginationCtrl=C},23728:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.SelectCtrl=void 0;var a=i(n(15375)),o=i(n(17061)),l=n(41107),u=n(52782),s=function(){function e(t,n){(0,a.default)(this,e),this.select_index=-1,this.select_box=t,this.select_list=n}return(0,o.default)(e,[{key:"init",value:function(){var e=this,t=this.select_box,n=this.select_list;t.on("click",null,(function(){n.visible=!n.visible})),(0,u.onStageClick)(t,(function(){n.visible=!1}),[t,n]),n.list.selectHandler=l.Handler.create(null,(function(t){var r;if(n.visible=!1,-1!==t)if(n.list.array.length){e.select_index=t,n.list.selectedIndex=-1;var i=n.list.array[t];null===(r=e.selected_render)||void 0===r||r.call(e,e.select_box,i)}else n.list.selectedIndex=-1}),null,!1),this.list_render&&(n.list.renderHandler=l.Handler.create(null,this.list_render,null,!1))}},{key:"setRender",value:function(e,t){this.selected_render=e,this.list_render=t}},{key:"setListRender",value:function(e){this.selected_render=e}},{key:"setList",value:function(e){this.select_list.list.array=e}},{key:"getList",value:function(){return this.select_list.list.array}},{key:"getCurIndex",value:function(){return this.select_index}},{key:"setCurIndex",value:function(e){this.select_list.list.selectedIndex=e}},{key:"getCurData",value:function(){return this.select_list.list.array[this.select_index]}},{key:"destroy",value:function(){this.select_box=void 0,this.select_list=void 0,this.selected_render=void 0}}]),e}();t.SelectCtrl=s},25463:(e,t,n)=>{"use strict";var r=n(23710),i=n(67272),a=n(8171);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(66329)),l=a(n(15375)),u=a(n(17061)),s=a(n(45408)),c=a(n(97709)),f=a(n(38191)),d=a(n(52305)),h=a(n(25937)),v=a(n(68700)),p=n(89662),y=n(58465),g=n(89970),m=n(84228);var _=function(e){(0,c.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,d.default)(t);if(n){var a=(0,d.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,f.default)(this,e)});function a(){var e;return(0,l.default)(this,a),(e=i.apply(this,arguments)).isModal=!0,e}return(0,u.default)(a,[{key:"onAwake",value:function(){var e=this;(0,y.onLangChange)(this,(function(t){e.initLang(t)})),this.btn_confirm.on(p.Event.CLICK,this,(function(){e.close()}))}},{key:"initLang",value:function(e){var t=this.btn_confirm_label,n=g.InternationalTip[e].confirm;t.text=n}},{key:"showReward",value:function(e){var t=this;return new h.default((function(n,r){var i=(0,y.getLang)(),a=g.InternationalTip[i],o=a.luckyDrawTip2,l=a.bullet,u=t.item_num,s=t.item_type,c=t.bullet_icon,f=t.bullet_num,d=t.txt_label;t.close_resolve=n;var h=e.type,v=e.num,p="bullet"===h,m=p?l:h,_=v+"";d.innerHTML=p?'<div style="width: 392px;height: 32px;line-height:32px;font-size: 24px;color:#d3d6ff;align:center;"><span>$0</span><span style="margin-right: 10px;">&nbsp;$1&nbsp;</span><span color="#ffdd76">$2</span></div>'.replace("$0",o).replace("$1",m).replace("$2","x".concat(v)):'<div style="width: 392px;height: 32px;line-height:32px;font-size: 24px;color:#d3d6ff;align:center;"><span>$0</span><span color="#ffdd76" style="margin-right: 10px;">&nbsp;$2&nbsp;</span><span>$1</span></div>'.replace("$0",o).replace("$1",m).replace("$2","".concat(v)),u.visible=s.visible=c.visible=f.visible=!1,p?(c.visible=f.visible=!0,f.text=_):(u.visible=s.visible=!0,u.text=_,s.text=h.toUpperCase());var k=1/(h.length/4),b=1/(_.length/4);b=b>1?1:b,k=k>.95?.95:k,u.scale(b,b),s.scale(k,k)}))}},{key:"onClosed",value:function(){var e;null===(e=this.close_resolve)||void 0===e||e.call(this)}},{key:"destroy",value:function(){(0,y.offLangChange)(this),(0,s.default)((0,d.default)(a.prototype),"destroy",this).call(this)}}],[{key:"preEnter",value:function(e){return t=this,n=void 0,r=void 0,i=o.default.mark((function t(){var n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.default.director.openDialog({dialog:a,use_exist:!0,stay_scene:!0});case 2:return n=t.sent,t.next=5,n.showReward(e);case 5:case"end":return t.stop()}}),t)})),new(r||(r=h.default))((function(e,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function l(e){try{u(i.throw(e))}catch(e){a(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,l)}u((i=i.apply(t,n||[])).next())}));var t,n,r,i}}]),a}(m.ui.pop.lottery.rewardUI);t.default=_},55088:(e,t,n)=>{"use strict";var r=n(66890),i=n(23710),a=n(83239),o=n(46993),l=n(99015),u=n(14571),s=n(32542),c=n(43693),f=n(67272),d=n(82530),h=n(8171);f(t,"__esModule",{value:!0}),t.default=void 0;var v,p=h(n(25937)),y=h(n(4918)),g=h(n(24142)),m=h(n(15375)),_=h(n(17061)),k=h(n(45408)),b=h(n(97709)),w=h(n(38191)),S=h(n(52305)),x=h(n(68700)),C=n(26366),I=n(89662),E=n(41107),M=n(80356),A=n(58465),B=n(14082),L=n(89970),T=n(84228),P=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var i={},a=f&&d;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?d(e,o):null;l&&(l.get||l.set)?f(i,o,l):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(n(13817)),N=n(79699);function O(e){if("function"!=typeof c)return null;var t=new c,n=new c;return(O=function(e){return e?n:t})(e)}function D(e,t){var n=void 0!==l&&u(e)||e["@@iterator"];if(!n){if(s(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return F(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?o(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e[e.NoHave=0]="NoHave",e[e.Have=1]="Have",e[e.Used=2]="Used"}(v||(v={}));var U=function(e){(0,b.default)(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!i)return!1;if(i.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,S.default)(t);if(n){var a=(0,S.default)(this).constructor;e=i(r,arguments,a)}else e=r.apply(this,arguments);return(0,w.default)(this,e)});function a(){var e;return(0,m.default)(this,a),(e=r.apply(this,arguments)).isModal=!0,e.is_init=!1,e.renderGunList=function(t,n){var r=e.gun_list.array[n],i=r.gun_name,a=r.gun_id,o=r.gun_status,l=r.gun_price,u=t.name_label,s=t.icon,c=t.stack_btn,f=t.icon_check,d=t.select_bd,h=(0,A.getLang)(),p=L.InternationalTip[h],y=p.use,g=p.inUse;u.text=i,s.skin="image/pop/shop/icon/".concat(a,".png"),c.selectedIndex=o;var m=c.getChildAt(o),_=m.getChildByName("label");f.visible=!1,d.visible=!1,m.offAll(),o===v.NoHave?(_.text=l+"",m.on(I.Event.CLICK,m,(function(){(0,P.buySkinAlert)(l,i).then((function(t){t&&(0,N.buyItem)(a,1,l).then((function(){e.buyGunSkin(a)}))}))}))):o===v.Have?(_.text=y,m.on(I.Event.CLICK,m,(function(){(0,N.useGunSkin)(a).then((function(){e.useGunSkin(a)}))}))):o===v.Used&&(_.text=g,f.visible=!0,d.visible=!0)},e.renderItemList=function(t,n){var r=e.item_list.array[n],i=r.item_name,a=r.item_id,o=r.item_num,l=r.item_price,u=t.name_label,s=t.icon,c=t.num_label,f=t.price_label,d=t.btn_buy;u.text=i,c.text=o+"",s.skin="image/pop/shop/icon/".concat(a,".png"),f.text=l+"",d.offAll(),d.on(I.Event.CLICK,d,(function(){P.default.preEnter({type:i,id:a,num:o,price:l})}))},e}return(0,_.default)(a,[{key:"init",value:function(){var e=this.gun_list,t=this.item_list;e.array=[],t.array=[],e.renderHandler=new E.Handler(e,this.renderGunList,null,!1),t.renderHandler=new E.Handler(t,this.renderItemList,null,!1)}},{key:"onEnable",value:function(){this.is_init||this.init(),this.is_init=!0}},{key:"initData",value:function(e){var t,n=this.gun_list,r=this.item_list,i=e.gun,a=e.item,o=[],l=D(i);try{for(l.s();!(t=l.n()).done;){var u=t.value,s=u.name,c=u.id,f=u.status,d=u.price,h=G(c,s);o.push({gun_name:h,gun_id:c,gun_status:f,gun_price:d})}}catch(e){l.e(e)}finally{l.f()}n.array=o;var v,p=[],y=D(a);try{for(y.s();!(v=y.n()).done;){var g=v.value,m=g.name,_=g.id,k=g.price,b=g.num,w=G(_,m);p.push({item_name:w,item_id:_,item_price:k,item_num:b})}}catch(e){y.e(e)}finally{y.f()}r.array=p}},{key:"useGunSkin",value:function(e){var t,n=D(this.gun_list.array);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.gun_id===e?r.gun_status=v.Used:r.gun_status!==v.NoHave&&(r.gun_status=v.Have)}}catch(e){n.e(e)}finally{n.f()}this.gun_list.refresh()}},{key:"buyGunSkin",value:function(e){var t,n=D(this.gun_list.array);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.gun_id===e){r.gun_status=v.Have;break}}}catch(e){n.e(e)}finally{n.f()}this.gun_list.refresh()}},{key:"onAwake",value:function(){var e=this;(0,A.onLangChange)(this,(function(t){e.initLang(t)}))}},{key:"initLang",value:function(e){var t=this.title,n=this.item_tag,r=this.skin_tag,i=L.InternationalTip[e],a=i.skin,o=i.item;t.skin="image/international/title_shop_".concat(e,".png"),n.text=o,r.text=a}},{key:"destroy",value:function(){(0,A.offLangChange)(this),(0,k.default)((0,S.default)(a.prototype),"destroy",this).call(this)}}],[{key:"preEnter",value:function(){M.AudioCtrl.play(B.AudioRes.PopShow);var e=x.default.director.openDialog({dialog:a,use_exist:!0,stay_scene:!0}),t=(0,N.getShopInfo)();return p.default.all([e,t]).then((function(e){var t=(0,g.default)(e,2),n=t[0],r=t[1];n.initData(r)}))}},{key:"preLoad",value:function(){return C.loaderManager.preLoad("Dialog","pop/shop/shop.scene")}}]),a}(T.ui.pop.shop.shopUI);function G(e,t){var n=(0,A.getLang)(),r=L.InternationalTip[n],i=r.skin,a=r.bomb,o=r.freeze,l=r.lock,u="";return-1!==(0,y.default)(t).call(t,"皮肤")&&(u=t.replace("皮肤","")),("2001"===e?l:"2002"===e?o:"2003"===e?a:i)+u}t.default=U},10535:(e,t,n)=>{"use strict";var r=n(23710),i=n(83239),a=n(46993),o=n(99015),l=n(14571),u=n(32542),s=n(67272),c=n(8171);s(t,"__esModule",{value:!0}),t.default=void 0;var f=c(n(66329)),d=c(n(15375)),h=c(n(17061)),v=c(n(97709)),p=c(n(38191)),y=c(n(52305)),g=c(n(25937)),m=c(n(60855)),_=c(n(67357)),k=c(n(68700)),b=n(22833),w=n(80356),S=n(14082),x=n(84228),C=n(45359);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function(e,t,n,r){return new(n||(n=g.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},M={count:2,click_through:!0,auto_hide:!0},A=function(e){(0,v.default)(c,e);var t,n,s=(t=c,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,y.default)(t);if(n){var a=(0,y.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,p.default)(this,e)});function c(){var e;return(0,d.default)(this,c),(e=s.apply(this,arguments)).isModal=!0,e}return(0,h.default)(c,[{key:"onResize",value:function(e,t){this.width=e,this.height=t,this.pivotX=e/2,this.pivotY=t/2}},{key:"tip",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new g.default((function(r,i){var a;if(!e)return r();var o=n=(0,m.default)((0,m.default)({},M),n),l=o.count,u=o.show_count,s=o.click_through,c=o.auto_hide,f=u?(0,_.default)(a="".concat(e," ")).call(a,l):e;t.mouseThrough=s,(0,C.clearCount)(t.count_id),t.count_id=(0,C.startCount)(l,1,(function(n){if(u){var i,a=Math.floor(l*n);t.setTipText((0,_.default)(i="".concat(e," ")).call(i,a))}0===n&&(c&&t.close(),r())})),t.show(),t.setTipText(f)}))}},{key:"analysisSize",value:function(e){var t=this.label,n=this.bg,r=this.inner,s=e.split("\n"),c=s.length,f=100+15*function(e){var t,n=[],r=function(e,t){var n=void 0!==o&&l(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return I(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}(e);try{for(r.s();!(t=r.n()).done;){var s=t.value;n.push((0,b.getStringLength)(s))}}catch(e){r.e(e)}finally{r.f()}return Math.max.apply(this,n)}(s),d=50+30*c;f=f>300?f:300,d=d>120?d:120,r.width=t.width=n.width=f,r.height=t.height=n.height=d}},{key:"setTipText",value:function(e){this.label.text=e}}],[{key:"tip",value:function(e,t){return E(this,void 0,void 0,f.default.mark((function n(){return f.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return w.AudioCtrl.play(S.AudioRes.PopShow),n.next=3,k.default.director.openDialog({dialog:c,use_exist:!0},{beforeOpen:function(t){t.analysisSize(e)}});case 3:return this.instance=n.sent,n.next=6,this.instance.tip(e,t);case 6:case"end":return n.stop()}}),n,this)})))}},{key:"hide",value:function(){return E(this,void 0,void 0,f.default.mark((function e(){return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.instance&&this.instance.close();case 1:case"end":return e.stop()}}),e,this)})))}}]),c}(x.ui.pop.alert.tipUI);t.default=A},65710:(e,t,n)=>{"use strict";var r=n(23710),i=n(83239),a=n(46993),o=n(99015),l=n(14571),u=n(32542),s=n(67272),c=n(8171);s(t,"__esModule",{value:!0}),t.default=void 0;var f=c(n(66329)),d=c(n(15375)),h=c(n(17061)),v=c(n(97709)),p=c(n(38191)),y=c(n(52305)),g=c(n(25937)),m=n(24629),_=c(n(68700)),k=n(22833),b=n(80356),w=n(14082),S=n(84228),x=n(90564),C=n(45359);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function(e,t,n,r){return new(n||(n=g.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},M="pop/alert/topTip.scene",A=function(e){(0,v.default)(c,e);var t,n,s=(t=c,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,y.default)(t);if(n){var a=(0,y.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,p.default)(this,e)});function c(){var e;return(0,d.default)(this,c),(e=s.call(this)).isShowEffect=!1,e.isPopupCenter=!1,e.zOrder=100,e}return(0,h.default)(c,[{key:"tip",value:function(e,t){var n=this;return new g.default((function(r,i){if(!e)return r();(0,C.startCount)(t,1,(function(e){0===e&&(n.close(),r())})),n.analysisSize(e),n.setTipText(e)}))}},{key:"analysisSize",value:function(e){var t=this.label,n=this.bg,r=e.split("\n"),s=r.length,c=100+18*function(e){var t,n=[],r=function(e,t){var n=void 0!==o&&l(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return I(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}(e);try{for(r.s();!(t=r.n()).done;){var s=t.value;n.push((0,k.getStringLength)(s))}}catch(e){r.e(e)}finally{r.f()}return Math.max.apply(this,n)}(r),f=30+30*s;c=c>750?c:750,f=f>70?f:70,this.width=t.width=n.width=c,this.height=t.height=n.height=f,this.x=(m.Laya.stage.width-this.width)/2}},{key:"setTipText",value:function(e){this.label.text=e,(0,x.slide_down_in)(this)}}],[{key:"tip",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return E(this,void 0,void 0,f.default.mark((function n(){var r;return f.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return b.AudioCtrl.play(w.AudioRes.PopShow),n.next=3,_.default.director.openDialog(M);case 3:return r=n.sent,this.instance=r,n.next=7,r.tip(e,t);case 7:case"end":return n.stop()}}),n,this)})))}},{key:"hide",value:function(){return E(this,void 0,void 0,f.default.mark((function e(){var t;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null==(t=this.instance)?void 0:t.visible)&&(null==t||t.close());case 2:case"end":return e.stop()}}),e,this)})))}}]),c}(S.ui.pop.alert.topTipUI);t.default=A},94133:(e,t,n)=>{"use strict";var r=n(23710),i=n(67272),a=n(8171);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(15375)),l=a(n(17061)),u=a(n(45408)),s=a(n(97709)),c=a(n(38191)),f=a(n(52305)),d=a(n(68700)),h=n(80356),v=n(58465),p=n(14082),y=n(89970),g=n(11263),m=n(84228),_=a(n(63323));var k=function(e){(0,s.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,f.default)(t);if(n){var a=(0,f.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,c.default)(this,e)});function a(){var e;return(0,o.default)(this,a),(e=i.apply(this,arguments)).isModal=!0,e.onMusicChange=function(e){g.modelState.app.setting.setMusic(e)},e.onVoiceChange=function(e){g.modelState.app.setting.setVoice(e)},e}return(0,l.default)(a,[{key:"onAwake",value:function(){var e=this;(0,v.onLangChange)(this,(function(t){e.initLang(t)}));var t=g.modelState.app.setting,n=t.voice,r=t.music,i=this.music_progress,a=this.voice_progress,o=this.version,l=new _.default(i,this.onMusicChange),u=new _.default(a,this.onVoiceChange);u.setProgress(n),l.setProgress(r),this.music_ctrl=l,this.voice_ctrl=u,o.text=d.default.utils.formatTimestamp(Number(window.version))}},{key:"destroy",value:function(){var e=this.music_ctrl,t=this.voice_ctrl;(0,v.offLangChange)(this),e.destroy(),t.destroy(),this.music_ctrl.destroy(),this.voice_ctrl.destroy(),(0,u.default)((0,f.default)(a.prototype),"destroy",this).call(this)}},{key:"initLang",value:function(e){var t=this.sound_label,n=this.music_label,r=this.title,i=y.InternationalTip[e],a=i.music,o=i.soundEffects,l=i.volumeSetting;r.text=l,t.text=o,n.text=a}}],[{key:"preEnter",value:function(){h.AudioCtrl.play(p.AudioRes.PopShow),d.default.director.openDialog({dialog:a,use_exist:!0})}}]),a}(m.ui.pop.alert.voiceUI);t.default=k},81756:(e,t,n)=>{"use strict";var r=n(66890),i=n(43693),a=n(67272),o=n(82530),l=n(8171);a(t,"__esModule",{value:!0}),t.activeAim=function(e){var t=k("aim_big");(0,p.playSkeleton)(t,0,!0),t.pos(e.x,e.y)},t.activeAimFish=function(e,t,n){if(e){var r=k("aim"),i=m.fish,a=e.pos;i&&(i.event.offAllCaller(r),(0,v.log)(i.event.getBind("FishEvent.Move"),i.id)),m.fish=e,m.ori_pos=n,w(),e.visible&&((0,p.playSkeleton)(r,0,!0),r.pos(a.x,a.y)),e.event.on(d.FishEvent.VisibleChange,(function(e){e?((0,p.playSkeleton)(r,0,!0),r.pos(a.x,a.y)):(0,p.stopSkeleton)(r)}),r),e.event.on(d.FishEvent.Move,(function(e){var i=e.pos,a=i.x,o=i.y;r.pos(a,o),t&&b({x:a,y:o},n)}),r),e.event.on(d.FishEvent.Destroy,(function(){_("aim"),e.event.offAllCaller(r)}),r)}},t.createPoints=b,t.stopAim=_;var u=l(n(78953)),s=l(n(2057)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var i={},l=a&&o;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=l?o(e,u):null;s&&(s.get||s.set)?a(i,u,s):i[u]=e[u]}return i.default=e,n&&n.set(e,i),i}(n(86116)),f=n(6893),d=n(3828),h=n(64467),v=n(55161),p=n(77513),y=n(48652);function g(e){if("function"!=typeof i)return null;var t=new i,n=new i;return(g=function(e){return e?n:t})(e)}var m={point_list:[],points_temp:[],aim_ani_map:new u.default};function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"aim",t=m.aim_ani_map,n=m.fish,r=m.point_list,i=t.get(e);i&&(i.stop(),i.removeSelf()),"aim"===e&&(r.length&&(m.ori_pos=void 0,w()),n&&(n.event.offAllCaller(i),m.fish=void 0))}function k(e){var t=m.aim_ani_map,n=y.viewState.ani_wrap,r=t.get(e);return!r||r.destroyed?(r=(0,h.createSprite)("other",e),n.addChild(r),t.set(e,r)):r.parent||n.addChild(r),r}function b(e,t){var n=m.point_list,r=y.viewState.ani_wrap,i=new c.Vector(e.x-t.x,e.y-t.y),a=i.len(),o=i.clone().normalize(),l=Math.ceil(a/50);!function(e){var t=m.point_list,n=m.points_temp,r=t.length;if(r<e)for(var i=r;i<e;i++){var a=n.pop()||(0,f.createImg)("image/game/aim_point");a.pivot(9.5,9.5),t.push(a)}else if(r>e)for(var o=r-1;o>=e;o--){var l=t[o];l.removeSelf(),n.push(l),(0,s.default)(t).call(t,o,1)}}(l);for(var u=0;u<l;u++){var d=n[u],h=o.clone().scale(50*u,50*u),v=t.x+h.x,p=t.y+h.y;d.x=v,d.y=p,r.addChild(d)}}function w(){for(var e=m.point_list,t=m.points_temp,n=e.length-1;n>=0;n--){var r=e[n];r.removeSelf(),t.push(r),(0,s.default)(e).call(e,n,1)}}},59446:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.scale_in=y,t.showAwardCircle=function(e,t,n,r,i){return p(this,void 0,void 0,a.default.mark((function l(){var m=this;return a.default.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",new o.default((function(o,l){return p(m,void 0,void 0,a.default.mark((function l(){var p,m,_,k,b;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return p=h.viewState.ani_overlay,m=(0,v.createAni)("award_circle"),_=h.viewState.game.upside_down,k=1,_?(m.scaleY=-1,k=-1):m.scaleY=1,e=(0,v.calcPosRange)(e,135,135),s.AudioCtrl.play(c.AudioRes.FlySkill),b=g(e,t,n),p.addChild(m),(0,d.playSkeleton)(m,0,!1),m.pos(e.x,e.y),a.next=13,y(b,{x:1.5*Math.abs(k),y:1.5*k},400,(function(e,t,n,a){return u.Ease.elasticOut(e,t,n,a,r,i)}));case 13:(0,f.tweenLoop)({sprite:b,props_arr:[{rotation:0},{rotation:-30},{rotation:0},{rotation:30}],time:80,step_fn:function(e){10===e&&((0,v.tempAni)("award_circle",m),b.destroy(),(0,f.stopAni)(b),o())}});case 14:case"end":return a.stop()}}),l)})))})));case 1:case"end":return l.stop()}}),l)})))};var a=i(n(66329)),o=i(n(25937)),l=n(96530),u=n(45840),s=n(80356),c=n(14082),f=n(90564),d=n(77513),h=n(48652),v=n(44560),p=function(e,t,n,r){return new(n||(n=o.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))};function y(e,t,n,r){return p(this,void 0,void 0,a.default.mark((function i(){var o,l;return a.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,f.completeAni)(e);case 2:return r=r||"circleIn",n=n||400,o={alpha:.2,scaleX:.2*t.x,scaleY:.2*t.y,visible:!0},l={alpha:1,scaleX:1*t.x,scaleY:1*t.y},i.abrupt("return",(0,f.tween)({sprite:e,start_props:o,end_props:l,time:n,ease_fn:r}));case 7:case"end":return i.stop()}}),i)})))}function g(e,t,n){var r=h.viewState.ani_overlay,i=h.viewState.game.upside_down,a=new l.Label;a.zOrder=10,a.font=n?"numYellow40":"numWhite40",a.text="+"+t,r.addChild(a);var o=a.getBounds();return a.pivot(o.width/2,o.height/2),a.pos(e.x,e.y),i&&(a.scaleY=-1),a}},44560:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.calcPosRange=_,t.createAni=w,t.createAwardCoin=g,t.showAwardCoin=function(e,t,n,r){return y(this,void 0,void 0,a.default.mark((function i(){var o,l,u;return a.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=g(e,n),l=o.coins,u=o.pos,(0,d.sleep)(.5).then((function(){m(u,n,r)})),i.next=4,k(l,t);case 4:case"end":return i.stop()}}),i)})))},t.showAwardNum=m,t.tempAni=S;var a=i(n(66329)),o=i(n(25937)),l=i(n(46818)),u=i(n(74779)),s=n(24629),c=n(89662),f=n(96530),d=n(90564),h=n(64467),v=n(77513),p=n(48652),y=function(e,t,n,r){return new(n||(n=o.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))};function g(e,t){var n=p.viewState.ani_overlay,r=t/8>=8?8:Math.ceil(t/8),i=r>4?2:1,a=Math.ceil(r/i),o=[];e=_(e,(10*(a-1)+70*a)/2,(10*(i-1)+70*i)/2);for(var l=0;l<a;l++)for(var u=0;u<i;u++){var s=w("coin"),c=p.viewState.game.upside_down;s.scaleY=c?-1:1,s.visible=!1,n.addChild(s);var f=e.x+80*(2*l+1-a)/2,d=e.y+80*(2*u+1-i)/2;s.play(0,!0),s.pos(f,d),o.push(s)}return{coins:o,pos:e}}function m(e,t,n){var r=p.viewState.ani_overlay,i=p.viewState.game.upside_down,a=w("award_light"),o=new f.Label;a.zOrder=5,o.zOrder=10,o.font=n?"numYellow40":"numWhite40",o.text="+"+t,i&&(o.scaleY=-1),r.addChild(o),r.addChild(a);var l=o.getBounds();o.pivot(l.width/2,l.height/2),o.pos(e.x,e.y),a.pos(e.x,e.y),a.once(c.Event.STOPPED,a,(function(){o.destroy(),a.destroy(),S("award_light",a)})),a.play(0,!1)}function _(e,t,n){var r=e.x,i=e.y,a=p.viewState.ani_overlay,o=s.Laya.stage.width,l=s.Laya.stage.height,u=(a.width-o)/2,c=u+o;return r-t<u?r=u+t:r+t>c&&(r=c-t),i-n<0?i=n:i+n>l&&(i=l-n),{x:r,y:i}}function k(e,t){var n,r=this,i=(0,l.default)(n=(0,u.default)(e).call(e)).call(n,(function(e,n){return y(r,void 0,void 0,a.default.mark((function r(){var i;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i={x:e.x,y:e.y},r.next=3,(0,d.slide_up_in)(e,500);case 3:return r.next=5,(0,d.sleep)(.5+.2*n);case 5:return r.next=7,(0,d.move)(e,i,t,500);case 7:e.removeSelf(),S("coin",e);case 9:case"end":return r.stop()}}),r)})))}));return o.default.all(i)}var b={};function w(e){var t=b[e];t||(t=[],b[e]=[]);var n=t.pop();return n&&!n.destroyed||(n=(0,h.createSprite)("other",e)),(0,v.playSkeleton)(n,0,!0),n}function S(e,t){var n=b[e];n||(n=[],b[e]=[]),t.removeSelf(),t.stop(),n.push(t)}},38703:(e,t,n)=>{"use strict";var r=n(83239),i=n(46993),a=n(99015),o=n(14571),l=n(32542),u=n(67272),s=n(8171);u(t,"__esModule",{value:!0}),t.awardSkill=function(e,t,n,r){return k(this,void 0,void 0,c.default.mark((function i(){var a,o,l;return c.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:a=m(n),i.prev=1,l=c.default.mark((function n(){var i,a,l,u,s;return c.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=o.value,a=i.itemNum,l=i.itemId,u=S(),"3001"===l?(s=(0,h.getCurrencyIcon)(r),u.setIcon(s)):u.setId(l),u.setNum(a),u.pos(e.x,e.y),n.next=8,(0,v.fade_in)(u).then((function(){return(0,v.sleep)(.5)})).then((function(){return(0,v.tween)({sprite:u,start_props:e,end_props:(0,d.default)((0,d.default)({},t),{alpha:.2,scaleX:.4,scaleY:.4*u.scaleY}),time:2e3}).then((function(){w(u)}))}));case 8:case"end":return n.stop()}}),n)})),a.s();case 4:if((o=a.n()).done){i.next=8;break}return i.delegateYield(l(),"t0",6);case 6:i.next=4;break;case 8:i.next=13;break;case 10:i.prev=10,i.t1=i.catch(1),a.e(i.t1);case 13:return i.prev=13,a.f(),i.finish(13);case 16:case"end":return i.stop()}}),i,null,[[1,10,13,16]])})))};var c=s(n(66329)),f=s(n(25937)),d=s(n(60855)),h=n(54375),v=n(90564),p=n(77513),y=s(n(79967)),g=n(48652);function m(e,t){var n=void 0!==a&&o(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return _(e,t);var a=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?i(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,s=function(){};return{s,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=function(e,t,n,r){return new(n||(n=f.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},b=[];function w(e){e.removeSelf(),e.unHighlight(),e.scaleY=1,b.push(e)}function S(){var e=g.viewState.ani_overlay,t=g.viewState.game.upside_down,n=b.pop();return n&&!n.destroyed||(n=new y.default).pivot(n.width/2,n.height/2),(0,p.setProps)(n,{scaleX:1,alpha:1,scaleY:t?-1:1}),e.addChild(n),n.highlight(),n}},1141:(e,t,n)=>{"use strict";n(67272)(t,"__esModule",{value:!0}),t.activeExploding=function(e){var t,n,l=(t=a.viewState.ani_wrap,(n=(0,o.createSkeletonPool)("other","exploding")).scale(2,2),n.pos(t.width/2,t.height/2),t.addChild(n),n.alpha=.8,n);l.once(r.Event.STOPPED,l,(function(){(0,o.recoverSkeletonPool)("other","exploding",l)})),l.pos(e.x,e.y),(0,i.playSkeleton)(l,0,!1)};var r=n(89662),i=n(77513),a=n(48652),o=n(70903)},32354:(e,t,n)=>{"use strict";n(67272)(t,"__esModule",{value:!0}),t.activeFreeze=function(){u(),r.once(i.Event.STOPPED,r,(function(){s()})),(0,o.playSkeleton)(r,0,!1)},t.loopFreeze=s,t.stopFreeze=function(){r.offAll(),r.stop(),r.removeSelf()};var r,i=n(89662),a=n(64467),o=n(77513),l=n(48652);function u(){var e=l.viewState.ani_wrap;!r||r.destroyed?((r=(0,a.createSprite)("other","freezing")).pos(e.width/2,e.height/2),e.addChild(r),r.alpha=.8):r.parent||e.addChild(r)}function s(){u(),(0,o.playSkeleton)(r,1,!0)}},4058:(e,t,n)=>{"use strict";n(67272)(t,"__esModule",{value:!0}),t.activePosTip=function(){return e=(0,i.getLang)(),t=o.viewState.ani_overlay,n=o.viewState.game.upside_down,r&&!r.destroyed||(r=(0,l.createAni)("pos_tip")),r.parent||t.addChild(r),r.scaleX=n?-1:1,(0,a.playSkeleton)(r,e,!0),r;var e,t,n},t.stopPosTip=function(){!r&&r.destroyed||(0,l.tempAni)("pos_tip",r)};var r,i=n(58465),a=n(77513),o=n(48652),l=n(44560)},40163:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.activeShoalWave=function(e){return new o.default((function(t,n){var r;r=c.viewState.ani_wrap,!a||a.destroyed?((a=(0,u.createSprite)("other","shoal_wave")).scale(2,2),a.pos(r.width/2,r.height/2),r.addChild(a),a.alpha=.8):a.parent||r.addChild(a),a.once(l.Event.STOPPED,a,(function(){f(),t()})),a.scaleX=e?2:-2,(0,s.playSkeleton)(a,0,!1)}))},t.stopShoalWave=f;var a,o=i(n(25937)),l=n(89662),u=n(64467),s=n(77513),c=n(48652);function f(){a.offAll(),a.stop(),a.removeSelf()}},69213:(e,t,n)=>{"use strict";var r=n(23710),i=n(67272),a=n(8171);i(t,"__esModule",{value:!0}),t.FishView=void 0;var o=a(n(60855)),l=a(n(25937)),u=a(n(81302)),s=a(n(24142)),c=a(n(15375)),f=a(n(17061)),d=a(n(89395)),h=a(n(45408)),v=a(n(97709)),p=a(n(38191)),y=a(n(52305)),g=n(6893),m=n(78362),_=n(54375),k=n(64467),b=n(54049),w=n(77513),S=n(48652),x=n(70903);var C=function(e){(0,v.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,y.default)(t);if(n){var a=(0,y.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,p.default)(this,e)});function a(e,t){var n;return(0,c.default)(this,a),(n=i.call(this)).info=e,n.pool=t,n.mouseEnabled=!0,n.mouseThrough=!1,n.visible=!1,window.fish=(0,d.default)(n),n}return(0,f.default)(a,[{key:"initAni",value:function(){if(!this.fish_ani){var e=this.info.type,t=(0,k.getSpriteInfo)("fish",e),n=t.offset,r=t.turn_ani,i=this.createFishAni(),a=(0,s.default)(n,4),o=a[0],l=a[1],u=a[2],c=a[3],f=l+c,d=o+u,h=c,v=o;this.size(f,d),this.pivot(h,v),i.pos(h,v),this.addChild(i),(0,w.playSkeleton)(i,0,!0),this.fish_ani=i,this.turn_ani=r,this.initShadow(),this.zOrder=Number(e)}}},{key:"createFishAni",value:function(){var e=this.info,t=e.type,n=e.currency,r=(0,k.getSpriteInfo)("fish",t),i=r.coin_flag,a=r.coin_color,o=r.scale,l=(0,x.createSkeletonPool)("fish",t,null,i?1:void 0);if(i){var u=(0,x.createSkeletonPool)("other","coin_light");u.zOrder=10,l.addChild(u),u.scale(1.5,1.5),u.alpha=.6,(0,w.playSkeleton)(u,0,!0),this.coin_light=u;var s=(0,_.getCurrencyIcon)(n);s&&(0,g.createSprite)(s).then((function(e){e.filters=[(0,w.createColorFilter)(a)];var t=e.drawToTexture(e.width,e.height,0,0);l.setSlotSkin("huobi",t)}))}return o&&l.scale(o,o),l}},{key:"initShadow",value:function(){var e=this.pool,t=this.info.type,n=S.viewState.game.upside_down,r=(0,x.createImgPool)("image/game/shadow");r.pivot(r.texture.width/2,r.texture.height/2),e.addChild(r);var i=(0,k.getShadowInfo)(t);this.shadow_node=r,this.shadow_info=n?(0,o.default)((0,o.default)({},i),{y:-i.y}):i,(i.scaleX||i.scaleY)&&r.scale(i.scaleX||1,i.scaleY||1)}},{key:"playSwimAni",value:function(){var e=this.fish_ani,t=this.turn_ani_name;if(e){var n=t||0;(0,w.playSkeleton)(e,n,!0)}}},{key:"stopSwimAni",value:function(){var e=this.fish_ani;e&&(0,w.stopSkeleton)(e)}},{key:"setVisible",value:function(e){this.visible=e,e?(this.initAni(),this.playSwimAni()):this.stopSwimAni()}},{key:"syncPos",value:function(e,t,n){var r=this.turn_ani,i=this.fish_ani,a=this.visible,o=this.shadow_node,l=this.shadow_info;if(a){var u=(0,b.vectorToDegree)(t)+90;if(n){var s=u>0&&u<180;if(r){var c=s?"right":"left";this.turn_ani_name!==c&&(this.turn_ani_name=c,(0,w.playSkeleton)(i,c,!0))}else(s?-1:1)!==this.scaleX&&(this.scaleX=s?-1:1)}else this.rotation=u,o.rotation=u+90;this.pos(e.x,e.y),o.pos(e.x+l.x,e.y+l.y)}}},{key:"beCastAni",value:function(){var e=this;return new l.default((function(t,n){var r=e.fish_ani;r&&(r.filters=[(0,w.createRedFilter)()],clearTimeout(e.time_out),e.time_out=(0,u.default)((function(){r.destroyed||(r.filters=[],t())}),500))}))}},{key:"destroy",value:function(){var e,t=this.info.type;(null===(e=null==this?void 0:this.fish_ani)||void 0===e?void 0:e.filters)&&(this.fish_ani.filters=[]),this.shadow_node&&(this.shadow_node.rotation=0),(0,x.recoverSkeletonPool)("other","coin_light",this.coin_light),(0,x.recoverSkeletonPool)("fish",t,this.fish_ani),(0,x.recoverImgPool)("image/game/shadow",this.shadow_node),this.fish_ani=void 0,this.shadow_node=void 0,clearTimeout(this.time_out),(0,h.default)((0,y.default)(a.prototype),"destroy",this).call(this)}}]),a}(m.Sprite);t.FishView=C},92606:(e,t,n)=>{"use strict";var r=n(23710),i=n(67272),a=n(8171);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(66329)),l=a(n(15375)),u=a(n(17061)),s=a(n(45408)),c=a(n(97709)),f=a(n(38191)),d=a(n(52305)),h=a(n(25937)),v=n(6867),p=n(79520),y=a(n(68700)),g=n(6893),m=n(78362),_=n(89662),k=n(58465),b=n(89970),w=n(84228),S=n(90564),x=n(64467),C=n(55161),I=n(77513),E=n(70903),M=n(48652),A=n(69213),B=a(n(95665));var L=function(e){(0,c.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,d.default)(t);if(n){var a=(0,d.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,f.default)(this,e)});function a(){var e;return(0,l.default)(this,a),(e=i.apply(this,arguments)).bg_num=1,e}return(0,u.default)(a,[{key:"onEnable",value:function(){var e=this;(0,k.onLangChange)(this,(function(t){e.initLang(t)}))}},{key:"initLang",value:function(e){var t=this.skill_box.auto_shoot_txt,n=this.skill_box.auto_shoot_light.visible?"auto_cancel_".concat(e):"auto_".concat(e);t.skin="image/international/".concat(n,".png")}},{key:"setTrialStyle",value:function(){var e=this.btn_gift;this.btn_shop,e.visible=!1}},{key:"showBubbleRefresh",value:function(e){var t=this.bubble_overlay,n=this.bg,r=this.bubble_wall,i=this.bubble_ani;e||(e=this.bg_num),this.bg_num=e,n.skin="image/game/normal_bg/bg".concat(e,".jpg"),i.url="image/game/bg_normal".concat(e,".sk"),r.visible=!1,t.visible=!0,(0,I.playSkeletonOnce)(t,"out").then((function(){t.visible=!1,(0,S.fade_in)(r,300,"",.3),(0,I.playSkeleton)(r,2,!0)}))}},{key:"onResize",value:function(e,t){var n=this.width,r=this.height,i=this.ctrl_box;this.x=(e-n)/2,this.y=(t-r)/2,e>1334&&(e=1334),i.width=e;var a=1;e<1290&&(a=.8),this.triggerResize(a)}},{key:"triggerResize",value:function(e){if(e!==this.resize_scale){this.bullet_box_pos=e>.8?20:-30,this.setBulletBoxPos(this.bullet_box_dir),this.resize_scale=e;var t=this.btn_gift,n=this.btn_voice,r=this.bullet_box,i=this.btn_leave,a=this.btn_help,o=this.btn_shop,l=this.skill_box;i.x=20*e,t.x=120*e,i.x=20*e,n.right=120*e,a.right=20*e,n.y=10*e,r.scale(e,e),n.scale(e,e),t.scale(e,e),i.scale(e,e),a.scale(e,e),o.scale(e,e),l.scale(e,e)}}},{key:"upSideDown",value:function(){var e=this.pool,t=this.gun_wrap,n=this.ani_wrap,r=this.ani_overlay;e.scaleY=t.scaleY=r.scaleY=n.scaleY=-1,this.upside_down=!0}},{key:"addFish",value:function(e){var t=this.pool,n=this.upside_down,r=e.horizon_turn,i=new A.FishView(e,t);return r&&n&&(i.scaleY=-1),t.addChild(i),i}},{key:"addBullet",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.pool,i=(0,x.getSpriteInfo)("bullet",e),a=i.path;return t=n?(0,g.createSkeleton)("".concat(a,"_rage")):(0,E.createSkeletonPool)("bullet",e),r.addChild(t),t.visible=!1,t}},{key:"addNet",value:function(e){var t=this.pool,n=(0,E.createSkeletonPool)("net",e);return t.addChild(n),n}},{key:"onPoolClick",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.offPoolClick();var n=new p.Observable((function(t){var n=e.pool,r=function(e){var r=n.getMousePoint(),i=r.x,a=r.y;e.stopPropagation(),t.next({x:i,y:a})};t.add((function(){n.off(_.Event.CLICK,n,r)})),n.on(_.Event.CLICK,n,r),e.pool_click_observer=t}));return t?n.pipe((0,v.first)()):n}},{key:"offPoolClick",value:function(){var e=this.pool_click_observer;e&&(e.unsubscribe(),this.pool_click_observer=void 0)}},{key:"onFishClick",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.offFishClick();var n=new p.Observable((function(t){var n=e.pool,r=function(e){e.stopPropagation();var n=e.target;n instanceof A.FishView&&t.next(n.info.id)};t.add((function(){n.off(_.Event.CLICK,n,r)})),n.on(_.Event.CLICK,n,r),e.fish_click_observer=t}));return t?n.pipe((0,v.first)()):n}},{key:"offFishClick",value:function(){var e=this.fish_click_observer;e&&(e.unsubscribe(),this.fish_click_observer=void 0)}},{key:"addGun",value:function(){var e=this.gun_wrap,t=new B.default;return e.addChild(t),t}},{key:"setBulletNum",value:function(e){var t=(0,k.getLang)(),n=b.InternationalTip[t].NumBullet;this.bullet_num.text="".concat(n,": ")+e}},{key:"getSkillItemByIndex",value:function(e){return this.skill_box.skill_list.getChildAt(e)}},{key:"getAutoShootSkillItem",value:function(){return this.skill_box.auto_shoot}},{key:"setAutoShootLight",value:function(e){var t=(0,k.getLang)();this.skill_box.auto_shoot_light.visible=e;var n=e?"auto_cancel_".concat(t):"auto_".concat(t);this.skill_box.auto_shoot_txt.skin="image/international/".concat(n,".png")}},{key:"setExchangeRate",value:function(e,t){var n=(0,k.getLang)(),r=b.InternationalTip[n].bullet,i=this.exchange_rate;i.innerHTML='<div style="width: 500px;height: 32px;line-height:32px;font-size: 20px;color:#fff;align:center;"><span>1 $0</span> = <span color="#ffdd76">$1</span> <span>$2</span> </div>'.replace("$0",r).replace("$1",e+"").replace("$2",t),i.style.font="20px Arial"}},{key:"setEnergyRadio",value:function(e){var t=this.skill_box.energy_bar,n=t.mask,r=t.width,i=t.height;n||(n=new m.Sprite,t.mask=n),t.mask.graphics.clear(),t.mask.graphics.drawRect(0,0,r*e,i,"#fff")}},{key:"energyLight",value:function(){var e=this.skill_box.energy_light;return new h.default((function(t,n){e.visible=!0,e.on(_.Event.STOPPED,e,(function(){e.visible=!1,t()})),(0,I.playSkeleton)(e,0,!1)}))}},{key:"setBulletBoxPos",value:function(e){var t=this.bullet_box,n=this.bullet_box_bg,r=this.bullet_box_pos;"left"===e?(t.right=void 0,t.left=r,n.scaleX=1):"right"===e&&(t.right=r,t.left=void 0,n.scaleX=-1),this.bullet_box_dir=e}},{key:"getPoolMousePos",value:function(){return this.pool.getMousePoint()}},{key:"destroy",value:function(){try{(0,k.offLangChange)(this),(0,s.default)((0,d.default)(a.prototype),"destroy",this).call(this)}catch(e){(0,C.error)(e)}}}],[{key:"preEnter",value:function(){return e=this,t=void 0,n=void 0,r=o.default.mark((function e(){var t,n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.default.director.runScene("scenes/game/game.scene");case 2:return t=e.sent,n=t.ani_wrap,r=t.ani_overlay,(0,I.setProps)(M.viewState,{game:t,ani_wrap:n,ani_overlay:r}),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})),new(n||(n=h.default))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function l(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}));var e,t,n,r}}]),a}(w.ui.scenes.game.gameUI);t.default=L},95665:(e,t,n)=>{"use strict";var r=n(23710),i=n(83239),a=n(46993),o=n(99015),l=n(14571),u=n(32542),s=n(67272),c=n(8171);s(t,"__esModule",{value:!0}),t.default=void 0,t.setGunDirection=L;var f=c(n(26312)),d=c(n(67357)),h=c(n(81302)),v=c(n(24142)),p=c(n(15375)),y=c(n(17061)),g=c(n(97709)),m=c(n(38191)),_=c(n(52305)),k=n(37564),b=n(44517),w=n(64467),S=n(54049),x=n(77513),C=n(84228),I=n(48652),E=n(4058);function M(e,t){var n=void 0!==o&&l(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return A(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B=function(e){(0,g.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,_.default)(t);if(n){var a=(0,_.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,m.default)(this,e)});function a(){return(0,p.default)(this,a),i.call(this)}return(0,y.default)(a,[{key:"onEnable",value:function(){this.init(),this.setDirection(this.gun_direct)}},{key:"init",value:function(){var e=this.light,t=this.gun,n=this.base,r=this.body;(0,x.stopSkeleton)(e),(0,x.stopSkeleton)(n),(0,x.playSkeleton)(t,"standby",!0),(0,x.playSkeleton)(r,"standby",!0)}},{key:"setMySelfStyle",value:function(){this.ctrl_box.visible=!0,this.activePosTip()}},{key:"setBulletCost",value:function(e){var t=e.skin,n=e.level_skin,r=e.bullet_cost,i=this.gun;this.score_label.text=r+"",this.gun_skin=t;var a,o,l=["base","light","body"],u=(0,w.getGunSkinMap)(t,n),s=(0,f.default)(l).call(l,(function(e){return!u.has(e)})),c=M(u);try{for(c.s();!(o=c.n()).done;){var h,p=(0,v.default)(o.value,2),y=p[0],g=p[1],m=(0,d.default)(h="".concat(y)).call(h,g),_=this[y];"gun"===y&&(a=m),"light"===y&&"3"===t&&(_.alpha=.6),_.url="ani/gun/".concat(m,".sk"),_.visible=!0}}catch(e){c.e(e)}finally{c.f()}var b,S=M(s);try{for(S.s();!(b=S.n()).done;){var C=b.value,I=this[C];I.visible=!1,I instanceof k.Skeleton&&(0,x.stopSkeleton)(this[C])}}catch(e){S.e(e)}finally{S.f()}(0,x.utilSkeletonLoadUrl)(i,"ani/gun/".concat(a,".sk")).then((function(){(0,x.playSkeleton)(i,"standby",!0)})),L(this,i.rotation)}},{key:"fixServerTopPos",value:function(){var e=this.ani_box,t=this.ctrl_wrap;e.rotation=this.rotation=180,t.scaleX=-1}},{key:"fixClientTopPos",value:function(){this.ctrl_wrap.scaleY=-1}},{key:"setDirection",value:function(e){if(e){var t=this.gun,n=(0,S.vectorToDegree)(e)+90;t.rotation=n,this.gun_direct=e,L(this,n)}}},{key:"fire",value:function(e,t){var n=this.gun,r="".concat(t,":fire");(0,b.asyncQue)(r,(function(){return(0,x.playSkeletonOnce)(n,"fire")})).then((function(e){e&&(0,x.playSkeleton)(n,"standby",!0)})),clearTimeout(this.time_out),this.time_out=(0,h.default)((function(){(0,b.clearAsyncQue)("".concat(t,":fire"))}),250),this.setDirection(e)}},{key:"addBullet",value:function(e,t){return(0,I.addBullet)(e,t)}},{key:"detectDisableChangeBulletCost",value:function(){}},{key:"activePosTip",value:function(){var e=(0,E.activePosTip)();this.addChild(e),e.pos(this.width/2,this.height/2)}},{key:"stopPosTip",value:function(){(0,E.stopPosTip)()}},{key:"setPos",value:function(e,t){this.pos(e,t)}}]),a}(C.ui.scenes.game.gunBoxUI);function L(e,t){var n=e.gun_skin,r=e.body;"5"===n&&(r.rotation=t)}t.default=B},79967:(e,t,n)=>{"use strict";var r=n(23710),i=n(67272),a=n(8171);i(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(15375)),l=a(n(17061)),u=a(n(97709)),s=a(n(38191)),c=a(n(52305)),f=n(78362),d=n(37026),h=n(84228),v=n(77513);var p=function(e){(0,u.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,c.default)(t);if(n){var a=(0,c.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,s.default)(this,e)});function a(){var e;return(0,o.default)(this,a),(e=i.call(this)).init(),e}return(0,l.default)(a,[{key:"init",value:function(){var e=this.overlay,t=new f.Sprite;e.cacheAs="bitmap",t.blendMode="destination-out",e.addChild(t),this.cool_mask=t,e.visible=!1}},{key:"setId",value:function(e){var t=this.skill_icon,n=d.SkillNameMap[e];n?t.skin="image/game/skill_".concat(n,".png"):(n=d.ItemMap[e],t.skin="image/common/coin/".concat(n,".png"))}},{key:"setIcon",value:function(e){this.skill_icon.skin=e}},{key:"setNum",value:function(e){var t=e+"";e>99999&&(t="99999+"),this.num_label.text=t}},{key:"highlight",value:function(){var e=this.border_light;e.visible=!0,(0,v.playSkeleton)(e,0,!0)}},{key:"unHighlight",value:function(){var e=this.border_light;e.visible=!1,(0,v.stopSkeleton)(e)}},{key:"setShortcut",value:function(e){var t=this.shortcut_label;t.visible=!0,t.text=e}},{key:"showCoolTime",value:function(e){var t=this.cool_mask,n=this.overlay,r=t.graphics,i=360*(1-e)-90;r.clear(),0!==e?(n.visible=!0,r.drawPie(40,41,60,270,i,"#fff")):n.visible=!1}},{key:"clearCoolTime",value:function(){this.overlay.visible=!1}}]),a}(h.ui.scenes.game.skillItemUI);t.default=p},70315:(e,t,n)=>{"use strict";var r=n(23710),i=n(83239),a=n(46993),o=n(99015),l=n(14571),u=n(32542),s=n(67272),c=n(8171);s(t,"__esModule",{value:!0}),t.default=void 0;var f=c(n(24142)),d=c(n(15375)),h=c(n(17061)),v=c(n(45408)),p=c(n(97709)),y=c(n(38191)),g=c(n(52305)),m=n(24629),_=c(n(68700)),k=n(41107),b=n(58465),w=n(89970),S=n(90564),x=n(52782),C=n(55161),I=n(77513);function E(e,t){var n=void 0!==o&&l(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return M(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){d=!0,c=e},f:function(){try{f||null==n.return||n.return()}finally{if(d)throw c}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A=function(e){(0,p.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,g.default)(t);if(n){var a=(0,g.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,y.default)(this,e)});function a(){return(0,d.default)(this,a),i.apply(this,arguments)}return(0,h.default)(a,[{key:"onResize",value:function(e,t){e||(e=m.Laya.stage.width,t=m.Laya.stage.height);var n=this.width,r=this.height,i=this.inner,a=this.header,o=a.inner,l=a.middle_btn_wrap,u=a.btn_right_wrap,s=a.left_wrap,c=a.right_wrap;this.x=(e-n)/2,this.y=(t-r)/2,e>1334&&(e=1334),o.width=i.width=e;var f=e/t,d=10*f*f;e/t<1.651&&(d=7*f*f),(0,x.resizeContain)(s,d),(0,x.resizeContain)(u,d),(0,x.resizeContain)(l,d),(0,x.resizeContain)(c,d)}},{key:"onOpened",value:function(){var e=this.header,t=e.coin_menu,n=e.flag_menu;t.list.array=[],n.list.array=[],this.activeAni("normal"),t.list.renderHandler=new k.Handler(this,this.coinMenuRender,void 0,!1),this.initEvent()}},{key:"initEvent",value:function(){var e=this,t=this.header,n=t.flag_menu,r=t.btn_coin_select,i=t.flag_box;(0,b.onLangChange)(this,(function(t){e.initLang(t)})),(0,x.onStageClick)(this,(function(){e.toggleCoinMenu(!1)}),[r]),(0,x.onStageClick)(this,(function(){e.toggleFlagMenu(!1)}),[n,i])}},{key:"initLang",value:function(e){var t=this.match_status,n=this.match_box,r=this.normal_box,i=this.btn_play_now,a=this.header,o=a.btn_get,l=a.btn_charge,u=a.middle_btn_wrap,s=w.InternationalTip[e].stayTuned,c=[["normal",r],["match",n]];t.text=s;for(var d=["btn_play","btn_try"],h=0,v=c;h<v.length;h++){var p=(0,f.default)(v[h],2),y=(p[0],p[1]),g=y.getChildByName("ani");(0,I.playSkeleton)(g,"standby_".concat(e),!0);var m,_=E(d);try{for(_.s();!(m=_.n()).done;){var k=m.value,b=y.getChildByName(k).getChildByName("ani");(0,I.playSkeleton)(b,"standby_".concat(e),!0)}}catch(e){_.e(e)}finally{_.f()}}var S=i.getChildByName("ani");(0,I.playSkeleton)(S,"standby_".concat(e),!0),l.getChildByName("txt_label").skin="image/international/charge_".concat(e,".png"),o.getChildByName("txt_label").skin="image/international/withdraw_".concat(e,".png"),(0,x.resizeContain)(u,10),this.activeAni("normal")}},{key:"setRechargeBtnVisible",value:function(e){this.header.btn_recharge.visible=e,e&&this.onResize()}},{key:"activeAni",value:function(e){for(var t=this.normal_box,n=this.match_box,r=(0,b.getLang)(),i=0,a=[["normal",t],["match",n]];i<a.length;i++){var o=(0,f.default)(a[i],2),l=(o[0],o[1].getChildByName("ani"));(0,I.playSkeleton)(l,"standby_".concat(r),!0)}}},{key:"setNickname",value:function(e){var t=this.header,n=t.nickname,r=t.user_box,i=t.left_wrap;if(n.text=_.default.utils.cutStr(e,12),"GUEST"!==e)return(0,x.resizeContain)(i,10),r.visible=!1;r.visible=!0,(0,b.onLangChange)(this,(function(e){var t=w.InternationalTip[e].guest;n.text=t})),(0,x.resizeContain)(i,10)}},{key:"coinMenuRender",value:function(e,t){var n=e.getChildByName("coin_num"),r=this.header.coin_menu.list.array[t].coin_num,i=14/(1.1*(Number(r)+"").length);i=i>1?1:i,n.scale(i,i),n.width=148/i}},{key:"setCoinData",value:function(e){var t,n=this.header.coin_menu,r=n.list,i=n.bg,a=[],o=E(e);try{for(o.s();!(t=o.n()).done;){var l=(0,f.default)(t.value,2),u=l[0],s=l[1],c=s.num,d=s.icon;a.push({coin_icon:d,coin_name:u,coin_num:c})}}catch(e){o.e(e)}finally{o.f()}r.array=a,a.length<=7?n.height=i.height=r.height=48*a.length+10:n.height=r.height=i.height=346}},{key:"setFlagData",value:function(e){var t,n=this.header.flag_menu,r=n.list,i=n.bg,a=[],o=E(e);try{for(o.s();!(t=o.n()).done;){var l=t.value;a.push({flag_type:l,flag_icon:"image/common/flag/flag_".concat(l,".png")})}}catch(e){o.e(e)}finally{o.f()}r.array=a,n.height=i.height=r.height=61*a.length+20}},{key:"toggleCoinMenu",value:function(e){var t=this.header,n=t.coin_menu,r=t.coin_triangle;n.list.array.length&&(e?(n.y=60,(0,S.fade_in)(n,300),r.rotation=180):((0,S.fade_out)(n,100),n.list.selectedIndex=-1,r.rotation=0))}},{key:"setCurBalance",value:function(e,t,n){var r=this.header,i=r.coin_icon,a=r.coin_name,o=r.coin_num,l=this.normal_box,u=this.match_box;i.skin=t,a.text=e.toUpperCase(),o.text=Number(n)+"";var s=11/(1.08*o.text.length);s=s>1?1:s,o.scale(s,s),o.width=119/s;for(var c=0,f=[l,u];c<f.length;c++)f[c].getChildByName("coin_name").text=e.toUpperCase()}},{key:"toggleFlagMenu",value:function(e){var t=this.header,n=t.flag_menu,r=t.flag_triangle;e?((0,S.fade_in)(n,300),r.rotation=180):((0,S.fade_out)(n,100),n.list.selectedIndex=-1,r.rotation=0)}},{key:"setFlag",value:function(e){this.header.flag.skin="image/common/flag/flag_".concat(e,".png")}},{key:"destroy",value:function(){try{(0,v.default)((0,g.default)(a.prototype),"destroy",this).call(this),(0,b.offLangChange)(this)}catch(e){(0,C.error)(e)}}}],[{key:"preEnter",value:function(){return _.default.director.runScene("scenes/hall/hall.scene")}}]),a}(n(84228).ui.scenes.hall.hallUI);t.default=A},7750:(e,t,n)=>{"use strict";var r=n(23710),i=n(67272),a=n(8171);i(t,"__esModule",{value:!0}),t.default=t.LoadingEvent=void 0;var o=a(n(15375)),l=a(n(17061)),u=a(n(89395)),s=a(n(97709)),c=a(n(38191)),f=a(n(52305)),d=n(38182),h=a(n(68700)),v=n(55161),p=n(84228);var y={Hide:"hide",Show:"show"};t.LoadingEvent=y;var g=function(e){(0,s.default)(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,f.default)(t);if(n){var a=(0,f.default)(this).constructor;e=r(i,arguments,a)}else e=i.apply(this,arguments);return(0,c.default)(this,e)});function a(){var e;return(0,o.default)(this,a),(e=i.call(this)).zOrder=100,e.event_com=new d.EventCom,e.popupEffect=void 0,e.closeEffect=void 0,a.instance=(0,u.default)(e),e}return(0,l.default)(a,[{key:"onShow",value:function(){(0,v.log)("load:>onShow"),this.open(!1),h.default.director.openDialog(this),this.event_com.emit(y.Show)}},{key:"onHide",value:function(){(0,v.log)("load:>onHide"),this.close(),this.event_com.emit(y.Show)}},{key:"onProgress",value:function(e){this.progress.value=e}}]),a}(p.ui.scenes.loadingUI);t.default=g},48652:(e,t,n)=>{"use strict";n(67272)(t,"__esModule",{value:!0}),t.addBullet=function(e,t){return r.game.addBullet(e,t)},t.addNet=function(e){return r.game.addNet(e)},t.convertPosToNode=function(e,t,n){var r=t.localToGlobal(e,!0);return n.globalToLocal(r,!0)},t.getAutoShootSkillItem=function(){return r.game.getAutoShootSkillItem()},t.getGameView=function(){return r.game},t.getPoolMousePos=function(){return r.game.getPoolMousePos()},t.getSkillItemByIndex=function(e){return r.game.getSkillItemByIndex(e)},t.offFishClick=function(){return r.game.offFishClick()},t.offPoolClick=function(){return r.game.offPoolClick()},t.onFishClick=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r.game.onFishClick(e)},t.onPoolClick=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r.game.onPoolClick(e)},t.setAutoShootLight=function(e){return r.game.setAutoShootLight(e)},t.setBulletNum=function(e){return r.game.setBulletNum(e)},t.viewState=void 0;var r={};t.viewState=r},70903:(e,t,n)=>{"use strict";var r=n(67272),i=n(8171);r(t,"__esModule",{value:!0}),t.createImgPool=function(e){var t,n=null===(t=u[e])||void 0===t?void 0:t.pop();return n||(0,o.createImg)(e)},t.createSkeletonPool=function(e,t,n,r){var i,s,c,f=(0,a.default)(i="".concat(e,":")).call(i,t),d=null===(s=u[f])||void 0===s?void 0:s.pop();if(d)return d;if("fish"===e)return(0,o.createSkeleton)("ani/fish/fish"+t,n,r);if("bullet"===e){var h=null===(c=(0,l.getSpriteInfo)(e,t))||void 0===c?void 0:c.path;return(0,o.createSkeleton)(h)}return"net"===e||"other"===e?(0,l.createSprite)(e,t):void 0},t.recoverImgPool=function(e,t){if(t&&!(null==t?void 0:t.destroyed)){var n=e,r=u[n];r||(r=u[n]=[]),t.removeSelf(),r.push(t)}},t.recoverSkeletonPool=function(e,t,n){var r;if(n&&!n.destroyed){var i=(0,a.default)(r="".concat(e,":")).call(r,t),o=u[i];o||(o=u[i]=[]),n.offAll(),n.stop(),n.removeSelf(),o.push(n)}};var a=i(n(67357)),o=n(6893),l=n(64467),u={}},42480:()=>{}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var a=n[e]={id:e,loaded:!1,exports:{}};return t[e](a,a.exports,r),a.loaded=!0,a.exports}r.m=t,e=[],r.O=(t,n,i,a)=>{if(!n){var o=1/0;for(c=0;c<e.length;c++){for(var[n,i,a]=e[c],l=!0,u=0;u<n.length;u++)(!1&a||o>=a)&&Object.keys(r.O).every((e=>r.O[e](n[u])))?n.splice(u--,1):(l=!1,a<o&&(o=a));if(l){e.splice(c--,1);var s=i();void 0!==s&&(t=s)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,i,a]},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={296:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var i,a,[o,l,u]=n,s=0;if(o.some((t=>0!==e[t]))){for(i in l)r.o(l,i)&&(r.m[i]=l[i]);if(u)var c=u(r)}for(t&&t(n);s<o.length;s++)a=o[s],r.o(e,a)&&e[a]&&e[a][0](),e[o[s]]=0;return r.O(c)},n=self.webpackChunkwebpack_test=self.webpackChunkwebpack_test||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=r.O(void 0,[977,921],(()=>r(53865)));i=r.O(i)})();