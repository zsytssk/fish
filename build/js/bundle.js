!function(){var e,t={74227:function(e,t,n){"use strict";var r=n(3649),o=n(66419),i=n(65420),a=n(19996),u=n(41511);n(63978)(t,"__esModule",{value:!0}),t.ComponentManager=void 0;var l=s(n(36384)),c=s(n(63978));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n=void 0!==i&&a(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return h(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return o(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,c=function(){};return{s:c,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,f=!0,p=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){p=!0,s=e},f:function(){try{f||null==n.return||n.return()}finally{if(p)throw s}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,c.default)(e,r.key,r)}}var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.destroyed=!1,this.components=new l.default}var t,n,r;return t=e,n=[{key:"addCom",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,o=t;r<o.length;r++){var i=o[r];this.components.add(i)}}},{key:"delCom",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,o=t;r<o.length;r++){var i=o[r];this.components.delete(i)}}},{key:"getCom",value:function(e){var t,n=f(this.components);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r instanceof e)return r}}catch(e){n.e(e)}finally{n.f()}}},{key:"destroy",value:function(){var e,t=f(this.components);try{for(t.s();!(e=t.n()).done;){var n=e.value;"function"==typeof n.destroy&&n.destroy()}}catch(e){t.e(e)}finally{t.f()}this.components.clear(),this.destroyed=!0}}],n&&p(t.prototype,n),r&&p(t,r),e}();t.ComponentManager=v},38182:function(e,t,n){"use strict";var r=n(3649),o=n(66419),i=n(65420),a=n(19996),u=n(41511);n(63978)(t,"__esModule",{value:!0}),t.EventCom=void 0;var l=h(n(39392)),c=h(n(36384)),s=h(n(89400)),f=h(n(63978));function h(e){return e&&e.__esModule?e:{default:e}}function p(e){return function(e){if(u(e))return y(e)}(e)||function(e){if(void 0!==i&&null!=a(e)||null!=e["@@iterator"])return o(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){var n=void 0!==i&&a(e)||e["@@iterator"];if(!n){if(u(e)||(n=d(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,l=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw l}}}}function d(e,t){var n;if(e){if("string"==typeof e)return y(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?o(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,f.default)(e,r.key,r)}}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events=new l.default}var t,n,r;return t=e,n=[{key:"on",value:function(e,t,n,r){var o,i=this;this.events.has(e)?o=this.events.get(e):(o=new c.default,this.events.set(e,o));var a,u=v(o);try{for(u.s();!(a=u.n()).done;){var l=a.value;if(n===l.caller&&t===l.callback)return}}catch(e){u.e(e)}finally{u.f()}o.add({caller:n,callback:t,once:r,off:function(){i.off(e,t,n)}})}},{key:"once",value:function(e,t,n){return this.on(e,t,n,!0)}},{key:"getBind",value:function(e){return this.events.get(e)}},{key:"off",value:function(e,t,n){if(this.events.has(e))for(var r=this.events.get(e),o=0,i=p(r);o<i.length;o++){var a=i[o];if(a.callback===t&&a.caller===n){r.delete(a);break}}}},{key:"offAllCaller",value:function(e){var t,n,r=v((0,s.default)(t=this.events).call(t));try{for(r.s();!(n=r.n()).done;)for(var o=n.value,i=0,a=p(o);i<a.length;i++){var u=a[i];u.caller===e&&o.delete(u)}}catch(e){r.e(e)}finally{r.f()}}},{key:"emit",value:function(e){if(this.events.has(e)){for(var t=this.events.get(e),n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var i=0,a=p(t);i<a.length;i++){var u=a[i];if(t.has(u)){var l=u.callback,c=u.once,s=u.off;"function"==typeof l&&l.apply(void 0,r),c&&s()}}}}},{key:"destroy",value:function(){this.events.clear()}}],n&&m(t.prototype,n),r&&m(t,r),e}();t.EventCom=g},8136:function(e,t,n){"use strict";var r=n(65420),o=n(98341),i=n(3649),a=n(66419),u=n(19996),l=n(41511);n(63978)(t,"__esModule",{value:!0}),t.default=t.AnyStr=void 0;var c=v(n(39392)),s=v(n(92762)),f=v(n(89400)),h=v(n(77766)),p=v(n(63978));function v(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n=void 0!==r&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return y(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return a(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,c=function(){};return{s:c,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,f=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){h=!0,s=e},f:function(){try{f||null==n.return||n.return()}finally{if(h)throw s}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){return m="function"==typeof r&&"symbol"==typeof o?function(e){return typeof e}:function(e){return e&&"function"==typeof r&&e.constructor===r&&e!==r.prototype?"symbol":typeof e},m(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,p.default)(e,r.key,r)}}var _="*";t.AnyStr=_;var b=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events=new c.default}var t,n,r;return t=e,n=[{key:"on",value:function(e){var t=this,n=e.event,r=e.callback,o=e.caller,i=e.once,a=e.unshift;if("object"!==m(n)){var u=[];this.events.has(n)?u=this.events.get(n):this.events.set(n,u);var l,c=d(u);try{for(c.s();!(l=c.n()).done;){var s=l.value;if(o===s.caller&&r===s.callback)return}}catch(e){c.e(e)}finally{c.f()}var f=function(){t.off({event:n,callback:r,caller:o})};a?u.unshift({caller:o,callback:r,once:i,off:f}):u.push({caller:o,callback:r,once:i,off:f})}else for(var h in o=r,n)n.hasOwnProperty(h)&&this.on({event:h,callback:n[h],caller:o})}},{key:"off",value:function(e){var t=e.event,n=e.callback,r=e.caller;if("object"!==m(t)){if(this.events.has(t))if(n||r){for(var o=this.events.get(t),i=o.length-1;i>=0;i--)if(o[i].callback===n&&o[i].caller===r){(0,s.default)(o).call(o,i,1);break}}else this.events.delete(t)}else for(var a in r=n,t)t.hasOwnProperty(a)&&this.off({event:a,callback:t[a],caller:r})}},{key:"offCaller",value:function(e){var t,n,r=d((0,f.default)(t=this.events).call(t));try{for(r.s();!(n=r.n()).done;)for(var o=n.value,i=o.length-1;i>=0;i--)o[i].caller===e&&(0,s.default)(o).call(o,i,1)}catch(e){r.e(e)}finally{r.f()}}},{key:"emit",value:function(e){for(var t=[_,e],n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var i=0,a=t;i<a.length;i++){var u=a[i];if(this.events.has(u)){var l,c=this.events.get(u),s=d((0,h.default)(c).call(c,[]));try{for(s.s();!(l=s.n()).done;){var f,p=l.value,v=void 0,y=p.callback,m=p.once,g=p.off;if("function"==typeof y&&(v=u===_?y.apply(void 0,(0,h.default)(f=[e]).call(f,r)):y.apply(void 0,r)),m&&g(),v)return v}}catch(e){s.e(e)}finally{s.f()}}}}},{key:"clear",value:function(){this.events=new c.default}}],n&&g(t.prototype,n),r&&g(t,r),e}();t.default=b},30260:function(e,t,n){"use strict";var r=n(3649),o=n(66419),i=n(65420),a=n(19996),u=n(41511);n(63978)(t,"__esModule",{value:!0}),t.TimeoutCom=void 0;var l=h(n(36384)),c=h(n(33032)),s=h(n(31581)),f=h(n(63978));function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=void 0!==i&&a(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return v(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return o(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,c=function(){};return{s:c,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,f=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){h=!0,s=e},f:function(){try{f||null==n.return||n.return()}finally{if(h)throw s}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,f.default)(e,r.key,r)}}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.timeout_list=new l.default,this.interval_list=new l.default}var t,n,r;return t=e,n=[{key:"createTimeout",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,c.default)((function(){e(),t.timeout_list.delete(r)}),n);return this.timeout_list.add(r),r}},{key:"createInterval",value:function(e,t){var n=this,r=(0,s.default)((function(){e(),n.interval_list.delete(r)}),t);return this.interval_list.add(r),r}},{key:"clear",value:function(e){var t=this.timeout_list,n=this.interval_list;t.has(e)&&(t.delete(e),clearTimeout(e)),n.has(e)&&(n.delete(e),clearInterval(e))}},{key:"destroy",value:function(){var e,t=this.timeout_list,n=this.interval_list,r=p(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;clearTimeout(o)}}catch(e){r.e(e)}finally{r.f()}var i,a=p(n);try{for(a.s();!(i=a.n()).done;){var u=i.value;clearInterval(u)}}catch(e){a.e(e)}finally{a.f()}t.clear(),n.clear()}}],n&&d(t.prototype,n),r&&d(t,r),e}();t.TimeoutCom=y},68700:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var r=m(n(93476)),o=m(n(81643)),i=n(24629),a=n(77590),u=n(68291),l=n(84935),c=n(41107),s=n(683),f=n(56083),h=n(62285),p=n(26366),v=n(83934),d=n(899),y=n(37863);function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e,t,n,o){return new(n||(n=r.default))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function u(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((o=o.apply(e,t||[])).next())}))},_=!1;var b={name:"Honor",version:"1.0.0-beta",run:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return g(this,void 0,void 0,regeneratorRuntime.mark((function n(){var v,m,b,w,k,S,x,C=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i.Laya.Config.isAntialias=!0,i.Laya.Config.useRetinalCanvas=!0,/apple/i.test(navigator.vendor)&&(i.Laya.Config.useRetinalCanvas=!1,i.Laya.Config.useWebGL2=!1),i.Laya.init(e.width,e.height,h.WebGL),i.Laya.stage.frameRate=a.Stage.FRAME_FAST,i.Laya.DebugPanel&&i.Laya.DebugPanel.enable(),l.URL.basePath=t.basePath||l.URL.basePath,i.Laya.stage.scaleMode=e.scaleMode,i.Laya.stage.screenMode=e.screenMode,i.Laya.stage.alignV=e.alignV,i.Laya.stage.alignH=e.alignH,l.URL.exportSceneToJson=e.exportSceneToJson,e.debug||"true"===f.Utils.getQueryString("debug")?(_=!0,i.Laya.enableDebugPanel()):_=!1,e.stat&&s.Stat.show(0,0),i.Laya.alertGlobalError(!1),v=(v=t.defaultVersion)||"0",l.URL.customFormat=function(e){var t=l.URL.version||{};if((0,o.default)(e).call(e,"data:image")<0&&(0,o.default)(e).call(e,"?")<0&&(0,o.default)(e).call(e,"?v=")<0){var n=t[e];!n&&v&&(n=v),e+="?v="+n}return e},m=[],b=new r.default((function(e,t){u.AtlasInfoManager.enable("fileconfig.json",c.Handler.create(null,(function(){return g(C,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e();case 1:case"end":return t.stop()}}),t)})))})))})),m.push(b),w=t.versionPath,k=t.zip_path,S=t.zip_folder,w&&m.push((0,d.loadRes)([w])),k&&S&&(x=new y.ZipResManager,m.push(x.init(k,S,v))),n.next=26,r.default.all(m);case 26:w&&(l.URL.version=i.loader.getRes(w)),(0,p.initState)();case 28:case"end":return n.stop()}}),n)})))},director:p.director,utils:v.utils,DEBUG_MODE:_};t.default=b},83762:function(e,t,n){"use strict";var r=n(63978);r(t,"__esModule",{value:!0}),t.WebSocketCtrl=void 0;var o=l(n(93476)),i=l(n(31581)),a=l(n(33032)),u=n(24354);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(e,o.key,o)}}var s=function(e,t,n,r){return new(n||(n=o.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},f=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handlers={},this.reconnect_max=3,this.heartbeat_time=10,this.heartbeat_gap_time=3,this.onopen=function(){var t;null===(t=e.log)||void 0===t||t.call(e,"WebSocket:> 连接上了"),n.status="OPEN",n.ping_pong_map&&n.startHeartBeat()},this.onmessage=function(e){var t,r,o=e.data;if(n.ping_pong_map){var i=n.ping_pong_map,a=i.ping,u=i.pong;switch(o){case a:n.sendPong();break;case u:n.startHeartBeat()}}null===(r=(t=n.handlers).onData)||void 0===r||r.call(t,o)},this.url=t.url,this.handlers=t.handlers,this.ping_pong_map=t.ping_pong_map}var t,n,r;return t=e,(n=[{key:"innerConnect",value:function(){return s(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.url,e.abrupt("return",new o.default((function(e,r){try{var o=new WebSocket(t);o.onopen=function(){o.onmessage=n.onmessage,o.onerror=n.onError,o.onclose=n.onclose,n.ws=o,n.onopen(),e(!0)},o.onerror=o.onclose=function(){e(!1)}}catch(t){e(!1)}})));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"connect",value:function(){var t;return null===(t=e.log)||void 0===t||t.call(e,"WebSocket:> 连接:>",this.url),this.status="CONNECTING",this.innerConnect()}},{key:"send",value:function(e){var t=this.status,n=this.ws;if("OPEN"!==t)return console.error("socket is no connected!");n.send(e)}},{key:"onError",value:function(){var e,t;null===(t=(e=this.handlers).onError)||void 0===t||t.call(e)}},{key:"onclose",value:function(){this.ws&&this.reconnect()}},{key:"reconnect",value:function(){var t,n,r,o;return s(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,l,c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:null===(t=e.log)||void 0===t||t.call(e,"WebSocket:> 断线重连"),a=this.reconnect_max,l=this.handlers,this.status="RECONNECTING",c=0;case 4:if(!(c<a)){i.next=20;break}return null===(n=l.onReconnect)||void 0===n||n.call(l,c),this.reset(),i.next=9,this.innerConnect();case 9:if(!i.sent){i.next=15;break}return null===(o=(r=this.handlers).onReconnected)||void 0===o||o.call(r),i.abrupt("return",!0);case 15:return i.next=17,(0,u.sleep)(3);case 17:c++,i.next=4;break;case 20:return this.end(),i.abrupt("return",!1);case 22:case"end":return i.stop()}}),i,this)})))}},{key:"startHeartBeat",value:function(){var e=this,t=this.heartbeat_time,n=this.heartbeat_gap_time;clearInterval(this.heartbeat_interval),clearTimeout(this.heartbeat_gap_timeout),this.heartbeat_interval=(0,i.default)((function(){e.heartbeat_gap_timeout=(0,a.default)((function(){e.reconnect()}),1e3*n),e.sendPing()}),1e3*t)}},{key:"clearHearBeatGapTimeout",value:function(){clearTimeout(this.heartbeat_gap_timeout)}},{key:"sendPing",value:function(){if(this.ping_pong_map){var e=this.ping_pong_map.ping;this.ws.send(e)}}},{key:"sendPong",value:function(){if(this.ping_pong_map){var e=this.ping_pong_map.pong;this.ws.send(e)}}},{key:"disconnect",value:function(){"CLOSED"!==this.status&&this.end()}},{key:"end",value:function(){var t,n,r;null===(t=e.log)||void 0===t||t.call(e,"WebSocket:> 断开连接"),this.reset(),this.status="CLOSED",null===(r=(n=this.handlers).onEnd)||void 0===r||r.call(n),this.handlers={}}},{key:"reset",value:function(){var e=this.ws;e&&(e.onopen=null,e.onmessage=null,e.onerror=null,e.onclose=null,e.close(),this.ws=null),clearInterval(this.heartbeat_interval),clearTimeout(this.heartbeat_gap_timeout)}}])&&c(t.prototype,n),r&&c(t,r),e}();t.WebSocketCtrl=f},26366:function(e,t,n){"use strict";var r=n(3649),o=n(66419),i=n(65420),a=n(19996),u=n(41511);n(63978)(t,"__esModule",{value:!0}),t.director=t.dialogManager=void 0,t.initState=function(){if(t.dialogManager=l=new c.DialogManagerCtor,h.init(),p){var e,n=function(e,t){var n=void 0!==i&&a(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return f(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return o(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,c=function(){};return{s:c,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,h=!0,p=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return h=e.done,e},e:function(e){p=!0,s=e},f:function(){try{h||null==n.return||n.return()}finally{if(p)throw s}}}}(p);try{for(n.s();!(e=n.n()).done;){(0,e.value)()}}catch(e){n.e(e)}finally{n.f()}p=void 0}};var l,c=n(55902),s=n(57102);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.dialogManager=l;var h=new s.DirectorCtor;t.director=h;var p=[]},74763:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.isLoadingScene=t.cur_scene=void 0,t.runScene=function(e,n){return c(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.isLoadingScene=s=!0,r.next=3,(0,a.loadScene)(e,n);case 3:return o=r.sent,t.cur_scene=l=o,t.isLoadingScene=s=!1,o.open(),i.Laya.stage.on(u.Event.RESIZE,o,(function(){o.onResize(i.Laya.stage.width,i.Laya.stage.height)})),o.onResize(i.Laya.stage.width,i.Laya.stage.height),o.once(u.Event.UNDISPLAY,o,(function(){i.Laya.stage.offAllCaller(o)})),r.abrupt("return",o);case 11:case"end":return r.stop()}}),r)})))};var r,o=(r=n(93476))&&r.__esModule?r:{default:r},i=n(24629),a=n(899),u=n(89662);var l,c=function(e,t,n,r){return new(n||(n=o.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))};t.cur_scene=l;var s=!1;t.isLoadingScene=s},55902:function(e,t,n){"use strict";var r=n(63978),o=n(3649),i=n(66419),a=n(65420),u=n(19996),l=n(41511),c=n(98341);r(t,"__esModule",{value:!0}),t.DialogManagerCtor=void 0;var s=I(n(93476)),f=I(n(39392)),h=I(n(54103)),p=I(n(94473)),v=I(n(92762)),d=I(n(51942)),y=n(14529),m=n(24629),g=n(899),_=n(55121),b=n(24354),w=n(89662),k=n(75055),S=n(45840),x=n(41107),C=n(84221),E=n(89025);function I(e){return e&&e.__esModule?e:{default:e}}function A(e){return A="function"==typeof a&&"symbol"==typeof c?function(e){return typeof e}:function(e){return e&&"function"==typeof a&&e.constructor===a&&e!==a.prototype?"symbol":typeof e},A(e)}function M(e,t){var n=void 0!==a&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return T(e,t);var r=o(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,c=function(){};return{s:c,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,f=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){h=!0,s=e},f:function(){try{f||null==n.return||n.return()}finally{if(h)throw s}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(e,o.key,o)}}var B=function(e,t,n,r){return new(n||(n=s.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},L=function(e){var t=this;e.HonorEffectTween&&e.HonorEffectTween.complete(),e.HonorEffectTween=C.Tween.from(e,{x:m.Laya.stage.width/2,y:m.Laya.stage.height/2,scaleX:.2,scaleY:.2,alpha:0},300,S.Ease.backOut,x.Handler.create(this,(function(){e.HonorEffectTween=void 0,e.scale(1,1),e.alpha=1,t.doOpen(e)})),0,!1,!1)},P=function(e){var t=this;e.HonorEffectTween&&e.HonorEffectTween.complete(),e.HonorEffectTween=C.Tween.to(e,{x:m.Laya.stage.width/2,y:m.Laya.stage.height/2,scaleX:0,scaleY:0,alpha:0},300,S.Ease.backIn,x.Handler.create(this,(function(){e.HonorEffectTween=void 0,e.scale(1,1),e.alpha=1,t.doClose(e)})),0,!1,!1)},O=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wait_dialog_task=new f.default,this.open_dialog_list=[],this.dialog_pool_list=[],y.UIConfig.closeDialogOnSide=!1;var n=k.Dialog.manager;(0,b.injectAfter)(n,"doClose",(0,h.default)(t=this.injectDoCloseAfter).call(t,this)),n.popupEffectHandler=new x.Handler(n,L),n.closeEffectHandler=new x.Handler(n,P),this.dialog_manager=n}var t,n,r;return t=e,n=[{key:"onResize",value:function(e,t){var n,r=M(this.open_dialog_list);try{for(r.s();!(n=r.n()).done;){var o=n.value.dialog;o.onResize&&o.onResize(e,t)}}catch(e){r.e(e)}finally{r.f()}}},{key:"openDialog",value:function(e,t){var n=this;return new s.default((function(r,o){return B(n,void 0,void 0,regeneratorRuntime.mark((function n(){var i,a,u,l,c,s,f,h,v,d,y,g,w,k=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=e,l=!1,e.dialog&&(i=(c=e).dialog,a=c.use_exist,u=c.use_exist,l=c.stay_scene||!1),s=this.wait_dialog_task,f=this.open_dialog_list,l&&(h=(0,_.detectChangeScene)()),!a){n.next=15;break}if(!(d=s.get(i))){n.next=13;break}return n.next=10,d.then((function(e){return e}));case 10:v=n.sent,n.next=15;break;case 13:(y=(0,p.default)(f).call(f,(function(e){return e.url===i})))&&(v=y.dialog);case 15:if(v){n.next=21;break}return g=this.createDialog(i),s.set(i,g.then((function(e){return s.delete(i),e}))),n.next=20,g;case 20:v=n.sent;case 21:return w=this.setDialogConfig(i,v,t),(0,b.afterActive)(v).then((function(){if(v.onResize){var e=m.Laya.stage,t=e.width,n=e.height;v.onResize(t,n)}var r=v.popupEffect;if(void 0!==u&&!1===u&&(v.popupEffect=null),w.beforeOpen&&w.beforeOpen(v),null==h?void 0:h())return o("change scene! dialog cant open in diff scene!");v.open(w.closeOther),r&&(v.popupEffect=r),k.afterOpen(v),k.checkMask()})),n.next=25,(0,b.afterEnable)(v);case 25:return n.abrupt("return",r(v));case 26:case"end":return n.stop()}}),n,this)})))}))}},{key:"createDialog",value:function(e){var t=this;return new s.default((function(n,r){return B(t,void 0,void 0,regeneratorRuntime.mark((function t(){var r,o,i,a,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=this.dialog_pool_list,o=0;case 2:if(!(o<r.length)){t.next=11;break}if((i=r[o]).url!==e){t.next=8;break}return(0,v.default)(r).call(r,o,1),a=i.dialog,t.abrupt("return",n(a));case 8:o++,t.next=2;break;case 11:if("string"!=typeof e){t.next=17;break}return t.next=14,(0,g.loadDialog)(e);case 14:u=t.sent,t.next=24;break;case 17:if("function"!=typeof e){t.next=23;break}return t.next=20,(0,b.createScene)(e).then((function(e){return n(e)}));case 20:u=t.sent,t.next=24;break;case 23:e instanceof k.Dialog&&(u=e);case 24:n(u);case 25:case"end":return t.stop()}}),t,this)})))}))}},{key:"setDialogConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.open_dialog_list;n=(0,d.default)((0,d.default)((0,d.default)({},E.DEFAULT_CONFIG),t.config),n);var o=(0,p.default)(r).call(r,(function(e){return e.dialog===t}));return o?o.config=n:r.push({url:e,dialog:t,config:n}),n}},{key:"getDialogConfig",value:function(e){var t=this.open_dialog_list,n=(0,p.default)(t).call(t,(function(t){return t.dialog===e}));return n&&n.config}},{key:"injectDoCloseAfter",value:function(e,t,n){for(var r,o=this.open_dialog_list,i=this.dialog_pool_list,a=0;a<o.length;a++){var u=o[a];if(u.dialog===n){r=u,(0,v.default)(o).call(o,a,1);break}}this.checkMask(),r&&!n.destroyed&&i.push(r)}},{key:"afterOpen",value:function(e){var t=this.getDialogConfig(e);t&&t.autoClose&&m.Laya.timer.once(t.autoClose,e,e.close)}},{key:"checkMask",value:function(){for(var e=this,t=this.dialog_manager,n=t.maskLayer,r=function(r){var o=t.getChildAt(r);if(o&&o.isModal){var i=e.getDialogConfig(o);if(!i)return"continue";y.UIConfig.popupBgAlpha=i.shadowAlpha,y.UIConfig.popupBgColor=i.shadowColor,i.closeOnSide&&(n.offAllCaller(t),n.once(w.Event.CLICK,t,(function(){o.close()})));var a=n.width,u=n.height;return n.graphics.clear(!0),n.graphics.drawRect(0,0,a,u,y.UIConfig.popupBgColor),n.alpha=y.UIConfig.popupBgAlpha,{v:void 0}}},o=t.numChildren-1;o>-1;o--){var i=r(o);if("continue"!==i&&"object"===A(i))return i.v}}},{key:"closeAllDialogs",value:function(){this.dialog_manager.closeAll()}},{key:"getDialogsByGroup",value:function(e){this.dialog_manager.getDialogsByGroup(e)}},{key:"closeDialogsByGroup",value:function(e){this.dialog_manager.closeByGroup(e)}},{key:"getDialogByName",value:function(e){var t,n=M(this.open_dialog_list);try{for(n.s();!(t=n.n()).done;){var r=t.value.dialog;if(r.name===e)return r}}catch(e){n.e(e)}finally{n.f()}}},{key:"closeDialogByName",value:function(e){var t,n=M(this.open_dialog_list);try{for(n.s();!(t=n.n()).done;){var r=t.value.dialog;if(r.name===e)return r.close()}}catch(e){n.e(e)}finally{n.f()}}},{key:"hideMask",value:function(e){this.dialog_manager.maskLayer.visible=e}}],n&&R(t.prototype,n),r&&R(t,r),e}();t.DialogManagerCtor=O},57102:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.DirectorCtor=void 0;var r,o=(r=n(63978))&&r.__esModule?r:{default:r},i=n(24629),a=n(89662),u=n(26366),l=n(74763);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"init",value:function(){i.Laya.stage.on(a.Event.RESIZE,this,this.onResize),this.onResize()}},{key:"onResize",value:function(){var e=i.Laya.stage,t=e.width,n=e.height;u.dialogManager.onResize(t,n)}},{key:"runScene",value:function(e,t){return(0,l.runScene)(e,t)}},{key:"isLoadingScene",get:function(){return l.isLoadingScene}},{key:"runningScene",get:function(){return l.cur_scene}},{key:"openDialog",value:function(e,t){return u.dialogManager.openDialog(e,t)}},{key:"getDialogByName",value:function(e){return u.dialogManager.getDialogByName(e)}},{key:"getDialogsByGroup",value:function(e){return u.dialogManager.getDialogsByGroup(e)}},{key:"closeDialogByName",value:function(e){u.dialogManager.closeDialogByName(e)}},{key:"closeDialogsByGroup",value:function(e){u.dialogManager.closeDialogsByGroup(e)}},{key:"closeAllDialogs",value:function(){u.dialogManager.closeAllDialogs()}}])&&c(t.prototype,n),r&&c(t,r),e}();t.DirectorCtor=s},89025:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.DEFAULT_CONFIG=void 0;t.DEFAULT_CONFIG={closeOther:!1,closeOnSide:!0,closeByGroup:!1,closeByName:!1,shadowAlpha:.7,shadowColor:"#000000",autoClose:!1}},6893:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.createAnimation=function(e){var t=new u.Animation;t.loadAtlas(e+".json"),t.interval=120,t.index=1,t.play();var n=t.getGraphicBounds();return t.pivot(n.width/2,n.height/2),t},t.createImg=function(e){var t=new c.Image;return t.loadImage(e+".png"),t.autoSize=!0,t},t.createSkeleton=function(e,t,n){t=t||30,n=n||0;var r,o=i.loader.getRes(e+".png"),u=i.loader.getRes(e+".sk");if(!o||!u)return;f[e]?r=f[e]:((r=new a.Templet).parseData(o,u,24),f[e]=r);var l=new a.Templet;return l.parseData(o,u,t),l.buildArmature(n)},t.createSprite=function(e){return new o.default((function(t,n){var r=new l.Sprite;r.loadImage(e,s.Handler.create(null,(function(){r.autoSize=!0,t(r)})))}))};var r,o=(r=n(93476))&&r.__esModule?r:{default:r},i=n(24629),a=n(48365),u=n(31249),l=n(78362),c=n(44476),s=n(41107);var f={}},73492:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.cutStr=function(e,t){var n=/[^\x00-\xff]/g;if((e+="").replace(n,"mm").length<=t)return e;for(var r=Math.floor(t/2);r<e.length;r++)if(e.substr(0,r).replace(n,"mm").length>=t)return e.substr(0,r)+"...";return e}},35641:function(e,t,n){"use strict";var r=n(3649),o=n(66419),i=n(65420),a=n(19996),u=n(41511);n(63978)(t,"__esModule",{value:!0}),t.formatTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["小时","分钟","秒"],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="",o=0,i=0,a=e%60;"string"==typeof t&&(t=[t,t,""]);e>=60&&(i=e/60|0);i>=60&&(o=i/60|0,i%=60);for(var u=[o,i,a],l=0,c=u.length;l<c;l++){var s=u[l];n&&!s||(n=!1,r+=d(s)+t[l])}return r},t.formatTimeLight=function(e){var t="",n=0,r=0,o=0;e>60&&(o=e/60|0);o>60&&(r=o/60|0,o%=60);r>24&&(n=r/24|0,r%=24);var l,f=[n,r,o,e%60],v=["天","小时","分","秒"],d=function(e,t){var n=void 0!==i&&a(e)||e["@@iterator"];if(!n){if(u(e)||(n=p(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,l=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw l}}}}((0,s.default)(f).call(f));try{for(d.s();!(l=d.n()).done;){var y,m,g=h(l.value,2),_=g[0],b=g[1];if(b>0)t=(0,c.default)(y=(0,c.default)(m="".concat(t)).call(m,b)).call(y,v[_])}}catch(e){d.e(e)}finally{d.f()}return t},t.formatTimestamp=function(e){var t,n,r,o=new Date(e),i=(0,l.default)(t=[o.getFullYear(),o.getMonth()+1,o.getDate()]).call(t,d),a=(0,l.default)(n=[o.getHours(),o.getMinutes()]).call(n,d);return(0,c.default)(r="".concat(i.join("/")," ")).call(r,a.join(":"))};var l=f(n(2991)),c=f(n(77766)),s=f(n(72119));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){return function(e){if(u(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==i&&a(e)||e["@@iterator"];if(null==n)return;var r,o,u=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(u.push(r.value),!t||u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw o}}return u}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){var n;if(e){if("string"==typeof e)return v(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?o(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e){return e>9?e+"":"0"+e}},22833:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.getStringLength=function(e){return(""+e.replace(/[^\x00-\xff]/gi,"ox")).length}},83934:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.utils=void 0;var r=n(6893),o=n(73492),i=n(35641),a=n(22833),u=n(899),l=n(73680),c={createSkeleton:r.createSkeleton,cutStr:o.cutStr,getStringLength:a.getStringLength,formatTime:i.formatTime,formatTimeLight:i.formatTimeLight,formatTimestamp:i.formatTimestamp,loadRes:u.loadRes,registerFontSize:l.registerFontSize};t.utils=c},899:function(e,t,n){"use strict";var r=n(2991),o=n(3649),i=n(66419),a=n(65420),u=n(19996),l=n(41511);n(63978)(t,"__esModule",{value:!0}),t.fakeLoad=function(e,t){return new c.default((function(n){var r=0,o=(0,s.default)((function(){if((r+=.05)>e)return clearInterval(o),void n();null==t||t(r/e)}),50)}))},t.httpLoad=function(e,t){return new c.default((function(n,r){var o=new g.HttpRequest;o.on(m.Event.COMPLETE,null,n),o.on(m.Event.ERROR,null,r),o.send(e,null,"get",t)}))},t.loadDialog=E,t.loadRes=function(e,t){var n=this;return new c.default((function(r){d.loader.load(e,new b.Handler(null,r,null,!1),new b.Handler(n,t))}))},t.loadScene=function(e,t){var n=this;return new c.default((function(r){y.Scene.load(e,b.Handler.create(n,r,null,!0),b.Handler.create(n,t,null,!1))}))},t.mergeProgressObserver=function(e,t){return C(this,void 0,void 0,regeneratorRuntime.mark((function n(){var o,i,s,f,d,y,m,g,_,b,w,x;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=[],i=[],s=k(e);try{for(s.s();!(f=s.n()).done;)d=f.value,E=2,y=function(e){if(l(e))return e}(C=d)||function(e,t){var n=null==e?null:void 0!==a&&u(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw o}}return i}(C,E)||S(C,E)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=y[0],g=y[1],o.push(m.pipe((0,v.startWith)(0))),i.push(g)}catch(e){s.e(e)}finally{s.f()}if(_=o.length,b=(0,p.combineLatest)(o).pipe(r(v)((function(e){return(0,h.default)(e).call(e,(function(e,t){return e+t/_}),0)}))),w=c.default.all(i),!("isLoadingView"in t)){n.next=16;break}return n.next=10,t.load();case 10:(x=n.sent).onShow(),b.subscribe((function(e){x.onProgress(e)})),w.then((function(){x.onHide()})),n.next=17;break;case 16:"function"==typeof t?b.subscribe(t):b.subscribe();case 17:return n.abrupt("return",w);case 18:case"end":return n.stop()}var C,E}),n)})))},t.openDialog=function(e,t){return E(e,t).then((function(e){var t;return e.open(),d.Laya.stage.on(m.Event.RESIZE,e,(function(){var t;null===(t=e.onResize)||void 0===t||t.call(e,d.Laya.stage.width,d.Laya.stage.height)})),null===(t=e.onResize)||void 0===t||t.call(e,d.Laya.stage.width,d.Laya.stage.height),e.once(m.Event.UNDISPLAY,e,(function(){d.Laya.stage.offAllCaller(e)})),e}))},t.promiseToProgressObserver=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o,i,a=new c.default((function(e){i=e})),u=new p.Observable((function(t){o=t,e.apply(void 0,n).then((function(e){null==o||o.next(1),null==o||o.complete(),i(e)}))}));return[u,a]}},t.toProgressObserver=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o,i,a=new c.default((function(e){i=e})),u=new p.Observable((function(t){o=t,e.apply(void 0,(0,f.default)(n).call(n,[function(e){null==o||o.next(e)}])).then((function(e){null==o||o.next(1),null==o||o.complete(),i(e)}))}));return[u,a]}};var c=w(n(93476)),s=w(n(31581)),f=w(n(77766)),h=w(n(32366)),p=n(72649),v=n(13845),d=n(24629),y=n(28294),m=n(89662),g=n(46785),_=n(75055),b=n(41107);function w(e){return e&&e.__esModule?e:{default:e}}function k(e,t){var n=void 0!==a&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=S(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function S(e,t){var n;if(e){if("string"==typeof e)return x(e,t);var r=o(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?i(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=function(e,t,n,r){return new(n||(n=c.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))};function E(e,t){var n=this;return new c.default((function(r){_.Dialog.load(e,b.Handler.create(n,r,null,!0),b.Handler.create(n,t,null,!1))}))}},73680:function(e,t,n){"use strict";var r=n(3649),o=n(66419),i=n(65420),a=n(19996),u=n(41511);n(63978)(t,"__esModule",{value:!0}),t.registerFontSize=function(e){var t,n=function(e,t){var n=void 0!==i&&a(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return f(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return o(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,c=function(){};return{s:c,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,h=!0,p=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return h=e.done,e},e:function(e){p=!0,s=e},f:function(){try{h||null==n.return||n.return()}finally{if(p)throw s}}}}(e);try{for(n.s();!(t=n.n()).done;){var h=t.value,p=new c.BitmapFont,v=h.split("/"),d=v[v.length-1],y="".concat(h,".fnt"),m="".concat(h,".png");p.parseFont(l.loader.getRes(y),l.loader.getRes(m)),s.Text.registerBitmapFont(d,p)}}catch(e){n.e(e)}finally{n.f()}};var l=n(24629),c=n(60397),s=n(81870);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},55121:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.detectChangeScene=function(){var e=o.default.director.runningScene;return function(){return!!o.default.director.isLoadingScene||e!==o.default.director.runningScene}};var r,o=(r=n(68700))&&r.__esModule?r:{default:r}},8928:function(e,t,n){"use strict";var r=n(3649),o=n(66419),i=n(65420),a=n(19996),u=n(41511);n(63978)(t,"__esModule",{value:!0}),t.runAsyncTask=function(e,t){var n,l=function(e,t){var n=void 0!==i&&a(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return h(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return o(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,c=function(){};return{s:c,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,f=!0,p=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){p=!0,s=e},f:function(){try{f||null==n.return||n.return()}finally{if(p)throw s}}}}(p);try{for(l.s();!(n=l.n()).done;){var c=n.value;if(c.dep===t)return c.task}}catch(e){l.e(e)}finally{l.f()}var f=e();return f.then((function(){for(var e=p.length-1;e>=0;e--){var t=p[e].task;if(f===t)return void(0,s.default)(p).call(p,e)}})),p.push({dep:t,task:f}),f},t.tmpAsyncTask=function(e,t){return new l.default((function(n,r){e.push(t),t.then((function(){var r=(0,c.default)(e).call(e,t);-1!==r&&(0,s.default)(e).call(e,r,1),n(e.length)}))}))};var l=f(n(93476)),c=f(n(81643)),s=f(n(92762));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=[]},24354:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.afterActive=function(e){var t=this;return new r.default((function(n){if(e.active)return n(void 0);e.once("onViewCreated",t,(function(){return n(void 0)}))}))},t.afterEnable=function(e){return new r.default((function(t,n){if(e.active)return t(void 0);l(e,"onEnable",(function(){t(void 0)})),l(e,"onDestroy",(function(){n()}))}))},t.createScene=function(e){return new r.default((function(t){return t(new e)}))},t.injectAfter=l,t.injectProto=function(e,t,n,i){return new r.default((function(r){var a=e.prototype[t];e.prototype[t]=function(){for(var l,s=this,f=arguments.length,h=new Array(f),p=0;p<f;p++)h[p]=arguments[p];var v=a.apply(this,(0,o.default)(l=[]).call(l,h));return c(v,(function(){return u(s,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.apply(void 0,(0,o.default)(t=[this,v]).call(t,h));case 2:i=e.sent,r(i);case 4:case"end":return e.stop()}}),e,this)})))})),i&&(e.prototype[t]=a),v}}))},t.sleep=function(e){return new r.default((function(t,n){(0,i.default)((function(){t(e)}),1e3*e)}))};var r=a(n(93476)),o=a(n(77766)),i=a(n(33032));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t,n,o){return new(n||(n=r.default))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function u(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((o=o.apply(e,t||[])).next())}))};function l(e,t,n){return new r.default((function(r){var i=e[t];e[t]=function(){for(var e,t=this,a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];var f=i.apply(this,(0,o.default)(e=[]).call(e,l));return c(f,(function(){return u(t,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==n?void 0:n.apply(void 0,(0,o.default)(t=[this,f]).call(t,l));case 2:i=e.sent,r(i);case 4:case"end":return e.stop()}}),e,this)})))})),f}}))}function c(e,t){e instanceof r.default?e.then((function(e){c(e,t)})):t()}},37863:function(e,t,n){"use strict";function r(e){return r="function"==typeof a&&"symbol"==typeof h?function(e){return typeof e}:function(e){return e&&"function"==typeof a&&e.constructor===a&&e!==a.prototype?"symbol":typeof e},r(e)}var o=n(63978),i=n(41511),a=n(65420),u=n(19996),l=n(3649),c=n(66419),s=n(52424),f=n(34074),h=n(98341);o(t,"__esModule",{value:!0}),t.ZipResManager=void 0;var p=E(n(93476)),v=E(n(77766)),d=E(n(26295)),y=E(n(81643)),m=E(n(86902)),g=E(n(2991)),_=E(n(94473)),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var i={},a=o&&f;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=a?f(e,u):null;l&&(l.get||l.set)?o(i,u,l):i[u]=e[u]}i.default=e,n&&n.set(e,i);return i}(n(43696)),w=n(24629),k=n(85096),S=n(56083),x=n(899);function C(e){if("function"!=typeof s)return null;var t=new s,n=new s;return(C=function(e){return e?n:t})(e)}function E(e){return e&&e.__esModule?e:{default:e}}function I(e,t){return function(e){if(i(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==a&&u(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){var n;if(!e)return;if("string"==typeof e)return A(e,t);var r=l(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return c(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o(e,r.key,r)}}var T=function(e,t,n,r){return new(n||(n=p.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},R=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loadProcessList={},this.zipResMap={},e.instance=this}var t,n,r;return t=e,n=[{key:"init",value:function(e,t,n){return T(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,x.loadRes)(e).then((function(){console.log("test:>ZipResManager");var r=w.loader.getRes(e);r&&(o.zip_folder=t,o.zipMap=r,o.version=n,o.injectLoad())})));case 1:case"end":return r.stop()}}),r)})))}},{key:"injectLoad",value:function(){var t=k.Loader.prototype._loadHttpRequest;k.Loader.prototype._loadHttpRequest=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=r[0],a=r[1],u=r[2],l=r[3];i=i.split("?")[0].replace(location.origin+"/","");var c,s=e.instance.containRes(i);if(!s)return t.apply(this,(0,v.default)(c=[]).call(c,r));e.instance.loadZip(s,i).then((function(e){e.getData().then((function(e){"json"===a?e=JSON.parse(e):"xml"===a&&(e=S.Utils.parseXMLFromString(e)),l.apply(u,[e])}))}))};var n=k.Loader.prototype._loadHtmlImage;k.Loader.prototype._loadHtmlImage=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=r[0],a=r[1],u=r[2],l=r[3],c=r[4];i=i.split("?")[0].replace(location.origin+"/","");var s,f=e.instance.containRes(i);if(!f)return n.apply(this,(0,v.default)(s=[]).call(s,r));e.instance.loadZip(f,i).then((function(e){e.getData().then((function(e){function t(){var e=n;e.onload=null,e.onerror=null,delete k.Loader._imgCache[i]}var n=new window.Image;n.crossOrigin="",n.onload=function(){t(),u.call(a,n)},n.onerror=function(){t(),c.call(l)},n.src="data:image/png;base64,".concat(e),k.Loader._imgCache[i]=n}))}))}}},{key:"containRes",value:function(e){for(var t=this.zipMap,n=0,r=(0,d.default)(t);n<r.length;n++){var o=I(r[n],2),i=o[0],a=o[1];if(-1!==(0,y.default)(a).call(a,e))return i}return!1}},{key:"loadZip",value:function(e,t){return T(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i,a,u,l=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=this.zipResMap[e]){n.next=7;break}return this.loadProcessList[e]||(a=(0,v.default)(o=(0,v.default)(i="".concat(this.zip_folder,"/")).call(i,e,".zip?version=")).call(o,this.version),this.loadProcessList[e]=(0,x.httpLoad)(a,k.Loader.BUFFER).then((function(e){return b.loadAsync(e).then((function(e){var t=(0,m.default)(e.files);return(0,g.default)(t).call(t,(function(t){return{name:t,getData:function(){return T(l,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("sk"!==(r=t.split(".")[1])){n.next=5;break}return n.abrupt("return",e.file(t).async("uint8array"));case 5:if("png"!==r&&"jpg"!==r){n.next=9;break}return n.abrupt("return",e.file(t).async("base64"));case 9:return n.abrupt("return",e.file(t).async("string"));case 10:case"end":return n.stop()}}),n)})))}}}))}))}))),n.next=5,this.loadProcessList[e];case 5:u=n.sent,this.zipResMap[e]=r=u;case 7:return n.abrupt("return",(0,_.default)(r).call(r,(function(e){return e.name===t})));case 8:case"end":return n.stop()}}),n,this)})))}}],n&&M(t.prototype,n),r&&M(t,r),e}();t.ZipResManager=R},11369:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var r=C(n(63978)),o=C(n(55437)),i=C(n(10535)),a=C(n(65710)),u=C(n(94133)),l=C(n(54820)),c=C(n(45170)),s=C(n(64525)),f=C(n(47859)),h=C(n(60971)),p=C(n(55088)),v=C(n(43838)),d=C(n(79967)),y=C(n(92606)),m=C(n(95665)),g=C(n(70315)),_=C(n(7750)),b=n(81870),w=n(48365),k=n(22825),S=n(23835),x=n(84228);function C(e){return e&&e.__esModule?e:{default:e}}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,r.default)(e,o.key,o)}}var I=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"init",value:function(){var e=S.ClassUtils.regClass;e("ui",x.ui),e("view/pop/alert.ts",o.default),e("view/pop/tip.ts",i.default),e("view/pop/topTip.ts",a.default),e("view/pop/voice.ts",u.default),e("ctrl/guide/guideDialog.ts",l.default),e("view/pop/help.ts",c.default),e("view/pop/lottery.ts",s.default),e("view/pop/record/itemRecord.ts",f.default),e("view/pop/record/gameRecord.ts",h.default),e("view/pop/shop.ts",p.default),e("view/scenes/arena/arenaView.ts",v.default),e("view/scenes/game/skillItemView.ts",d.default),e("view/scenes/game/gameView.ts",y.default),e("view/scenes/game/gunBoxView.ts",m.default),e("view/scenes/hallView.ts",g.default),e("view/scenes/loadingView.ts",_.default),e("Laya.Text",b.Text),e("Laya.Templet",w.Templet),e("Laya.HTMLDivElement",k.HTMLDivElement)}}],(n=null)&&E(t.prototype,n),r&&E(t,r),e}();t.default=I,I.width=1920,I.height=750,I.scaleMode="fixedheight",I.screenMode="horizontal",I.alignV="top",I.alignH="left",I.startScene="pop/alert/alert.scene",I.sceneRoot="",I.debug=!1,I.stat=!0,I.physicsDebug=!1,I.exportSceneToJson=!0,I.init()},76817:function(e,t,n){"use strict";var r,o,i;n(63978)(t,"__esModule",{value:!0}),t.ArenaStatus=t.ArenaRoomStatus=t.ArenaGameStatus=void 0,t.ArenaStatus=r,function(e){e[e.Maintenance=1]="Maintenance",e[e.NoOpen=2]="NoOpen",e[e.Open=3]="Open",e[e.Settle=4]="Settle"}(r||(t.ArenaStatus=r={})),t.ArenaRoomStatus=o,function(e){e[e.NoOpen=1]="NoOpen",e[e.Open=2]="Open",e[e.OnGoing=3]="OnGoing"}(o||(t.ArenaRoomStatus=o={})),t.ArenaGameStatus=i,function(e){e[e.GAME_STATUS_CLOSE=1]="GAME_STATUS_CLOSE",e[e.GAME_STATUS_FREE=2]="GAME_STATUS_FREE",e[e.GAME_STATUS_SIGNUP=3]="GAME_STATUS_SIGNUP",e[e.GAME_STATUS_SIGNUP_OVER=4]="GAME_STATUS_SIGNUP_OVER",e[e.GAME_STATUS_PLAYING=5]="GAME_STATUS_PLAYING",e[e.GAME_STATUS_TABLE_OUT=6]="GAME_STATUS_TABLE_OUT",e[e.GAME_STATUS_SETTLEMENT=7]="GAME_STATUS_SETTLEMENT"}(i||(t.ArenaGameStatus=i={}))},22426:function(e,t,n){"use strict";function r(e){return r="function"==typeof a&&"symbol"==typeof h?function(e){return typeof e}:function(e){return e&&"function"==typeof a&&e.constructor===a&&e!==a.prototype?"symbol":typeof e},r(e)}var o=n(63978),i=n(41511),a=n(65420),u=n(19996),l=n(3649),c=n(66419),s=n(52424),f=n(34074),h=n(98341);o(t,"__esModule",{value:!0}),t.AppCtrl=void 0;var p=P(n(93476)),v=P(n(77766)),d=P(n(68700)),y=n(899),m=P(n(11369)),g=n(66058),_=n(23254),b=n(21560),w=n(86424),k=n(11263),S=n(51720),x=n(10659),C=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var i={},a=o&&f;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=a?f(e,u):null;l&&(l.get||l.set)?o(i,u,l):i[u]=e[u]}i.default=e,n&&n.set(e,i);return i}(n(7750)),E=n(66589),I=n(80356),A=n(16023),M=n(8249),T=n(31070),R=n(39487),B=n(72243);function L(e){if("function"!=typeof s)return null;var t=new s,n=new s;return(L=function(e){return e?n:t})(e)}function P(e){return e&&e.__esModule?e:{default:e}}function O(e){return function(e){if(i(e))return U(e)}(e)||function(e){if(void 0!==a&&null!=u(e)||null!=e["@@iterator"])return c(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){return function(e){if(i(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==a&&u(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){var n;if(e){if("string"==typeof e)return U(e,t);var r=l(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?c(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U(e,t):void 0}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o(e,r.key,r)}}var j=function(e,t,n,r){return new(n||(n=p.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},F=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bg_monitor=new S.BgMonitor,this.startApp()}var t,n,r;return t=e,r=[{key:"commonLoad",value:function(e){return j(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,y.loadRes)((0,v.default)(n=[]).call(n,O(b.res.common),O(b.res.font)),e);case 2:d.default.utils.registerFontSize(b.font_list);case 3:case"end":return t.stop()}}),t)})))}}],(n=[{key:"startApp",value:function(){return j(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E.ctrlState.app=this,t=new w.AppModel,this.model=t,t.init(),e.next=6,d.default.run(m.default,{defaultVersion:g.Config.CdnVersion,versionPath:"./version.json?v=".concat(g.Config.CdnVersion),basePath:g.Config.cndUrl,zip_path:"./zip/zip_map.json",zip_folder:"./zip"});case 6:return C.default.event_com.once(C.LoadingEvent.Show,(function(){platform.hideLoading()})),this.keyboard_number=new x.KeyBoardNumber,I.AudioCtrl.init(),e.prev=9,e.next=12,(0,B.connectHallSocket)();case 12:if(n=e.sent,r=D(n,2),o=r[0],i=r[1],!o){e.next=19;break}return this.enterGame(i),e.abrupt("return");case 19:e.next=26;break;case 21:if(e.prev=21,e.t0=e.catch(9),!(0,_.isProd)()){e.next=26;break}return platform.hideLoading(),e.abrupt("return");case 26:return e.prev=26,e.next=29,(0,T.connectArenaHallSocket)(!0);case 29:if(!e.sent){e.next=33;break}return this.enterArenaGame({currency:k.modelState.app.user_info.cur_balance}),e.abrupt("return");case 33:e.next=40;break;case 35:if(e.prev=35,e.t1=e.catch(26),!(0,_.isProd)()){e.next=40;break}return platform.hideLoading(),e.abrupt("return");case 40:return e.next=42,R.HallCtrl.preEnter();case 42:case"end":return e.stop()}}),e,this,[[9,21],[26,35]])})))}},{key:"enterGame",value:function(e){var t=this.model.enterGame();return M.GameCtrl.preEnter(e,t)}},{key:"enterArenaGame",value:function(e){var t=this.model.enterGame();return A.GameCtrl.preEnter(e,t)}}])&&G(t.prototype,n),r&&G(t,r),e}();t.AppCtrl=F},66589:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.ctrlState=void 0;t.ctrlState={}},80356:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.AudioEvent=t.AudioCtrl=void 0;var r=l(n(81643)),o=l(n(63978)),i=l(n(8136)),a=n(24629),u=n(41107);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}var s={VoiceChange:"voice_change",MusicChange:"music_change"};t.AudioEvent=s;var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"init",value:function(){a.Laya.stage.on(a.Laya.Event.FOCUS,null,(function(){e.resumeBg()}))}},{key:"setVoice",value:function(e){var t=this.sound_manager;this.voice=e;var n=0===e;n!==t.soundMuted&&(t.soundMuted=n),t.setSoundVolume(e),this.event.emit(s.VoiceChange,e)}},{key:"setMusic",value:function(e){var t=this.sound_manager,n=0===e;n!==t.musicMuted&&(t.musicMuted=n,n||this.playBg(this.bg_url)),t.setMusicVolume(e),this.music=e,this.event.emit(s.MusicChange,e)}},{key:"play",value:function(e){var t=this,n=this.music||1,r=this.sound_manager,o=r.playSound;r.soundMuted||(this.sound_manager.setMusicVolume(.5*n),o(e,1,u.Handler.create(null,(function(){t.sound_manager.setMusicVolume(n)}))))}},{key:"playBg",value:function(e){var t=this.sound_manager,n=t.playMusic,r=t.musicMuted;this.bg_url=e,r||n(e)}},{key:"resumeBg",value:function(){this.sound_manager._musicChannel||this.playBg(this.bg_url)}},{key:"stop",value:function(e){var t=this.sound_manager.stopSound;if(!e)return!0;-1!==(0,r.default)(e).call(e,"bg")&&this.sound_manager.stopMusic(),t(e)}},{key:"stopAll",value:function(){this.sound_manager.stopAll()}}],(n=null)&&c(t.prototype,n),o&&c(t,o),e}();t.AudioCtrl=f,f.event=new i.default,f.sound_manager=a.Laya.SoundManager},217:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.BulletCtrl=void 0;var r,o=(r=n(63978))&&r.__esModule?r:{default:r},i=n(8985),a=n(37440),u=n(54049),l=n(77513),c=n(48652),s=n(70903),f=n(48732);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}var p=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.view=t,this.model=n,this.syncPos=function(){var e=r.view;if(!e.destroyed){var t=r.model,n=t.pos,o=t.velocity,i=(0,u.vectorToDegree)(o)+90;e.rotation=i,e.pos(n.x,n.y)}},this.rage=function(){var e=r.view,t=r.model,n=t.pos,o=t.velocity,i=(0,u.vectorToDegree)(o)+90;e.rotation=i,e.pos(n.x,n.y)},this.init()}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.initView(),this.initEvent()}},{key:"initView",value:function(){var e=this.view,t=this.model.skin_level;this.syncPos(),e.visible=!0,e.scale(.8,.8),(0,l.playSkeleton)(e,function(e){return Number(e)>3?0:e}(t),!0),e.zOrder=301}},{key:"initEvent",value:function(){var e=this,t=this.model.event;t.on(i.BulletEvent.Move,this.syncPos,this),t.on(i.BulletEvent.AddNet,(function(e){var t=(0,c.addNet)(e.skin);new f.NetCtrl(t,e)}),this),t.on(a.ModelEvent.Destroy,(function(){e.destroy()}),this)}},{key:"destroy",value:function(){var e,t;(0,s.recoverSkeletonPool)("bullet",this.model.skin,this.view),null===(t=null===(e=this.model)||void 0===e?void 0:e.event)||void 0===t||t.offAllCaller(this),this.model=void 0}}])&&h(t.prototype,n),r&&h(t,r),e}();t.BulletCtrl=p},63211:function(e,t,n){"use strict";function r(e){return r="function"==typeof p&&"symbol"==typeof y?function(e){return typeof e}:function(e){return e&&"function"==typeof p&&e.constructor===p&&e!==p.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(62734),c=n(34074),s=n(63978),f=n(3649),h=n(66419),p=n(65420),v=n(19996),d=n(41511),y=n(98341);s(t,"__esModule",{value:!0}),t.FishCtrl=void 0;var m=C(n(93476)),g=C(n(33032)),_=n(74227),b=n(30260),w=n(26744),k=n(50634),S=n(3828),x=n(42717);function C(e){return e&&e.__esModule?e:{default:e}}function E(e,t){var n=void 0!==p&&v(e)||e["@@iterator"];if(!n){if(d(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return I(e,t);var r=f(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return h(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),s(e,r.key,r)}}function M(){return M="undefined"!=typeof Reflect&&l?l:function(e,t,n){var r=T(e,t);if(r){var o=c(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},M.apply(this,arguments)}function T(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}function R(e,t){return R=o||function(e,t){return e.__proto__=t,e},R(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=o?i:function(e){return e.__proto__||i(e)},O(e)}var D=function(e,t,n,r){return new(n||(n=m.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(i,e);var t,n,r,o=B(i);function i(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this)).view=e,r.model=t,r.game_ctrl=n,r.onBomb=function(e){return D(P(r),void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i,a,u,l,c,s,f,h,p,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.model,r=this.game_ctrl,o=n.id,i=e.pos,a=e.fish_list,u=e.player,l=u.need_emit,c=u.is_cur_player,l){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,(0,x.waitFishDestroy)(n);case 8:s=[],f=E(a);try{for(f.s();!(h=f.n()).done;)(p=h.value).destroyed||s.push(p.id)}catch(e){f.e(e)}finally{f.f()}v={bombPoint:i,eid:o,fishList:s},c||(v.robotId=u.user_id),r.sendToGameSocket(w.ServerEvent.FishBomb,v);case 14:case"end":return t.stop()}}),t,this)})))},r.setVisible=function(e){r.view.setVisible(e)},r.syncPos=function(){var e=P(r).view,t=r.model,n=t.pos,o=t.velocity,i=t.horizon_turn;t.visible;e.syncPos(n,o,i)},r.beCapture=function(e){(0,g.default)((function(){e()}),500)},r.init(),r}return t=i,(n=[{key:"init",value:function(){var e=this.model.visible;this.addCom(new b.TimeoutCom),this.initEvent(),this.setVisible(e),this.syncPos()}},{key:"initEvent",value:function(){var e=this,t=this.model.event,n=this.view;t.on(k.FishBombEvent.FishBomb,this.onBomb,this),t.on(S.FishEvent.VisibleChange,this.setVisible,this),t.on(S.FishEvent.Move,this.syncPos),t.on(S.FishEvent.BeCast,(function(){n.beCastAni()}),this),t.on(S.FishEvent.BeCapture,this.beCapture,this),t.on(S.FishEvent.StatusChange,(function(e){e===S.FishStatus.Freezed?n.stopSwimAni():n.playSwimAni()}),this),t.on(S.FishEvent.Destroy,(function(){e.destroy()}),this)}},{key:"destroy",value:function(){var e,t,n=this.view;null===(t=null===(e=this.model)||void 0===e?void 0:e.event)||void 0===t||t.offAllCaller(this),n.destroy(),M(O(i.prototype),"destroy",this).call(this),this.game_ctrl=void 0,this.model=void 0}}])&&A(t.prototype,n),r&&A(t,r),i}(_.ComponentManager);t.FishCtrl=N},68889:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.ArenaPlayerCom=void 0;var r,o=(r=n(63978))&&r.__esModule?r:{default:r},i=n(80356),a=n(14082),u=n(83125),l=n(11263),c=n(59446),s=n(44560),f=n(38703);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}var p=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.model=t,this.game_ctrl=n,this.init()}var t,n,r;return t=e,(n=[{key:"init",value:function(){var e=this,t=this.model,n=this.game_ctrl,r=t.event,o=n.view,h=this.model,p=h.bullet_num,v=h.score,d=h.is_cur_player;r.on(u.PlayerEvent.UpdateInfo,(function(){var t=e.model,n=t.bullet_num,r=t.score,i=t.is_cur_player;o.setBulletScoreNum(i,n,r)}),this),r.on(u.PlayerEvent.CaptureFish,(function(e){var n=e.pos,r=e.data,o=r.winScore,u=r.drop,h=e.resolve,p=t.gun.pos;if(n||h(),t.is_cur_player){if(u){var v=(0,l.getGameCurrency)();(0,f.awardSkill)(n,p,u,v)}i.AudioCtrl.play(a.AudioRes.FlySkill)}o?t.is_cur_player&&o>1e3?(0,c.showAwardCircle)(n,o,t.is_cur_player).then(h):(0,s.showAwardCoin)(n,p,o,t.is_cur_player).then(h):h()}),this),o.setScorePanelVisible(d,!0),o.setBulletScoreNum(d,p,v)}},{key:"destroy",value:function(){var e=this.game_ctrl,t=this.model,n=t.event,r=t.is_cur_player,o=e.view;null==o||o.setScorePanelVisible(r,!1),n.offAllCaller(this)}}])&&h(t.prototype,n),r&&h(t,r),e}();t.ArenaPlayerCom=p},16023:function(e,t,n){"use strict";var r=n(63978),o=n(3649),i=n(66419),a=n(65420),u=n(19996),l=n(41511);r(t,"__esModule",{value:!0}),t.GameCtrl=void 0;var c=oe(n(93476)),s=oe(n(36384)),f=oe(n(33032)),h=oe(n(86902)),p=oe(n(77766)),v=oe(n(13053)),d=n(899),y=n(8928),m=n(89662),g=n(85096),_=n(66589),b=n(80356),w=n(39487),k=n(58465),S=n(43267),x=n(14082),C=n(89970),E=n(21560),I=n(26744),A=n(62673),M=n(50615),T=n(86408),R=n(11263),B=n(54375),L=n(51720),P=n(52782),O=n(55161),D=n(77513),N=oe(n(55437)),U=oe(n(9215)),G=oe(n(62288)),j=oe(n(13978)),F=oe(n(83481)),H=oe(n(34720)),z=oe(n(61141)),V=n(79699),Y=oe(n(94133)),$=oe(n(43838)),K=n(32354),W=n(40163),X=oe(n(7750)),Q=n(22426),q=n(31070),Z=n(59914),J=n(63211),ee=n(545),te=n(96747),ne=n(68889),re=n(5918);function oe(e){return e&&e.__esModule?e:{default:e}}function ie(e){return function(e){if(l(e))return ce(e)}(e)||function(e){if(void 0!==a&&null!=u(e)||null!=e["@@iterator"])return i(e)}(e)||le(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){return function(e){if(l(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==a&&u(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||le(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){var n=void 0!==a&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=le(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function le(e,t){var n;if(e){if("string"==typeof e)return ce(e,t);var r=o(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?i(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ce(e,t):void 0}}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(e,o.key,o)}}var fe=function(e,t,n,r){return new(n||(n=c.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},he=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player_list=new s.default,this.view=t,this.model=n,this.model.setGameMode(2)}var t,n,r;return t=e,n=[{key:"init",value:function(e,t){var n=this;this.initEvent(),b.AudioCtrl.playBg(x.AudioRes.GameBg),this.view.showBubbleRefresh(t),(0,q.waitConnectGameArena)().then((function(t){(0,re.onGameSocket)(t,n),t.send(I.ArenaEvent.EnterGame,{currency:e})}))}},{key:"initEvent",value:function(){var e=this,t=this.view,n=t.btn_leave,r=t.btn_shop,o=t.btn_gift,i=t.btn_rank,a=t.btn_help,u=t.btn_music,l=m.Event.CLICK;this.onModel(),_.ctrlState.app.bg_monitor.event.on(L.BgMonitorEvent.VisibleChange,(function(e){e||(0,ee.disableCurUserOperation)()}),this),n.on(l,this,(function(t){var n=(0,k.getLang)(),r=C.InternationalTip[n].leaveTip;t.stopPropagation(),N.default.alert(r).then((function(t){"confirm"===t&&e.sendToGameSocket(I.ServerEvent.TableOut)}))})),(0,P.onNodeWithAni)(r,l,(function(t){t.stopPropagation(),z.default.preEnter({modeId:1,currency:e.currency})})),(0,P.onNodeWithAni)(o,l,(function(e){e.stopPropagation(),G.default.preEnter()})),(0,P.onNodeWithAni)(i,l,(function(e){e.stopPropagation(),F.default.preEnter()})),(0,P.onNodeWithAni)(a,l,(function(e){e.stopPropagation(),j.default.preEnter()})),(0,P.onNodeWithAni)(u,l,(function(e){e.stopPropagation(),Y.default.preEnter()}))}},{key:"needUpSideDown",value:function(e){return e>0}},{key:"onModel",value:function(){var e=this,t=this.model.event,n=this.view;t.on(T.GameEvent.AddFish,(function(t){var r=t.type,o=t.group_id,i=t.id,a=t.horizon_turn,u={type:r,currency:t.currency,group_id:o,id:i,horizon_turn:a},l=n.addFish(u);new J.FishCtrl(l,t,e)}),this),t.on(T.GameEvent.AddPlayer,(function(t){var r=t.server_index;t.is_cur_player&&e.needUpSideDown(r)&&n.upSideDown();var o=n.addGun(),i=new te.PlayerCtrl(o,t,e),a=new ne.ArenaPlayerCom(t,e);i.addCom(a),e.player_list.add(i)}),this),t.on(A.FreezingComEvent.Freezing,(function(){b.AudioCtrl.play(x.AudioRes.Freeze),(0,K.activeFreeze)()}),this),t.on(A.FreezingComEvent.UnFreezing,(function(){(0,K.stopFreeze)()}),this),t.on(M.ShoalEvent.PreAddShoal,(function(e){b.AudioCtrl.play(x.AudioRes.ShoalComing),(0,W.activeShoalWave)(e)}),this),t.on(T.GameEvent.Destroy,(function(){e.destroy()}),this)}},{key:"buySkillTip",value:function(){N.default.alert((0,D.tplStr)("buySkillTip")).then((function(e){"confirm"===e&&G.default.preEnter()}))}},{key:"sendToGameSocket",value:function(){var e=(0,S.getSocket)(I.ServerName.ArenaHall);null==e||e.send.apply(e,arguments)}},{key:"offGameSocket",value:function(){var e=(0,S.getSocket)(I.ServerName.ArenaHall);(0,Z.offCommon)(e,this)}},{key:"getSocket",value:function(){return(0,S.getSocket)(I.ServerName.ArenaHall)}},{key:"onEnterGame",value:function(e){var t=this.model,n=(this.view,e.isTrial),r=e.fish,o=e.users,i=e.frozen,a=e.task,u=e.frozen_left,l=e.fish_list,c=e.isFirstStart,s=e.currency;c&&U.default.start(),this.isTrial=n,this.currency=s,this.addPlayers(o),this.addFish(r),i&&(0,f.default)((function(){t.freezing_com.freezing(u,l)})),a&&this.triggerTask(a,!1)}},{key:"calcClientIndex",value:function(e){return this.model.getCurPlayer().server_index<1?e:1-e}},{key:"onShoot",value:function(e){var t=e.direction;(0,h.default)(t).length&&(e.robotId&&(e.userId=e.robotId),this.model.shoot(e))}},{key:"onHit",value:function(e){this.model.captureFish(e)}},{key:"shoalComingTip",value:function(e){this.model.shoalComingTip(e)}},{key:"activeSkill",value:function(e,t){this.model.activeSkill(e,t)}},{key:"disableSkill",value:function(e,t){this.model.disableSkill(e,t)}},{key:"resetSkill",value:function(e,t){this.model.resetSkill(e,t)}},{key:"addFish",value:function(e){if(e){var t,n=ue(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.model.addFish(r)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"addPlayers",value:function(e){var t,n=ue(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.model.addPlayer(r,this.needUpSideDown)}}catch(e){n.e(e)}finally{n.f()}}},{key:"setPlayersEmit",value:function(e){var t,n=ue(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=this.model.getPlayerById(r);o&&o.updateInfo({need_emit:!0})}}catch(e){n.e(e)}finally{n.f()}}},{key:"changeBulletCost",value:function(e){var t=e.userId,n=e.multiple;this.model.getPlayerById(t).updateInfo({bullet_cost:n})}},{key:"changeUserNumInfo",value:function(e){var t,n=e.userId,r=e.change_arr,o=this.model.getPlayerById(n),i=ue(r);try{for(i.s();!(t=i.n()).done;){var a=t.value,u=a.type,l=a.num,c=a.id;"skill"===u?o.addSkillNum(c,l):o.updateInfo({bullet_num:o.bullet_num+l})}}catch(e){i.e(e)}finally{i.f()}}},{key:"changeSkin",value:function(e){var t=e.skinId,n=e.userId;t=t.charAt(t.length-1);var r=this.model.getPlayerById(n);(0,O.log)("接收到use skin",t),r.changeSkin(t)}},{key:"triggerTask",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.view;n.showTaskPanel(e,t)}},{key:"taskRefresh",value:function(e){this.view.updateTaskPanel(e)}},{key:"taskFinish",value:function(e){return fe(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.view,!(r=this.model.getPlayerById(e.userId)).is_cur_player){t.next=5;break}return t.next=5,n.taskFinish(e);case 5:r.updateInfo({score:r.score+e.award});case 6:case"end":return t.stop()}}),t,this)})))}},{key:"GameSettle",value:function(e){return fe(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.default.end();case 2:return t.next=4,H.default.preEnter(e).then((function(t){"continue"===t?(0,V.competitionSignUp)(e.currency).then((function(e){e.code!==I.ARENA_OK_CODE?n.leave():(null==n||n.model.destroy(),_.ctrlState.app.enterArenaGame({currency:e.currency}))})):n.leave()}));case 4:case"end":return t.stop()}}),t)})))}},{key:"tableOut",value:function(e){var t=this.model,n=e.userId;if((0,R.isCurUser)(n,!0))this.leave();else{var r=t.getPlayerById(n);if(!r)return(0,O.error)("Game:>captureFish:> cant find player for userId=".concat(n,"!"));r.destroy()}}},{key:"leave",value:function(){(0,ee.disableAllUserOperation)(),null==this||this.model.destroy(),w.HallCtrl.preEnter()}},{key:"reset",value:function(){this.model.clear()}},{key:"destroy",value:function(){var t,n=_.ctrlState.app.bg_monitor;null===(t=this.model)||void 0===t||t.event.offAllCaller(this),n.event.offAllCaller(this),this.offGameSocket(),this.view=void 0,this.model=void 0,e.instance=void 0,(0,D.setProps)(_.ctrlState,{game:void 0})}}],r=[{key:"preEnter",value:function(t,n){return fe(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.instance){r.next=2;break}return r.abrupt("return",this.instance);case 2:return r.abrupt("return",(0,y.runAsyncTask)((function(){return fe(o,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,a,u,l,c,s,f,h,v,y=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=this.genBgNum(),a=ae(i,2),u=a[0],l=a[1],c=(0,p.default)(o=[l]).call(o,ie(E.res.game)),t.currency?(0,ee.waitEnterGame)().then((function(e){var n=ae(e,2),r=n[0],o=n[1];return fe(y,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:if("YOUCHAIN"!==(0,k.getChannel)()||o.isTrial){e.next=6;break}return n=(0,k.getLang)(),e.next=6,N.default.alert(C.InternationalTip[n].delayUpdateAccount);case 6:(0,ee.tipExchange)(t);case 7:case"end":return e.stop()}}),e)})))})):(0,ee.waitEnterGame)().then((function(e){var t=ae(e,2),n=t[0],r=t[1];return fe(y,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&!r.isTrial&&r.currency){e.next=2;break}return e.abrupt("return");case 2:(0,B.tipPlatformCurrency)(r.currency);case 3:case"end":return e.stop()}}),e)})))})),r.next=5,(0,d.mergeProgressObserver)([(0,d.toProgressObserver)($.default.preEnter)(),(0,d.toProgressObserver)(d.fakeLoad)(1),(0,d.toProgressObserver)(Q.AppCtrl.commonLoad)(),(0,d.toProgressObserver)(d.loadRes)(c)],X.default);case 5:return s=r.sent,f=ae(s,1),h=f[0],v=new e(h,n),this.instance=v,v.init(t.currency,u),(0,D.setProps)(_.ctrlState,{game:v}),r.abrupt("return",v);case 13:case"end":return r.stop()}}),r,this)})))}),this));case 3:case"end":return r.stop()}}),r,this)})))}},{key:"genBgNum",value:function(){var e=(0,v.default)(1,3);return[e,{url:"image/game/normal_bg/bg".concat(e,".jpg"),type:g.Loader.IMAGE}]}}],n&&se(t.prototype,n),r&&se(t,r),e}();t.GameCtrl=he},5918:function(e,t,n){"use strict";var r=n(63978),o=n(3649),i=n(66419),a=n(65420),u=n(19996),l=n(41511);r(t,"__esModule",{value:!0}),t.convertEnterGame=S,t.onGameSocket=function(e,t){var n,r;(0,f.commonSocket)(e,t),(0,p.bindSocketEvent)(e,t,(w(n={},d.ServerEvent.EnterGame,(function(n,o){if(0!==o)return(0,f.errorHandler)(o,n,e);r=n.currency,t.onEnterGame(S(n))})),w(n,d.ServerEvent.TableIn,(function(e){var n=function(e){var t=e.userId,n=e.seatId,r=e.multiple,o=e.needEmit,i=e.turretSkin,a=e.bulletNum,u=x(k,!1);return{user_id:t,server_index:n-1,bullet_cost:r,gun_skin:"".concat(Number(i)-1e3),nickname:"",avatar:"",bullet_num:a||0,need_emit:o||!1,is_cur_player:!1,skills:u}}(e);t.addPlayers([n])})),w(n,d.ServerEvent.NeedEmitUser,(function(e){(0,y.isCurUser)(e.userId,!0)&&t.setPlayersEmit(e.robotIds)})),w(n,d.ServerEvent.TableOut,(function(n,r){if(0!==r)return(0,f.errorHandler)(r,n,e);t.tableOut(n)})),w(n,d.ServerEvent.Shoot,(function(e){t.onShoot(e)})),w(n,d.ServerEvent.Hit,(function(n,r){if(0!==r)return(0,f.errorHandler)(r,n,e);t.onHit(n)})),w(n,d.ServerEvent.UseFreeze,(function(e,n){0===n?t.activeSkill(v.SkillMap.Freezing,function(e){var t=e.userId,n=e.number,r=e.duration,o=e.frozenFishList;return{user_id:t,used_time:0,num:n,fish_list:o,duration:r/1e3}}(e)):t.resetSkill(v.SkillMap.Freezing,(0,y.getCurUserId)())})),w(n,d.ServerEvent.autoShoot,(function(e){e.autoShoot?t.activeSkill(v.SkillMap.Auto,function(e){var t=e.userId,n=e.autoShoot;return{user_id:t,autoShoot:n}}(e)):t.disableSkill(v.SkillMap.Auto,e.userId)})),w(n,d.ServerEvent.LockFish,(function(e,n){0===n?t.activeSkill(v.SkillMap.LockFish,function(e){var t=e.userId,n=e.eid,r=e.needActive,o=e.duration,i=e.number;return{user_id:t,fish:n,needActive:r,duration:o/1e3,used_time:0,num:Number(i)}}(e)):t.resetSkill(v.SkillMap.Freezing,(0,y.getCurUserId)())})),w(n,d.ServerEvent.AddFish,(function(e){t.addFish(e)})),w(n,d.ServerEvent.FishShoal,(function(e){t.shoalComingTip((0,c.default)(e)),t.addFish(e.fish)})),w(n,d.ServerEvent.ChangeTurret,(function(e){t.changeBulletCost(e)})),w(n,d.ServerEvent.UseSkin,(function(e){t.changeSkin(e)})),w(n,d.ArenaEvent.TriggerTask,(function(e){t.triggerTask(e)})),w(n,d.ArenaEvent.TaskRefresh,(function(e){t.taskRefresh(e)})),w(n,d.ArenaEvent.TaskFinish,(function(e){t.taskFinish(e)})),w(n,d.ArenaEvent.GameSettle,(function(e){t.GameSettle(e)})),w(n,d.ServerEvent.ExchangeBullet,(function(t,n){if(0!==n)return(0,f.errorHandler)(n,t,e);var r=(0,y.getCurPlayer)(),o=r.gun.getAllBulletCost();r.updateInfo({bullet_num:t.balance-o}),(0,m.tipExchange)(t)})),w(n,h.SocketEvent.Reconnected,(function(){t.reset(),e.send(d.ServerEvent.EnterGame,{replay:!0,currency:r})})),n))};var c=g(n(97093)),s=g(n(51942)),f=n(59914),h=n(49659),p=n(43267),v=n(66058),d=n(26744),y=n(11263),m=n(545);function g(e){return e&&e.__esModule?e:{default:e}}function _(e,t){var n=void 0!==a&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return b(e,t);var r=o(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,c=function(){};return{s:c,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,f=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){h=!0,s=e},f:function(){try{f||null==n.return||n.return()}finally{if(h)throw s}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n){return t in e?r(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k;function S(e){var t=e.isTrial,n=e.rate,r=e.users,o=e.items,i=e.fish,a=e.isFirstStart,u=e.task,l=e.table,c=l.frozen,f=l.frozenLeft,h=e.currency,p=[];k=o;var d,m=_(r);try{for(m.s();!(d=m.n()).done;){var g=d.value,b=g.userId,w=g.seatId,S=g.bulletNum,C=g.multiple,E=g.turretSkin,I=g.lockFish,A=g.lockLeft,M=g.needEmit,T=g.score,R=(0,y.isCurUser)(b,!0),B=(0,y.isCurUser)(b,!0)||M,L=x(o,R);I&&(L[v.SkillMap.LockFish]=(0,s.default)((0,s.default)({},L[v.SkillMap.LockFish]),{lock_fish:I,lock_left:A/1e3,needActive:!0}));var P={user_id:b,server_index:w-1,bullet_num:S,bullet_cost:C,gun_skin:"".concat(Number(E)-1e3),nickname:"",avatar:"",score:T,is_cur_player:R,skills:L,need_emit:B};R?p.unshift(P):p.push(P)}}catch(e){m.e(e)}finally{m.f()}var O=[];if(c&&i){var D,N=_(i);try{for(N.s();!(D=N.n()).done;){var U=D.value;if(U.frozen){U.group||O.push(U.eid);var G,j=_(U.group);try{for(j.s();!(G=j.n()).done;){var F=G.value;O.push(F.eid)}}catch(e){j.e(e)}finally{j.f()}}}}catch(e){N.e(e)}finally{N.f()}}return{isTrial:t,exchange_rate:n,fish:i,users:p,frozen:c,isFirstStart:a,task:u,currency:h,frozen_left:f/1e3,fish_list:O}}function x(e,t){var n,r={},o=_(e);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=i.itemId,u=i.number,l=i.usedTime,c=i.coolTime,s=i.duration;r[i.itemId]={item_id:a,num:t?Number(u):0,used_time:t?l/1e3:0,cool_time:c/1e3,duration:s/1e3}}}catch(e){o.e(e)}finally{o.f()}return r}},8249:function(e,t,n){"use strict";var r=n(63978),o=n(3649),i=n(66419),a=n(65420),u=n(19996),l=n(41511);r(t,"__esModule",{value:!0}),t.GameCtrl=void 0;var c=J(n(93476)),s=J(n(36384)),f=J(n(86902)),h=J(n(77766)),p=J(n(13053)),v=n(899),d=n(8928),y=n(89662),m=n(85096),g=n(66589),_=n(80356),b=n(39487),w=n(58465),k=n(95455),S=n(43267),x=n(14082),C=n(89970),E=n(21560),I=n(26744),A=n(62673),M=n(50615),T=n(86408),R=n(11263),B=n(54375),L=n(51720),P=n(52782),O=n(55161),D=n(77513),N=J(n(55437)),U=J(n(45170)),G=J(n(64525)),j=J(n(55088)),F=J(n(94133)),H=n(32354),z=n(40163),V=J(n(92606)),Y=J(n(7750)),$=n(22426),K=n(59914),W=n(63211),X=n(545),Q=n(51945),q=n(82087),Z=n(96747);function J(e){return e&&e.__esModule?e:{default:e}}function ee(e){return function(e){if(l(e))return oe(e)}(e)||function(e){if(void 0!==a&&null!=u(e)||null!=e["@@iterator"])return i(e)}(e)||re(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){return function(e){if(l(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==a&&u(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||re(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){var n=void 0!==a&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=re(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function re(e,t){var n;if(e){if("string"==typeof e)return oe(e,t);var r=o(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?i(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oe(e,t):void 0}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(e,o.key,o)}}var ae=function(e,t,n,r){return new(n||(n=c.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},ue=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player_list=new s.default,this.view=t,this.model=n}var t,n,r;return t=e,n=[{key:"init",value:function(e,t){var n=this;this.initEvent(),_.AudioCtrl.playBg(x.AudioRes.GameBg),this.view.showBubbleRefresh(t),(0,k.waitConnectGame)(e).then((function(){(0,q.onGameSocket)((0,S.getSocket)(I.ServerName.Game),n)}))}},{key:"initEvent",value:function(){var e=this,t=this.view,n=t.btn_help,r=t.btn_gift,o=t.btn_voice,i=t.btn_leave,a=t.btn_shop,u=y.Event.CLICK;this.onModel(),g.ctrlState.app.bg_monitor.event.on(L.BgMonitorEvent.VisibleChange,(function(e){e||(0,X.disableCurUserOperation)()}),this),(0,P.onNodeWithAni)(n,u,(function(e){e.stopPropagation(),U.default.preEnter()})),(0,P.onNodeWithAni)(r,u,(function(e){e.stopPropagation(),G.default.preEnter()})),(0,P.onNodeWithAni)(o,u,(function(e){e.stopPropagation(),F.default.preEnter()})),(0,P.onNodeWithAni)(a,u,(function(e){e.stopPropagation(),j.default.preEnter()})),(0,P.onNodeWithAni)(i,u,(function(t){var n=(0,w.getLang)(),r=C.InternationalTip[n].leaveTip;t.stopPropagation(),N.default.alert(r).then((function(t){"confirm"===t&&e.sendToGameSocket(I.ServerEvent.RoomOut)}))}))}},{key:"buySkillTip",value:function(){N.default.alert((0,D.tplStr)("buySkillTip")).then((function(e){"confirm"===e&&j.default.preEnter()}))}},{key:"needUpSideDown",value:function(e){return e>1}},{key:"onModel",value:function(){var e=this,t=this.model.event,n=this.view;t.on(T.GameEvent.AddFish,(function(t){var r=t.type,o=t.group_id,i=t.id,a=t.horizon_turn,u={type:r,group_id:o,currency:t.currency,id:i,horizon_turn:a},l=n.addFish(u);new W.FishCtrl(l,t,e)}),this),t.on(T.GameEvent.AddPlayer,(function(t){var r=t.server_index;if(t.is_cur_player){e.needUpSideDown(r)&&n.upSideDown();var o="left";1!==r&&2!==r||(o="right"),n.setBulletBoxPos(o)}var i=n.addGun(),a=new Z.PlayerCtrl(i,t,e),u=new Q.NormalPlayerCom(t,e);a.addCom(u),e.player_list.add(a)}),this),t.on(A.FreezingComEvent.Freezing,(function(){_.AudioCtrl.play(x.AudioRes.Freeze),(0,H.activeFreeze)()}),this),t.on(A.FreezingComEvent.UnFreezing,(function(){(0,H.stopFreeze)()}),this),t.on(M.ShoalEvent.PreAddShoal,(function(e){_.AudioCtrl.play(x.AudioRes.ShoalComing),(0,z.activeShoalWave)(e)}),this),t.on(T.GameEvent.Destroy,(function(){e.destroy()}),this)}},{key:"sendToGameSocket",value:function(){var e=(0,S.getSocket)(I.ServerName.Game);null==e||e.send.apply(e,arguments)}},{key:"offGameSocket",value:function(){var e=(0,S.getSocket)(I.ServerName.Game);(0,K.offCommon)(e,this)}},{key:"getSocket",value:function(){return(0,S.getSocket)(I.ServerName.Game)}},{key:"onEnterGame",value:function(e){var t=this.model,n=this.view,r=e.isTrial,o=e.fish,i=e.users,a=e.frozen,u=e.frozen_left,l=e.fish_list,c=e.exchange_rate,s=e.currency;this.isTrial=r,r&&n.setTrialStyle(),this.addPlayers(i),this.addFish(o),a&&t.freezing_com.freezing(u,l),n.setExchangeRate(c,s)}},{key:"calcClientIndex",value:function(e){return this.model.getCurPlayer().server_index<=1?e:3-e}},{key:"onShoot",value:function(e){var t=e.direction;(0,f.default)(t).length&&(e.robotId&&(e.userId=e.robotId),this.model.shoot(e))}},{key:"onHit",value:function(e){this.model.captureFish(e)}},{key:"shoalComingTip",value:function(e){this.model.shoalComingTip(e)}},{key:"activeSkill",value:function(e,t){this.model.activeSkill(e,t)}},{key:"disableSkill",value:function(e,t){this.model.disableSkill(e,t)}},{key:"resetSkill",value:function(e,t){this.model.resetSkill(e,t)}},{key:"addFish",value:function(e){var t,n=ne(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.model.addFish(r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"addPlayers",value:function(e){var t,n=ne(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.model.addPlayer(r,this.needUpSideDown)}}catch(e){n.e(e)}finally{n.f()}}},{key:"setPlayersEmit",value:function(e){var t,n=ne(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=this.model.getPlayerById(r);o&&o.updateInfo({need_emit:!0})}}catch(e){n.e(e)}finally{n.f()}}},{key:"changeBulletCost",value:function(e){var t=e.userId,n=e.multiple;this.model.getPlayerById(t).updateInfo({bullet_cost:n})}},{key:"changeUserNumInfo",value:function(e){var t,n=e.userId,r=e.change_arr,o=this.model.getPlayerById(n),i=ne(r);try{for(i.s();!(t=i.n()).done;){var a=t.value,u=a.type,l=a.num,c=a.id;"skill"===u?o.addSkillNum(c,l):o.updateInfo({bullet_num:o.bullet_num+l})}}catch(e){i.e(e)}finally{i.f()}}},{key:"changeSkin",value:function(e){var t=e.skinId,n=e.userId;t=t.charAt(t.length-1);var r=this.model.getPlayerById(n);(0,O.log)("接收到use skin",t),r.changeSkin(t)}},{key:"tableOut",value:function(e){var t=this,n=this.model,r=e.userId,o=e.isTimeOut;if((0,R.isCurUser)(r)){var i=(0,w.getLang)(),a=C.InternationalTip[i].kickedTip,u=C.InternationalTip[i][I.ServerErrCode.TrialTimeGame],l=o?u:a;(0,X.disableAllUserOperation)(),this.offGameSocket(),(0,S.disconnectSocket)(I.ServerName.Game),N.default.alert(l,{hide_cancel:!0}).then((function(){t.roomOut({userId:r})}))}else{var c=n.getPlayerById(r);if(!c)return(0,O.error)("Game:>captureFish:> cant find player for userId=".concat(r,"!"));c.destroy()}}},{key:"roomOut",value:function(e){var t=this.model,n=e.userId;(0,R.isCurUser)(n)&&(this.offGameSocket(),(0,S.disconnectSocket)(I.ServerName.Game),t.destroy(),b.HallCtrl.preEnter())}},{key:"reset",value:function(){this.model.clear()}},{key:"destroy",value:function(){var t,n=g.ctrlState.app.bg_monitor;null===(t=this.model)||void 0===t||t.event.offAllCaller(this),n.event.offAllCaller(this),this.view=void 0,this.model=void 0,e.instance=void 0,(0,D.setProps)(g.ctrlState,{game:void 0})}}],r=[{key:"preEnter",value:function(t,n){return ae(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.instance){r.next=2;break}return r.abrupt("return",this.instance);case 2:return r.abrupt("return",(0,d.runAsyncTask)((function(){return ae(o,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,a,u,l,c,s,f,p,d,y=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.currency?(0,X.waitEnterGame)().then((function(e){var n=te(e,2),r=n[0],o=n[1];return ae(y,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:if("YOUCHAIN"!==(0,w.getChannel)()||o.isTrial){e.next=6;break}return n=(0,w.getLang)(),e.next=6,N.default.alert(C.InternationalTip[n].delayUpdateAccount);case 6:(0,X.tipExchange)(t);case 7:case"end":return e.stop()}}),e)})))})):(0,X.waitEnterGame)().then((function(e){var t=te(e,2),n=t[0],r=t[1];return ae(y,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&!r.isTrial&&r.currency){e.next=2;break}return e.abrupt("return");case 2:(0,B.tipPlatformCurrency)(r.currency);case 3:case"end":return e.stop()}}),e)})))})),i=this.genBgNum(),a=te(i,2),u=a[0],l=a[1],c=(0,h.default)(o=[l]).call(o,ee(E.res.game)),r.next=5,(0,v.mergeProgressObserver)([(0,v.toProgressObserver)(V.default.preEnter)(),(0,v.toProgressObserver)(v.fakeLoad)(.5),(0,v.toProgressObserver)($.AppCtrl.commonLoad)(),(0,v.toProgressObserver)(v.loadRes)(c)],Y.default);case 5:return s=r.sent,f=te(s,1),p=f[0],d=new e(p,n),this.instance=d,d.init(t.socketUrl,u),(0,D.setProps)(g.ctrlState,{game:d}),r.abrupt("return",d);case 13:case"end":return r.stop()}}),r,this)})))}),this));case 3:case"end":return r.stop()}}),r,this)})))}},{key:"genBgNum",value:function(){var e=(0,p.default)(1,3);return[e,{url:"image/game/normal_bg/bg".concat(e,".jpg"),type:m.Loader.IMAGE}]}}],n&&ie(t.prototype,n),r&&ie(t,r),e}();t.GameCtrl=ue},545:function(e,t,n){"use strict";var r=n(3649),o=n(66419),i=n(65420),a=n(19996),u=n(41511);n(63978)(t,"__esModule",{value:!0}),t.changeBulletNum=function(e){var t=p.modelState.app.user_info.user_id;c.ctrlState.game.changeUserNumInfo({userId:t,change_arr:[{num:e,type:"bullet"}]})},t.disableAllUserOperation=function(){var e,t=function(e,t){var n=void 0!==i&&a(e)||e["@@iterator"];if(!n){if(u(e)||(n=m(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,l=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw l}}}}(p.modelState.app.game.getPlayers());try{for(t.s();!(e=t.n()).done;){var n=(o=e.value,l=2,function(e){if(u(e))return e}(o)||function(e,t){var n=null==e?null:void 0!==i&&a(e)||e["@@iterator"];if(null==n)return;var r,o,u=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(u.push(r.value),!t||u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw o}}return u}(o,l)||m(o,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=(n[0],n[1]);if(r.need_emit)r.disableSkill(f.SkillMap.Auto),r.getSkill(f.SkillMap.LockFish).unLock()}}catch(e){t.e(e)}finally{t.f()}var o,l},t.disableCurUserOperation=function(){var e=p.modelState.app.game.getCurPlayer();if(!e)return;e.disableSkill(f.SkillMap.Auto),e.getSkill(f.SkillMap.LockFish).unLock()},t.tipExchange=function(e){if(!e.currency)return;d.default.tip((0,v.tplStr)("enterGameCostTip",{bringAmount:e.bringAmount,bulletNum:e.bulletNum,currency:e.currency}))},t.waitEnterGame=function(){return _(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new l.default((function(e,n){return _(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.waitCreateSocket)(h.ServerName.Game);case 2:t.sent.event.once(h.ServerEvent.EnterGame,(function(t,n){if(200!==n)return e([!1]);e([!0,t])}));case 4:case"end":return t.stop()}}),t)})))})));case 1:case"end":return e.stop()}}),e)})))},t.waitGameExchangeOrLeave=function e(){return _(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new l.default((function(t,r){return _(n,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.waitCreateSocket)(h.ServerName.Game);case 2:(r=n.sent).event.once(h.ServerEvent.ExchangeBullet,(function(n,o){if(r.event.offAllCaller(e),200!==o)return t(!1);t(!0)}),e),r.event.on(h.ServerEvent.RoomOut,(function(n){var o=n.userId;(0,p.isCurUser)(o)&&(r.event.offAllCaller(e),t(!0))}),e);case 5:case"end":return n.stop()}}),n)})))})));case 1:case"end":return t.stop()}}),t)})))};var l=y(n(93476)),c=n(66589),s=n(43267),f=n(66058),h=n(26744),p=n(11263),v=n(77513),d=y(n(10535));function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){var n;if(e){if("string"==typeof e)return g(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?o(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=function(e,t,n,r){return new(n||(n=l.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))}},51945:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.NormalPlayerCom=void 0;var r,o=(r=n(63978))&&r.__esModule?r:{default:r},i=n(80356),a=n(59914),u=n(14082),l=n(26744),c=n(83091),s=n(83125),f=n(11263),h=n(59446),p=n(44560),v=n(38703);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}var y=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.model=t,this.game_ctrl=n,this.init()}var t,n,r;return t=e,(n=[{key:"init",value:function(){var e=this,t=this.model,n=this.game_ctrl,r=t.event,o=t.gun.event,d=n.view;r.on(s.PlayerEvent.UpdateInfo,(function(){var t=e.model.bullet_num;d.setBulletNum(t)})),r.on(s.PlayerEvent.CaptureFish,(function(e){var n=e.pos,r=e.data,o=r.win,a=r.drop,l=e.resolve,c=t.gun.pos;if(n||l(),t.is_cur_player){if(a){var s=(0,f.getGameCurrency)();(0,v.awardSkill)(n,c,a,s)}i.AudioCtrl.play(u.AudioRes.FlySkill)}o?t.is_cur_player&&o>1e3?(0,h.showAwardCircle)(n,o,t.is_cur_player).then(l):(0,p.showAwardCoin)(n,c,o,t.is_cur_player).then(l):l()}),this),t.is_cur_player&&(d.setBulletNum(t.bullet_num),o.on(c.GunEvent.NotEnoughBulletNum,(function(){var t=e.game_ctrl.getSocket();e.game_ctrl.isTrial?(0,a.errorHandler)(l.ServerErrCode.TrialNotBullet,null,t):(0,a.errorHandler)(l.ServerErrCode.ReExchange,null,t)}),this))}},{key:"destroy",value:function(){this.model.event.offAllCaller(this)}}])&&d(t.prototype,n),r&&d(t,r),e}();t.NormalPlayerCom=y},82087:function(e,t,n){"use strict";var r=n(63978),o=n(3649),i=n(66419),a=n(65420),u=n(19996),l=n(41511);r(t,"__esModule",{value:!0}),t.convertEnterGame=S,t.onGameSocket=function(e,t){var n;(0,h.commonSocket)(e,t),(0,v.bindSocketEvent)(e,t,(k(n={},y.ServerEvent.EnterGame,(function(n,r){if(200!==r)return(0,h.errorHandler)(r,n,e);t.onEnterGame(S(n))})),k(n,y.ServerEvent.TableIn,(function(e){var n=function(e){var t=e.userId,n=e.index,r=e.multiple,o=e.turretSkin,i=C(c,!1);return{user_id:t,server_index:n-1,bullet_cost:r,gun_skin:"".concat(Number(o)-1e3),nickname:"",avatar:"",bullet_num:0,need_emit:!1,is_cur_player:!1,skills:i}}(e);t.addPlayers([n])})),k(n,y.ServerEvent.NeedEmitUser,(function(e){(0,m.isCurUser)(e.userId)&&t.setPlayersEmit(e.robotIds)})),k(n,y.ServerEvent.TableOut,(function(n,r){if(200!==r)return(0,h.errorHandler)(r,n,e);t.tableOut(n)})),k(n,y.ServerEvent.Shoot,(function(e){t.onShoot(e)})),k(n,y.ServerEvent.Hit,(function(n,r){if(200!==r)return(0,h.errorHandler)(r,n,e);t.onHit(n)})),k(n,y.ServerEvent.FishBomb,(function(e,n){200===n?t.activeSkill(d.SkillMap.Bomb,x(e)):t.resetSkill(d.SkillMap.Bomb,(0,m.getCurUserId)())})),k(n,y.ServerEvent.UseBomb,(function(e,n){if(200===n){var r=x(e);t.activeSkill(d.SkillMap.Bomb,(0,s.default)((0,s.default)({},r),{is_bomb_fish:!0}))}else t.resetSkill(d.SkillMap.Bomb,(0,m.getCurUserId)())})),k(n,y.ServerEvent.UseFreeze,(function(e,n){200===n?t.activeSkill(d.SkillMap.Freezing,function(e){var t=e.userId,n=e.count,r=e.duration,o=e.frozenFishList;return{user_id:t,used_time:0,num:n,fish_list:o,duration:r/1e3}}(e)):t.resetSkill(d.SkillMap.Freezing,(0,m.getCurUserId)())})),k(n,y.ServerEvent.autoShoot,(function(e){e.autoShoot?t.activeSkill(d.SkillMap.Auto,function(e){var t=e.userId,n=e.autoShoot;return{user_id:t,autoShoot:n}}(e)):t.disableSkill(d.SkillMap.Auto,e.userId)})),k(n,y.ServerEvent.LockFish,(function(e,n){200===n?t.activeSkill(d.SkillMap.LockFish,function(e){var t=e.userId,n=e.eid,r=e.needActive,o=e.duration,i=e.count;return{user_id:t,fish:n,needActive:r,duration:o/1e3,used_time:0,num:Number(i)}}(e)):t.resetSkill(d.SkillMap.Freezing,(0,m.getCurUserId)())})),k(n,y.ServerEvent.AddFish,(function(e){t.addFish(e.fish)})),k(n,y.ServerEvent.FishShoal,(function(e){t.shoalComingTip((0,f.default)(e)),t.addFish(e.fish)})),k(n,y.ServerEvent.RoomOut,(function(e){t.roomOut(e)})),k(n,y.ServerEvent.ChangeTurret,(function(e){t.changeBulletCost(e)})),k(n,y.ServerEvent.UseSkin,(function(e){t.changeSkin(e)})),k(n,y.ServerEvent.ExchangeBullet,(function(t,n){if(200!==n)return(0,h.errorHandler)(n,t,e);var r=(0,m.getCurPlayer)(),o=r.gun.getAllBulletCost();r.updateInfo({bullet_num:t.balance-o}),(0,g.tipExchange)(t)})),k(n,p.SocketEvent.Reconnected,(function(){t.reset(),e.send(y.ServerEvent.EnterGame,{replay:!0})})),n))};var c,s=_(n(51942)),f=_(n(97093)),h=n(59914),p=n(49659),v=n(43267),d=n(66058),y=n(26744),m=n(11263),g=n(545);function _(e){return e&&e.__esModule?e:{default:e}}function b(e,t){var n=void 0!==a&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return w(e,t);var r=o(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,c=function(){};return{s:c,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,f=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){h=!0,s=e},f:function(){try{f||null==n.return||n.return()}finally{if(h)throw s}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t,n){return t in e?r(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=e.isTrial,n=e.rate,r=e.users,o=e.items,i=e.fish,a=e.frozen,u=e.frozenLeft,l=e.currency,f=[];c=o;var h,p=b(r);try{for(p.s();!(h=p.n()).done;){var v=h.value,y=v.userId,g=v.index,_=v.bulletNum,w=v.multiple,k=v.turretSkin,S=v.lockFish,x=v.lockLeft,E=v.needEmit,I=(0,m.isCurUser)(y),A=(0,m.isCurUser)(y)||E,M=C(o,I);S&&(M[d.SkillMap.LockFish]=(0,s.default)((0,s.default)({},M[d.SkillMap.LockFish]),{lock_fish:S,lock_left:x/1e3,needActive:!0}));var T={user_id:y,server_index:g-1,bullet_num:_,bullet_cost:w,gun_skin:"".concat(Number(k)-1e3),nickname:"",avatar:"",is_cur_player:I,skills:M,need_emit:A};I?f.unshift(T):f.push(T)}}catch(e){p.e(e)}finally{p.f()}var R=[];if(a){var B,L=b(i);try{for(L.s();!(B=L.n()).done;){var P=B.value;P.frozen&&R.push(P.eid)}}catch(e){L.e(e)}finally{L.f()}}return{isTrial:t,exchange_rate:n,fish:i,users:f,frozen:a,currency:l,frozen_left:u/1e3,fish_list:R}}function x(e){return{user_id:e.userId,pos:e.bombPoint,num:e.count,used_time:0,fish_list:e.killedFish}}function C(e,t){var n,r={},o=b(e);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=i.itemId,u=i.count,l=i.usedTime,c=i.coolTime,s=i.duration;r[i.itemId]={item_id:a,num:t?Number(u):0,used_time:t?l/1e3:0,cool_time:c/1e3,duration:s/1e3}}}catch(e){o.e(e)}finally{o.f()}return r}},88672:function(e,t,n){"use strict";var r=n(63978),o=n(3649),i=n(66419),a=n(65420),u=n(19996),l=n(41511);r(t,"__esModule",{value:!0}),t.GameTestCtrl=void 0;var c=C(n(93476)),s=C(n(36384)),f=n(899),h=n(66589),p=n(59914),v=n(43267),d=n(21560),y=n(26744),m=n(86408),g=n(11263),_=n(77513),b=C(n(92606)),w=n(63211),k=n(82087),S=n(96747),x=n(8253);function C(e){return e&&e.__esModule?e:{default:e}}function E(e,t){return function(e){if(l(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==a&&u(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){var n;if(e){if("string"==typeof e)return A(e,t);var r=o(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?i(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(e,o.key,o)}}var T=function(e,t,n,r){return new(n||(n=c.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},R=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.view=t,this.model=n,this.player_list=new s.default,g.modelState.app.game=n,this.onModel(),(0,x.genUserInfo)(this)}var t,n,r;return t=e,n=[{key:"needUpSideDown",value:function(){return!1}},{key:"onModel",value:function(){var e=this,t=this.model.event,n=this.view;t.on(m.GameEvent.AddFish,(function(t){var r=t.type,o=t.id,i=t.horizon_turn,a=t.currency,u=n.addFish({type:r,id:o,horizon_turn:i,currency:a});e.fish_view=u,new w.FishCtrl(u,t)}),this),t.on(m.GameEvent.AddPlayer,(function(t){var r=n.addGun(),o=new S.PlayerCtrl(r,t,e);e.player_list.add(o)}),this),t.on(m.GameEvent.Destroy,(function(){e.destroy()}),this)}},{key:"sendToGameSocket",value:function(){var e=(0,v.getSocket)(y.ServerName.Game);null==e||e.send.apply(e,arguments)}},{key:"offGameSocket",value:function(){var e=(0,v.getSocket)(y.ServerName.Game);(0,p.offCommon)(e,this)}},{key:"calcClientIndex",value:function(){return 1}},{key:"onShoot",value:function(e){this.model.shoot(e)}},{key:"onHit",value:function(e){this.model.captureFish(e)}},{key:"addFish",value:function(e){var t,n=function(e,t){var n=void 0!==a&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=I(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.model.addFish(r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"removePlayerCtrl",value:function(e){this.player_list.delete(e)}},{key:"destroy",value:function(){var e,t;this.offGameSocket(),null===(t=null===(e=this.model)||void 0===e?void 0:e.event)||void 0===t||t.offAllCaller(this),this.model=void 0,this.view=void 0,(0,_.setProps)(h.ctrlState,{game:void 0}),this.player_list=new s.default}}],r=[{key:"preEnter",value:function(){return T(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=b.default.preEnter(),r=(0,f.loadRes)(d.res.gameTutorial),o=(0,x.mockSocket)(),i=c.default.all([n,o,r]).then((function(t){var n=E(t,2),r=n[0],o=n[1],i=new e(r,g.modelState.app.enterGame());return i.view.showBubbleRefresh(1),(0,k.onGameSocket)(o,i),i})),t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)})))}}],n&&M(t.prototype,n),r&&M(t,r),e}();t.GameTestCtrl=R},8253:function(e,t,n){"use strict";var r=n(63978);r(t,"__esModule",{value:!0}),t.genFishInfo=function(e){var t=12e8,n={eid:"001",fishId:"".concat(1),displaceType:"path",pathNo:"".concat(3),totalTime:t,usedTime:6e8};e.model.addFish(n)},t.genUserInfo=function(e){var t,n=e.model,r=s.modelState.app.user_info.user_id,o={user_id:r,server_index:0,bullet_cost:1,bullet_num:1,gun_skin:"1",nickname:r,avatar:"test",need_emit:!0,is_cur_player:!0,skills:(t={},h(t,l.SkillMap.Freezing,{item_id:l.SkillMap.Freezing,num:1,cool_time:10,used_time:0}),h(t,l.SkillMap.LockFish,{item_id:l.SkillMap.LockFish,num:20,cool_time:10,used_time:0}),h(t,l.SkillMap.Bomb,{item_id:l.SkillMap.Bomb,num:20,cool_time:10,used_time:0}),t)};n.addPlayer(o,e.needUpSideDown)},t.mockShoot=function(){return p(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.modelState.app.user_info.user_id,n=(0,u.getSocket)(c.ServerName.Game),n.event.emit(c.ServerEvent.Shoot,{userId:t,direction:{x:1.3,y:-1}}),e.abrupt("return",(0,f.sleep)(2));case 4:case"end":return e.stop()}}),e)})))},t.mockSocket=function(){return p(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.modelState.app.user_info.user_id,(0,u.mockSocketCtor)(a.MockWebSocket),e.next=4,(0,u.createSocket)({url:"",publicKey:"",code:"",name:"game",host:""});case 4:return n=e.sent,r=n.sendEvent,o=n.event,r.on(c.ServerEvent.Shoot,(function(e){(0,f.sleep)(.01).then((function(){o.emit(c.ServerEvent.Shoot,{userId:t,direction:e.direction},200)}))})),r.on(c.ServerEvent.Hit,(function(e){(0,f.sleep)(.1).then((function(){o.emit(c.ServerEvent.Hit,{userId:t,eid:e.eid,win:2},200)}))})),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))},t.resetMockSocketCtor=function(e){if(!e)return;var t=e.model;(0,u.disconnectSocket)(c.ServerName.Game),(0,u.mockSocketCtor)(void 0),t.destroy()};var o,i=(o=n(93476))&&o.__esModule?o:{default:o},a=n(91549),u=n(43267),l=n(66058),c=n(26744),s=n(11263),f=n(90564);function h(e,t,n){return t in e?r(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e,t,n,r){return new(n||(n=i.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))}},48732:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.NetCtrl=void 0;var r=c(n(33032)),o=c(n(63978)),i=n(37440),a=n(77513),u=n(48652),l=n(70903);function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}var f=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.view=t,this.model=n,this.init()}var t,n,o;return t=e,(n=[{key:"init",value:function(){var e=this.view,t=this.model,n=t.skin_level,r=u.viewState.game.upside_down,o=t.pos,i=o.x,l=o.y;e.pos(i,l),r&&(e.scaleY=-1),(0,a.playSkeleton)(e,n,!1),this.initEvent(),e.zOrder=301}},{key:"initEvent",value:function(){var e=this,t=(this.view,this.model.event);t.on(i.ModelEvent.Destroy,(function(){var n=e.model.skin;(0,r.default)((function(){(0,l.recoverSkeletonPool)("net",n,e.view)}),1e3),t.offAllCaller(e)}),this)}}])&&s(t.prototype,n),o&&s(t,o),e}();t.NetCtrl=f},96747:function(e,t,n){"use strict";function r(e){return r="function"==typeof h&&"symbol"==typeof d?function(e){return typeof e}:function(e){return e&&"function"==typeof h&&e.constructor===h&&e!==h.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(62734),l=n(34074),c=n(63978),s=n(3649),f=n(66419),h=n(65420),p=n(19996),v=n(41511),d=n(98341);c(t,"__esModule",{value:!0}),t.PlayerCtrl=void 0;var y=N(n(81643)),m=N(n(77766)),g=N(n(85507)),_=N(n(21611)),b=N(n(86116)),w=n(24629),k=n(74227),S=n(89662),x=n(80356),C=n(14082),E=n(26744),I=n(83091),A=n(83125),M=n(34085),T=n(11263),R=n(36620),B=n(55161),L=n(77513),P=n(48652),O=n(217),D=n(67005);function N(e){return e&&e.__esModule?e:{default:e}}function U(e,t){return function(e){if(v(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==h&&p(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){var n=void 0!==h&&p(e)||e["@@iterator"];if(!n){if(v(e)||(n=j(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function j(e,t){var n;if(e){if("string"==typeof e)return F(e,t);var r=s(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?f(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F(e,t):void 0}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),c(e,r.key,r)}}function z(){return z="undefined"!=typeof Reflect&&u?u:function(e,t,n){var r=V(e,t);if(r){var o=l(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},z.apply(this,arguments)}function V(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=W(e)););return e}function Y(e,t){return Y=i||function(e,t){return e.__proto__=t,e},Y(e,t)}function $(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var i=W(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return K(this,n)}}function K(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function W(e){return W=g.default?_.default:function(e){return e.__proto__||(0,_.default)(e)},W(e)}var X=[1,2,3,4,5,10,15,20],Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(i,e);var t,n,r,o=$(i);function i(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this)).view=e,r.model=t,r.game_ctrl=n,r.init(),r}return t=i,(n=[{key:"init",value:function(){this.initGun(),this.initEvent()}},{key:"initGun",value:function(){var e=this.view,t=this.model,n=this.game_ctrl,r=t.server_index,o=t.gun.pos;n.needUpSideDown(r)&&e.fixServerTopPos();var i=n.calcClientIndex(r);n.needUpSideDown(i)&&e.fixClientTopPos(),e.setPos(o.x,o.y)}},{key:"initEvent",value:function(){var e=this,t=this.view,n=this.model,r=n.user_id,o=n.gun,i=n.is_cur_player,a=n.skill_map,u=n.event,l=o.event,c=o.direction,s=o.pos,f=t.btn_minus,h=t.btn_add;u.on(A.PlayerEvent.Destroy,(function(){e.destroy()}),this),l.on(I.GunEvent.AddBullet,(function(e){var n=e.bullet_group,a=e.velocity,u=o.rage;t.fire(a,r),i&&(t.stopPosTip(),x.AudioCtrl.play(C.AudioRes.Fire));var l,c=G(n.bullet_map);try{for(c.s();!(l=c.n()).done;){var s=U(l.value,2)[1],f=t.addBullet(s.skin,u);new O.BulletCtrl(f,s)}}catch(e){c.e(e)}finally{c.f()}}),this),t.setDirection(c),l.on(I.GunEvent.DirectionChange,(function(e){t.setDirection(e)}),this),l.on(I.GunEvent.LevelChange,(function(n){i&&e.detectDisableChangeBulletCost(n.bullet_cost),t.setBulletCost(n)}),this),t.on(S.Event.CLICK,t,(function(e){e.stopPropagation()}));var p,v=0,d=G(a);try{for(d.s();!(p=d.n()).done;){var y=U(p.value,2)[1];if(y instanceof M.AutoShootModel){if(i){var m=(0,P.getAutoShootSkillItem)();this.handleAutoShoot(y,m)}}else{if(i){var g=(0,P.getSkillItemByIndex)(v);new D.SkillCtrl(y,this,g)}else new D.SkillCtrl(y,this);v++}}}catch(e){d.e(e)}finally{d.f()}l.on(I.GunEvent.WillAddBullet,(function(t){if(e.model){var n=e.model,r=n.need_emit,o=n.user_id,i=n.is_cur_player;if(r){var a={direction:{x:t.x,y:t.y},userId:o};i||(a.robotId=o,a.userId=(0,T.getCurPlayer)().user_id),e.game_ctrl.sendToGameSocket(E.ServerEvent.Shoot,a)}}}),this),l.on(I.GunEvent.CastFish,(function(t){var n=t.fish,r=n.id,o=n.group_id,i=t.level,a=e.model,u=a.user_id,l=a.is_cur_player,c={eid:r,multiple:i};o&&(c.gid=o),l||(c.robotId=u),e.game_ctrl.sendToGameSocket(E.ServerEvent.Hit,c)}),this),i&&(t.setMySelfStyle(),this.resetGetBulletCost(),l.on(I.GunEvent.AutoShoot,(function(e){(0,P.setAutoShootLight)(e)}),this),(0,P.getGameView)().on(S.Event.CLICK,t,(function(e){var t=(0,P.getPoolMousePos)(),n=new b.default.Vector(t.x-s.x,t.y-s.y);o.preAddBullet(n)})),f.on(S.Event.CLICK,f,(function(t){t.stopPropagation(),e.sendChangeBulletCost("minus")})),h.on(S.Event.CLICK,h,(function(t){t.stopPropagation(),e.sendChangeBulletCost("add")})))}},{key:"handleAutoShoot",value:function(e,t){t.on(S.Event.CLICK,this,(function(t){t.stopPropagation(),(0,B.log)("auto shoot"),e.toggle()}))}},{key:"detectDisableChangeBulletCost",value:function(e){var t=this.view,n=t.btn_minus,r=t.btn_add,o=(0,y.default)(X).call(X,e);(0,L.unDarkNode)(n),(0,L.unDarkNode)(r),o<=0?(0,L.darkNode)(n):o>=X.length-1&&(0,L.darkNode)(r)}},{key:"resetGetBulletCost",value:function(){var e,t,n=this.game_ctrl.isTrial,r=(0,T.getUserInfo)().user_id,o=(0,T.getGameCurrency)(),i=(0,R.getItem)((0,m.default)(e=(0,m.default)(t="".concat(r,":")).call(t,o,":")).call(e,n));i&&this.game_ctrl.sendToGameSocket(E.ServerEvent.ChangeTurret,{multiple:Number(i)})}},{key:"sendChangeBulletCost",value:function(e){var t,n,r=this.game_ctrl.isTrial,o=this.model.bullet_cost,i=(0,y.default)(X).call(X,o),a="add"===e?i+1:i-1;if(!(a<0||a>X.length-1)){x.AudioCtrl.play(C.AudioRes.Click);var u=X[a];this.detectDisableChangeBulletCost(u),this.game_ctrl.sendToGameSocket(E.ServerEvent.ChangeTurret,{multiple:u});var l=(0,T.getUserInfo)().user_id,c=(0,T.getGameCurrency)();(0,R.setItem)((0,m.default)(t=(0,m.default)(n="".concat(l,":")).call(n,c,":")).call(t,r),u+"")}}},{key:"destroy",value:function(){var e=this.view,t=this.model,n=t.gun.event,r=t.event;(0,P.getGameView)().offAllCaller(e),w.Laya.stage.offAllCaller(e),r.offAllCaller(this),n.offAllCaller(this),(0,P.getAutoShootSkillItem)().offAllCaller(e),e.destroy(),this.view=void 0,this.game_ctrl=void 0,this.model=void 0,z(W(i.prototype),"destroy",this).call(this)}}])&&H(t.prototype,n),r&&H(t,r),i}(k.ComponentManager);t.PlayerCtrl=Q},67005:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.SkillCtrl=void 0;var r,o=(r=n(63978))&&r.__esModule?r:{default:r},i=n(36065),a=n(69718),u=n(43776),l=n(4603);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}var s=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.view=r,this.model=t,this.player=n,this.game_ctrl=n.game_ctrl,this.initEvent(),this.setInfo()}var t,n,r;return t=e,(n=[{key:"initEvent",value:function(){var e=this,t=this.view,n=this.model,r=this.player,o=n.skill_core.event;if(o.on(u.SkillEvent.ActiveSkill,(function(t){(0,l.skillActiveHandler)(n,t,r.model,e.game_ctrl)}),this),t){o.on(u.SkillEvent.StatusChange,(function(e){e===u.SkillStatus.Active?t.highlight():e===u.SkillStatus.Disable||e===u.SkillStatus.Normal?(t.unHighlight(),t.clearCoolTime(),(0,l.skillDisableHandler)(n)):e===u.SkillStatus.PreActive&&(n instanceof i.BombModel||n instanceof a.LockFishModel)&&t.highlight()}),this),o.on(u.SkillEvent.UpdateInfo,(function(){e.setInfo()}),this);var c=0;o.on(u.SkillEvent.UpdateRadio,(function(e){c%3&&1!==e?c++:(c++,1===e&&(c=0),t.showCoolTime(e))}),this),o.on(u.SkillEvent.Destroy,(function(){e.destroy()}),this),this.bindTrigger=(0,l.onTrigger)(n,t).subscribe((function(){n.skill_core.status===u.SkillStatus.Normal?(0,l.skillPreActiveHandler)(n,e.game_ctrl):n.skill_core.status===u.SkillStatus.PreActive&&(0,l.skillNormalActiveHandler)(n)}))}}},{key:"setInfo",value:function(){var e=this.view,t=this.model.skill_core,n=t.num,r=t.item_id;e&&(e.setId(r),e.setNum(n))}},{key:"destroy",value:function(){var e,t,n;null===(n=null===(t=null===(e=this.model)||void 0===e?void 0:e.skill_core)||void 0===t?void 0:t.event)||void 0===n||n.offAllCaller(this),this.bindTrigger.unsubscribe(),this.model=void 0}}])&&c(t.prototype,n),r&&c(t,r),e}();t.SkillCtrl=s},4603:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.getShortcut=function(e){if(e instanceof d.LockFishModel)return"F1";if(e instanceof v.FreezeModel)return"F2";if(e instanceof p.BombModel)return"F3"},t.onTrigger=function(e,t){var n=112;e instanceof d.LockFishModel?n=112:e instanceof v.FreezeModel?n=113:e instanceof p.BombModel&&(n=114);var r=(0,b.onKeyBoardEvent)(n),a=(0,b.onNodeEvent)(t,i.Event.CLICK);return(0,o.merge)(r,a)},t.skillActiveHandler=function(e,t,n,o){return new r.default((function(r,i){var c=(0,u.getLang)(),h=s.InternationalTip[c].aimFish;if(e instanceof d.LockFishModel){var v=t.fish,y=t.is_tip,m=t.gun_pos;if(!n.is_cur_player){if((0,_.debug)("lock:>skill:>skillActiveHandler",y),n.need_emit&&y&&v){var b={eid:v.id,robotId:n.user_id};v.group_id&&(b.gid=v.group_id),o.sendToGameSocket(f.ServerEvent.LockFish,b)}return}y&&w.default.tip(h,2);var C=!y;(0,k.activeAimFish)(v,C,m),(0,x.onFishClick)().subscribe((function(e){var t=e.id,n=e.group_id,r={eid:t,needActive:!0};n&&(r.gid=n),o.sendToGameSocket(f.ServerEvent.LockFish,r)}))}else if(e instanceof p.BombModel){var E=x.viewState.game.pool;(0,S.activeExploding)(t),(0,g.offMouseMove)(E),a.AudioCtrl.play(l.AudioRes.Bomb),r(void 0)}}))},t.skillDisableHandler=function(e){return new r.default((function(t,n){e instanceof d.LockFishModel?((0,k.stopAim)("aim"),(0,x.offFishClick)()):e instanceof p.BombModel?(0,x.offPoolClick)():t(void 0)}))},t.skillNormalActiveHandler=function(e){if(e.skill_core.status!==y.SkillStatus.PreActive)return;e.skill_core.setStatus(y.SkillStatus.Normal),e instanceof d.LockFishModel&&((0,x.offFishClick)(),w.default.hide(),(0,k.stopAim)("aim"));if(e instanceof p.BombModel){var t=x.viewState.game.pool;w.default.hide(),(0,k.stopAim)("aim_big"),(0,x.offPoolClick)(),(0,g.offMouseMove)(t)}},t.skillPreActiveHandler=function(e,t){var n=(0,u.getLang)(),r=s.InternationalTip[n],o=r.posBombTip,i=r.aimFish;if(e.skill_core.num<=0)return t.buySkillTip();if(e.skill_core.status!==y.SkillStatus.Normal)return;if(e.skill_core.setStatus(y.SkillStatus.PreActive),e instanceof v.FreezeModel)t.sendToGameSocket(f.ServerEvent.UseFreeze);else if(e instanceof p.BombModel){w.default.tip(o,2);var a=x.viewState.game.pool,l=c.Config.PoolWidth,_=c.Config.PoolHeight;(0,k.activeAim)({x:l/2,y:_/2}),(0,g.onMouseMove)(a,(function(e){return(0,k.activeAim)(e)})),(0,x.onPoolClick)(!0).subscribe((function(e){(0,g.offMouseMove)(a),(0,k.stopAim)("aim_big");var n=(0,h.getBeBombFishIds)(e);t.sendToGameSocket(f.ServerEvent.UseBomb,{bombPoint:e,fishList:n})}))}else if(e instanceof d.LockFishModel){var b=e.skill_core.player,S=(b.user_id,b.is_cur_player),C=b.need_emit,E=(0,m.getAimFish)();if(!S&&C)return;var I=m.modelState.app.game.getCurPlayer();w.default.tip(i,2),(0,k.activeAimFish)(E,!1,I.gun.pos),(0,x.onFishClick)(!0).subscribe((function(e){var n=e.id,r=e.group_id,o={eid:n,needActive:!0};r&&(o.gid=r),t.sendToGameSocket(f.ServerEvent.LockFish,o)}))}};var r=C(n(93476)),o=n(72649),i=n(89662),a=n(80356),u=n(58465),l=n(14082),c=n(66058),s=n(89970),f=n(26744),h=n(42717),p=n(36065),v=n(33302),d=n(69718),y=n(43776),m=n(11263),g=n(52782),_=n(55161),b=n(37478),w=C(n(65710)),k=n(81756),S=n(1141),x=n(48652);function C(e){return e&&e.__esModule?e:{default:e}}},86204:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.awaitStageClick=function(){var e=this;return new r.default((function(t,n){l.Laya.stage.on(s.Event.CLICK,e,(function(){t()}))}))},t.extraShape=k,t.getBoundsOfNode=g,t.getPromptByShape=_,t.showPromptByNode=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"top",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"btn";return y(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,u,l,c,s,f,p,d,y;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return u="rect",e.sprite?(a=e.sprite,u=e.shape):a=e,l=v.guide_state.guide_dialog,c=g(a,l),s=c.x,f=c.y,p=c.width,d=c.height,y="rect"===u?new h.Rectangle(s,f,p,d):{x:s+p/2,y:f+d/2,radius:Math.max(p,d)},i.next=7,w(y,t,n,r,o);case 7:case"end":return i.stop()}}),i)})))},t.showPromptByShape=w,t.triggerClick=function(e){e.event(s.Event.CLICK,{type:s.Event.CLICK})};var r=d(n(93476)),o=d(n(81643)),i=d(n(14310)),a=d(n(32366)),u=d(n(51942)),l=n(24629),c=n(22833),s=n(89662),f=n(85399),h=n(98693),p=n(90564),v=n(10503);function d(e){return e&&e.__esModule?e:{default:e}}var y=function(e,t,n,o){return new(n||(n=r.default))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function u(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((o=o.apply(e,t||[])).next())}))},m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(0,o.default)(t).call(t,r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof i.default){var a=0;for(r=(0,i.default)(e);a<r.length;a++)(0,o.default)(t).call(t,r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=n/2,o=e.localToGlobal(new f.Point(-r,-r));o=t.globalToLocal(o,!0);var i=e.localToGlobal(new f.Point(e.width+r,e.height+r));i=t.globalToLocal(i,!0);var a=o,u=a.x,l=a.y,c=i.x-u,s=i.y-l;return c<0&&(u=i.x,l=i.y,c=o.x-u,s=o.y-l),{x:u,y:l,width:c,height:s}}function _(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=v.guide_state.prompt,i=o.getSize();if(e instanceof h.Rectangle){var a=e.x,u=e.y,l=e.width,c=e.height;switch(t){case"top":n={x:a,y:u-i.height-r};break;case"right":n={x:a+l+r,y:u};break;case"bottom":n={x:a,y:u+c+r};break;case"left":n={x:a-i.width-r,y:u}}}else{var s=e.x,f=e.y,p=e.radius;switch(t){case"top":n={x:s-p,y:f-p-i.height-r};break;case"right":n={x:s+p+r,y:f-p};break;case"bottom":n={x:s-p,y:f+p+r};break;case"left":n={x:s-p-i.width-r,y:f-p}}}return n}function b(e){return y(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=v.guide_state.prompt,r=n.getSize(),o=(0,a.default)(e).call(e,(function(e,t){var n=t.split("<br/>").length;return 1===n&&(n=Math.ceil((0,c.getStringLength)(t)/50)),n>e&&(e=n),e}),0),n.setSize(r.width,35*o),t.next=6,(0,p.sleep)(.5);case 6:case"end":return t.stop()}}),t)})))}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"top",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"btn";return y(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,u,l,c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return 20,a=v.guide_state.guide_dialog,u=v.guide_state.prompt,v.guide_state.btn_next,e=k(e,20),i.next=5,b(t);case 5:return l=_(e,n),c=u.prompt({pos:l,dir:n},t,!1),i.next=9,a.drawBlankWaitClick(e,r,o,c);case 9:return i.next=11,u.hide();case 11:a.clearBlank();case 12:case"end":return i.stop()}}),i)})))}function k(e,t){if(e instanceof h.Rectangle){var n=e.x,r=e.y,o=e.width,i=e.height;return new h.Rectangle(n-t/2,r-t/2,o+t,i+t)}var a=e.radius,l=m(e,["radius"]);return(0,u.default)((0,u.default)({},l),{radius:a+t/2})}},6671:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.PointerGuide=void 0;var r,o=(r=n(63978))&&r.__esModule?r:{default:r},i=n(90564);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name="pointer",this.view=t}var t,n,r;return t=e,(n=[{key:"moveToTarget",value:function(e,t){var n=this;t&&(this.target=t);var r=this.target;if(r){var o=this.view;this.showPointer("static"),(0,i.move)(o,e,r,500).then((function(){n.showPointer("target")}))}}},{key:"show",value:function(e,t,n){var r=this.view;r.visible=!1,this.showPointer(t),r.pos(e.x,e.y),"target"===t&&(this.target={x:e.x,y:e.y}),(0,i.fade_in)(r,500).then(n)}},{key:"isShow",value:function(){return this.view.visible=!1}},{key:"showPointer",value:function(e){e=e||"static";var t=this.view,n=t.pointer_img,r=t.pointer_ani;this.resetView(),"static"===e?n.visible=!0:(r.visible=!0,r.play(0,!0))}},{key:"hidePointer",value:function(){this.resetView(),this.target=null,this.hide()}},{key:"resetView",value:function(){var e=this.view,t=this.view,n=t.pointer_img,r=t.pointer_ani;e.alpha=1,n.visible=!1,r.visible=!1,r.stop()}},{key:"hide",value:function(){var e=this.view;(0,i.stopAni)(e),e.visible=!1}}])&&a(t.prototype,n),r&&a(t,r),e}();t.PointerGuide=u},96192:function(e,t,n){"use strict";var r=n(63978),o=n(3649),i=n(66419),a=n(65420),u=n(19996),l=n(41511);r(t,"__esModule",{value:!0}),t.PromptGuide=void 0;var c=_(n(81643)),s=_(n(14310)),f=_(n(51942)),h=_(n(93476)),p=_(n(33032)),v=_(n(3649)),d=n(24629),y=n(89662),m=n(90564),g=n(77513);function _(e){return e&&e.__esModule?e:{default:e}}function b(e,t){return function(e){if(l(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==a&&u(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){var n=void 0!==a&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=k(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function k(e,t){var n;if(e){if("string"==typeof e)return S(e,t);var r=o(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?i(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(e,o.key,o)}}var E=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(0,c.default)(t).call(t,r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof s.default){var o=0;for(r=(0,s.default)(e);o<r.length;o++)(0,c.default)(t).call(t,r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},I={fontSize:25,color:"#ffe7a7"},A=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(this,e),this.auto_hide=!0,this.step=-1,this.is_going=!1,this.name="prompt",this.view=t,this.style=(0,f.default)((0,f.default)({},I),n);var r=t.html_div;r.style.width=579,r.style.whiteSpace="nowrap"}var t,n,r;return t=e,n=[{key:"prompt",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new h.default((function(o,i){n.reset(),n.view.pos(e.pos.x,e.pos.y),"string"==typeof t||t[0].color?n.tip_msg=[t]:n.tip_msg=t,n.complete_resolve=o,n.auto_hide=r,n.is_going=!0,n.step_map=n.analysisTip(n.tip_msg),n.showTip(),d.Laya.stage.on(y.Event.CLICK,n,(function(){n.jumpLevelLastStep()})),n.show(e.dir)}))}},{key:"jumpLevelLastStep",value:function(){var e,t=this.step_map,n=this.step,r=0,o=0,i=w(t);try{for(i.s();!(e=i.n()).done&&!((o=(r+=e.value)-1)>n););}catch(e){i.e(e)}finally{i.f()}this.showTip(o)}},{key:"getStepInfo",value:function(e){for(var t=this.step_map,n=0,r=0,o=0,i=!1,a=!1,u=0;u<t.length;u++){var l=t[u];if(e<=(o+=l)-1){n=u,r=e-(o-l);break}}var c=t[n];return n>=t.length-1&&r>=c-1&&(i=!0),r>=c-1&&(a=!0),{level_index:n,level_step_index:r,is_level_last:a,is_last:i}}},{key:"showTip",value:function(e){var t=this,n=this.tip_msg;e=e||0,this.step=e;var r=this.getStepInfo(e),o=r.level_index,i=r.level_step_index,a=r.is_last,u=r.is_level_last,l=this.view.html_div,c=70,s=n[o];l.innerHTML=this.getTipByLen(s,i+1),clearTimeout(this.timeout),a?this.timeout=(0,p.default)((function(){t.complete()}),this.auto_hide?1e3:0):(u&&(c=1e3),this.timeout=(0,p.default)((function(){t.showTip(++e)}),c))}},{key:"getTipByLen",value:function(e,t){var n=[],r=this.style;if("string"==typeof e){var o,i=w(b(M(e,t),1)[0]);try{for(i.s();!(o=i.n()).done;){var a=o.value;n.push((0,f.default)((0,f.default)({},r),{msg:a}))}}catch(e){i.e(e)}finally{i.f()}}else{var u,l=w(e);try{for(l.s();!(u=l.n()).done;){var c=u.value,s=c.msg,h=E(c,["msg"]),p=b(M(s,t),2),v=p[0];t=p[1];var d,y=(0,f.default)((0,f.default)({},r),h),m=w(v);try{for(m.s();!(d=m.n()).done;){var g=d.value;n.push((0,f.default)((0,f.default)({},y),{msg:g}))}}catch(e){m.e(e)}finally{m.f()}if(t<=0)break}}catch(e){l.e(e)}finally{l.f()}}return this.jsonToHtml(n)}},{key:"jsonToHtml",value:function(e){var t,n="",r=w(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,i='<span style="font-size:{fontSize}px;color:{color};">{msg}</span>';for(var a in o)if("<br/>"===o[a])i="<br/>";else{var u=new RegExp("{"+a+"}","g");i=i.replace(u,o[a])}n+=i}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"show",value:function(e){var t;switch(e){case"top":t=m.slide_down_in;break;case"right":t=m.slide_left_in;break;case"bottom":t=m.slide_up_in;break;default:t=m.slide_right_in}t(this.view,800)}},{key:"analysisTip",value:function(e){var t,n=[],r=w(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=o.length;if("string"!=typeof o){i=0;var a,u=w(o);try{for(u.s();!(a=u.n()).done;)i+=a.value.msg.length}catch(e){u.e(e)}finally{u.f()}}n.push(i)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"showCompletedTip",value:function(){if(this.is_going){clearTimeout(this.timeout);var e=this.getCurTipCompleteStepInfo();e.is_complete?this.complete():e.in_wait?this.showTip(++e.step):this.showTip(e.step)}}},{key:"getCurTipCompleteStepInfo",value:function(){for(var e=this.step,t=this.step_map,n=0,r=!1,o=!1,i=0,a=t.length;i<a;i++){if(e<(n+=t[i])){e=n;break}if(e===n){r=!0,i===a-1&&(o=!0);break}}return{step:e,in_wait:r,is_complete:o}}},{key:"complete",value:function(){this.complete_resolve&&(0,g.callFunc)(this.complete_resolve),this.auto_hide&&this.hide(),this.reset()}},{key:"getSize",value:function(){var e=this.view;return{width:e.width,height:e.height}}},{key:"setSize",value:function(e,t){var n=this.view;n.width=e,n.height=t}},{key:"reset",value:function(){this.tip_msg=null,this.complete_resolve=null,this.auto_hide=!0,this.step=-1,this.step_map=null,this.is_going=!1,d.Laya.stage.offAllCaller(this)}},{key:"hide",value:function(){var e=this.view;e.html_div.innerHTML="",e.visible=!1}}],n&&C(t.prototype,n),r&&C(t,r),e}();function M(e,t){var n=e.split("<br/>"),r=[];if(1===e.length)r.push((0,v.default)(e).call(e,0,t)),t=0;else for(var o=0;o<n.length;o++){var i=n[o],a=(t-=i.length)>0?i:(0,v.default)(i).call(i,0,i.length+t);if(r.push(a),o!==n.length-1&&t>0&&(r.push("<br/>"),t--),t<=0)break}return[r,t]}t.PromptGuide=A,window.spliceStr=M},50739:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.gotoGuide=h,t.guide_arr=void 0;var r,o=(r=n(93476))&&r.__esModule?r:{default:r},i=n(36620),a=n(2006),u=n(99479);var l,c=function(e,t,n,r){return new(n||(n=o.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},s=[];t.guide_arr=s;var f=!1;function h(e,t){return c(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s.push({group_id:e,functionId:t}),f){n.next=5;break}return f=!0,n.next=5,p();case 5:case"end":return n.stop()}}),n)})))}function p(){return c(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l||(l=new u.GuideMain),e.next=3,l.start();case 3:if(!(s.length>0)){e.next=11;break}return t=s.shift(),n=t.group_id,r=t.functionId,o=v[n],e.next=8,o();case 8:l.onGuideUpdate(n,r),e.next=3;break;case 11:f=!1,l.end();case 13:case"end":return e.stop()}}),e)})))}window.gotoGuide=h;var v={1:function(){return c(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new a.NewUserGuide,e.next=3,t.start("1");case 3:(0,i.setItem)("guide","end");case 4:case"end":return e.stop()}}),e)})))}}},54820:function(e,t,n){"use strict";function r(e){return r="function"==typeof f&&"symbol"==typeof h?function(e){return typeof e}:function(e){return e&&"function"==typeof f&&e.constructor===f&&e!==f.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(62734),c=n(34074),s=n(63978),f=n(65420),h=n(98341);s(t,"__esModule",{value:!0}),t.default=void 0;var p=I(n(93476)),v=I(n(54103)),d=n(24629),y=I(n(68700)),m=n(89662),g=n(98693),_=n(71706),b=n(58465),w=n(89970),k=n(84228),S=n(90564),x=n(52782),C=n(77513),E=n(10503);function I(e){return e&&e.__esModule?e:{default:e}}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),s(e,r.key,r)}}function M(){return M="undefined"!=typeof Reflect&&l?l:function(e,t,n){var r=T(e,t);if(r){var o=c(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},M.apply(this,arguments)}function T(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}function R(e,t){return R=o||function(e,t){return e.__proto__=t,e},R(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function P(e){return P=o?i:function(e){return e.__proto__||i(e)},P(e)}var O=function(e,t,n,r){return new(n||(n=p.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(i,e);var t,n,r,o=B(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).config={},e.zOrder=99,e.isShowEffect=void 0,e.config={shadowAlpha:0},e}return t=i,r=[{key:"preEnter",value:function(){return O(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.default.director.openDialog("pop/guide/GuideDialog.scene");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))}}],(n=[{key:"onAwake",value:function(){var e=this;this.init(),(0,b.onLangChange)(this,(function(t){e.initLang(t)}))}},{key:"initLang",value:function(e){var t=w.InternationalTip[e],n=t.tourSkip,r=t.tourStart,o=this.start_label;this.skip_label.text=n,o.text=r}},{key:"onResize",value:function(){var e=d.Laya.stage,t=e.width,n=e.height,r=this.mask_area,o=this.mask_wrap,i=this.inner;if(r){var a=t>1920?1920:t;r.width=a,r.height=n,r.x=(this.width-r.width)/2,r.y=(this.height-o.height)/2,r.graphics.clear(),r.graphics.drawRect(0,0,r.width,n,"#000000"),this.x=(t-this.width)/2,this.y=(n-this.height)/2,i.width=t>1920?1920:t}}},{key:"init",value:function(){this.initDom(),this.initEvent()}},{key:"initDom",value:function(){var e=this.mask_wrap;this.cacheAs="bitmap";var t=new d.Laya.Sprite;e.addChild(t),t.alpha=.8,t.mouseEnabled=!0,this.mask_area=t;var n=new d.Laya.Sprite;e.addChild(n),n.blendMode="destination-out",this.blank_area=n,n.mouseEnabled=!0;var r=new _.HitArea;n.hitArea=r,this.blank_area=n,t&&this.onResize()}},{key:"setBtnNextDir",value:function(e){var t=this.btn_next;"left"===e?(t.right=NaN,t.rotation=180,t.left=30):(t.left=NaN,t.right=30,t.rotation=0)}},{key:"initEvent",value:function(){var e,t=this,n=this.btn_skip,r=this.mask_area;d.Laya.stage.on(m.Event.RESIZE,this,(0,v.default)(e=this.onResize).call(e,this)),r.on(m.Event.CLICK,this,(function(e){var n=t.force,r=E.guide_state.pointer,o=t.getMousePoint(),i=o.x,a=o.y;if(!n)return r.hide(),t.forceNext();r.isShow()&&(r.show({x:i,y:a}),r.moveToTarget({x:i,y:a},t.click_center))})),n.on(m.Event.CLICK,this,(function(e){t.forceSkip()}))}},{key:"forceNext",value:function(){var e=this.handler;e&&((0,C.callFunc)(e.next),this.handler=void 0)}},{key:"forceSkip",value:function(){var e=this.handler;e?((0,C.callFunc)(e.skip,"skip"),this.handler=void 0):this.destroy()}},{key:"showNextHandler",value:function(e,t){var n=this,r=this.btn_next,o=this.btn_start,i=this.blank_area,a=E.guide_state.pointer;t.then((function(){"btn"===e?((0,S.fade_in)(r),r.once(m.Event.CLICK,r,(function(){n.forceNext(),r.offAll(),(0,S.fade_out)(r)}))):"point"===e?(i.once(m.Event.CLICK,n,(function(e){i.offAll(),e.stopPropagation(),a.hide(),n.forceNext()})),a.show(n.click_center,"target")):"start"===e&&((0,S.fade_in)(o),o.once(m.Event.CLICK,o,(function(){n.forceNext(),o.offAll(),(0,S.fade_out)(o)})))}))}},{key:"drawBlankWaitClick",value:function(e,t,n,r){var o=this;return new p.default((function(i,a){var u=o.blank_area,l=u.hitArea.hit;if(o.blank_shape=e,o.handler={next:i,skip:a},o.force=t,o.click_center=function(e){return e instanceof g.Rectangle?{x:e.x+e.width/2,y:e.y+e.height/2}:{x:e.x,y:e.y}}(e),o.showBlank(),u.graphics.clear(),o.showNextHandler(n,r),e instanceof g.Rectangle){var c=(0,x.getRectRadiusPath)(e.x,e.y,e.width,e.height,10);u.graphics.drawPath(0,0,c,{fillStyle:"#00ffff"}),l.drawRect(e.x,e.y,e.width,e.height,{fillStyle:"#FFFFFF"})}else u.graphics.drawCircle(e.x,e.y,e.radius,"#000000"),l.drawCircle(e.x,e.y,e.radius,"#000000")}))}},{key:"showBlank",value:function(){var e=this.mask_area;e.graphics.clear(),e.graphics.drawRect(0,0,e.width,e.height,"#000000")}},{key:"clearBlank",value:function(){var e=this.blank_area,t=this.mask_area;this.blank_shape=void 0;var n=e.hitArea.hit;e.graphics.clear(),t.graphics.clear(),n.clear(),this.handler=void 0,this.click_center=void 0}},{key:"hide",value:function(){this.clearBlank(),this.close()}},{key:"destroy",value:function(){(0,b.offLangChange)(this),M(P(i.prototype),"destroy",this).call(this)}}])&&A(t.prototype,n),r&&A(t,r),i}(k.ui.pop.guide.GuideDialogUI);t.default=D},2006:function(e,t,n){"use strict";var r=n(63978),o=n(41511),i=n(65420),a=n(19996),u=n(66419),l=n(3649);r(t,"__esModule",{value:!0}),t.NewUserGuide=void 0;var c=b(n(93476)),s=b(n(68700)),f=n(8253),h=n(39487),p=n(58465),v=n(89970),d=n(90564),y=n(55161),m=n(88672),g=n(86204),_=n(10503);function b(e){return e&&e.__esModule?e:{default:e}}function w(e){return function(e){if(o(e))return k(e)}(e)||function(e){if(void 0!==i&&null!=a(e)||null!=e["@@iterator"])return u(e)}(e)||function(e,t){var n;if(!e)return;if("string"==typeof e)return k(e,t);var r=l(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return u(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(e,o.key,o)}}var x=function(e,t,n,r){return new(n||(n=c.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},C=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"start",value:function(e){return x(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.showStartPrompt();case 2:if(!e.sent){e.next=6;break}return e.next=6,this.next();case 6:case"end":return e.stop()}}),e,this)})))}},{key:"showStartPrompt",value:function(){return x(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,u,l,c,b,k,S,x,C,E,I,A,M,T,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,p.getLang)(),n=v.InternationalTip[t],r=n.tour1,o=n.tour2,i=n.tour3,a=n.tour4,u=n.tour5,l=n.tour6,e.prev=2,b=_.guide_state.guide_dialog,k=h.HallCtrl.instance){e.next=7;break}return e.abrupt("return");case 7:return S=k.view,x=S.header.btn_coin_select,C=S.guide2,e.next=10,(0,g.showPromptByNode)(x,[r],"bottom",!0);case 10:return e.next=12,(0,g.showPromptByNode)(C,[o],"top",!0);case 12:return k.destroy(),e.next=15,m.GameTestCtrl.preEnter();case 15:return c=e.sent,s.default.director.openDialog(b),E=c.view.bullet_box,e.next=20,(0,d.sleep)(1);case 20:return I=w(c.player_list)[0],A=I.view,M=E.x>667?"left":"right",b.setBtnNextDir(M),A.stopPosTip(),e.next=27,(0,g.showPromptByNode)(E,[i],M,!0);case 27:return A.setMySelfStyle(),e.next=30,(0,d.sleep)(1);case 30:return e.next=32,(0,g.showPromptByNode)(A,[a],"top",!0);case 32:return(0,d.sleep)(2),(0,f.genFishInfo)(c),T=c.fish_view,e.next=37,(0,g.showPromptByNode)({sprite:T,shape:"circle"},[u],"top",!0,"point");case 37:return e.next=39,(0,f.mockShoot)();case 39:return e.next=41,(0,d.sleep)(1);case 41:return R=c.view.skill_box,b.setBtnNextDir("right"),e.next=45,(0,g.showPromptByNode)(R,[l],"top",!0,"start");case 45:return(0,f.resetMockSocketCtor)(c),e.abrupt("return",!0);case 49:if(e.prev=49,e.t0=e.catch(2),"skip"!==e.t0){e.next=56;break}return(0,f.resetMockSocketCtor)(c),e.abrupt("return",!0);case 56:(0,y.error)(e.t0);case 57:case"end":return e.stop()}}),e,null,[[2,49]])})))}},{key:"next",value:function(){return x(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.HallCtrl.instance){e.next=5;break}return h.HallCtrl.instance.destroy(),h.HallCtrl.leave(),e.next=5,(0,d.sleep)(.1);case 5:return e.next=7,h.HallCtrl.preEnter();case 7:case"end":return e.stop()}}),e)})))}}])&&S(t.prototype,n),r&&S(t,r),e}();t.NewUserGuide=C},99479:function(e,t,n){"use strict";var r=n(63978);r(t,"__esModule",{value:!0}),t.GuideMain=void 0;var o=f(n(93476)),i=f(n(68700)),a=n(90564),u=n(6671),l=n(96192),c=f(n(54820)),s=n(10503);function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(e,o.key,o)}}var p=function(e,t,n,r){return new(n||(n=o.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name="guide_main"}var t,n,r;return t=e,(n=[{key:"start",value:function(){return p(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"onGuideUpdate",value:function(e,t){}},{key:"init",value:function(){return p(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,o,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.guide_dialog){e.next=4;break}return e.next=3,i.default.director.openDialog(this.guide_dialog);case 3:return e.abrupt("return");case 4:return e.next=6,c.default.preEnter();case 6:t=e.sent,n=t.prompt_ui,r=t.pointer_ui,o=t.btn_next,f=new l.PromptGuide(n,{fontSize:25,color:"#ffe7a7"}),h=new u.PointerGuide(r),this.guide_dialog=t,this.prompt=f,this.pointer=h,(0,a.setStyle)(s.guide_state,{guide_dialog:t,prompt:f,pointer:h,btn_next:o});case 14:case"end":return e.stop()}}),e,this)})))}},{key:"end",value:function(){return p(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.guide_state.guide_dialog,n=s.guide_state.prompt,e.next=3,n.hide();case 3:t.hide();case 4:case"end":return e.stop()}}),e)})))}}])&&h(t.prototype,n),r&&h(t,r),e}();t.GuideMain=v},10503:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.guide_state=void 0;t.guide_state={}},31070:function(e,t,n){"use strict";var r=n(63978);r(t,"__esModule",{value:!0}),t.bindArenaHallSocket=function(e){return _(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g){t.next=3;break}return t.next=3,b();case 3:(0,v.bindSocketEvent)(g,e,m({},l.ArenaEvent.ArenaStatus,(function(e,t){c.modelState.app.arena_info.updateInfo(e)}))),(0,d.commonSocket)(g,e);case 5:case"end":return t.stop()}}),t)})))},t.connectArenaHallSocket=b,t.connectArenaSocket=k,t.getArenaGuestToken=S,t.offArenaHallSocket=function(e){g&&(0,v.offSocketEvent)(g,e)},t.sendToArenaHallSocket=w,t.waitConnectGameArena=function(){return _(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,v.getSocket)(l.ServerName.ArenaHall)){e.next=6;break}return n=a.Config.arenaSocketUrl,r=a.Config.PublicKey,o=a.Config.Host,e.next=5,k({url:n,publicKey:r,host:o,code:a.Config.code,name:l.ServerName.ArenaHall});case 5:t=e.sent;case 6:return g=t,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))};var o=y(n(93476)),i=n(76817),a=n(66058),u=n(23254),l=n(26744),c=n(11263),s=n(36620),f=n(55161),h=n(77513),p=y(n(55437)),v=n(43267),d=n(59914);function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?r(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g,_=function(e,t,n,r){return new(n||(n=o.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))};function b(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,u,s,f,h,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(0,v.getSocket)(l.ServerName.ArenaHall)){t.next=9;break}return r=a.Config.arenaSocketUrl,u=a.Config.PublicKey,s=a.Config.Host,t.next=5,k({url:r,publicKey:u,host:s,code:a.Config.code,name:l.ServerName.ArenaHall});case 5:if(n=t.sent,g=n,n){t.next=9;break}throw Error("ConnectFailed:".concat(l.ServerName.ArenaHall,"}"));case 9:if(!e){t.next=18;break}return t.next=12,new o.default((function(e){g.event.once(l.ArenaEvent.ArenaStatus,(function(t){c.modelState.app.arena_info.updateInfo(t),e(t)})),w(l.ArenaEvent.ArenaStatus,{currency:c.modelState.app.user_info.cur_balance})}));case 12:if(f=t.sent,h=f.roomStatus,p=f.userStatus,h===i.ArenaStatus.Open&&(p===i.ArenaGameStatus.GAME_STATUS_SIGNUP||p===i.ArenaGameStatus.GAME_STATUS_SIGNUP_OVER||p===i.ArenaGameStatus.GAME_STATUS_PLAYING)){t.next=17;break}return t.abrupt("return",!1);case 17:return t.abrupt("return",!0);case 18:case"end":return t.stop()}}),t)})))}function w(){var e;(e=g).send.apply(e,arguments)}function k(e){return _(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,v.createSocket)(e,(0,u.isProd)()?3:1,(0,u.isProd)()?3:0);case 2:if((n=t.sent)||!(0,u.isProd)()){t.next=6;break}return p.default.alert((0,h.tplStr)(l.ServerErrCode.NetError)).then((function(){location.reload()})),t.abrupt("return");case 6:if(!(r=a.Config.token)){t.next=10;break}return n.setParams({jwt:r,userId:(0,h.getParams)("userId")}),t.abrupt("return",n);case 10:if(o=(0,s.getItem)("local_arena_token")){t.next=16;break}return t.next=14,S(n);case 14:o=t.sent,(0,s.setItem)("local_arena_token",o,7);case 16:return n.setParams({jwt:o,userId:(0,h.getParams)("userId")}),(0,f.log)("本地Guess arenaToken:",o),t.abrupt("return",n);case 19:case"end":return t.stop()}}),t)})))}function S(e){return new o.default((function(t,n){e.event.once(l.ArenaEvent.Guess,(function(e){t(e.jwt)})),e.send(l.ArenaEvent.Guess)}))}},59914:function(e,t,n){"use strict";var r=n(63978);r(t,"__esModule",{value:!0}),t.commonSocket=function(e,t){var n,r=c.ServerEvent.ErrCode;(0,l.bindSocketEvent)(e,t,(_(n={},r,(function(t,n){(n=t.code||n)===c.ServerErrCode.TokenExpire?((0,h.removeItem)("local_token"),(0,l.disconnectSocket)(e.config.name),v.default.alert((0,p.tplStr)("logoutTip"),{hide_cancel:!0}).then((function(e){location.reload()}))):n===c.ServerErrCode.OtherLogin&&((0,l.disconnectSocket)(e.config.name),v.default.alert((0,p.tplStr)("OtherLogin"),{hide_cancel:!0}).then((function(){location.reload()})))})),_(n,u.SocketEvent.Reconnecting,(function(e){console.log("test:>Reconnecting",e),0===e&&d.default.tip((0,p.tplStr)("NetError"),{count:10,show_count:!0,auto_hide:!1,click_through:!1,repeat:!0})})),_(n,u.SocketEvent.Reconnected,(function(){w()})),_(n,u.SocketEvent.End,(function(){v.default.alert((0,p.tplStr)("logoutTip"),{hide_cancel:!0}).then((function(){location.reload()}))})),n)),i.ctrlState.app.bg_monitor.event.on(f.BgMonitorEvent.VisibleChange,(function(t){t&&("OPEN"===e.status?w():e.reconnect())}),t)},t.errorHandler=function(e,t,n){var r=(0,p.tplStr)(e);if(e===c.ServerErrCode.ReExchange)return S((0,p.tplStr)(c.ServerErrCode.ReExchange));if(e===c.ServerErrCode.NoMoney){var o=(0,p.tplStr)(c.ServerErrCode.NoMoney);if(null==t?void 0:t.minAmount){var i=t.minAmount,a=t.currency;o=(0,p.tplStr)("NoMoneyAmount",{minAmount:i,currency:a})}return v.default.alert(o).then((function(e){"confirm"===e&&(0,y.recharge)(),null==n||n.send(c.ServerEvent.RoomOut)}))}if(e===c.ServerErrCode.NeedLogin)return(0,m.login)();if(e===c.ServerErrCode.TrialTimeGame||e===c.ServerErrCode.TrialNotBullet)return v.default.alert(r,{hide_cancel:!0}).then((function(){(0,l.getSocket)(c.ServerName.Game).send(c.ServerEvent.RoomOut)}));if(e===c.ServerErrCode.TrialTimeHall)return d.default.tip((0,p.tplStr)(c.ServerErrCode.TrialTimeGame));if(e===c.ServerErrCode.TrialClose)return d.default.tip((0,p.tplStr)(c.ServerErrCode.TrialClose));if(e===c.ServerErrCode.NetError||e===c.ServerErrCode.EnterGameError)return v.default.alert((0,p.tplStr)(c.ServerErrCode.NetError),{hide_cancel:!0}).then((function(){location.reload()}));if(e===c.ServerErrCode.OverLimit)return v.default.alert((0,p.tplStr)(c.ServerErrCode.OverLimit),{hide_cancel:!0}).then((function(){var e=(0,l.getSocket)(c.ServerName.Game);null==e||e.send(c.ServerEvent.RoomOut)}));r&&d.default.tip(r)},t.exChangeBullet=S,t.offCommon=function(e,t){null==e||e.event.offAllCaller(t),i.ctrlState.app.bg_monitor.event.offAllCaller(t)},t.tipComeBack=w,t.tipCount=function(e,t){d.default.tip(e,{count:t,show_count:!0,auto_hide:!1,click_through:!1})};var o=g(n(93476)),i=n(66589),a=n(545),u=n(49659),l=n(43267),c=n(26744),s=n(44517),f=n(51720),h=n(36620),p=n(77513),v=g(n(55437)),d=g(n(10535)),y=n(58465),m=n(95455);function g(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n){return t in e?r(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e,t,n,r){return new(n||(n=o.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))};function w(){d.default.tip((0,p.tplStr)("NetComeBack"))}var k=!1;function S(e,t){return b(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((0,a.disableCurUserOperation)(),!k){n.next=3;break}return n.abrupt("return");case 3:return k=!0,(0,a.waitGameExchangeOrLeave)().then((function(){k=!1})),n.abrupt("return",(0,s.asyncOnly)(e,(function(){return v.default.alert(e,{closeOnSide:!1}).then((function(e){if("confirm"===e)return t.send(c.ServerEvent.ExchangeBullet);t.send(c.ServerEvent.RoomOut)}))})));case 6:case"end":return n.stop()}}),n)})))}},39487:function(e,t,n){"use strict";var r=n(63978),o=n(41511),i=n(65420),a=n(19996),u=n(3649),l=n(66419);r(t,"__esModule",{value:!0}),t.HallCtrl=void 0;var c=I(n(93476)),s=I(n(68700)),f=n(899),h=n(8928),p=n(66589),v=n(80356),d=n(50739),y=n(14082),m=n(26744),g=n(11263),_=n(36620),b=I(n(70315)),w=I(n(7750)),k=n(22426),S=n(31070),x=n(58465),C=n(72243),E=n(52080);function I(e){return e&&e.__esModule?e:{default:e}}function A(e,t){return function(e){if(o(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==i&&a(e)||e["@@iterator"];if(null==n)return;var r,o,u=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(u.push(r.value),!t||u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw o}}return u}(e,t)||function(e,t){var n;if(!e)return;if("string"==typeof e)return M(e,t);var r=u(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return l(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(e,o.key,o)}}var R=function(e,t,n,r){return new(n||(n=c.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},B=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selectCoin=function(e){if(-1!==e){var t=n.view,r=t.header.coin_menu.list,o=g.modelState.app.user_info,i=r.array[e].coin_name;o.setCurBalance(i),t.toggleCoinMenu(!1)}},this.selectFlag=function(e){if(-1!==e){var t=n.view,r=t.header.flag_menu.list,o=g.modelState.app.user_info,i=r.array[e].flag_type;o.setLang(i),t.toggleFlagMenu(!1)}},this.view=t,this.init()}var t,n,r;return t=e,n=[{key:"enterGame",value:function(e){return this.destroy(),p.ctrlState.app.enterGame(e)}},{key:"roomIn",value:function(){var e=this,t=arguments.length<=0?void 0:arguments[0];return(0,C.roomIn)(t,this).then((function(n){return(0,E.setRoomInData)(t),e.enterGame(n)}))}},{key:"enterArena",value:function(e){return this.destroy(),p.ctrlState.app.enterArenaGame(e)}},{key:"init",value:function(){return R(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,C.bindHallSocket)(this);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:return e.prev=7,e.next=10,(0,S.bindArenaHallSocket)(this);case 10:(0,S.sendToArenaHallSocket)(m.ArenaEvent.ArenaStatus,{currency:g.modelState.app.user_info.cur_balance}),e.next=15;break;case 13:e.prev=13,e.t1=e.catch(7);case 15:if(v.AudioCtrl.playBg(y.AudioRes.HallBg),this.initModelEvent(),"end"===(0,_.getItem)("guide")){e.next=19;break}return e.abrupt("return",(0,d.gotoGuide)("1","1"));case 19:(0,E.hallViewEvent)(this);case 20:case"end":return e.stop()}}),e,this,[[0,5],[7,13]])})))}},{key:"initModelEvent",value:function(){var e=this.view,t=g.modelState.app,n=t.user_info;t.arena_info,(0,x.onCurBalanceChange)(this,(function(t){var r=n.account_map.get(t),o=r.num,i=r.icon,a=r.hide;e.setCurBalance(t,i,o),e.setRechargeBtnVisible(Boolean(!a))})),(0,x.onLangChange)(this,(function(t){e.setFlag(t)})),(0,x.onAccountChange)(this,(function(t){e.setCoinData(t)})),(0,x.onNicknameChange)(this,(function(t){e.setNickname(t)})),(0,x.onArenaInfoChange)(this,(function(t){console.log("test:>onArenaInfoChange",e.destroyed),e.updateArenaInfo(t)})),e.setFlagData((0,x.getAllLangList)())}},{key:"destroy",value:function(){v.AudioCtrl.stop(y.AudioRes.HallBg),(0,x.offBindEvent)(this),(0,C.offHallSocket)(this),(0,S.offArenaHallSocket)(this),s.default.director.closeAllDialogs(),e.leave()}}],r=[{key:"preEnter",value:function(){return R(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.instance){t.next=2;break}return t.abrupt("return",this.instance);case 2:return n=[(0,f.toProgressObserver)(b.default.preEnter)(),(0,f.toProgressObserver)(f.fakeLoad)(.5),(0,f.toProgressObserver)(k.AppCtrl.commonLoad)()],t.abrupt("return",(0,h.runAsyncTask)((function(){return R(r,void 0,void 0,regeneratorRuntime.mark((function t(){var r,o,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,f.mergeProgressObserver)(n,w.default);case 2:return r=t.sent,o=A(r,1),i=o[0],a=new e(i),this.instance=a,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t,this)})))}),this));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"leave",value:function(){this.instance=void 0}}],n&&T(t.prototype,n),r&&T(t,r),e}();t.HallCtrl=B},58465:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.alertNetErrRefresh=function(){var e=f();return c.default.alert(o.InternationalTip[e][i.ServerErrCode.NetError],{hide_cancel:!0}).then((function(){location.reload()}))},t.getAllLangList=function(){var e=[];for(var t in o.Lang)e.push(o.Lang[t]);return e},t.getChannel=function(){var e,t,n;return null===(n=null===(t=null===(e=window.paladin)||void 0===e?void 0:e.sys)||void 0===t?void 0:t.config)||void 0===n?void 0:n.channel},t.getLang=f,t.offBindEvent=function(e){var t=u.modelState.app,n=t.user_info,r=t.setting,o=t.arena_info,i=n.event,a=r.event;i.offAllCaller(e),a.offAllCaller(e),o.event.offAllCaller(e)},t.offLangChange=function(e){u.modelState.app.user_info.event.offAllCaller(e)},t.onAccountChange=function(e,t){var n=u.modelState.app.user_info,o=n.event,i=n.account_map;o.on(l.UserInfoEvent.AccountChange,t,e),(0,r.default)((function(){i&&t(i)}))},t.onArenaInfoChange=function(e,t){var n=u.modelState.app.arena_info;n.event.on(a.ArenaModelEvent.UpdateInfo,t,e),(0,r.default)((function(){t(n)}))},t.onCurBalanceChange=function(e,t){var n=u.modelState.app.user_info,o=n.cur_balance;n.event.on(l.UserInfoEvent.CurBalanceChange,t,e),(0,r.default)((function(){o&&t(o)}))},t.onLangChange=function(e,t){var n=u.modelState.app.user_info,o=n.event,i=n.lang;o.on(l.UserInfoEvent.LangChange,t,e),(0,r.default)((function(){i&&t(i)}))},t.onNicknameChange=function(e,t){var n=u.modelState.app.user_info,i=n.event,a=n.nickname;i.on(l.UserInfoEvent.NicknameChange,t,e),(0,r.default)((function(){var e=f(),n=o.InternationalTip[e].guest;a||(a=n),t(a)}))},t.recharge=function(){var e,t,n=u.modelState.app.user_info,r=n.account_map,o=n.cur_balance;if(r.get(o).hide)return;if(!paladin.sys.config.isLogin)return paladin.account.login();null===(e=window)||void 0===e||e.paladin.pay.recharge({data:{currency:o,gameNo:null===(t=window)||void 0===t?void 0:t.paladin.sys.config.gameId,isHorizontal:!0}})},t.withdraw=function(){var e,t,n=u.modelState.app.user_info,r=n.account_map,o=n.cur_balance;if(r.get(o).hide)return;null===(e=window)||void 0===e||e.paladin.pay.withdraw({data:{currency:o,gameNo:null===(t=window)||void 0===t?void 0:t.paladin.sys.config.gameId,isHorizontal:!0}})};var r=s(n(33032)),o=n(89970),i=n(26744),a=n(4634),u=n(11263),l=n(87759),c=s(n(55437));function s(e){return e&&e.__esModule?e:{default:e}}function f(){var e,t;return null===(t=null===(e=u.modelState.app)||void 0===e?void 0:e.user_info)||void 0===t?void 0:t.lang}},72243:function(e,t,n){"use strict";var r=n(63978);r(t,"__esModule",{value:!0}),t.bindHallSocket=function(e){return y(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d){t.next=3;break}return t.next=3,m();case 3:(0,f.commonSocket)(d,e),(0,u.bindSocketEvent)(d,e,(v(n={},a.SocketEvent.Reconnected,(function(){g(c.ServerEvent.UserAccount)})),v(n,c.ServerEvent.UserAccount,(function(e,t){s.modelState.app.initUserInfo(e)})),n));case 5:case"end":return t.stop()}}),t)})))},t.checkReplay=_,t.connectHallSocket=m,t.offHallSocket=function(e){if(!d)return;(0,u.offSocketEvent)(d,e),(0,f.offCommon)(d,e),(0,u.disconnectSocket)(c.ServerName.Hall),d=void 0},t.roomIn=function(e,t){var n=this;return new o.default((function(r,o){var a=(0,u.getSocket)(c.ServerName.Hall);a.event.once(c.ServerEvent.RoomIn,(function(e,o,u){return y(n,void 0,void 0,regeneratorRuntime.mark((function n(){var u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o!==c.ServerErrCode.AlreadyInRoom){n.next=8;break}return n.next=3,_(t);case 3:return(u=n.sent).isReplay&&r((0,i.default)((0,i.default)({},e),u)),n.abrupt("return");case 8:if(200===o){n.next=10;break}return n.abrupt("return",(0,f.errorHandler)(o,e,a));case 10:r(e);case 11:case"end":return n.stop()}}),n)})))}),t);var l=s.modelState.app.user_info.cur_balance;a.send(c.ServerEvent.RoomIn,(0,i.default)((0,i.default)({},e),{currency:l,domain:""}))}))},t.sendToHallSocket=g;var o=p(n(93476)),i=p(n(51942)),a=n(49659),u=n(43267),l=n(66058),c=n(26744),s=n(11263),f=n(59914),h=n(95455);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n){return t in e?r(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d,y=function(e,t,n,r){return new(n||(n=o.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))};function m(){return y(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,u.getSocket)(c.ServerName.Hall)){e.next=9;break}return n=l.Config.SocketUrl,r=l.Config.PublicKey,i=l.Config.Host,e.next=5,(0,h.connectSocket)({url:n,publicKey:r,host:i,code:l.Config.code,name:c.ServerName.Hall});case 5:if(t=e.sent,d=t,t){e.next=9;break}throw Error("ConnectFailed:".concat(c.ServerName.Hall,"}"));case 9:return e.next=11,new o.default((function(e){d.event.once(c.ServerEvent.UserAccount,(function(t){s.modelState.app.initUserInfo(t),e(void 0)})),g(c.ServerEvent.UserAccount,{domain:l.Config.Host})}));case 11:return e.next=13,_();case 13:if(!(a=e.sent).isReplay){e.next=16;break}return e.abrupt("return",[!0,a]);case 16:return e.abrupt("return",[!1]);case 17:case"end":return e.stop()}}),e)})))}function g(){var e;(e=d).send.apply(e,arguments)}function _(e){return y(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new o.default((function(t,n){var r=(0,u.getSocket)(c.ServerName.Hall);r.event.once(c.ServerEvent.CheckReplay,(function(e){t(e)}),e),r.send(c.ServerEvent.CheckReplay)})));case 1:case"end":return t.stop()}}),t)})))}},52080:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.getRoomInData=k,t.hallViewEvent=function(e){var t=this,n=e.view,o=n.normal_box,s=n.match_box,f=n.header,b=n.btn_play_now,S=n.btn_competition,x=f.coin_menu.list,C=f.flag_menu.list,E=f.btn_coin_select,I=f.btn_get,A=f.btn_charge,M=f.btn_home,T=f.btn_app,R=f.btn_leave,B=f.btn_voice,L=f.flag_box,P=f.btn_login,O=f.coin_menu,D=f.flag_menu,N=f.btn_game_record,U=f.btn_item_record,G=f.btn_recharge,j=f.btn_withdraw,F=f.btn_arena_record;x.selectHandler=new a.Handler(x,e.selectCoin,void 0,!1),C.selectHandler=new a.Handler(x,e.selectFlag,void 0,!1);var H=i.Event.CLICK,z=o.getChildByName("ani"),V=o.getChildByName("btn_try"),Y=o.getChildByName("btn_play"),$=(s.getChildByName("ani"),s.getChildByName("btn_try")),K=s.getChildByName("btn_play");(0,c.onNode)(Y,H,(function(n){return w(t,void 0,void 0,regeneratorRuntime.mark((function t(){var n,o,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u.AudioCtrl.play(l.AudioRes.Click),n=(0,g.getLang)(),o=Y.getChildByName("ani"),i=(0,h.playSkeletonOnce)(z,"active_".concat(n)),a=(0,h.playSkeletonOnce)(o,"active_".concat(n)),r.default.all([a,i]).then((function(){e.roomIn({roomId:1,isTrial:0},e),(0,h.playSkeleton)(o,"standby_".concat(n),!0)}));case 6:case"end":return t.stop()}}),t)})))})),(0,c.onNode)(V,H,(function(){return w(t,void 0,void 0,regeneratorRuntime.mark((function t(){var n,o,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u.AudioCtrl.play(l.AudioRes.Click),n=(0,g.getLang)(),o=V.getChildByName("ani"),i=(0,h.playSkeletonOnce)(o,"active_".concat(n)),a=(0,h.playSkeletonOnce)(z,"active_".concat(n)),r.default.all([i,a]).then((function(){e.roomIn({roomId:1,isTrial:1},e),(0,h.playSkeleton)(o,"standby_".concat(n),!0)}));case 6:case"end":return t.stop()}}),t)})))})),(0,c.onNode)(K,H,(function(){return w(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u.AudioCtrl.play(l.AudioRes.Click),e.roomIn({roomId:2,isTrial:0},e);case 2:case"end":return t.stop()}}),t)})))})),(0,c.onNodeWithAni)(S,H,(function(){return w(t,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.AudioCtrl.play(l.AudioRes.Click),(t=S.getChildByName("clickLight")).visible=!0,(0,h.playSkeletonOnce)(t,0).then((function(){t.visible=!1,p.default.preEnter()}));case 4:case"end":return e.stop()}}),e)})))})),(0,c.onNodeWithAni)(G,H,(function(){return w(t,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.AudioCtrl.play(l.AudioRes.Click),(0,g.recharge)();case 2:case"end":return e.stop()}}),e)})))})),"CCTIP"===(0,g.getChannel)()&&(j.visible=!0,n.onResize(),(0,c.onNodeWithAni)(j,H,(function(){return w(t,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.AudioCtrl.play(l.AudioRes.Click),(0,g.withdraw)();case 2:case"end":return e.stop()}}),e)})))})));(0,c.onNode)($,H,(function(){return w(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u.AudioCtrl.play(l.AudioRes.Click),e.roomIn({roomId:2,isTrial:1},e);case 2:case"end":return t.stop()}}),t)})))})),(0,c.onNode)(b,H,(function(){return w(t,void 0,void 0,regeneratorRuntime.mark((function t(){var n,o,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=(0,g.getLang)(),o=b.getChildByName("ani"),u.AudioCtrl.play(l.AudioRes.Click),i=(0,h.playSkeletonOnce)(z,"active_".concat(n)),a=(0,h.playSkeletonOnce)(o,"active_".concat(n)),r.default.all([a,i]).then((function(){e.roomIn(k(),e),(0,h.playSkeleton)(o,"standby_".concat(n),!0)}));case 6:case"end":return t.stop()}}),t)})))})),E.on(H,e,(function(e){u.AudioCtrl.play(l.AudioRes.Click),(0,c.isClosest)(e.target,O)||n.toggleCoinMenu(!O.visible)})),L.on(H,e,(function(e){u.AudioCtrl.play(l.AudioRes.Click),n.toggleFlagMenu(!D.visible)})),(0,c.onNodeWithAni)(I,H,(function(){u.AudioCtrl.play(l.AudioRes.Click)})),(0,c.onNodeWithAni)(A,H,(function(){u.AudioCtrl.play(l.AudioRes.Click)})),(0,c.onNodeWithAni)(M,H,(function(){u.AudioCtrl.play(l.AudioRes.Click)})),(0,c.onNodeWithAni)(T,H,(function(){u.AudioCtrl.play(l.AudioRes.Click)})),(0,c.onNodeWithAni)(P,H,(function(){(0,_.login)(),u.AudioCtrl.play(l.AudioRes.Click)})),(0,c.onNodeWithAni)(R,H,(function(){u.AudioCtrl.play(l.AudioRes.Click),(0,_.logout)()})),(0,c.onNodeWithAni)(B,H,(function(){u.AudioCtrl.play(l.AudioRes.Click),m.default.preEnter()})),(0,c.onNodeWithAni)(N,H,(function(){u.AudioCtrl.play(l.AudioRes.Click),d.default.preEnter()})),(0,c.onNodeWithAni)(U,H,(function(){u.AudioCtrl.play(l.AudioRes.Click),y.default.preEnter()})),(0,c.onNodeWithAni)(F,H,(function(){u.AudioCtrl.play(l.AudioRes.Click),v.default.preEnter()}))},t.setRoomInData=function(e){(0,s.setItem)("roomIn",(0,o.default)(e))};var r=b(n(93476)),o=b(n(59340)),i=n(89662),a=n(41107),u=n(80356),l=n(14082),c=n(52782),s=n(36620),f=n(55161),h=n(77513),p=b(n(66705)),v=b(n(76079)),d=b(n(60971)),y=b(n(47859)),m=b(n(94133)),g=n(58465),_=n(95455);function b(e){return e&&e.__esModule?e:{default:e}}var w=function(e,t,n,o){return new(n||(n=r.default))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function u(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((o=o.apply(e,t||[])).next())}))};function k(){try{var e=(0,s.getItem)("roomIn");if(e)return JSON.parse(e)}catch(e){(0,f.error)("getRoomInData:error:>",e)}return{roomId:1,isTrial:1}}},95455:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.connectSocket=d,t.enterGame=v,t.getGuestToken=y,t.leaveGame=function(){(0,f.disconnectSocket)(a.ServerName.Game)},t.login=function(){"YSTAR"===(0,c.getParams)("c")?platform.register():platform.login()},t.logout=function(){platform.logout()},t.waitConnectGame=function(e){return p(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=(0,f.getSocket)(a.ServerName.Game))){t.next=3;break}return t.abrupt("return",n);case 3:return t.next=5,v(e||o.Config.SocketUrl);case 5:(n=t.sent).send(a.ServerEvent.EnterGame);case 7:case"end":return t.stop()}}),t)})))};var r=h(n(93476)),o=n(66058),i=n(23254),a=n(26744),u=n(36620),l=n(55161),c=n(77513),s=h(n(55437)),f=n(43267);function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e,t,n,o){return new(n||(n=r.default))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function u(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((o=o.apply(e,t||[])).next())}))};function v(e){return p(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.ServerName.Game,r=o.Config.PublicKey,i=o.Config.Host,t.next=4,d({url:e,publicKey:r,name:n,host:i});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))}function d(e){return p(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,f.createSocket)(e,(0,i.isProd)()?3:1,(0,i.isProd)()?3:0);case 2:if((n=t.sent)||!(0,i.isProd)()){t.next=6;break}return s.default.alert((0,c.tplStr)(a.ServerErrCode.NetError)).then((function(){location.reload()})),t.abrupt("return");case 6:if(!(r=o.Config.token)){t.next=10;break}return n.setParams({jwt:r,userId:(0,c.getParams)("userId")}),t.abrupt("return",n);case 10:if(h=(0,u.getItem)("local_token")){t.next=16;break}return t.next=14,y(n);case 14:h=t.sent,(0,u.setItem)("local_token",h,7);case 16:return n.setParams({jwt:h,userId:(0,c.getParams)("userId")}),(0,l.log)("本地guess token:",h),t.abrupt("return",n);case 19:case"end":return t.stop()}}),t)})))}function y(e){return new r.default((function(t,n){e.event.once(a.ServerEvent.GetGuestToken,(function(e){t(e.jwt)})),e.send(a.ServerEvent.GetGuestToken)}))}},91549:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.MockWebSocket=void 0;var r=u(n(93476)),o=u(n(63978)),i=n(38182),a=n(55161);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.event=new i.EventCom,this.sendEvent=new i.EventCom,this.status="OPEN",this.config=t}var t,n,o;return t=e,(n=[{key:"setParams",value:function(e){(0,a.log)(e)}},{key:"connect",value:function(){return r.default.resolve(!0)}},{key:"reconnect",value:function(){}},{key:"send",value:function(e,t){this.sendEvent.emit(e,t),(0,a.log)("mockWebSocket:>",e,t)}},{key:"disconnect",value:function(){this.event.destroy(),this.sendEvent.destroy(),(0,a.log)("disconnect")}}])&&l(t.prototype,n),o&&l(t,o),e}();t.MockWebSocket=c},49659:function(e,t,n){"use strict";function r(e){return r="function"==typeof c&&"symbol"==typeof s?function(e){return typeof e}:function(e){return e&&"function"==typeof c&&e.constructor===c&&e!==c.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(63978),c=n(65420),s=n(98341);l(t,"__esModule",{value:!0}),t.WebSocketWrapCtrl=t.SocketEvent=void 0;var f=b(n(93476)),h=b(n(77766)),p=b(n(51942)),v=b(n(59340)),d=n(74227),y=n(38182),m=n(83762),g=n(55161),_=n(43267);function b(e){return e&&e.__esModule?e:{default:e}}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l(e,r.key,r)}}function k(e,t){return k=o||function(e,t){return e.__proto__=t,e},k(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C(e){return C=o?i:function(e){return e.__proto__||i(e)},C(e)}var E,I=function(e,t,n,r){return new(n||(n=f.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))};!function(e){e.OnData="0",e.PingTimeOut="1",e.Ping="2",e.Pong="3",e.Error="4",e.MsgAck="5"}(E||(E={}));var A={ping:"2",pong:"3"},M={Connect:"connect",Reconnecting:"reconnecting",Reconnected:"reconnected",Error:"error",End:"end",CheckError:"CheckError"};t.SocketEvent=M;var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(i,e);var t,n,r,o=S(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).params={},t.onData=function(e){var n,r=t.config.name,o=e.substring(1);switch(e.charAt(0)){case E.OnData:var i;if(!(n=(0,_.decrypt)(r,o)))return;var a=n,u=a.cmd,l=a.res,c=a.data,s=a.code,f=a.msg;(0,g.log)((0,h.default)(i="".concat(r,":>接收:>")).call(i,u),n),t.event.emit(u,l||c,s,f);case E.Error:case E.MsgAck:}},t.onEnd=function(){t.event.emit(M.End)},t.onReconnect=function(e){t.event.emit(M.Reconnecting,e)},t.onReconnected=function(){t.event.emit(M.Reconnected)},t.config=e,t.init(),m.WebSocketCtrl.log=g.log,t}return t=i,n=[{key:"init",value:function(){var e=new y.EventCom;this.addCom(e),this.event=e}},{key:"connect",value:function(){return I(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,_.genUrl)(this.config),n=new m.WebSocketCtrl({url:t,handlers:{onData:this.onData,onEnd:this.onEnd,onReconnect:this.onReconnect,onReconnected:this.onReconnected},ping_pong_map:A}),e.next=4,n.connect();case 4:return(r=e.sent)&&(this.ws=n),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"status",get:function(){return this.ws?this.ws.status:"CLOSED"}},{key:"setParams",value:function(e){this.params=(0,p.default)((0,p.default)({},this.params),e)}},{key:"send",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.ws,o=this.params,i=this.config.name;(0,g.log)((0,h.default)(t="".concat(i,":>发送:>")).call(t,e),n);var a={cmd:e,params:(0,p.default)((0,p.default)({},o),n)},u="0"+(0,_.encrypt)(i,(0,v.default)(a));r.send(u)}},{key:"disconnect",value:function(){this.event.destroy(),this.ws.disconnect(),this.ws=void 0}},{key:"reconnect",value:function(){var e=this.ws;if(!e)return(0,g.error)("WebSocketWrapCtrl:> is disconnected!");"CLOSED"===e.status&&this.ws.reconnect()}}],n&&w(t.prototype,n),r&&w(t,r),i}(d.ComponentManager);t.WebSocketWrapCtrl=T},43267:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.bindSocketEvent=function(e,t,n){var r=e.event;for(var o in n)r.on(o,n[o],t)},t.createComKey=b,t.createSocket=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return d(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,a,u,l,c,p,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=0;case 1:if(!(o<t)){r.next=21;break}return l=e.name,c=v||h.WebSocketWrapCtrl,p=new c(e),r.next=7,p.connect();case 7:if(d=r.sent,(0,f.log)((0,i.default)(a=(0,i.default)(u="test:>createSocket:>".concat(l,":>")).call(u,o+1,"=")).call(a,d)),!d){r.next=15;break}return g.emit(_,l,p),m.set(l,p),r.abrupt("return",p);case 15:return r.next=17,(0,s.sleep)(n);case 17:return r.abrupt("continue",18);case 18:o++,r.next=1;break;case 21:case"end":return r.stop()}}),r)})))},t.decrypt=function(e,t){try{var n=y.get(e),r=a.default.AES.decrypt(t,a.default.enc.Utf8.parse(n),{mode:a.default.mode.ECB,padding:a.default.pad.Pkcs7}).toString(a.default.enc.Utf8);return JSON.parse(r)}catch(e){return(0,f.error)("cant decrypt data"),""}},t.disconnectSocket=function(e){var t=m.get(e);t&&(t.disconnect(),m.delete(e))},t.encrypt=function(e,t){var n=y.get(e);return a.default.AES.encrypt(t,a.default.enc.Utf8.parse(n),{mode:a.default.mode.ECB,padding:a.default.pad.Pkcs7}).toString()},t.genUrl=function(e){var t,n=e.url,r=e.publicKey,o=e.code,a=(e.host,e.name),u=(0,i.default)(t="".concat(n,"/gws?auth=")).call(t,w(a,r));o&&(u+="&code=".concat(o));return u},t.getAuth=w,t.getSocket=function(e){return m.get(e)},t.mockSocketCtor=function(e){v=e},t.offSocketEvent=function(e,t){e.event.offAllCaller(t)},t.onCreateSocket=function(e,t){return new l.Observable((function(n){var r=function(r,o){r===e&&(n.next(o),t&&n.complete())};g.on(_,r,null),n.add((function(){g.off(_,null,r)}));var o=m.get(e);o&&r(e,o)}))},t.waitCreateSocket=function(e){return new r.default((function(t,n){var r=m.get(e);if(r)return t(r);g.once(_,(function(n,r){n===e&&t(r)}))}))};var r=p(n(93476)),o=p(n(39392)),i=p(n(77766)),a=p(n(47814)),u=n(36582),l=n(72649),c=n(38182),s=n(90564),f=n(55161),h=n(49659);function p(e){return e&&e.__esModule?e:{default:e}}var v,d=function(e,t,n,o){return new(n||(n=r.default))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function u(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((o=o.apply(e,t||[])).next())}))},y=new o.default,m=new o.default,g=new c.EventCom,_="create";function b(e){var t=(new Date).toString(),n=Date.parse(t).toString()+Date.parse(t).toString()+Date.parse(t).toString().substring(0,6);return y.set(e,n),n}function w(e,t){var n=b(e),r=new u.JSEncrypt;return r.setPublicKey(t),r.encrypt(n)}},14082:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.AudioRes=void 0;t.AudioRes={Click:"sound/click.mp3",HallBg:"sound/hall_bg.mp3",GameBg:"sound/game_bg.mp3",Fire:"sound/fire.mp3",Bomb:"sound/bomb.mp3",Freeze:"sound/freezing.mp3",ShoalComing:"sound/shoal_coming.mp3",CoinFew:"sound/coin_few.mp3",CoinShow:"sound/coin_show.mp3",CoinLot:"sound/coin_lot.mp3",LeaveGame:"sound/leave_game.mp3",PopShow:"sound/pop_show.mp3",FlySkill:"sound/pop_show.mp3",CoinCircle:"sound/pop_show.mp3"}},66058:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.SkillNameMap=t.SkillMap=t.ItemMap=t.Config=void 0;var r,o,i=(r=n(63978))&&r.__esModule?r:{default:r};function a(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u,l={PublicKey:"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDMUws+7NKknmImMYUsSr4DOKYVrs1s7BQzGBgkkTptjGiektUmxm3BNZq34ugF6Vob9V0vU5r0S7vfyuOTC87uFeGe+rBJf7si4kE5wsJiEBlLNZjrz0T30xHGJlf+eizYVKPkpo3012rKvHN0obBlN7iBsdiGpLGP3sPAgO2tFQIDAQAB",SocketUrl:"",code:"",arenaSocketUrl:"ws://172.16.6.184:7019",token:"",lang:"en",isLogin:!1,Host:"",CdnVersion:window.version,cndUrl:"",BulletSpeed:25,PoolWidth:1920,PoolHeight:750,BulletZoneWidth:1334,ShootTimeSpace:200,BombRadius:150,ClearFishTime:2.5};t.Config=l,t.SkillMap=u,function(e){e.LockFish="2001",e.Freezing="2002",e.Bomb="2003",e.Auto="A2004",e.Super="A2004"}(u||(t.SkillMap=u={}));var c=(a(o={},u.Freezing,"freeze"),a(o,u.Bomb,"bomb"),a(o,u.LockFish,"aim"),a(o,u.Auto,"auto"),a(o,u.Super,"super"),o);t.SkillNameMap=c;t.ItemMap={3001:"BTC",3002:"ETH",3003:"XRP"}},70555:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.Coordinates=void 0;t.Coordinates={gun_global_pos:{0:{x:670,y:696},1:{x:1250,y:696},2:{x:1250,y:54},3:{x:670,y:54}},grand_prix_gun_global_pos:{0:{x:960,y:696},1:{x:960,y:54}},guns_inside_pos:{start_point:{x:74.5,y:20},origin_point:{x:74.5,y:74.5}},bullet_offset:{11:[0],12:[15,-15],13:[15,-15],21:[0],22:[10,-10],23:[10,-10],31:[0],32:[10,-10],33:[10,-10],41:[0],42:[20,-20],43:[20,-20],51:[0],52:[0],53:[0]},guns_inbox_pos:{x:104,y:78},shadowPos:{default:{x:0,y:80},1:{x:0,y:60,scaleX:.35,scaleY:.35},2:{x:0,y:70,scaleX:.49,scaleY:.49},3:{x:0,y:70,scaleX:.5,scaleY:.5},4:{x:0,y:100,scaleX:.8,scaleY:1.2},5:{x:0,y:80,scaleY:.8,scaleX:.84},6:{x:0,y:70,scaleX:.43,scaleY:.43},7:{x:0,y:80,scaleX:.5,scaleY:.5},8:{x:0,y:120,scaleX:.6,scaleY:1},9:{x:0,y:120,scaleX:.7,scaleY:1.1},10:{x:0,y:80,scaleX:.9,scaleY:1.4},11:{x:0,y:150},12:{x:0,y:150,scaleX:1.8},13:{x:0,y:150,scaleX:2.2,scaleY:1.5},14:{x:0,y:150,scaleX:2.5,scaleY:1.2},15:{x:0,y:200,scaleX:3,scaleY:2},16:{x:0,y:60,scaleX:2},17:{x:0,y:150,scaleX:1.2,scaleY:1.8},18:{x:0,y:100},19:{x:0,y:120,scaleX:1.4,scaleY:1.4},20:{x:0,y:120,scaleX:2}}}},23254:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.env=void 0,t.isProd=function(){return!0};var r="PROD";t.env=r},46665:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.GunInfo=void 0;t.GunInfo={LevelUp:[3,10],HoleNum:[1,2,2]}},89970:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.Lang=t.InternationalTipOther=t.InternationalTip=t.InternationalRes=t.International=void 0;var r,o,i,a,u,l,c,s,f,h=(r=n(63978))&&r.__esModule?r:{default:r},p=n(26744);function v(e,t,n){return t in e?(0,h.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Lang=f,function(e){e.Zh="zh",e.Zh_HK="hk",e.Kor="kor",e.En="en",e.Jp="jp"}(f||(t.Lang=f={}));t.InternationalRes={};var d=(v(c={},f.En,(v(o={deposit:"Deposit",withdrawal:"Withdrawal",balance:"Balance",bullet:"Bullet",automaticFiring:"Automatic firing",buyBullet:"Purchase Bullets",casualMode:"Casual Mode",tournamentMode:"Tournament Mode",trialField:"Demo game",realField:"Real game",stayTuned:"Stay Tuned",quickStart:"Quick Start",NumBullet:"Bullets",guest:"Guest",volumeSetting:"Volume Setting",music:"Music",soundEffects:"Sound",tips:"Reminder",cancel:"Cancel",confirm:"Confirm",luckyDraw:"Prize Draw",redemption:"Exchange",buySuccess:"Congratulations on acquiring!",luckyDrawTip2:"Congrats! You’ve got ",Num:"Remaining",shop:"Shop",skin:"Skin",lock:"Lock",freeze:"Freeze",bomb:"Bomb",voucher:"Voucher",use:"Use",inUse:"In Use",item:"Item",youAreHere:"You are here",purchase:"Purchase",buyBulletCost:"Must spend",leaveTip:"Are you sure you want to leave the game?",reEnter:"You are in the game now, do you want to re-enter?",kickedTip:"You have been kicked out of the game room, do you want to refresh the page and re-enter the game room?",buyBulletTip:"Out of ammo, do you want to purchase more?",buySkillTip:"You don’t have this skill, do you want to purchase it?",logoutTip:"Login disconnected, do you want to refresh the current page?",posBombTip:"Please select a location on the screen to place the bomb",aimFish:"Please select the fish you want to attack",help:"Help",times:"times",help1:"1. Fish Points: Different fishes have different values, with the number of bullets obtained after capturing a fish being equal to the multiple of the cannon currently being used multiplied by the number of Fish Points. For example, if a fish with 50 Fish Points is captured using a 10x cannon, the number of bullets obtained is 50x10=500. Each different type of fish and their corresponding numbers of Fish Points are as follows:",help2:"2. Skill description: Players can apply the following skills in the game.",help2Super:"Super Skill: This is a passive skill which is automatically triggered after a certain number of fish have been captured by the player. It increases bullet power and doubles the firing speed.",help2Freeze:"Freezing Skill: Active skill which can be obtained either by killing certain types of fish or by directly purchasing. It can freeze most of the fish on the screen.",help2Lock:"Lock Skill: Active skill which can be obtained either by killing certain types of fish or by directly purchasing. It can automatically lock in place the fish on the screen which have the highest number of Fish Points; players can also select the fish which they want to lock in place.",help2Bomb:"Bomb Skill: Active skill which can be directly purchased. It will randomly kill groups of nearby fish on the screen.",help3:"3. Available cannon multiples: ",help31:"1,2,3,4,5,10,15,20",help4:"4. Other instructions",help41:"Redemption: Players can get some Fish Vouchers after capturing certain types of fish. Fish Vouchers can be redeemed in exchange for rewards.",help42:"Lucky draw: Players can qualify for 1 lucky draw after capturing 10 fish that each have at least 100 Fish Points. Rewards include bullets and currency.",help43:"Purchases: Players can purchase bullets inside the main hall, and can also purchase cannon skins or bullet effects by clicking on the cannon icon in the game.",tourSkip:"Skip",tourStart:"Start game",tour1:"Click the drop-down button to select the currency",tour2:"Game room will change <br/>according to which currency is selected",tour3:"In the demo game you can only experience the game, <br/>you must be in the real game in order to earn currency",tour4:"The system will automatically convert your digital currency into<br/> bullets when you enter a real game; any remaining <br/> bullets will be converted back into currency after you <br/> have left the room.",tour5:"Control your cannon, click and catch <br/>fish to get more bullets",tour6:"Use items to help you catch more <br/> and bigger fish",noData:"No data",NetError:"Problem with Internet connection, reconnecting",NetComeBack:"Welcome back!",OtherLogin:"Login error, please refresh and try again.",InputEmptyWarn:"Input value cannot be blank!",Delete:"Delete",buyItemTip:"Confirm cost $1 $2,purchase $3 $4.",buySkinTip:"Confirm cost $1 个 $2,purchase $3.",beyondBulletNum:"Exceeds current ammunition limit",itemListTitle:"Items stored",itemList1:"Item types",itemList2:"Sum of purchases",itemList3:"Sum of prizes",search:"Inquire",gameNo:"Sessions",remainingNum:"Amount remaining",gameListTitle:"Game record",cost:"Use up",prize:"Winnings",delayUpdateAccount:"Updates to your balance might be delayed until blocks on the chain can be confirmed, please be patient.",enterGameCostTip:"The system converts {bringAmount} {currency} into {bulletNum} bullets. \n After you leave the room, any remaining bullets \n will then be converted back into your {currency}.",NoMoneyAmount:"The current currency surplus is insufficient, the minimum requirement to enter the market is {minAmount}{currency}, please go to top up or switch to other currencies.",platformDiffCurrencyEnterGameErr:"You have unfinished games, the system will automatically repeat.",arenaHelpRule11:"a) 捕魚大獎賽，以活動形式指定時間段開放，每個時段結束前{deadlineTime}分鍾停止報名",arenaHelpRule12:"b)大獎賽每次開放均可獲贈{freeNum}次免費挑戰的次數（遊客玩家和正式賬號獲得一次），免費挑戰次數不纍積",arenaHelpRule13:"c) 重複挑戰需要報名消耗貨幣，消耗的貨幣數量每次都一樣",arenaHelpRule21:"a) 報名成功後，每個玩家可以射擊{initBulletNum}發子彈，擊殺魚後可以獲得魚倍率對應的積分，1倍=1積分。",arenaHelpRule22:"b) 大獎賽中炮臺倍率越高，擊殺魚的概率也相應增加",arenaHelpRule23:"c) 玩家開炮後，若剩餘子彈為500倍數，觸發懸賞任務，完成可獲得額外積分獎勵",arenaHelpRule24:"d) 所有子彈打完後，本次挑戰結束。最終積分可以參與排名(註意:子彈未打完的成績不參與排名)",arenaHelpRule31:"a)每日取單次最高積分進入排名(至少需要{rankingScoreDown}分才可參與排名)",arenaHelpRule32:"b)積分相同的情況下，先達到的玩家排名在前",arenaHelpRule33:"c)日排行獎勵發放時間為每日23:35，最終排名以23:30之後為準。( 註意: 23:00之前的排名獎勵僅作預覽，不是實際發放獎勵)",arenaHelpRule34:"d) 總冠軍獎勵發放時間為每次活動結束後第二天0:05，單次積分最高的玩家為總冠軍，獲得額外的大獎",arenaHelpRule35:"e) 比賽的獎勵直接發放到賬號上，玩家可以在大廳界麵查看大獎賽獎勵發放記錄",arenaHelpRule41:"a) 炮臺加成 使用不同炮臺皮膚，比賽中命中率加成不一樣，不纍加命中",arenaHelpRule42:"炮臺皮膚      命中加成 \n 皮膚1           {1001}%\n 皮膚2           {1002}%\n 皮膚3           {1003}%\n 皮膚4           {1004}%\n 皮膚5           {1005}%\n"},p.ServerErrCode.NoMoney,"Insufficient funds, please add funds or change to another currency."),v(o,"noMoneyConfirm","Add funds"),v(o,p.ServerErrCode.ReExchange,"Out of ammo. Continue exchanging?"),v(o,p.ServerErrCode.TrialTimeGame,"Demo playing time is up, please go to the real game to continue playing."),v(o,p.ServerErrCode.TrialNotBullet,"Out of ammo, please reload the game or go the real game to continue."),v(o,p.ServerErrCode.NetError,"Network error, please reload the game "),v(o,p.ServerErrCode.TrialClose,"Demo mode is off."),v(o,p.ServerErrCode.OverLimit,"Your spending have reached the maximum limit."),v(o,p.ServerErrCode.ToQuick,"Operation done too frequently"),o)),v(c,f.Kor,(v(i={deposit:"충전",withdrawal:"출금",balance:"잔액",bullet:"총알",automaticFiring:"자동 발사",buyBullet:"총알 구매",casualMode:"레저 모드",tournamentMode:"경기 모드",trialField:"시연장",realField:"게임장",stayTuned:"준비 중",quickStart:"시작",NumBullet:"잔여 총알",guest:"관전",volumeSetting:"음량 설정",music:"음악",soundEffects:"음향",tips:"주의",cancel:"취소",confirm:"확인",luckyDraw:"추첨",redemption:"교환",buySuccess:"구매 완료",luckyDrawTip2:"축하드립니다",Num:"잔금",shop:"상점",skin:"장비",lock:"목표 지정",freeze:"얼음",bomb:"폭탄",voucher:"쿠폰",use:"사용",inUse:"사용중",item:"도구",youAreHere:"현 위치",purchase:"구매",buyBulletCost:"비용 수요",leaveTip:"나가시겠습니까?",reEnter:"게임 진행 중입니다. 다시 진입 하시겠습니까?",kickedTip:"방에서 탈퇴 당하셨습니다. 다시 진입 하시겠습니까?",buyBulletTip:"총알 수량이 부족합니다. 구입 하시겠습니까?",buySkillTip:"해당 기능이 없습니다. 구입 하시겠습니까?",logoutTip:"로그인이 끊겼습니다. 페이지 새로 고침 하시겠습니까?",posBombTip:"위치를 선택하여 폭탄을 배치하세요.",aimFish:"공격하실 물고기를 선택하세요.",help:"도움",times:"배",help1:"1. 물고기 점수 설명: 물고기에 따라 점수가 다릅니다. 한 마리를 잡고 받을 수 있는 총알의 수량는 현재 사용 중인 포좌의 배수에 이 물고기의 점수를 곱한 것과 같습니다. 예를 들어 50배의 물고기 한 마리를 잡았을 때 10배의 포좌를 사용하였으면 받을 수 있는 총알 수량은 50X10=500입니다.각 물고기의 점수는 아래와 같습니다.",help2:"2. 기능 사용 설명: 게임 진행중 플레이어는 다음과 같은 기능을 사용할 수 있습니다.",help2Super:"슈퍼기능: 자동 기능, 플레이어가 일정량의 물고기를 포획한 후 자동으로 발사 됩니다.",help2Freeze:"얼음 기능:수동 기능, 일정한 량의 물고기를 포획하면 받을 수 있 구매도 가능합니다. 해당 기능을 사용하면 게임중 대부분의 물고기들은 움직이지 않습니다.",help2Lock:"목표 지정 기능: 수동 기능, 일정한 량의 물고기를 포획하면 받 을 수 있고 구매도 가능합니다.  해당 기능을 사용하면 게임중의 가장  점수가 높은 물고기에 목표 지정이 됩니다. 또한 플레이어는 수동으로 한마리를 지정할 수 있습니다.",help2Bomb:"폭탄: 수동 기능, 구매하여야 합니다. 사용후 랜덤으로 한 무리의 물고기를 폭격할 수 있습니다.",help3:"3. 선택 가능한 포좌의 배수는 아래와 같습니다.",help31:"1,2,3,4,5,10,15,20",help4:"4. 기타 설명",help41:"환전: 플레이어가 지정된 물고기를 포획할 때, 물고기 쿠폰을 받게 되고, 쿠폰을 모으면 경품을 교환할 수 있게 됩니다.",help42:"추첨: 플레이어는 100점 이상의 물고기를 10마리 잡은 후, 추첨 기회가 한번 주어집니다. 추첨 보상은 총알이나 코인입니다.",help43:"구매: 플레이어는 첫 페이지에서 ‘구매’를 클릭하여 총알을 구입할 수도 있고, 게임 내에서 ‘포좌’를 클릭하여 포좌 종류 또한 특수 기능 총알을 구입할 수도 있습니다. 기능의 수가 0일 때 이 기능 아이콘을 클릭하여 기능을 구입할 수 있습니다.",tourSkip:"Exit",tourStart:"Start",tour1:"내리기 버튼을 클릭하여 코인 종류를 선택합니다.",tour2:"코인 종류에 따라 게임방이 다를 수 있습니다.",tour3:"시연장에서 유저는 체험만 가능하고 기엠장에서는 디지털 화폐를 획득할 수 있습니다",tour4:"게임이 본격적으로 시작되면 시스템이 자동으로 디지털 화폐를 총알로 바꿔드립니다. 게임방을 떠난 후, 남은 모든 총알은 다시 디지털 화폐로 교환됩니다.",tour5:"포좌를 컨트롤하고 물고기 포획을 클릭하면 더 <br/> 많은 총알을 받을 수 있습니다.",tour6:"도구를 사용하여 더 많고 더 큰 물고기를 <br/> 포획할 수 있습니다.",noData:"데이터 없음",NetError:"네트워크 오류, 다시 연결 중",NetComeBack:"돌아오신 걸 환영합니다!",OtherLogin:"다른 곳에서 로그인 시도, 새로고침해 주세요",InputEmptyWarn:"빈칸을 입력해주세요!",Delete:"삭제",buyItemTip:"$1개의 $2를 소비하여, $3개의 $4를 구매",buySkinTip:"$1개의 $2를 소비하여, $3 구매",beyondBulletNum:"현재 총알 수량 초과",itemListTitle:"아이템 보관량",itemList1:"아이템",itemList2:"총 구매 수량",itemList3:"총 게임 보너스",search:"조회",gameNo:"횟수",remainingNum:"남은 수량",gameListTitle:"게임 기록",cost:"소비",prize:"수익",delayUpdateAccount:"잔고에 변동이 생겼습니다. 블록체인에 문제가 생김으로  다소 지연이 될 수 있으니 양해 부탁드립니다.",enterGameCostTip:"시스템이 {bringAmount}{currency}를 {bulletNum}개의 총알로 바꿔드립니다.\n 게임을 나가실때 남은 총알은 {currency}로 바꿔드립니다.",NoMoneyAmount:"현재 화폐 잔액이 부족합니다. 최소{minAmount}{currency} 소유해야 입장이 가능합니다. 충전하시거나 다른 화폐로 교환해주세요.",platformDiffCurrencyEnterGameErr:"완료되지 않은 게임이 있으면 시스템이 자동으로 반복됩니다.",arenaHelpRule11:"a) 捕魚大獎賽，以活動形式指定時間段開放，每個時段結束前{deadlineTime}分鍾停止報名",arenaHelpRule12:"b)大獎賽每次開放均可獲贈{freeNum}次免費挑戰的次數（遊客玩家和正式賬號獲得一次），免費挑戰次數不纍積",arenaHelpRule13:"c) 重複挑戰需要報名消耗貨幣，消耗的貨幣數量每次都一樣",arenaHelpRule21:"a) 報名成功後，每個玩家可以射擊{initBulletNum}發子彈，擊殺魚後可以獲得魚倍率對應的積分，1倍=1積分。",arenaHelpRule22:"b) 大獎賽中炮臺倍率越高，擊殺魚的概率也相應增加",arenaHelpRule23:"c) 玩家開炮後，若剩餘子彈為500倍數，觸發懸賞任務，完成可獲得額外積分獎勵",arenaHelpRule24:"d) 所有子彈打完後，本次挑戰結束。最終積分可以參與排名(註意:子彈未打完的成績不參與排名)",arenaHelpRule31:"a)每日取單次最高積分進入排名(至少需要{rankingScoreDown}分才可參與排名)",arenaHelpRule32:"b)積分相同的情況下，先達到的玩家排名在前",arenaHelpRule33:"c)日排行獎勵發放時間為每日23:35，最終排名以23:30之後為準。( 註意: 23:00之前的排名獎勵僅作預覽，不是實際發放獎勵)",arenaHelpRule34:"d) 總冠軍獎勵發放時間為每次活動結束後第二天0:05，單次積分最高的玩家為總冠軍，獲得額外的大獎",arenaHelpRule35:"e) 比賽的獎勵直接發放到賬號上，玩家可以在大廳界麵查看大獎賽獎勵發放記錄",arenaHelpRule41:"a) 炮臺加成 使用不同炮臺皮膚，比賽中命中率加成不一樣，不纍加命中",arenaHelpRule42:"炮臺皮膚      命中加成 \n 皮膚1           {1001}%\n 皮膚2           {1002}%\n 皮膚3           {1003}%\n 皮膚4           {1004}%\n 皮膚5           {1005}%\n"},p.ServerErrCode.NoMoney,"현재 보유 중인 화폐 수량이 부족합니다. 입금 또는 다른 화폐를 환전해주세요."),v(i,"noMoneyConfirm","충전하기"),v(i,p.ServerErrCode.ReExchange,"총알 부족, 계속 교환 하시겠습니까?"),v(i,p.ServerErrCode.TrialTimeGame,"무료 플레이 종료. 정식 버전을 이용해주세요"),v(i,p.ServerErrCode.TrialNotBullet,"총알 부족, 다시 입장하거나 정식 버전을 이용해 주세요."),v(i,p.ServerErrCode.NetError,"네트워크 오류. 새로고침 후 다시 시도해 주세요."),v(i,p.ServerErrCode.TrialClose,"체험모드 종료"),v(i,p.ServerErrCode.OverLimit,"귀하의 소비가 제한에 도달했습니다."),v(i,p.ServerErrCode.ToQuick,"너무 자주 작동"),i)),v(c,f.Jp,(v(a={deposit:"⼊⾦",withdrawal:"送⾦",balance:"殘⾼",bullet:"弾薬",automaticFiring:"⾃動攻撃",buyBullet:"弾薬購⼊",casualMode:"レジャーモード",tournamentMode:"競技モード",trialField:"體験 ゲームルーム",realField:"本番ゲームルーム",stayTuned:"未開放",quickStart:"即開始",NumBullet:"弾薬",guest:"ゲスト",volumeSetting:"⾳量設定",music:"⾳楽",soundEffects:"⾳聲効果",tips:"注意",cancel:"キャンセル",confirm:"確認",luckyDraw:"抽選",redemption:"交換",buySuccess:"購⼊完了",luckyDrawTip2:"恭喜你獲得",Num:"殘り",shop:"ショップ",skin:"スタイル",lock:"ロック",freeze:"冷凍",bomb:"爆弾",voucher:"賞券",use:"使⽤",inUse:"使⽤中",item:"スキル",youAreHere:"ここにいる",purchase:"購⼊",buyBulletCost:"消費必要",leaveTip:"ゲーム終了しますか。",reEnter:"　現在ゲーム中ですが、再び開始しますか？",kickedTip:"プレールームから出てました。もう⼀度⼊場します か？",buyBulletTip:"弾薬殘數が不⾜になり、ご購⼊しますか。",buySkillTip:"スキルまだない、ご購⼊しますか。",logoutTip:"ログイン接続できません。ページを再読み込みしますか。",posBombTip:"畫⾯中、爆弾を置く場所を選択してください。",aimFish:"攻撃したい⿂を選択してください。",help:"ヘルプ",times:"倍",help1:"⿂ポイント説明：それぞれの⿂ポイントの數値は異なります。１つの⿂を捕獲すること により、獲得弾薬は現在使⽤中の砲臺の倍數をかける⿂ポイントの數値となります。 例えば、50倍の⿂を捕獲する場合は、10倍で撃ちまして、獲得弾薬は50X10=500となり ます。それぞれのポイントは以下のようです。",help2:"スキル使⽤説明：プレーヤーはゲーム中で以下のスキルで使⽤可能です。",help2Super:"スーパースキル：受動スキル、プレーヤーが捕獲した⿂におけて、⼀定の數量に達 すると、弾薬の威⼒が増加し、攻撃スピードが加速となります。",help2Freeze:"冷凍スキル：主動スキル、特定な⿂を攻撃することによって獲得し、もしくは購⼊ もできます。使⽤後、畫⾯內の多數な⿂を凍結されます。",help2Lock:"ロックスキル：主動スキル、特定な⿂を攻撃することによって獲得し、もしくは購 ⼊もできます。使⽤後、畫⾯內の⾼の⿂ポイントに⾃動的に的中し、プレーヤー が⾃由選択もできます。",help2Bomb:"爆弾：主動スキル、購⼊で獲得できます。使⽤後、畫⾯內のランダムで１つ群の⿂ に攻撃します。",help3:"選択可能の倍數は以下のようです。",help31:"1,2,3,4,5,10,15,20",help4:"その他説明：",help41:"交換：プレーヤーは、特定な⿂を捕獲することにより、⿂券が獲得できます。その ⼀定の數量の⿂券を収集すると、景品と交換可能です",help42:"抽選：プレーヤーは、10匹100ポイント以上の⿂を捕獲すると、1回の抽選に參加可 能です。景品は弾薬と通貨を含みます。",help43:"購⼊：プレーヤーは、ホームで購⼊ボタンをクリックし、弾薬を購⼊できます。ま た、ゲーム中で砲臺ボタンをクリックし、砲臺スタイルと弾薬特効を購⼊できま す。スキルの數は0の時、スキルボタンを押して購⼊できます。",tourSkip:"Exit",tourStart:"Start",tour1:"ボタンで通貨タイプを選択",tour2:"通貨タイプが異なることにより、ゲーム <br/> ルームが切替されます。",tour3:"體験ルームプレーはゲームの體験のみ可能です。本番プレールームで仮想通貨が獲得 可能です。",tour4:"本番ゲームルームに⼊場の際、システムは⾃動的に仮想通貨を弾薬に交換されます。 また、お客様は退場の際、殘りの弾薬が⾃動的に仮想通貨に交換されます。ご安⼼くだ さい。",tour5:"砲臺をコントロールし、クリックかつ⿂<br/>の捕獲、もっと弾薬が獲得可能",tour6:"スキルの使⽤で、もっと⼤きくて多い⿂を<br/>捕獲可能です。",noData:"データなし",NetError:"異常なネットワーク、再接続",NetComeBack:"お帰りなさい！",OtherLogin:"サイト外でログオフし、更新して再試行してください",InputEmptyWarn:"入力した値は空にできません...！",Delete:"削除する",buyItemTip:"費用$1$2、購入$3$4を確認します。",buySkinTip:"确认花费$1个$2, 购买$3.",beyondBulletNum:"費用$1$2、購入$3を確認します。",itemListTitle:"アイテムの在庫",itemList1:"道具",itemList2:"合計購入金額",itemList3:"ゲームギフトの合計",search:"問い合わせ",gameNo:"セッション",remainingNum:"残高",gameListTitle:"ゲーム記録",cost:"消費する",prize:"収益",delayUpdateAccount:"チェーンのブロック確認により、資金の変更が遅れる場合があります。しばらくお待ちください",enterGameCostTip:"システムで{bringAmount}{currency}を{bulletNum}弾に変換します。\n部屋を出る時、残りの弾丸を{currency}に交換されます",NoMoneyAmount:"現在の残高が不足しており、参加には最低{minAmount}{currency}を保有する必要があります。入金または他のトークンに切り替えてください。",platformDiffCurrencyEnterGameErr:"まだ終わっていないゲームがありますので、システムは自動的にリセットして差し上げます。",arenaHelpRule11:"a) 捕魚大獎賽，以活動形式指定時間段開放，每個時段結束前{deadlineTime}分鍾停止報名",arenaHelpRule12:"b)大獎賽每次開放均可獲贈{freeNum}次免費挑戰的次數（遊客玩家和正式賬號獲得一次），免費挑戰次數不纍積",arenaHelpRule13:"c) 重複挑戰需要報名消耗貨幣，消耗的貨幣數量每次都一樣",arenaHelpRule21:"a) 報名成功後，每個玩家可以射擊{initBulletNum}發子彈，擊殺魚後可以獲得魚倍率對應的積分，1倍=1積分。",arenaHelpRule22:"b) 大獎賽中炮臺倍率越高，擊殺魚的概率也相應增加",arenaHelpRule23:"c) 玩家開炮後，若剩餘子彈為500倍數，觸發懸賞任務，完成可獲得額外積分獎勵",arenaHelpRule24:"d) 所有子彈打完後，本次挑戰結束。最終積分可以參與排名(註意:子彈未打完的成績不參與排名)",arenaHelpRule31:"a)每日取單次最高積分進入排名(至少需要{rankingScoreDown}分才可參與排名)",arenaHelpRule32:"b)積分相同的情況下，先達到的玩家排名在前",arenaHelpRule33:"c)日排行獎勵發放時間為每日23:35，最終排名以23:30之後為準。( 註意: 23:00之前的排名獎勵僅作預覽，不是實際發放獎勵)",arenaHelpRule34:"d) 總冠軍獎勵發放時間為每次活動結束後第二天0:05，單次積分最高的玩家為總冠軍，獲得額外的大獎",arenaHelpRule35:"e) 比賽的獎勵直接發放到賬號上，玩家可以在大廳界麵查看大獎賽獎勵發放記錄",arenaHelpRule41:"a) 炮臺加成 使用不同炮臺皮膚，比賽中命中率加成不一樣，不纍加命中",arenaHelpRule42:"炮臺皮膚      命中加成 \n 皮膚1           {1001}%\n 皮膚2           {1002}%\n 皮膚3           {1003}%\n 皮膚4           {1004}%\n 皮膚5           {1005}%\n"},p.ServerErrCode.NoMoney,"現在の通貨残高が不足しています。再チャージするか、他の通貨に切り替えてください。"),v(a,"noMoneyConfirm","チャージ"),v(a,p.ServerErrCode.ReExchange,"弾丸が不十分な場合は、引き換えてください！"),v(a,p.ServerErrCode.TrialTimeGame,"体験期間が過ぎました。会場でご利用ください。"),v(a,p.ServerErrCode.TrialNotBullet,"弾丸が足りません。再入力するか、公式会場でプレイしてください。"),v(a,p.ServerErrCode.NetError,"ネットワークが異常です。更新してもう一度お試しください。"),v(a,p.ServerErrCode.TrialClose,"デモモードオフ"),v(a,p.ServerErrCode.OverLimit,"消費金額が上限に達しました"),v(a,p.ServerErrCode.ToQuick,"操作が多すぎる"),a)),v(c,f.Zh,(v(u={deposit:"充值",withdrawal:"提币",balance:"余额",bullet:"子弹",automaticFiring:"自动开炮",buyBullet:"购买子弹",casualMode:"休闲模式",tournamentMode:"竞技模式",trialField:"试玩场",realField:"正式场",stayTuned:"敬请期待",quickStart:"快速开始",NumBullet:"剩余子弹",guest:"游客",volumeSetting:"音量设置",music:"音乐",soundEffects:"音效",tips:"提示",cancel:"取消",confirm:"确定",luckyDraw:"抽奖",redemption:"兑换",buySuccess:"购买成功",luckyDrawTip2:"恭喜你获得",Num:"剩余",shop:"商店",skin:"皮肤",lock:"锁定",freeze:"冰冻",bomb:"炸弹",voucher:"奖券",use:"使用",inUse:"使用中",item:"道具",youAreHere:"您在此处",purchase:"购买",buyBulletCost:"需要花费",leaveTip:"确定要离开游戏吗?",reEnter:"你当前在游戏中是否重新进入?",kickedTip:"你被踢出房间, 刷新重新进入?",buyBulletTip:"子弹数目不够, 是否购买?",buySkillTip:"你还没有当前技能, 是否购买!",logoutTip:"登陆断开, 是否刷新页面!",posBombTip:"请选择屏幕中的位置放置炸弹",aimFish:"请选中你要攻击的鱼",help:"帮助",times:"倍",help1:"1.\t鱼分说明：不同的鱼有不同的分值，捕获一条鱼得的子弹数等于当前使用的炮台倍数乘以这条鱼的分数。比如捕获一条50倍的鱼，用的10倍的炮，获得的子弹数量就是50X10=500。 不同鱼的鱼分如下",help2:"2.\t技能使用说明：玩家在游戏过程中可以使用下列技能。",help2Super:"超级技能：被动技能，玩家捕获一定数量的鱼后自动触发，子弹威力加强、射速加倍。",help2Freeze:"冰冻技能：主动技能，可以通过打死某些鱼获得，也可购买，使用后冻住 当前屏幕内的大部分鱼。",help2Lock:"锁定技能：主动技能，可以通过打死某些鱼获得，也可购买，使用后会 自动锁定当前屏幕内鱼分最高的那条鱼，玩家也可以自己点击选择某一条鱼。",help2Bomb:"炸弹：主动技能，购买获得，使用后会随机炸死屏幕内的一群鱼。",help3:"3. 可选的炮倍数如下：",help31:"1,2,3,4,5,10,15,20",help4:"4. 其他说明",help41:"兑换：玩家捕获某些鱼时，会得到一些鱼券，收集一定数量的鱼券可以兑换奖品。",help42:"抽奖：玩家捕获10条鱼分100以上的鱼后，可以抽一次，奖品包括子弹和货币。",help43:"购买：玩家可以在大厅点击购买来购买子弹，也可以在游戏内点击炮台购买炮台皮肤或子弹特效。当技能的数量是0时，可以点击此技能图标来购买技能。",tourSkip:"退出引导",tourStart:"开始游戏",tour1:"点击下拉按钮选择币种",tour2:"选择币种不同，<br/>游戏房间也会随之切换",tour3:"在试玩场您只能体验游戏，<br/>在正式场才能赢得数字货币",tour4:"进入正式场后，系统会自动将您的数字货币兑换成子弹；<br/>请放心，在您离开房间后，所有剩余子弹将会再兑换成您的数字货币",tour5:"控制您的炮台，点击并捕捉鱼群，<br/>获得更多子弹",tour6:"可以使用道具，帮助您捕获<br/>更多更大的鱼",noData:"暂无数据",NetError:"网络异常, 正在重新连接",NetComeBack:"欢迎回来!",OtherLogin:"异地登录，请刷新重试",InputEmptyWarn:"输入的值不能为空...!",Delete:"删除",buyItemTip:"确认花费$1个$2, 购买$3个$4.",buySkinTip:"确认花费$1个$2, 购买$3.",beyondBulletNum:"超出当前的子弹数目",itemListTitle:"道具存量",itemList1:"道具类型",itemList2:"购买数量总和",itemList3:"游戏赠送总和",search:"查询",gameNo:"场次",remainingNum:"剩余数量",gameListTitle:"游戏记录",cost:"消耗",prize:"收益",delayUpdateAccount:"您的余额变动因链上区块确认可能有所延迟，请耐心等待。",enterGameCostTip:"系統將{bringAmount}{currency}兌換成{bulletNum}子彈，\n離開房間時，會將剩餘子彈兌換成您的{currency}。",NoMoneyAmount:"当前货币余额不足，最小需携带{minAmount}{currency}才可进场，请去充值或者切换其他货币。",platformDiffCurrencyEnterGameErr:"您还有未完成的游戏，系统自动帮您复盘。",arenaHelpRule11:"a) 捕鱼大奖赛，以活动形式指定时间段开放，每个时段结束前{deadlineTime}分钟停止报名",arenaHelpRule12:"b)大奖赛每次开放均可获赠{freeNum}次免费挑战的次数（游客玩家和正式账号获得一次），免费挑战次数不累积",arenaHelpRule13:"c) 重复挑战需要报名消耗货币，消耗的货币数量每次都一样",arenaHelpRule21:"a) 报名成功后，每个玩家可以射击{initBulletNum}发子弹，击杀鱼后可以获得鱼倍率对应的积分，1倍=1积分。",arenaHelpRule22:"b) 大奖赛中炮台倍率越高，击杀鱼的概率也相应增加",arenaHelpRule23:"c) 玩家开炮后，若剩余子弹为500倍数，触发悬赏任务，完成可获得额外积分奖励",arenaHelpRule24:"d) 所有子弹打完后，本次挑战结束。最终积分可以参与排名(注意:子弹未打完的成绩不参与排名)",arenaHelpRule31:"a)每日取单次最高积分进入排名(至少需要{rankingScoreDown}分才可参与排名)",arenaHelpRule32:"b)积分相同的情况下，先达到的玩家排名在前",arenaHelpRule33:"c)日排行奖励发放时间为每日23:35，最终排名以23:30之后为准。( 注意: 23:00之前的排名奖励仅作预览，不是实际发放奖励)",arenaHelpRule34:"d) 总冠军奖励发放时间为每次活动结束后第二天0:05，单次积分最高的玩家为总冠军，获得额外的大奖",arenaHelpRule35:"e) 比赛的奖励直接发放到账号上，玩家可以在大厅界面查看大奖赛奖励发放记录",arenaHelpRule41:"a) 炮台加成 使用不同炮台皮肤，比赛中命中率加成不一样，不累加命中",arenaHelpRule42:"炮台皮肤      命中加成 \n 皮肤1           {gun1001}%\n 皮肤2           {gun1002}%\n 皮肤3           {gun1003}%\n 皮肤4           {gun1004}%\n 皮肤5           {gun1005}%\n"},p.ServerErrCode.NoMoney,"当前货币余额不足，请去充值或切换其他货币."),v(u,"noMoneyConfirm","去充值"),v(u,p.ServerErrCode.ReExchange,"子弹不足是否继续兑换!"),v(u,p.ServerErrCode.TrialTimeGame,"已超出试玩时长，请去正式场进行游戏"),v(u,p.ServerErrCode.TrialNotBullet,"子弹不足，请重新进入或去正式场进行游戏"),v(u,p.ServerErrCode.NetError,"网络异常, 请刷新重试"),v(u,p.ServerErrCode.TrialClose,"试玩模式关闭"),v(u,p.ServerErrCode.OverLimit,"消费金额已达上限"),v(u,p.ServerErrCode.ToQuick,"操作太频繁"),u)),v(c,f.Zh_HK,(v(l={deposit:"充值",withdrawal:"提幣",balance:"餘額",bullet:"子彈",automaticFiring:"自動開炮",buyBullet:"購買子彈",casualMode:"休閒模式",tournamentMode:"競技模式",trialField:"試玩場",realField:"正式場",stayTuned:"敬請期待",quickStart:"快速開始",NumBullet:"剩餘子彈",guest:"遊客",volumeSetting:"音量設定",music:"音樂",soundEffects:"音效",tips:"提示",cancel:"取消",confirm:"確定",luckyDraw:"抽獎",redemption:"兌換",buySuccess:"購買成功",luckyDrawTip2:"恭喜你獲得",Num:"弾薬",shop:"商店",skin:"皮膚",lock:"鎖定",freeze:"冰凍",bomb:"炸彈",voucher:"獎券",use:"使用",inUse:"使用中",item:"道具",youAreHere:"您在此處",purchase:"購買",buyBulletCost:"需要花費",leaveTip:"確定要離開遊戲嗎?",reEnter:"你當前在遊戲中是否重新進入?",kickedTip:"你被踢出房間, 刷新重新進入?",buyBulletTip:"子彈數目不夠, 是否購買?",buySkillTip:"你還冇有當前技能, 是否購買!",logoutTip:"登陸斷開, 收否刷新頁麵!",posBombTip:"請選擇屏幕中的位置放置炸彈",aimFish:"請選中你要攻擊的魚",help:"幫助",times:"倍",help1:"1.\t魚分說明：不同的魚有不同的分值，捕獲一條魚得的子彈數等於當前使用的炮臺倍數乘以這條魚的分數。比如捕獲一條50倍的魚，用的10倍的炮，獲得的子彈數量就是50X10=500。 不同魚的魚分如下",help2:"2.\t技能使用說明：玩家在遊戲過程中可以使用下列技能。",help2Super:"超級技能：被動技能，玩家捕獲一定數量的魚後自動觸發，子彈威力加強、射速加倍。",help2Freeze:"冰凍技能：主動技能，可以通過打死某些魚獲得，也可購買，使用後凍住 當前屏幕內的大部分魚。",help2Lock:"鎖定技能：主動技能，可以通過打死某些魚獲得，也可購買，使用後會 自動鎖定當前屏幕內魚分最高的那條魚，玩家也可以自己點擊選擇某一條魚。",help2Bomb:"炸彈：主動技能，購買獲得，使用後會隨機炸死屏幕內的一群魚。",help3:"3. 可選的炮倍數如下：",help31:"1,2,3,4,5,10,15,20",help4:"4.\t其他說明",help41:"兌換：玩家捕獲某些魚時，會得到一些魚券，收集一定數量的魚券可以兌換獎品。",help42:"抽獎：玩家捕獲10條魚分100以上的魚後，可以抽一次，獎品包括子彈和貨幣。",help43:"購買：玩家可以在大廳點擊購買來購買子彈，也可以在遊戲內點擊炮臺購買炮臺皮膚或子彈特效。當技能的數量是0時，可以點擊此技能圖標來購買技能。",tourSkip:"退出引導",tourStart:"開始遊戲",tour1:"點擊下拉按鈕選擇幣種",tour2:"選擇幣種不同，<br/>遊戲房間也會隨之切換",tour3:"在試玩場您隻能體驗遊戲，<br/>在正式場才能贏得數字貨幣",tour4:"進入正式場後，係統會自動將您的數字貨幣兌換成子彈；請放心，在您離開房間後，所有剩餘子彈將會再兌換成您的數字貨幣",tour5:"控製您的炮臺，點擊並捕捉魚群，<br/>獲得更多子彈",tour6:"可以使用道具，幫助您捕獲<br/>更多更大的魚",noData:"暫無數據",NetError:"網絡異常, 正在重新連接",NetComeBack:"歡迎回來!",OtherLogin:"異地登錄，請刷新重試",InputEmptyWarn:"輸入的值不能為空...!",Delete:"刪除",buyItemTip:"確認花費$1個$2, 購買$3個$4.",buySkinTip:"確認花費$1個$2, 購買$3.",beyondBulletNum:"超出當前的子彈數目",itemListTitle:"道具存量",itemList1:"道具類型",itemList2:"購買數量總和",itemList3:"遊戲贈送總和",search:"查詢",gameNo:"場次",remainingNum:"剩餘數量",gameListTitle:"遊戲記錄",cost:"消耗",prize:"收益",delayUpdateAccount:"您的餘額變動因鏈上區塊確認可能有所延遲，請耐心等待。",enterGameCostTip:"系統將{bringAmount}{currency}兌換成{bulletNum}子彈，\n離開房間時，會將剩餘子彈兌換成您的{currency}。",NoMoneyAmount:"當前貨幣餘額不足，最小需攜帶{minAmount}{currency}才可進場，請去充值或者切換其他貨幣。",platformDiffCurrencyEnterGameErr:"您還有未完成的遊戲，係統自動幫您複盤。",arenaHelpRule11:"a) 捕魚大獎賽，以活動形式指定時間段開放，每個時段結束前{deadlineTime}分鍾停止報名",arenaHelpRule12:"b)大獎賽每次開放均可獲贈{freeNum}次免費挑戰的次數（遊客玩家和正式賬號獲得一次），免費挑戰次數不纍積",arenaHelpRule13:"c) 重複挑戰需要報名消耗貨幣，消耗的貨幣數量每次都一樣",arenaHelpRule21:"a) 報名成功後，每個玩家可以射擊{initBulletNum}發子彈，擊殺魚後可以獲得魚倍率對應的積分，1倍=1積分。",arenaHelpRule22:"b) 大獎賽中炮臺倍率越高，擊殺魚的概率也相應增加",arenaHelpRule23:"c) 玩家開炮後，若剩餘子彈為500倍數，觸發懸賞任務，完成可獲得額外積分獎勵",arenaHelpRule24:"d) 所有子彈打完後，本次挑戰結束。最終積分可以參與排名(註意:子彈未打完的成績不參與排名)",arenaHelpRule31:"a)每日取單次最高積分進入排名(至少需要{rankingScoreDown}分才可參與排名)",arenaHelpRule32:"b)積分相同的情況下，先達到的玩家排名在前",arenaHelpRule33:"c)日排行獎勵發放時間為每日23:35，最終排名以23:30之後為準。( 註意: 23:00之前的排名獎勵僅作預覽，不是實際發放獎勵)",arenaHelpRule34:"d) 總冠軍獎勵發放時間為每次活動結束後第二天0:05，單次積分最高的玩家為總冠軍，獲得額外的大獎",arenaHelpRule35:"e) 比賽的獎勵直接發放到賬號上，玩家可以在大廳界麵查看大獎賽獎勵發放記錄",arenaHelpRule41:"a) 炮臺加成 使用不同炮臺皮膚，比賽中命中率加成不一樣，不纍加命中",arenaHelpRule42:"炮臺皮膚      命中加成 \n 皮膚1           {gun1001}%\n 皮膚2           {gun1002}%\n 皮膚3           {gun1003}%\n 皮膚4           {gun1004}%\n 皮膚5           {gun1005}%\n"},p.ServerErrCode.NoMoney,"當前貨幣餘額不足，請去充值或切換其他貨幣."),v(l,"noMoneyConfirm","去充值"),v(l,p.ServerErrCode.ReExchange,"子彈不足是否繼續兌換!"),v(l,p.ServerErrCode.TrialTimeGame,"已超出試玩時長，請去正式場進行遊戲"),v(l,p.ServerErrCode.TrialNotBullet,"子彈不足，請重新進入或去正式場進行遊戲"),v(l,p.ServerErrCode.NetError,"網絡異常, 請刷新重試"),v(l,p.ServerErrCode.TrialClose,"試玩模式關閉"),v(l,p.ServerErrCode.OverLimit,"消費金額已達上限"),v(l,p.ServerErrCode.ToQuick,"操作太頻繁"),l)),c);t.International=d;var y=d;t.InternationalTip=y;var m=(v(s={},f.Kor,{}),v(s,f.Jp,{}),v(s,f.Zh,{}),v(s,f.Zh_HK,{}),v(s,f.En,{}),s);t.InternationalTipOther=m},47291:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.PATH=void 0;t.PATH={1:[[1465,757,1583,400,1304,143,1008,-6]],2:[[790,753,1404,321,444,475,1046,-6]],3:[[1384,755,1412,380,578,547,774,-7]],4:[[473,754,157,324,884,-7]],5:[[955,758,1158,474,1561,476,915,-8]],6:[[1466,753,1397,532,372,486,755,-6]],7:[[381,759,587,465,1083,260],[1083,260,1242,172,1014,-4]],8:[[1087,756,860,636,747,377],[747,377,682,209,684,100,810,-6]],9:[[100,753,106,214,651,508],[651,508,1094,697,1033,111,988,-8]],10:[[1831,754,1765,593,1280,509],[1280,509,1002,478,970,99,943,-8]],11:[[1686,-5,1753,284,1231,415],[1231,415,937,484,494,521,502,759]],12:[[1550,-8,1344,285,848,491],[848,491,689,579,917,754]],13:[[584,-4,389,477,690,546],[690,546,991,616,1011,753]],14:[[1384,-2,1464,178,1087,511],[1087,511,988,600,1018,751]],15:[[547,-4,519,371,1353,204,1157,757]],16:[[976,-8,773,277,370,274,1015,759]],17:[[465,-2,534,219,1559,265,1176,756]],18:[[1531,755,1726,274,1425,204],[1425,204,1124,135,1104,-3]],19:[[1810,-2,1804,536,1260,242],[1260,242,817,54,878,639,923,759]],20:[[100,-3,166,158,651,242],[651,242,929,273,961,652,988,758]],21:[[1934,697,1883,265,1390,332],[1390,332,593,415,97,-4]],22:[[1932,486,1084,905,793,600],[793,600,466,235,1079,173,1028,-7]],23:[[1932,375,1586,585,1157,488],[1157,488,799,408,617,172,575,-8]],24:[[1932,537,1435,746,1005,650],[1005,650,648,570,465,172,424,-8]],25:[[1932,133,1802,132,1528,550],[1528,550,1320,858,830,240,594,-10]],26:[[1932,610,1802,611,1528,193],[1528,193,1320,-115,830,503,594,753]],27:[[1933,203,1615,677,1229,395],[1229,395,903,181,485,252,274,751]],28:[[1934,697,1710,448,1390,332],[1390,332,969,206,360,754]],29:[[-12,261,837,-158,1127,148],[1127,148,1455,512,841,574,892,754]],30:[[-12,372,334,163,764,259],[764,259,1121,339,1304,575,1345,755]],31:[[-12,210,486,1,915,97],[915,97,1273,177,1455,575,1497,755]],32:[[-12,614,118,615,393,197],[393,197,600,-110,1090,507,1326,757]],33:[[-12,137,118,136,393,554],[393,554,600,862,1090,244,1326,-6]],34:[[-13,544,306,70,691,352],[691,352,1017,566,1436,495,1647,-3]],35:[[-13,50,211,299,531,415],[531,415,952,541,1561,-7]],36:[[-11,359,162,129,601,122],[601,122,1144,120,1932,429]],37:[[-9,306,289,715,650,706],[650,706,1010,696,1930,36]],38:[[-13,285,725,697,1178,713],[1178,713,1630,729,1929,522]],39:[[-11,418,348,181,590,176],[590,176,832,172,944,333,1267,389],[1267,389,1496,404,1628,400,1933,242]],40:[[-10,291,1051,295,1410,254],[1410,254,1770,213,1930,73]],41:[[230,753,147,389,282,197],[282,197,314,151,366,118,468,113],[468,113,1024,82,1680,140,1931,235]],42:[[-12,31,967,636,1440,495],[1440,495,1855,338,1932,160]],43:[[-12,370,322,598,827,598],[827,598,1331,598,1263,388,1931,440]],44:[[-9,494,998,805,1350,670],[1350,670,1755,471,1929,343]],45:[[-12,165,749,554,1225,428],[1225,428,1627,325,1932,27]],46:[[-10,658,719,311,1028,287],[1028,287,1479,231,1931,383]],47:[[-11,608,975,727,1328,613],[1328,613,1681,498,1930,-3]],48:[[-13,204,867,12,1257,9],[1257,9,1646,6,1766,132,1933,135]],49:[[-11,38,1182,19,1431,104],[1431,104,1680,189,1932,458]],50:[[-12,494,1140,869,1701,524],[1701,524,1871,415,1930,318]],51:[[-12,165,476,55,927,98],[927,98,1377,140,1566,417,1695,416],[1695,416,1823,415,1908,320,1933,304]],52:[[-8,705,1291,19,1621,52],[1621,52,1676,52,1720,75,1746,94],[1746,94,1770,112,1835,151,1934,284]],53:[[169,-18,166,315,497,360],[497,360,828,405,1930,291]],54:[[-9,517,525,164,1046,167],[1046,167,1567,169,1932,256]],55:[[-11,-6,634,776,1107,704],[1107,704,1404,660,1929,326]],56:[[-9,333,80,586,340,602],[340,602,601,618,1920,493,1931,493]],57:[[-12,263,98,104,203,61],[203,61,391,-23,1872,694,1929,749]],58:[[-11,463,200,610,566,525],[566,525,854,456,1285,112,1929,126]],59:[[-8,287,641,28,838,125],[838,125,1035,223,944,693,1932,734]],60:[[-13,752,333,510,632,327],[632,327,1143,47,1201,508,1624,504],[1624,504,1821,486,1918,352,1929,349]],61:[[-12,340,160,194,392,170],[392,170,625,145,854,530,999,606],[999,606,1407,849,1768,318,1932,164]],62:[[-10,621,692,896,734,544],[734,544,781,-24,1054,281,1420,238],[1420,238,1792,179,1933,18]],63:[[-12,693,228,404,412,384],[412,384,597,364,729,551,839,583],[839,583,1140,702,1200,303,1933,305]],64:[[103,756,22,202,515,244],[515,244,715,242,931,527,1188,519],[1188,519,1719,500,1933,678]],65:[[-8,128,379,27,570,516],[570,516,733,957,1075,143,1365,131],[1365,131,1590,109,1763,482,1933,511]],66:[[-13,400,550,37,546,339],[546,339,563,1015,1689,686,1305,323],[1305,323,984,52,1744,-8,1934,18]],67:[[-12,5,449,148,516,344],[516,344,642,717,1154,146,1931,250]],68:[[35,-7,66,570,528,665],[528,665,887,734,868,245,1033,147],[1033,147,1315,-37,1783,218,1931,110]],69:[[-11,629,647,348,908,385],[908,385,1170,422,1191,691,1416,657],[1416,657,1641,622,1906,370,1933,345]],70:[[50,-7,255,726,792,138,1942,588]],71:[[-10,97,220,584,676,563],[676,563,934,546,1080,427,1270,380],[1270,380,1672,280,1727,416,1931,324]],72:[[1934,409,1762,555,1530,579],[1530,579,1297,604,1068,219,923,143],[923,143,515,-100,154,431,-10,585]],73:[[1932,128,1230,-147,1188,205],[1188,205,1141,773,868,468,502,511],[502,511,130,570,-11,731]],74:[[1934,56,1694,345,1510,365],[1510,365,1325,385,1193,198,1083,166],[1083,166,782,47,722,446,-11,444]],75:[[1819,-7,1900,546,1407,505],[1407,505,1207,507,991,222,734,230],[734,230,203,249,-11,71]],76:[[1930,621,1543,722,1352,233],[1352,233,1189,-208,847,606,557,618],[557,618,332,640,159,267,-11,238]],77:[[1935,349,1372,712,1376,410],[1376,410,1359,-266,233,63,617,426],[617,426,938,697,178,757,-12,731]],78:[[1933,744,1473,601,1406,405],[1406,405,1280,32,768,603,-9,499]],79:[[1887,755,1856,179,1394,84],[1394,84,1035,15,1054,504,889,602],[889,602,607,785,139,531,-9,639]],80:[[1872,756,1667,23,1130,611,-20,161]],81:[[-9,5,394,792,2128,442,913,61],[913,61,267,-96,330,754,1085,683],[1085,683,1402,652,1447,273,1929,166]],82:[[-13,702,962,925,1964,-151,391,81],[391,81,52,123,131,754,885,683],[885,683,1203,652,1936,595,1527,-6]],83:[[1933,701,958,924,21,210,1425,61],[1425,61,2036,-5,1594,753,840,682],[840,682,522,651,309,238,642,-6]],84:[[1932,37,-164,61,-551,535,1273,686],[1273,686,2065,753,1492,-16,513,57],[513,57,101,88,260,599,374,754]],85:[[1933,378,527,963,-428,215,1228,61],[1228,61,2076,-5,1462,753,414,682],[414,682,-27,651,-65,238,398,-6]],86:[[-9,47,966,-176,3121,590,516,668],[516,668,64,679,135,96,890,167],[890,167,1900,328,1329,510,996,755]],87:[[-13,702,962,925,3128,25,340,233],[340,233,-518,356,1093,909,1052,521],[1052,521,848,-205,1556,230,1588,-6]],88:[[-9,672,1124,776,1903,180,499,31],[499,31,-111,-35,542,985,1085,653],[1085,653,1379,438,309,192,1929,135]],89:[[-13,398,1442,689,1990,-4,340,130],[340,130,3,165,518,973,724,599],[724,599,1158,-351,1277,722,1931,670]],90:[[-9,369,966,591,2128,442,913,61],[913,61,267,-96,88,754,842,683],[842,683,1227,621,803,37,1929,166]],91:[[1929,744,1527,-43,-207,307,1007,688],[1007,688,1654,845,1590,-5,836,66],[836,66,519,97,473,476,-8,583]],92:[[1933,47,959,-176,-44,900,1529,667],[1529,667,1868,626,1789,-5,1035,66],[1035,66,718,97,-15,154,393,755]],93:[[-13,48,962,-175,1900,539,495,688],[495,688,-115,754,327,-4,1081,67],[1081,67,1398,98,1611,511,1278,755]],94:[[-12,712,2084,687,2471,214,648,63],[648,63,-145,-4,429,764,1408,692],[1408,692,1820,660,1661,150,1546,-5]],95:[[-13,371,1394,-214,2348,533,693,688],[693,688,-155,754,458,-4,1507,67],[1507,67,1947,98,1985,510,1523,755]],96:[[1929,702,955,924,-1200,159,1404,81],[1404,81,1857,70,1785,653,1031,581],[1031,581,21,421,592,238,925,-6]],97:[[1933,47,959,-176,-1207,724,1580,516],[1580,516,2439,393,828,-160,868,228],[868,228,1072,954,365,519,333,755]],98:[[1929,77,797,-27,17,569,1421,718],[1421,718,2032,784,1378,-236,836,96],[836,96,542,311,1611,557,-8,613]],99:[[1933,351,478,60,-70,752,1580,619],[1580,619,1917,584,1402,-224,1197,150],[1197,150,763,1099,644,27,-11,79]],100:[[1929,380,955,158,-207,307,1007,688],[1007,688,1654,845,1833,-5,1078,66],[1078,66,694,128,1117,712,-8,583]]}},21560:function(e,t,n){"use strict";var r=n(3649),o=n(66419),i=n(65420),a=n(19996),u=n(41511);n(63978)(t,"__esModule",{value:!0}),t.res=t.font_list=void 0;var l=v(n(77766)),c=v(n(81643)),s=n(85096),f=n(64467),h=n(14082),p=n(53531);function v(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return function(e){if(u(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==i&&a(e)||e["@@iterator"];if(null==n)return;var r,o,u=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(u.push(r.value),!t||u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw o}}return u}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){var n=void 0!==i&&a(e)||e["@@iterator"];if(!n){if(u(e)||(n=m(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,l=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw l}}}}function m(e,t){var n;if(e){if("string"==typeof e)return g(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?o(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _={font:[],audio:[],common:[],game:[{url:"res/image/game.png",type:s.Loader.IMAGE}],gameTutorial:[{url:"res/image/game.png",type:s.Loader.IMAGE}]};t.res=_;var b=["1","pos_tip","coin","award_light"];for(var w in p.SPRITE){var k=p.SPRITE[w];if("gun"!==w)for(var S in k){var x=k[S];if("DragonBone"===x.type){var C,E,I=x.path,A=[{url:"".concat(I,".sk"),type:s.Loader.BUFFER},{url:"".concat(I,".png"),type:s.Loader.IMAGE}];if(-1!==(0,c.default)(b).call(b,S))(E=_.gameTutorial).push.apply(E,A);(C=_.game).push.apply(C,A)}}else for(var M in k)for(var T=1;T<=3;T++){var R,B=y((0,f.getGunSkinMap)("".concat(M),"".concat(T)));try{for(B.s();!(R=B.n()).done;){var L,P,O,D=d(R.value,2),N=D[0],U=D[1],G=(0,l.default)(L="".concat(N)).call(L,U),j=[{url:"ani/gun/".concat(G,".sk"),type:s.Loader.BUFFER},{url:"ani/gun/".concat(G,".png"),type:s.Loader.IMAGE}];if((P=_.game).push.apply(P,j),-1!==(0,c.default)(b).call(b,M))(O=_.gameTutorial).push.apply(O,j)}}catch(e){B.e(e)}finally{B.f()}}}var F=["font/score_num","font/numYellow40","font/lottery","font/numWhite40","font/alphabet"];t.font_list=F;for(var H=0,z=F;H<z.length;H++){var V=z[H];_.font.push({url:"".concat(V,".fnt"),type:s.Loader.XML},{url:"".concat(V,".png"),type:s.Loader.IMAGE})}for(var Y in h.AudioRes){var $=h.AudioRes[Y];_.audio.push({url:$,type:s.Loader.SOUND})}var K=["pop/alert/alert.json","pop/alert/topTip.json","pop/alert/tip.json","pop/alert/alert.json","image/pop/alert/alert_bg_01.png","image/pop/alert/alert_bg_02.png","image/pop/alert/btn_close.png","image/pop/alert/alert_con_bg.png","image/pop/alert/btn_cancel.png","image/pop/alert/btn_confirm.png"];for(var W in K){var X=K[W];_.common.push(X)}},26744:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.ServerName=t.ServerEvent=t.ServerErrCode=t.OK_CODE=t.ArenaEvent=t.ARENA_OK_CODE=void 0;var r,o=(r=n(51942))&&r.__esModule?r:{default:r};t.ServerName={Game:"game",Hall:"hall",ArenaHall:"arena_hall"};t.OK_CODE=200;var i;t.ARENA_OK_CODE=0,t.ServerErrCode=i,function(e){e[e.TokenExpire=1002]="TokenExpire",e[e.OtherLogin=1003]="OtherLogin",e[e.AlreadyInRoom=109]="AlreadyInRoom",e[e.NoMoney=101]="NoMoney",e[e.ReExchange=112]="ReExchange",e[e.NeedLogin=114]="NeedLogin",e[e.TrialTimeGame=117]="TrialTimeGame",e[e.OverLimit=121]="OverLimit",e[e.ToQuick=122]="ToQuick",e[e.TrialNotBullet=116]="TrialNotBullet",e[e.TrialTimeHall=507]="TrialTimeHall",e[e.TrialClose=509]="TrialClose",e[e.EnterGameError=505]="EnterGameError",e[e.NetError=511]="NetError",e[e.Maintain=601]="Maintain"}(i||(t.ServerErrCode=i={}));var a={TableIn:"tableIn",TableOut:"tableOut",EnterGame:"enterGame",Shoot:"shoot",Hit:"hit",RobotHit:"robotHit",ChangeTurret:"changeTurret",AddFish:"addFish",FishShoalWarn:"fishShoalWarn",FishShoal:"fishShoal",UseLock:"useLock",LockFish:"lockFish",UseBomb:"useBomb",FishBomb:"fishBomb",UseFreeze:"useFreeze",FreezeOver:"freezeOver",PowerUp:"powerUp",autoShoot:"autoShoot",SetRobotReport:"setRobotReport"},u=(0,o.default)((0,o.default)({RoomIn:"roomIn",RoomOut:"roomOut",CheckReplay:"checkReplay",ExchangeBullet:"exchangeBullet",GetItemList:"getItemList",GetBulletList:"getBulletList",GetRecentBullet:"getRecentBullet"},a),{ErrCode:"conn::error",UserAccount:"userAccount",GetDomain:"getDomain",Lottery:"lottery",LotteryList:"lotteryList",ExchangeList:"exchangeList",TicketExchange:"ticketExchange",NeedEmitUser:"needEmitUser",ShopList:"shopList",UseSkin:"useSkin",Buy:"buy",GetGuestToken:"getRequestId",GetUserInfo:"getUserInfo"});t.ServerEvent=u;var l=(0,o.default)({Guess:"guest",ArenaStatus:"arenaStatus",CompetitionInfo:"competitionInfo",GetDayRanking:"getDayRanking",GetHallOfFame:"getHallOfFame",MatchChampionList:"matchChampionList",GetRuleData:"getRuleData",SignUp:"signUp",GameSettle:"gameSettle",TriggerTask:"triggerTask",TaskRefresh:"taskRefresh",TaskFinish:"taskFinish",ShopList:"shopList",BuyGoods:"buyGoods",GiftList:"giftList",BuyGift:"buyGift"},a);t.ArenaEvent=l},70430:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.SHAPE=void 0;t.SHAPE={bullet:{shape_list:[{type:"Circle",radius:20}]},net:{shape_list:[{type:"Circle",radius:67}]},fish:{1:{shape_list:[{type:"Circle",radius:25}]},2:{shape_list:[{type:"Box",width:30,height:60,position:{x:0,y:-15}}]},3:{shape_list:[{type:"Circle",radius:30}]},4:{shape_list:[{type:"Circle",radius:45}]},5:{shape_list:[{type:"Box",width:50,height:100,position:{x:0,y:-50}}]},6:{shape_list:[{type:"Circle",radius:25}]},7:{shape_list:[{type:"Circle",radius:30,position:{x:-10,y:0}}]},8:{shape_list:[{type:"Box",width:40,height:80,position:{x:0,y:0}},{type:"Box",width:100,height:40,position:{x:0,y:0}}]},9:{shape_list:[{type:"Circle",radius:59}]},10:{shape_list:[{type:"Box",width:40,height:100},{type:"Circle",radius:20,position:{x:-50,y:-40}},{type:"Circle",radius:20,position:{x:55,y:-45}}]},11:{shape_list:[{type:"Box",width:60,height:50,position:{x:0,y:30}},{type:"Circle",radius:40,position:{x:0,y:-35}}]},12:{shape_list:[{type:"Box",width:70,height:150}]},13:{shape_list:[{type:"Box",width:70,height:220,position:{x:0,y:25}},{type:"Box",width:90,height:30,position:{x:0,y:160}}]},14:{shape_list:[{type:"Box",width:50,height:230,position:{x:0,y:30}},{type:"Box",width:160,height:30,position:{x:0,y:-100}}]},15:{shape_list:[{type:"Box",width:110,height:300,position:{x:0,y:-10}},{type:"Box",width:30,height:80,position:{x:0,y:180}},{type:"Box",width:100,height:30,position:{x:0,y:230}}]},16:{shape_list:[{type:"Circle",radius:80,position:{x:0,y:10}}]},17:{shape_list:[{type:"Circle",radius:70}]},18:{shape_list:[{type:"Box",width:100,height:200,position:{x:0,y:-20}}]},19:{shape_list:[{type:"Box",width:90,height:210}]},20:{shape_list:[{type:"Box",width:220,height:80}]}}}},53531:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.SPRITE=void 0;t.SPRITE={gun:{1:["base","light","gun"],2:["light","gun"],3:["light","gun"],4:["light","gun"],5:["body","gun"]},bullet:{1:{type:"DragonBone",path:"ani/gun/bullet1"},2:{type:"DragonBone",path:"ani/gun/bullet2"},3:{type:"DragonBone",path:"ani/gun/bullet3"},4:{type:"DragonBone",path:"ani/gun/bullet4"},5:{type:"DragonBone",path:"ani/gun/bullet5"}},net:{1:{type:"DragonBone",path:"ani/gun/net1"},2:{type:"DragonBone",path:"ani/gun/net2"},3:{type:"DragonBone",path:"ani/gun/net3"},4:{type:"DragonBone",path:"ani/gun/net4"},5:{type:"DragonBone",path:"ani/gun/net5"}},fish_shadow:{1:{type:"Img",path:"images/game/fish_shadow1"}},fish:{1:{type:"DragonBone",offset:[50,41,33,43],path:"ani/fish/fish1",ani_type:"horizon_turn",scale:.7},2:{type:"DragonBone",offset:[63,50,62,50],path:"ani/fish/fish2",scale:.7},3:{type:"DragonBone",offset:[47,67,38,58],path:"ani/fish/fish3",ani_type:"horizon_turn",scale:.7},4:{type:"DragonBone",offset:[82,90,86,91],path:"ani/fish/fish4",scale:.8},5:{type:"DragonBone",offset:[137,43,168,43],path:"ani/fish/fish5",scale:.7},6:{type:"DragonBone",offset:[49,47,36,44],path:"ani/fish/fish6",ani_type:"horizon_turn",scale:.7},7:{type:"DragonBone",offset:[47,56,38,55],path:"ani/fish/fish7",ani_type:"horizon_turn",scale:.7},8:{type:"DragonBone",offset:[44,79,120,80],path:"ani/fish/fish8",scale:.8},9:{type:"DragonBone",offset:[85,93,88,86],path:"ani/fish/fish9",scale:.8},10:{type:"DragonBone",offset:[84,91,87,88],path:"ani/fish/fish10",scale:.8},11:{type:"DragonBone",offset:[86,72,150,68],path:"ani/fish/fish11",ani_type:"horizon_turn",scale:.8},12:{type:"DragonBone",offset:[176,74,175,75],path:"ani/fish/fish12",scale:.8},13:{type:"DragonBone",offset:[162,103,201,102],path:"ani/fish/fish13",scale:.9},14:{type:"DragonBone",offset:[148,99,311,99],path:"ani/fish/fish14",scale:.9},15:{type:"DragonBone",offset:[229,157,290,156],path:"ani/fish/fish15",scale:.9},16:{type:"DragonBone",offset:[157,130,68,131],path:"ani/fish/fish16",ani_type:"horizon_turn",turn_ani:!0,coin_flag:!0,coin_color:"#ffd52c",scale:.9},17:{type:"DragonBone",offset:[122,92,150,92],path:"ani/fish/fish17",coin_flag:!0,coin_color:"#af5200",scale:.9},18:{type:"DragonBone",offset:[141,183,188,183],path:"ani/fish/fish18",coin_flag:!0,coin_color:"#412770",scale:.9},19:{type:"DragonBone",offset:[147,140,133,156],path:"ani/fish/fish19",ani_type:"horizon_turn",turn_ani:!0,coin_flag:!0,coin_color:"#ffde00",scale:.9},20:{type:"DragonBone",offset:[110,183,54,138],path:"ani/fish/fish20",ani_type:"horizon_turn",turn_ani:!0,coin_flag:!0,coin_color:"#7a3f04",scale:.9,coin_pos:{x:50,y:-30}},G1:{group:[{type:"2",pos:{x:20.5,y:49.5}},{type:"2",pos:{x:20,y:-51.5}}],offset:[101.5,83.5,98.5,0]},G2:{group:[{type:"1",pos:{x:3.5,y:49}},{type:"1",pos:{x:3.5,y:-71}},{type:"1",pos:{x:-76.5,y:-11}}],offset:[108.5,47.5,93.5,0]},G3:{group:[{type:"6",pos:{x:365,y:-15}},{type:"6",pos:{x:205,y:-15}},{type:"6",pos:{x:285,y:55}},{type:"6",pos:{x:285,y:-75}}],offset:[118.5,410.5,98.5,0]},G4:{group:[{type:"3",pos:{x:88,y:98.5}},{type:"3",pos:{x:77,y:-119.5}},{type:"3",pos:{x:-85,y:69.5}},{type:"3",pos:{x:-85,y:-77.5}},{type:"3",pos:{x:15,y:-5.5}}],offset:[164.5,154.5,143.5,0]}},fish_icon:{1:{type:"Img",path:"images/game/normal/icon_fish1"},2:{type:"Img",path:"images/game/normal/icon_fish2"}},other:{freezing:{type:"DragonBone",path:"ani/other/freezing"},exploding:{type:"DragonBone",path:"ani/other/exploding"},shoal_wave:{type:"DragonBone",path:"ani/other/shoal_wave"},pos_tip:{type:"DragonBone",path:"ani/other/pos_tip"},aim_big:{type:"DragonBone",path:"ani/other/aim_big"},aim:{type:"DragonBone",path:"ani/other/aim"},energy_light:{type:"DragonBone",path:"ani/other/energy_light"},award_circle:{type:"DragonBone",path:"ani/other/award_circle"},award_light:{type:"DragonBone",path:"ani/other/award_light"},coin:{type:"DragonBone",path:"ani/other/coin"},coin_light:{type:"DragonBone",path:"ani/other/coin_light"},skill_border_light:{type:"DragonBone",path:"ani/other/skill_border_light"}}}},53865:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.covertLang=u,t.init=a;var r=n(66058),o=n(89970),i=n(22426);function a(){var e=platform.getInfo();r.Config.SocketUrl=e.socket_url,r.Config.token=e.token,r.Config.isLogin=e.isLogin,r.Config.cndUrl=e.cdn,r.Config.lang=u(e.lang)}function u(e){var t=e,n=o.Lang.En;return"en"===t?n="en":"zh-Hant"===t?n="hk":"zh-Hans"===t?n="zh":"ja"===t?n="jp":"ko"===t&&(n="kor"),n}n(47638),a(),new i.AppCtrl},86424:function(e,t,n){"use strict";function r(e){return r="function"==typeof l&&"symbol"==typeof c?function(e){return typeof e}:function(e){return e&&"function"==typeof l&&e.constructor===l&&e!==l.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(63978),l=n(65420),c=n(98341);u(t,"__esModule",{value:!0}),t.AppModel=void 0;var s=_(n(85507)),f=_(n(21611)),h=n(74227),p=n(38182),v=n(4634),d=n(86408),y=n(11263),m=n(18657),g=n(87759);function _(e){return e&&e.__esModule?e:{default:e}}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),u(e,r.key,r)}}function w(e,t){return w=i||function(e,t){return e.__proto__=t,e},w(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var i=C(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return C=s.default?f.default:function(e){return e.__proto__||(0,f.default)(e)},C(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(i,e);var t,n,r,o=k(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),y.modelState.app=x(e),e.setting=new m.SettingModel,e.user_info=new g.UserInfoModel,e.arena_info=new v.ArenaModel,e.addCom(new p.EventCom),e}return t=i,(n=[{key:"init",value:function(){this.user_info.init()}},{key:"initUserInfo",value:function(e){this.user_info.initUserInfo(e),this.setting.initUserInfo(e)}},{key:"enterGame",value:function(){var e=this.game;return e&&!e.destroyed||(e=new d.GameModel),this.game=e,e}}])&&b(t.prototype,n),r&&b(t,r),i}(h.ComponentManager);t.AppModel=E},4634:function(e,t,n){"use strict";function r(e){return r="function"==typeof l&&"symbol"==typeof c?function(e){return typeof e}:function(e){return e&&"function"==typeof l&&e.constructor===l&&e!==l.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(63978),l=n(65420),c=n(98341);u(t,"__esModule",{value:!0}),t.ArenaModelEvent=t.ArenaModel=void 0;var s=v(n(85507)),f=v(n(21611)),h=n(74227),p=n(38182);function v(e){return e&&e.__esModule?e:{default:e}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),u(e,r.key,r)}}function y(e,t){return y=i||function(e,t){return e.__proto__=t,e},y(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return _=s.default?f.default:function(e){return e.__proto__||(0,f.default)(e)},_(e)}var b={UpdateInfo:"updateInfo"};t.ArenaModelEvent=b;var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(i,e);var t,n,r,o=m(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).addCom(new p.EventCom),e}return t=i,(n=[{key:"event",get:function(){return this.getCom(p.EventCom)}},{key:"updateInfo",value:function(e){var t=e.roomStatus,n=e.userStatus,r=e.startDate,o=e.userId,i=e.endDate;this.room_status=t,this.user_status=n,this.user_id=o,this.open_timezone=[r,i],this.event.emit(b.UpdateInfo,this)}}])&&d(t.prototype,n),r&&d(t,r),i}(h.ComponentManager);t.ArenaModel=w},91207:function(e,t,n){"use strict";function r(e){return r="function"==typeof a&&"symbol"==typeof h?function(e){return typeof e}:function(e){return e&&"function"==typeof a&&e.constructor===a&&e!==a.prototype?"symbol":typeof e},r(e)}var o=n(3649),i=n(66419),a=n(65420),u=n(19996),l=n(41511),c=n(52424),s=n(63978),f=n(34074),h=n(98341);s(t,"__esModule",{value:!0}),t.BodyCom=void 0;var p,v=(p=n(63978))&&p.__esModule?p:{default:p},d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={},i=s&&f;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=i?f(e,a):null;u&&(u.get||u.set)?s(o,a,u):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(86116)),y=n(21705);function m(e){if("function"!=typeof c)return null;var t=new c,n=new c;return(m=function(e){return e?n:t})(e)}function g(e,t){var n=void 0!==a&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return _(e,t);var r=o(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,c=function(){};return{s:c,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,f=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){h=!0,s=e},f:function(){try{f||null==n.return||n.return()}finally{if(h)throw s}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,v.default)(e,r.key,r)}}var k=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];b(this,e),this.angle=0,this.pos={x:0,y:0},this.shapes=t,this.horizon_turn=n}var t,n,r;return t=e,(n=[{key:"update",value:function(e,t){t&&this.setAngle(t),this.setPos(e)}},{key:"setPos",value:function(e){var t=e.x,n=e.y,r=this.pos,o=r.x,i=r.y;if(t!==o||n!==i){var a,u=g(this.shapes);try{for(u.s();!(a=u.n()).done;){var l=a.value,c=l.shape,s=l.pos,f=this.angle;if(this.horizon_turn){var h=s.x,p=s.y;c.pos=new d.Vector(t+h,n+p)}else{var v=s.clone().rotate(f),y=v.x,m=v.y;c.pos=new d.Vector(t+y,n+m)}}}catch(e){u.e(e)}finally{u.f()}this.pos={x:t,y:n}}}},{key:"setAngle",value:function(e){var t=Math.atan2(e.y,e.x),n=this.shapes;if(t+=Math.PI/2,this.horizon_turn)this.angle*t<0&&(this.shapes=(0,y.scaleXShapeInfos)(this.shapes));else{var r,o=g(n);try{for(o.s();!(r=o.n()).done;){var i=r.value.shape;i instanceof d.Polygon&&i.setAngle(t)}}catch(e){o.e(e)}finally{o.f()}}this.angle=t}},{key:"destroy",value:function(){this.shapes=void 0,this.angle=0,this.pos={x:0,y:0}}}])&&w(t.prototype,n),r&&w(t,r),e}();t.BodyCom=k},34970:function(e,t,n){"use strict";function r(e){return r="function"==typeof a&&"symbol"==typeof h?function(e){return typeof e}:function(e){return e&&"function"==typeof a&&e.constructor===a&&e!==a.prototype?"symbol":typeof e},r(e)}var o=n(3649),i=n(66419),a=n(65420),u=n(19996),l=n(41511),c=n(52424),s=n(63978),f=n(34074),h=n(98341);s(t,"__esModule",{value:!0}),t.detectCollision=function(e,t){var n,r=e.shapes,o=t.shapes,i=d(r);try{for(i.s();!(n=i.n()).done;){var a,u=n.value.shape,l=d(o);try{for(l.s();!(a=l.n()).done;){var c=a.value.shape,s=new p.Response,f=!1;if(u instanceof p.Polygon&&c instanceof p.Polygon&&(f=p.testPolygonPolygon(u,c,s)),u instanceof p.Circle&&c instanceof p.Polygon&&(f=p.testCirclePolygon(u,c,s)),u instanceof p.Polygon&&c instanceof p.Circle&&(f=p.testCirclePolygon(c,u,s)),u instanceof p.Circle&&c instanceof p.Circle&&(f=p.testCircleCircle(c,u,s)),f)return!0}}catch(e){l.e(e)}finally{l.f()}return!1}}catch(e){i.e(e)}finally{i.f()}};var p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var o={},i=s&&f;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=i?f(e,a):null;u&&(u.get||u.set)?s(o,a,u):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(86116));function v(e){if("function"!=typeof c)return null;var t=new c,n=new c;return(v=function(e){return e?n:t})(e)}function d(e,t){var n=void 0!==a&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return y(e,t);var r=o(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,c=function(){};return{s:c,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,f=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){h=!0,s=e},f:function(){try{f||null==n.return||n.return()}finally{if(h)throw s}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},62673:function(e,t,n){"use strict";function r(e){return r="function"==typeof s&&"symbol"==typeof p?function(e){return typeof e}:function(e){return e&&"function"==typeof s&&e.constructor===s&&e!==s.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(63978),l=n(3649),c=n(66419),s=n(65420),f=n(19996),h=n(41511),p=n(98341);u(t,"__esModule",{value:!0}),t.GameFreezeCom=t.FreezingComEvent=void 0;var v=_(n(85507)),d=_(n(21611)),y=n(74227),m=n(30260),g=n(3828);function _(e){return e&&e.__esModule?e:{default:e}}function b(e,t){return function(e){if(h(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==s&&f(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){var n=void 0!==s&&f(e)||e["@@iterator"];if(!n){if(h(e)||(n=k(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function k(e,t){var n;if(e){if("string"==typeof e)return S(e,t);var r=l(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?c(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),u(e,r.key,r)}}function C(e,t){return C=i||function(e,t){return e.__proto__=t,e},C(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var i=A(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function A(e){return A=v.default?d.default:function(e){return e.__proto__||(0,d.default)(e)},A(e)}var M={Freezing:"freezing",UnFreezing:"un_freezing"};t.FreezingComEvent=M;var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(i,e);var t,n,r,o=E(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).game=e,t.addCom(new m.TimeoutCom),t}return t=i,(n=[{key:"freezing",value:function(e,t){var n=this,r=this.game,o=this.freezing_timeout,i=r.event,a=this.getCom(m.TimeoutCom);o&&a.clear(o),this.freezing_timeout=a.createTimeout((function(){n.unFreezing()}),1e3*e);var u,l=w(t);try{for(l.s();!(u=l.n()).done;){var c=u.value,s=r.getFishById(c);s&&s.setStatus(g.FishStatus.Freezed)}}catch(e){l.e(e)}finally{l.f()}i.emit(M.Freezing)}},{key:"unFreezing",value:function(){var e=this.game,t=this.freezing_timeout,n=e.fish_map,r=e.event,o=this.getCom(m.TimeoutCom);t&&o.clear(t);var i,a=w(n);try{for(a.s();!(i=a.n()).done;)b(i.value,2)[1].setStatus(g.FishStatus.Normal)}catch(e){a.e(e)}finally{a.f()}r.emit(M.UnFreezing)}}])&&x(t.prototype,n),r&&x(t,r),i}(y.ComponentManager);t.GameFreezeCom=T},84662:function(e,t,n){"use strict";function r(e){return r="function"==typeof l&&"symbol"==typeof c?function(e){return typeof e}:function(e){return e&&"function"==typeof l&&e.constructor===l&&e!==l.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(63978),l=n(65420),c=n(98341);u(t,"__esModule",{value:!0}),t.GunAutoShootCom=void 0;var s=v(n(85507)),f=v(n(21611)),h=n(74227),p=n(83091);function v(e){return e&&e.__esModule?e:{default:e}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),u(e,r.key,r)}}function y(e,t){return y=i||function(e,t){return e.__proto__=t,e},y(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return _=s.default?f.default:function(e){return e.__proto__||(0,f.default)(e)},_(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(i,e);var t,n,r,o=m(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).gun=e,t}return t=i,(n=[{key:"active",value:function(){var e=this.gun;e.event.on(p.GunEvent.SwitchOn,(function(){e.preAddBullet(e.direction,!0)}),this),e.setStatus(p.GunStatus.AutoShoot),e.preAddBullet(e.direction,!0),e.event.emit(p.GunEvent.AutoShoot,!0)}},{key:"clear",value:function(){var e=this.gun,t=e.event;e.setStatus(p.GunStatus.Normal),t.offAllCaller(this),e.event.emit(p.GunEvent.AutoShoot,!1)}},{key:"destroy",value:function(){this.clear(),this.gun.delCom(this),this.gun=void 0}}])&&d(t.prototype,n),r&&d(t,r),i}(h.ComponentManager);t.GunAutoShootCom=b},62822:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.DisplaceMoveCom=void 0;var r,o=(r=n(63978))&&r.__esModule?r:{default:r},i=n(63723);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.is_stop=!1,this.onTick=function(e){var t=n.is_stop,r=n.update_fn;t||r(n.displace.update(e))},this.displace=t}var t,n,r;return t=e,(n=[{key:"onUpdate",value:function(e){this.update_fn=e}},{key:"start",value:function(){this.tick_index?this.is_stop=!1:(this.is_stop=!1,this.tick_index=(0,i.createTick)(this.onTick),this.onTick(0))}},{key:"stop",value:function(){this.is_stop=!0}},{key:"getRadio",value:function(){return this.displace.radio}},{key:"destroy",value:function(){(0,i.clearTick)(this.tick_index),this.displace=void 0,this.update_fn=void 0,this.is_stop=!1,this.tick_index=0}}])&&a(t.prototype,n),r&&a(t,r),e}();t.DisplaceMoveCom=u},39473:function(e,t,n){"use strict";function r(e){return r="function"==typeof u&&"symbol"==typeof l?function(e){return typeof e}:function(e){return e&&"function"==typeof u&&e.constructor===u&&e!==u.prototype?"symbol":typeof e},r(e)}var o=n(52424),i=n(63978),a=n(34074),u=n(65420),l=n(98341);i(t,"__esModule",{value:!0}),t.LockMoveCom=void 0;var c=d(n(51942)),s=d(n(54103)),f=d(n(63978)),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var o={},u=i&&a;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var c=u?a(e,l):null;c&&(c.get||c.set)?i(o,l,c):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(86116)),p=n(63723);function v(e){if("function"!=typeof o)return null;var t=new o,n=new o;return(v=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,f.default)(e,r.key,r)}}var m=function(){function e(t,n,r,o){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.is_stop=!1,this.update=function(e){var t=i.target,n=i.pos,r=i.is_stop,o=i.velocity_size;if(!r&&t.pos){var a=n.x,u=n.y,l=t.pos,s=l.x,f=l.y,p=new h.Vector(s-a,f-u).normalize().scale(o);n.x+=p.x*e,n.y+=p.y*e,i.detectOnHit()?(i.update_fn({pos:(0,c.default)({},t.pos),velocity:p}),i.on_hit(t)):i.update_fn({pos:(0,c.default)({},i.pos),velocity:p})}},this.target=r,this.pos=(0,c.default)({},t),this.start_pos=(0,c.default)({},t),this.velocity_size=n.len(),this.on_hit=o}var t,n,r;return t=e,(n=[{key:"start",value:function(){var e;this.tick_index?this.is_stop=!1:(this.is_stop=!1,this.tick_index=(0,p.createTick)((0,s.default)(e=this.update).call(e,this)),this.update(0))}},{key:"stop",value:function(){this.is_stop=!0}},{key:"onUpdate",value:function(e){this.update_fn=e}},{key:"detectOnHit",value:function(){var e=this.pos,t=this.start_pos,n=this.target.pos,r=new h.Vector(n.x-t.x,n.y-t.y).normalize();return!(new h.Vector(n.x-e.x,n.y-e.y).normalize().dot(r)>0||(this.pos=n,0))}},{key:"destroy",value:function(){(0,p.clearTick)(this.tick_index),this.tick_index=0,this.target=void 0,this.on_hit=void 0,this.pos=void 0,this.start_pos=void 0,this.velocity_size=0,this.update_fn=void 0,this.is_stop=!1}}])&&y(t.prototype,n),r&&y(t,r),e}();t.LockMoveCom=m},77488:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.VelocityMoveCom=void 0;var r=l(n(54103)),o=l(n(63978)),i=l(n(86116)),a=n(66058),u=n(63723);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}var s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.is_stop=!1,this.pos=t,this.velocity=n}var t,n,o;return t=e,(n=[{key:"start",value:function(){var e;this.tick_index?this.is_stop=!1:(this.is_stop=!1,this.tick_index=(0,u.createTick)((0,r.default)(e=this.update).call(e,this)),this.update(0))}},{key:"stop",value:function(){this.is_stop=!0}},{key:"update",value:function(e){var t=this.pos,n=this.velocity;this.is_stop||(t.x+=n.x*e,t.y+=n.y*e,this.detectHitWall(),this.update_fn({pos:t,velocity:n}))}},{key:"onUpdate",value:function(e){this.update_fn=e}},{key:"detectHitWall",value:function(){var e=a.Config.PoolHeight,t=a.Config.PoolWidth,n=a.Config.BulletZoneWidth,r=this.velocity,o=this.pos,u=r.x,l=r.y,c=(t-n)/2,s=c+n;o.x>s&&(o.x=s-(o.x-s),u=-Math.abs(r.x)),o.x<c&&(o.x=c+(c-o.x),u=Math.abs(r.x)),o.y>e&&(o.y=e-(o.y-e),l=-Math.abs(r.y)),o.y<0&&(o.y=-o.y,l=Math.abs(r.y)),this.velocity=new i.default.Vector(u,l),this.pos=o}},{key:"destroy",value:function(){(0,u.clearTick)(this.tick_index),this.tick_index=0,this.velocity=void 0,this.update_fn=void 0,this.is_stop=!1}}])&&c(t.prototype,n),o&&c(t,o),e}();t.VelocityMoveCom=s},50615:function(e,t,n){"use strict";function r(e){return r="function"==typeof s&&"symbol"==typeof p?function(e){return typeof e}:function(e){return e&&"function"==typeof s&&e.constructor===s&&e!==s.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(63978),l=n(3649),c=n(66419),s=n(65420),f=n(19996),h=n(41511),p=n(98341);u(t,"__esModule",{value:!0}),t.ShoalEvent=t.ShoalCom=void 0,t.quickLeaveFish=P;var v=S(n(39392)),d=S(n(85507)),y=S(n(21611)),m=n(74227),g=n(66058),_=n(93774),b=n(42146),w=n(47589),k=n(62822);function S(e){return e&&e.__esModule?e:{default:e}}function x(e,t){return function(e){if(h(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==s&&f(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){var n;if(e){if("string"==typeof e)return E(e,t);var r=l(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?c(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),u(e,r.key,r)}}function A(e,t){return A=i||function(e,t){return e.__proto__=t,e},A(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var i=R(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function R(e){return R=d.default?y.default:function(e){return e.__proto__||(0,y.default)(e)},R(e)}var B={PreAddShoal:"pre_add_shoal"};t.ShoalEvent=B;var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(i,e);var t,n,r,o=M(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).shoal_map=new v.default,t.game=e,t}return t=i,(n=[{key:"preAddShoal",value:function(e){var t=this.game,n=t.event,r=t.fish_map;n.emit(B.PreAddShoal,e);var o,i=function(e,t){var n=void 0!==s&&f(e)||e["@@iterator"];if(!n){if(h(e)||(n=C(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(r);try{for(i.s();!(o=i.n()).done;)P(x(o.value,2)[1],e)}catch(e){i.e(e)}finally{i.f()}}},{key:"addShoal",value:function(e){}},{key:"removeShoal",value:function(e){this.shoal_map.delete(e)}},{key:"genFish",value:function(){}},{key:"destroy",value:function(){}}])&&I(t.prototype,n),r&&I(t,r),i}(m.ComponentManager);function P(e,t){var n=e.pos;if(!e.visible)return e.destroy();var r,o=g.Config.ClearFishTime,i=g.Config.PoolWidth,a=(0,b.calcNormalLen)("after",e.type),u={y:n.y};t?(r=i-n.x+a,u.x=i+a):(u.x=-a,r=n.x+a);var l=[{curve:new w.Line(n,u),length:r,radio:1}],c=new _.Displace(o,0,l,!1),s=new k.DisplaceMoveCom(c);e.setMoveCom(s),e.init()}t.ShoalCom=L},50634:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.FishBombEvent=t.FishBombCom=void 0;var r=a(n(20116)),o=a(n(63978)),i=n(42717);function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}var l={FishBomb:"fish_bomb"};t.FishBombEvent=l;var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fish=t}var t,n,o;return t=e,(n=[{key:"active",value:function(e){var t,n=this.fish,o=n.pos,a=n.id,u={pos:o,player:e};e.need_emit&&(u.fish_list=(0,r.default)(t=(0,i.getBeBombFish)(o)).call(t,(function(e){return e.id!==a}))),n.event.emit(l.FishBomb,u)}},{key:"destroy",value:function(){var e;null===(e=this.fish.event)||void 0===e||e.offAllCaller(this),this.fish=void 0}}])&&u(t.prototype,n),o&&u(t,o),e}();t.FishBombCom=c},3828:function(e,t,n){"use strict";function r(e){return r="function"==typeof s&&"symbol"==typeof f?function(e){return typeof e}:function(e){return e&&"function"==typeof s&&e.constructor===s&&e!==s.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(62734),l=n(34074),c=n(63978),s=n(65420),f=n(98341);c(t,"__esModule",{value:!0}),t.FishStatus=t.FishModel=t.FishEvent=void 0;var h=k(n(93476)),p=k(n(85507)),v=k(n(21611)),d=n(74227),y=n(38182),m=n(64467),g=n(21705),_=n(77513),b=n(37440),w=n(91207);function k(e){return e&&e.__esModule?e:{default:e}}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),c(e,r.key,r)}}function x(){return x="undefined"!=typeof Reflect&&u?u:function(e,t,n){var r=C(e,t);if(r){var o=l(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},x.apply(this,arguments)}function C(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}function E(e,t){return E=i||function(e,t){return e.__proto__=t,e},E(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var i=T(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return M(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return T=p.default?v.default:function(e){return e.__proto__||(0,v.default)(e)},T(e)}var R,B={Destroy:b.ModelEvent.Destroy,Move:"move",BeCast:"be_cast",BeCapture:"be_capture",StatusChange:"status_change",VisibleChange:"visible_change"};t.FishEvent=B,t.FishStatus=R,function(e){e[e.Normal=0]="Normal",e[e.QuickLeave=1]="QuickLeave",e[e.Freezed=2]="Freezed",e[e.Dead=3]="Dead"}(R||(t.FishStatus=R={}));var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(i,e);var t,n,r,o=I(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this)).status=R.Normal,n.horizon_turn=!1,n.visible=!1,n.onMoveChange=function(e){var t=M(n).body,r=e.pos,o=e.velocity,i=e.is_complete,a=e.visible;if(i)return n.destroy();n.setVisible(a),a&&(n.pos=r,n.velocity=o,t.update(r,o),n.event.emit(B.Move,{pos:r,velocity:o}))},n.game=t,n.initCom(e),n}return t=i,(n=[{key:"initCom",value:function(e){var t=e.type,n=e.group_id,r=e.id,o=e.score,i=e.currency;(0,_.setProps)(this,{type:t,id:r,group_id:n,score:o||0,currency:i});var a=!1;"horizon_turn"===(0,m.getSpriteInfo)("fish",t).ani_type&&(a=!0);var u=(0,g.getShapes)("fish",Number(t)),l=new w.BodyCom(u,a),c=new y.EventCom;this.event=c,this.body=l,this.horizon_turn=a,this.addCom(new y.EventCom,l)}},{key:"init",value:function(){this.move_com.start()}},{key:"setMoveCom",value:function(e){var t=this.move_com;t&&(t.destroy(),this.delCom(t)),e.onUpdate(this.onMoveChange),this.move_com=e,this.addCom(e)}},{key:"setStatus",value:function(e){e!==this.status&&(this.status=e,this.event.emit(B.StatusChange,e),e===R.Freezed?this.move_com.stop():this.move_com.start())}},{key:"setVisible",value:function(e){e!==this.visible&&(this.visible=e,this.event.emit(B.VisibleChange,e))}},{key:"beCast",value:function(){this.event&&this.event.emit(B.BeCast)}},{key:"beCapture",value:function(){var e=this;return new h.default((function(t,n){if(e.event){var r=e.pos;e.event.emit(B.BeCapture,(function(){t(r),e.destroy()}))}else n(),e.destroy()}))}},{key:"destroy",value:function(){this.destroyed||(this.event.emit(B.Destroy),this.setStatus(R.Dead),this.game.removeFish(this),this.game=void 0,this.id=void 0,this.type=void 0,this.pos=void 0,this.velocity=void 0,this.visible=!1,this.horizon_turn=!1,this.move_com=void 0,this.event=void 0,this.body=void 0,x(T(i.prototype),"destroy",this).call(this))}}])&&S(t.prototype,n),r&&S(t,r),i}(d.ComponentManager);t.FishModel=L},42717:function(e,t,n){"use strict";var r=n(41511),o=n(65420),i=n(19996),a=n(66419),u=n(3649);n(63978)(t,"__esModule",{value:!0}),t.createBombBody=O,t.createFish=function(e,t){var n=e.eid,r=e.fishId,o=e.score,i=e.currencyFish,a=(0,w.createFishDisplace)(e);if(!a)return;var u=new x.DisplaceMoveCom(a),l={id:n,type:r,score:o,currency:i},c=new E.FishModel(l,t);c.setMoveCom(u),(0,b.isBombFish)(c)&&c.addCom(new C.FishBombCom(c));return c},t.createFishGroup=function(e,t){var n=e.eid,a=e.fishId,u=e.group,l=e.score,c=e.currencyFish,s=[],d=(0,b.getSpriteInfo)("fish",a).group;if(!d)return s;var y=(0,w.createFishDisplace)(e),m=new x.DisplaceMoveCom(y),g=(u.length,new f.default);m.onUpdate((function(e){var t,n=function(e,t){var n=void 0!==o&&i(e)||e["@@iterator"];if(!n){if(r(e)||(n=T(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,u=function(){};return{s:u,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,l=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw l}}}}(g);try{for(n.s();!(t=n.n()).done;){(0,A(t.value,2)[1].update_fn)(e)}}catch(e){n.e(e)}finally{n.f()}}));for(var _=function(e){var r,o,i=d[e],a=i.type,f=i.pos,y=u[e].eid,_=A((r=function(e){var t=e.pos,n=L(e,["pos"]),r=(0,v.default)({},n);return t&&(r.pos={x:t.x+f.x,y:t.y+f.y}),r},o=e,[function(e){g.set(o,{update_fn:function(t){var n=r(t);e(n)},id:o,isStop:void 0})},function(){g.delete(o),0===g.size&&m.destroy()},function(){var e;g.get(o).isStop=!1,(0,h.default)(e=M((0,p.default)(g).call(g))).call(e,(function(e){return!0===e.isStop}))||m.start()},function(){var e;g.get(o).isStop=!0,(0,h.default)(e=M((0,p.default)(g).call(g))).call(e,(function(e){return!1===e.isStop}))||m.stop()}]),4),w=_[0],k=_[1],S={start:_[2],stop:_[3],onUpdate:w,destroy:k},x={id:y,group_id:n,type:a,score:l,currency:c},I=new E.FishModel(x,t);I.setMoveCom(S),(0,b.isBombFish)(I)&&I.addCom(new C.FishBombCom(I)),s.push(I)},k=0;k<u.length;k++)_(k);return s},t.getBeBombFish=P,t.getBeBombFishIds=function(e){var t;return(0,d.default)(t=P(e)).call(t,(function(e){return e.id}))},t.playerCaptureFish=function(e,t,n){return B(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i,a,u;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(0,b.isBombFish)(t)&&t.getCom(C.FishBombCom).active(e),r.next=3,t.beCapture();case 3:o=r.sent,i=n.drop,a=n.win,u=n.winScore,o||(0,k.error)("cant find fish pos"),e.captureFish(o,{win:a,winScore:u,drop:i});case 7:case"end":return r.stop()}}),r)})))},t.waitFishDestroy=function(e){var t=this,n=e.event;return new l.default((function(r,o){if(e.destroyed)return(0,y.default)(r);n.once(E.FishEvent.Destroy,(function(){(0,y.default)(r)}),t)}))};var l=I(n(93476)),c=I(n(81643)),s=I(n(14310)),f=I(n(39392)),h=I(n(94473)),p=I(n(89400)),v=I(n(51942)),d=I(n(2991)),y=I(n(33032)),m=I(n(86116)),g=n(66058),_=n(11263),b=n(64467),w=n(42146),k=n(55161),S=n(91207),x=n(62822),C=n(50634),E=n(3828);function I(e){return e&&e.__esModule?e:{default:e}}function A(e,t){return function(e){if(r(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==o&&i(e)||e["@@iterator"];if(null==n)return;var r,a,u=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(u.push(r.value),!t||u.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return u}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e){return function(e){if(r(e))return R(e)}(e)||function(e){if(void 0!==o&&null!=i(e)||null!=e["@@iterator"])return a(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){var n;if(e){if("string"==typeof e)return R(e,t);var r=u(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B=function(e,t,n,r){return new(n||(n=l.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},L=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(0,c.default)(t).call(t,r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof s.default){var o=0;for(r=(0,s.default)(e);o<r.length;o++)(0,c.default)(t).call(t,r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function P(e){var t=O();t.update(e);var n=(0,_.getCollisionAllFish)(t);return t.destroy(),n}function O(){var e={shape:new m.default.Circle(new m.default.Vector(0,0),g.Config.BombRadius),pos:new m.default.Vector(0,0)};return new S.BodyCom([e],!1)}},86408:function(e,t,n){"use strict";function r(e){return r="function"==typeof h&&"symbol"==typeof d?function(e){return typeof e}:function(e){return e&&"function"==typeof h&&e.constructor===h&&e!==h.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(62734),l=n(34074),c=n(63978),s=n(3649),f=n(66419),h=n(65420),p=n(19996),v=n(41511),d=n(98341);c(t,"__esModule",{value:!0}),t.GameModel=t.GameEvent=void 0;var y=A(n(39392)),m=A(n(85507)),g=A(n(21611)),_=n(74227),b=n(38182),w=n(30260),k=n(37440),S=n(55161),x=n(62673),C=n(50615),E=n(42717),I=n(83125);function A(e){return e&&e.__esModule?e:{default:e}}function M(e,t){return function(e){if(v(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==h&&p(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){var n=void 0!==h&&p(e)||e["@@iterator"];if(!n){if(v(e)||(n=R(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function R(e,t){var n;if(e){if("string"==typeof e)return B(e,t);var r=s(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?f(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,t):void 0}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),c(e,r.key,r)}}function P(){return P="undefined"!=typeof Reflect&&u?u:function(e,t,n){var r=O(e,t);if(r){var o=l(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},P.apply(this,arguments)}function O(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=G(e)););return e}function D(e,t){return D=i||function(e,t){return e.__proto__=t,e},D(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var i=G(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return U(this,n)}}function U(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function G(e){return G=m.default?g.default:function(e){return e.__proto__||(0,g.default)(e)},G(e)}var j={AddFish:"add_fish",AddPlayer:"add_player",Freezing:"freezing",Destroy:k.ModelEvent.Destroy};t.GameEvent=j;var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(i,e);var t,n,r,o=N(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).game_mode=1,e.currency="",e.fish_map=new y.default,e.player_map=new y.default,e.initCom(),e}return t=i,(n=[{key:"setGameMode",value:function(e){this.game_mode=e}},{key:"setCurrency",value:function(e){this.currency=e}},{key:"initCom",value:function(){this.addCom(new b.EventCom,new w.TimeoutCom)}},{key:"event",get:function(){return this.getCom(b.EventCom)}},{key:"freezing_com",get:function(){var e=this.getCom(x.GameFreezeCom);return e||(e=new x.GameFreezeCom(this),this.addCom(e)),e}},{key:"addFish",value:function(e){var t=e.group,n=this.fish_map;if(t){var r,o=(0,E.createFishGroup)(e,this),i=T(o);try{for(i.s();!(r=i.n()).done;){var a=r.value;n.set(a.id,a),this.event.emit(j.AddFish,a),a.init()}}catch(e){i.e(e)}finally{i.f()}return o}var u=(0,E.createFish)(e,this);if(u)return n.set(u.id,u),this.event.emit(j.AddFish,u),u.init(),u}},{key:"removeFish",value:function(e){this.fish_map.delete(e.id)}},{key:"getFishById",value:function(e){return this.fish_map.get(e)}},{key:"getAllFish",value:function(){return this.fish_map}},{key:"captureFish",value:function(e){var t=e.userId,n=e.eid,r=e.backAmount,o=this.getPlayerById(t),i=this.getFishById(n);o?(r&&o.updateInfo({bullet_num:o.bullet_num+r}),i?(0,E.playerCaptureFish)(o,i,e):(0,S.error)("Game:>captureFish:> cant find fish for ".concat(n))):(0,S.error)("Game:>captureFish:> cant find player for ".concat(t))}},{key:"shoal_com",get:function(){var e=this.getCom(C.ShoalCom);return e||(e=new C.ShoalCom(this),this.addCom(e)),e}},{key:"addPlayer",value:function(e,t){var n=new I.PlayerModel(e,this);return n.setClientInfo(t),this.player_map.set(e.user_id,n),this.event.emit(j.AddPlayer,n),n.init(),n}},{key:"getCurPlayer",value:function(){var e,t=T(this.player_map);try{for(t.s();!(e=t.n()).done;){var n=M(e.value,2)[1];if(n.is_cur_player)return n}}catch(e){t.e(e)}finally{t.f()}}},{key:"getPlayers",value:function(){return this.player_map}},{key:"getPlayerById",value:function(e){return this.player_map.get(e)}},{key:"removePlayer",value:function(e){this.player_map.delete(e.user_id)}},{key:"activeSkill",value:function(e,t){var n=this.getPlayerById(t.user_id);n?n.activeSkill(e,t):(0,S.error)("Game:>activeSkill:> cant find player:>".concat(t.user_id))}},{key:"disableSkill",value:function(e,t){var n=this.getPlayerById(t);n?n.disableSkill(e):(0,S.error)("Game:>resetSkill:> cant find player:>".concat(t))}},{key:"resetSkill",value:function(e,t){var n=this.getPlayerById(t);n?n.resetSkill(e):(0,S.error)("Game:>resetSkill:> cant find player:>".concat(t))}},{key:"shoot",value:function(e){var t=this.getPlayerById(e.userId);t?t.gun.addBullet(e.direction,!t.is_cur_player):(0,S.error)("Game:>shoot:> cant find player:>".concat(e.userId))}},{key:"shoalComingTip",value:function(e){this.shoal_com.preAddShoal(e)}},{key:"clear",value:function(){var e,t=this.fish_map,n=T(this.player_map);try{for(n.s();!(e=n.n()).done;)M(e.value,2)[1].destroy()}catch(e){n.e(e)}finally{n.f()}var r,o=T(t);try{for(o.s();!(r=o.n()).done;)M(r.value,2)[1].destroy()}catch(e){o.e(e)}finally{o.f()}this.currency="",this.fish_map.clear(),this.player_map.clear()}},{key:"destroy",value:function(){this.event.emit(j.Destroy),this.clear(),P(G(i.prototype),"destroy",this).call(this)}}])&&L(t.prototype,n),r&&L(t,r),i}(_.ComponentManager);t.GameModel=F},37577:function(e,t,n){"use strict";function r(e){return r="function"==typeof h&&"symbol"==typeof d?function(e){return typeof e}:function(e){return e&&"function"==typeof h&&e.constructor===h&&e!==h.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(62734),l=n(34074),c=n(63978),s=n(3649),f=n(66419),h=n(65420),p=n(19996),v=n(41511),d=n(98341);c(t,"__esModule",{value:!0}),t.BulletGroupEvent=t.BulletGroup=void 0;var y=C(n(39392)),m=C(n(72119)),g=C(n(85507)),_=C(n(21611)),b=n(74227),w=n(38182),k=n(37440),S=n(77513),x=n(8985);function C(e){return e&&e.__esModule?e:{default:e}}function E(e,t){return function(e){if(v(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==h&&p(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){var n=void 0!==h&&p(e)||e["@@iterator"];if(!n){if(v(e)||(n=A(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function A(e,t){var n;if(e){if("string"==typeof e)return M(e,t);var r=s(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?f(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),c(e,r.key,r)}}function R(){return R="undefined"!=typeof Reflect&&u?u:function(e,t,n){var r=B(e,t);if(r){var o=l(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},R.apply(this,arguments)}function B(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=N(e)););return e}function L(e,t){return L=i||function(e,t){return e.__proto__=t,e},L(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var i=N(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return D(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return N=g.default?_.default:function(e){return e.__proto__||(0,_.default)(e)},N(e)}var U={Destroy:k.ModelEvent.Destroy};t.BulletGroupEvent=U;var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(i,e);var t,n,r,o=P(i);function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this)).bullet_map=new y.default,n.casted=!1,n.id=(0,S.genRandomStr)(),n.castFn=function(e){var t=D(n),r=t.gun,o=t.casted,i=t.bullet_map,a=t.bullet_cost;if(!o){var u=r.player,l=u.is_cur_player,c=u.need_emit;n.casted=!0,c&&r.castFish(e,a),r.removeBullet(D(n)),n.gun=void 0;var s,f=I(i);try{for(f.s();!(s=f.n()).done;){E(s.value,2)[1].addNet(l)}}catch(e){f.e(e)}finally{f.f()}n.destroy()}},n.bullet_cost=t.bullet_cost,n.gun=t;var r=new w.EventCom;return n.event=r,n.addCom(r),n.initBullet(e),n}return t=i,(n=[{key:"init",value:function(){var e,t=I(this.bullet_map);try{for(t.s();!(e=t.n()).done;)E(e.value,2)[1].init()}catch(e){t.e(e)}finally{t.f()}}},{key:"initBullet",value:function(e){var t,n=e.bullets_pos,r=e.lock,o=e.velocity,i=this.gun,a=i.skin,u=i.bullet_cost,l=i.skin_level,c=I((0,m.default)(n).call(n));try{for(c.s();!(t=c.n()).done;){var s=E(t.value,2),f=s[0],h={skin:a,pos:s[1],bullet_cost:u,lock:r,skin_level:l,velocity:o.clone(),cast_fn:this.castFn},p=new x.BulletModel(h);this.bullet_map.set(f,p)}}catch(e){c.e(e)}finally{c.f()}}},{key:"destroy",value:function(){if(!this.destroyed){var e,t=this.bullet_map,n=I(t);try{for(n.s();!(e=n.n()).done;)E(e.value,2)[1].destroy()}catch(e){n.e(e)}finally{n.f()}t.clear(),this.event.emit(U.Destroy),this.event=void 0,this.gun=void 0,this.bullet_cost=0,R(N(i.prototype),"destroy",this).call(this)}}}])&&T(t.prototype,n),r&&T(t,r),i}(b.ComponentManager);t.BulletGroup=G},8985:function(e,t,n){"use strict";function r(e){return r="function"==typeof s&&"symbol"==typeof f?function(e){return typeof e}:function(e){return e&&"function"==typeof s&&e.constructor===s&&e!==s.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(62734),l=n(34074),c=n(63978),s=n(65420),f=n(98341);c(t,"__esModule",{value:!0}),t.BulletModel=t.BulletEvent=void 0;var h=I(n(51942)),p=I(n(85507)),v=I(n(21611)),d=n(74227),y=n(38182),m=n(30260),g=n(66058),_=n(21705),b=n(77513),w=n(37440),k=n(11263),S=n(91207),x=n(39473),C=n(77488),E=n(89684);function I(e){return e&&e.__esModule?e:{default:e}}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),c(e,r.key,r)}}function M(){return M="undefined"!=typeof Reflect&&u?u:function(e,t,n){var r=T(e,t);if(r){var o=l(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},M.apply(this,arguments)}function T(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}function R(e,t){return R=i||function(e,t){return e.__proto__=t,e},R(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var i=O(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=p.default?v.default:function(e){return e.__proto__||(0,v.default)(e)},O(e)}var D={Move:"move",AddNet:"add_net"};t.BulletEvent=D;var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(i,e);var t,n,r,o=B(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).need_detect_collision=!0,t.onMoveChange=function(e){var n=P(t).need_detect_collision,r=e.pos,o=e.velocity,i=t.body;if(i.update(r,o),t.pos=r,t.velocity=o,t.event.emit(D.Move,{pos:r,velocity:o}),t.need_detect_collision=!n,n){var a=(0,k.getCollisionFish)(i);a&&t.onHit(a)}},t.onLockMoveChange=function(e){var n=e.pos,r=e.velocity;t.pos=(0,h.default)({},e.pos),t.velocity=r,t.event.emit(D.Move,{pos:n,velocity:r})},t.onHit=function(e){var n=P(t),r=n.cast_fn,o=n.move_com;o.destroy(),t.delCom(o),t.move_com=void 0,t.getCom(m.TimeoutCom).createTimeout((function(){t.destroyed||r(e)}))},t.addNet=function(e){var n=P(t).pos,r=new E.NetModel({pos:n,show_cast:e},P(t));t.event.emit(D.AddNet,r)},(0,b.setProps)(P(t),(0,h.default)((0,h.default)({},e),{velocity:e.velocity.scale(g.Config.BulletSpeed)})),t.initCom(),t}return t=i,(n=[{key:"initCom",value:function(){var e,t=this.pos,n=this.velocity,r=this.lock,o=new y.EventCom,i=[o];if(r)e=new x.LockMoveCom(t,n,r,this.onHit),i.push(e),e.onUpdate(this.onLockMoveChange);else{var a=(0,_.getShapes)("bullet"),u=new S.BodyCom(a);e=new C.VelocityMoveCom(t,n),i.push(e,u),e.onUpdate(this.onMoveChange),this.body=u}i.push(new m.TimeoutCom),this.move_com=e,this.event=o,this.addCom.apply(this,i)}},{key:"init",value:function(){this.move_com.start()}},{key:"destroy",value:function(){this.event.emit(w.ModelEvent.Destroy),this.cast_fn=void 0,this.event=void 0,this.body=void 0,M(O(i.prototype),"destroy",this).call(this)}}])&&A(t.prototype,n),r&&A(t,r),i}(d.ComponentManager);t.BulletModel=N},83091:function(e,t,n){"use strict";function r(e){return r="function"==typeof h&&"symbol"==typeof y?function(e){return typeof e}:function(e){return e&&"function"==typeof h&&e.constructor===h&&e!==h.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(62734),l=n(34074),c=n(63978),s=n(3649),f=n(66419),h=n(65420),p=n(19996),v=n(41511),d=n(52424),y=n(98341);c(t,"__esModule",{value:!0}),t.GunStatus=t.GunModel=t.GunEvent=void 0;var m=T(n(39392)),g=T(n(77766)),_=T(n(85507)),b=T(n(21611)),w=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var o={},i=c&&l;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=i?l(e,a):null;u&&(u.get||u.set)?c(o,a,u):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(86116)),k=n(74227),S=n(38182),x=n(30260),C=n(66058),E=n(64467),I=n(84662),A=n(37577);function M(e){if("function"!=typeof d)return null;var t=new d,n=new d;return(M=function(e){return e?n:t})(e)}function T(e){return e&&e.__esModule?e:{default:e}}function R(e,t){return function(e){if(v(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==h&&p(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||L(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){var n=void 0!==h&&p(e)||e["@@iterator"];if(!n){if(v(e)||(n=L(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function L(e,t){var n;if(e){if("string"==typeof e)return P(e,t);var r=s(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?f(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),c(e,r.key,r)}}function D(){return D="undefined"!=typeof Reflect&&u?u:function(e,t,n){var r=N(e,t);if(r){var o=l(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},D.apply(this,arguments)}function N(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=F(e)););return e}function U(e,t){return U=i||function(e,t){return e.__proto__=t,e},U(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var i=F(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function F(e){return F=_.default?b.default:function(e){return e.__proto__||(0,b.default)(e)},F(e)}var H,z={WillAddBullet:"will_add_bullet",AddBullet:"add_bullet",DirectionChange:"direction_change",SwitchOn:"switch_on",SpeedUpStatus:"speed_up_status",CastFish:"cast_fish",LevelChange:"level_change",AutoShoot:"auto_shoot",NotEnoughBulletNum:"not_enough_bullet_num"};t.GunEvent=z,t.GunStatus=H,function(e){e[e.Normal=0]="Normal",e[e.AutoShoot=1]="AutoShoot",e[e.LockFish=2]="LockFish"}(H||(t.GunStatus=H={}));var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(i,e);var t,n,r,o=G(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this)).direction=new w.Vector(0,-1),n.bullet_map=new m.default,n.status=H.Normal,n.is_speedup=!1,n.shoot_space=C.Config.ShootTimeSpace,n.is_on=!0,n.rage=!1,n.skin=e,n.player=t,n.initCom(),n}return t=i,n=[{key:"initCom",value:function(){var e=new S.EventCom,t=new x.TimeoutCom;this.addCom(e,t),this.event=e,this.timeout=t}},{key:"init",value:function(){this.initDirection(),this.setBulletCost(this.player.bullet_cost)}},{key:"setClientInfo",value:function(e){var t=this.player,n=t.server_index,r=t.game,o=(0,E.getGunPos)(n,r.game_mode),i=e(n);this.pos=o,i?this.setDirection(new w.Vector(0,1)):this.setDirection(new w.Vector(0,-1))}},{key:"initDirection",value:function(){var e=this.player,t=e.server_index;2===e.game.game_mode?t<1?this.setDirection(new w.Vector(0,-1)):this.setDirection(new w.Vector(0,1)):t<2?this.setDirection(new w.Vector(0,-1)):this.setDirection(new w.Vector(0,1))}},{key:"setDirection",value:function(e){var t=this;e!==this.direction&&(this.direction=e,this.getCom(x.TimeoutCom).createTimeout((function(){t.event.emit(z.DirectionChange,e)}),this.shoot_space))}},{key:"changeSkin",value:function(e){this.skin=e,this.setBulletCost(this.bullet_cost,!0)}},{key:"setBulletCost",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e!==this.bullet_cost||t){var n=this.skin,r=this.timeout,o=this.event,i=this.shoot_space,a=(0,E.getGunLevelSkinInfo)(e),u=a.level_skin,l=a.hole_num;this.bullet_cost=e,this.skin_level=u,this.hole_num=l,r.createTimeout((function(){o.emit(z.LevelChange,{bullet_cost:e,skin:n,level_skin:u,hole_num:l})}),i)}}},{key:"setStatus",value:function(e){e!==this.status&&(this.status=e)}},{key:"toggleSpeedUp",value:function(e){if(e!==this.is_speedup){var t=this.event;this.is_speedup=e,t.emit(z.SpeedUpStatus,e),this.shoot_space=!0===e?C.Config.ShootTimeSpace/2:C.Config.ShootTimeSpace}}},{key:"autoShoot",get:function(){var e=this.getCom(I.GunAutoShootCom);return e||(e=new I.GunAutoShootCom(this),this.addCom(e)),e}},{key:"preAddBullet",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.status,o=this.is_on,i=this.event,a=this.shoot_space,u=this.player,l=this.bullet_cost;if((u.is_cur_player||2===u.game.game_mode&&u.need_emit)&&u.bullet_num-l<0)u.is_cur_player&&i.emit(z.NotEnoughBulletNum);else if((n||r!==H.LockFish)&&(e=e.clone().normalize(),this.setDirection(e),(n||r!==H.AutoShoot)&&o)){i.emit(z.WillAddBullet,e),this.is_on=!1;var c=this.getCom(x.TimeoutCom);c.createTimeout((function(){t.is_on=!0,i.emit(z.SwitchOn)}),a)}}},{key:"addBullet",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.bullet_cost,o=this.skin,i=this.skin_level,a=this.lock_fish,u=this.player,l=this.event,c=this.bullet_map,s=e.x,f=e.y,h=new w.Vector(s,f).normalize();if(!(u.bullet_num<r&&u.is_cur_player)){n&&this.setDirection(h);var p=(0,E.getBulletStartPos)(u.server_index,u.game.game_mode,h.clone(),(0,g.default)(t="".concat(o)).call(t,i)),v={bullets_pos:p,velocity:h,lock:a},d=new A.BulletGroup(v,this);c.set(d.id,d),l.emit(z.AddBullet,{bullet_group:d,velocity:h,lock:a}),d.init(),u.updateInfo({bullet_num:u.bullet_num-r})}}},{key:"castFish",value:function(e,t){this.event.emit(z.CastFish,{fish:e,level:t})}},{key:"getAllBulletCost",value:function(){var e,t=0,n=B(this.bullet_map);try{for(n.s();!(e=n.n()).done;)t+=R(e.value,2)[1].bullet_cost}catch(e){n.e(e)}finally{n.f()}return t}},{key:"removeBullet",value:function(e){this.bullet_map.delete(e.id)}},{key:"destroy",value:function(){var e,t=B(this.bullet_map);try{for(t.s();!(e=t.n()).done;)R(e.value,2)[1].destroy()}catch(e){t.e(e)}finally{t.f()}this.player=void 0,this.lock_fish=void 0,this.setStatus(H.Normal),this.toggleSpeedUp(!1),this.bullet_map.clear(),D(F(i.prototype),"destroy",this).call(this)}}],n&&O(t.prototype,n),r&&O(t,r),i}(k.ComponentManager);t.GunModel=V},89684:function(e,t,n){"use strict";function r(e){return r="function"==typeof h&&"symbol"==typeof d?function(e){return typeof e}:function(e){return e&&"function"==typeof h&&e.constructor===h&&e!==h.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(62734),l=n(34074),c=n(63978),s=n(3649),f=n(66419),h=n(65420),p=n(19996),v=n(41511),d=n(98341);c(t,"__esModule",{value:!0}),t.NetModel=t.NetEvent=void 0;var y=C(n(85507)),m=C(n(21611)),g=n(74227),_=n(38182),b=n(30260),w=n(11263),k=n(21705),S=n(37440),x=n(91207);function C(e){return e&&e.__esModule?e:{default:e}}function E(e,t){var n=void 0!==h&&p(e)||e["@@iterator"];if(!n){if(v(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return I(e,t);var r=s(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return f(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),c(e,r.key,r)}}function M(){return M="undefined"!=typeof Reflect&&u?u:function(e,t,n){var r=T(e,t);if(r){var o=l(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},M.apply(this,arguments)}function T(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}function R(e,t){return R=i||function(e,t){return e.__proto__=t,e},R(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var i=P(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function P(e){return P=y.default?m.default:function(e){return e.__proto__||(0,m.default)(e)},P(e)}var O={CastFish:"cast_fish"};t.NetEvent=O;var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(i,e);var t,n,r,o=B(i);function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=o.call(this);var r=e.show_cast,a=e.pos;return n.bullet_cost=t.bullet_cost,n.skin=t.skin,n.skin_level=t.skin_level,n.show_cast=r,n.pos=a,n.init(),n}return t=i,(n=[{key:"body",get:function(){return this.getCom(x.BodyCom)}},{key:"init",value:function(){var e=this,t=this.show_cast,n=(0,k.getShapes)("net"),r=new x.BodyCom(n);r.update(this.pos);var o=new b.TimeoutCom,i=new _.EventCom;this.addCom(i,o,r),this.event=i,t&&o.createTimeout((function(){var t,n=(0,w.getCollisionAllFish)(r),o=E(n);try{for(o.s();!(t=o.n()).done;)t.value.beCast()}catch(e){o.e(e)}finally{o.f()}e.event.emit(O.CastFish,n)}),0),o.createTimeout((function(){e.destroy()}),100)}},{key:"destroy",value:function(){this.event.emit(S.ModelEvent.Destroy),this.pos=void 0,this.bullet_cost=void 0,this.skin=void 0,this.skin_level=void 0,this.show_cast=!1,M(P(i.prototype),"destroy",this).call(this)}}])&&A(t.prototype,n),r&&A(t,r),i}(g.ComponentManager);t.NetModel=D},83125:function(e,t,n){"use strict";function r(e){return r="function"==typeof p&&"symbol"==typeof y?function(e){return typeof e}:function(e){return e&&"function"==typeof p&&e.constructor===p&&e!==p.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(62734),c=n(34074),s=n(63978),f=n(3649),h=n(66419),p=n(65420),v=n(19996),d=n(41511),y=n(98341);s(t,"__esModule",{value:!0}),t.PlayerModel=t.PlayerEvent=void 0;var m=T(n(93476)),g=T(n(81643)),_=T(n(14310)),b=T(n(39392)),w=T(n(51942)),k=n(74227),S=n(38182),x=n(37440),C=n(55161),E=n(77513),I=n(3828),A=n(83091),M=n(6053);function T(e){return e&&e.__esModule?e:{default:e}}function R(e,t){return function(e){if(d(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==p&&v(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||L(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){var n=void 0!==p&&v(e)||e["@@iterator"];if(!n){if(d(e)||(n=L(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function L(e,t){var n;if(e){if("string"==typeof e)return P(e,t);var r=f(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?h(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),s(e,r.key,r)}}function D(){return D="undefined"!=typeof Reflect&&l?l:function(e,t,n){var r=N(e,t);if(r){var o=c(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},D.apply(this,arguments)}function N(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=F(e)););return e}function U(e,t){return U=o||function(e,t){return e.__proto__=t,e},U(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var o=F(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function F(e){return F=o?i:function(e){return e.__proto__||i(e)},F(e)}var H=function(e,t,n,r){return new(n||(n=m.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},z=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(0,g.default)(t).call(t,r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof _.default){var o=0;for(r=(0,_.default)(e);o<r.length;o++)(0,g.default)(t).call(t,r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},V={CaptureFish:I.FishEvent.BeCapture,UpdateInfo:"update_info",Destroy:x.ModelEvent.Destroy};t.PlayerEvent=V;var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(i,e);var t,n,r,o=G(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this)).score=0,n.skill_map=new b.default,n.game=t,n.addCom(new S.EventCom),n.createGun(e),n}return t=i,n=[{key:"event",get:function(){return this.getCom(S.EventCom)}},{key:"createGun",value:function(e){var t=e.gun_skin,n=e.skills,r=e.server_index,o=z(e,["gun_skin","skills","server_index"]),i=new A.GunModel(t,this);this.gun=i,this.updateInfo((0,w.default)({server_index:r},o)),this.initSkill(n)}},{key:"setClientInfo",value:function(e){this.gun.setClientInfo(e)}},{key:"init",value:function(){var e=this.skill_map;this.gun.init();var t,n=B(e);try{for(n.s();!(t=n.n()).done;)R(t.value,2)[1].init()}catch(e){n.e(e)}finally{n.f()}}},{key:"updateInfo",value:function(e){var t,n=e.bullet_cost;e.bullet_num<0&&this.is_cur_player&&((0,C.error)("test:> some thing case bullet num < 0"),e.bullet_num=0),(0,E.setProps)(this,e),e.bullet_cost&&this.gun.setBulletCost(n),null===(t=this.event)||void 0===t||t.emit(V.UpdateInfo)}},{key:"initSkill",value:function(e){var t=this.skill_map;for(var n in M.SkillCtorMap){var r=M.SkillCtorMap[n];if(r){var o=e[n]||{},i=(0,w.default)({player:this},o);t.set(n,new r(i))}}}},{key:"activeSkill",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.skill_map.get(e);n.active(t)}},{key:"disableSkill",value:function(e){this.skill_map.get(e).disable()}},{key:"resetSkill",value:function(e){this.skill_map.get(e).reset()}},{key:"getSkill",value:function(e){return this.skill_map.get(e)}},{key:"addSkillNum",value:function(e,t){var n=this.skill_map.get(e);n?(t=n.skill_core.num+t,n.skill_core.setNum(t)):(0,C.error)("cant find skill for ".concat(e))}},{key:"captureFish",value:function(e,t){return H(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i,a,u,l,c,s,f=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new m.default((function(n,r){var o;null===(o=f.event)||void 0===o||o.emit(V.CaptureFish,{pos:e,data:t,resolve:n})}));case 2:if(!this.destroyed){n.next=4;break}return n.abrupt("return");case 4:if(r=t.win,o=t.winScore,i=t.drop,a=this.bullet_num,u=this.score,this.updateInfo({bullet_num:a+(r||0),score:u+(o||0)}),i){l=B(i);try{for(l.s();!(c=l.n()).done;)s=c.value,this.addSkillNum(s.itemId,s.itemNum)}catch(e){l.e(e)}finally{l.f()}}case 8:case"end":return n.stop()}}),n,this)})))}},{key:"changeSkin",value:function(e){this.gun.changeSkin(e)}},{key:"destroy",value:function(){var e,t=this.gun,n=this.skill_map,r=this.game,o=B(n);try{for(o.s();!(e=o.n()).done;)R(e.value,2)[1].destroy()}catch(e){o.e(e)}finally{o.f()}t.destroy(),r.removePlayer(this),this.event.emit(V.Destroy),this.skill_map.clear(),this.gun=void 0,D(F(i.prototype),"destroy",this).call(this)}}],n&&O(t.prototype,n),r&&O(t,r),i}(k.ComponentManager);t.PlayerModel=Y},34085:function(e,t,n){"use strict";function r(e){return r="function"==typeof l&&"symbol"==typeof c?function(e){return typeof e}:function(e){return e&&"function"==typeof l&&e.constructor===l&&e!==l.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(63978),l=n(65420),c=n(98341);u(t,"__esModule",{value:!0}),t.AutoShootModel=void 0;var s=v(n(85507)),f=v(n(21611)),h=n(74227),p=n(43776);function v(e){return e&&e.__esModule?e:{default:e}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),u(e,r.key,r)}}function y(e,t){return y=i||function(e,t){return e.__proto__=t,e},y(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return _=s.default?f.default:function(e){return e.__proto__||(0,f.default)(e)},_(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(i,e);var t,n,r,o=m(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).initCom(e),t}return t=i,(n=[{key:"initCom",value:function(e){var t=new p.SkillCoreCom(e);this.addCom(t),this.skill_core=t}},{key:"toggle",value:function(){this.skill_core.status===p.SkillStatus.Normal?this.active():this.disable()}},{key:"init",value:function(){this.skill_core.init()}},{key:"reset",value:function(){var e=this.skill_core;e.player.gun.autoShoot.clear(),e.reset()}},{key:"active",value:function(){var e=this.skill_core;this.skill_core.player.gun.autoShoot.active(),e.active({used_time:0})}},{key:"disable",value:function(){this.skill_core.reset(),this.reset()}}])&&d(t.prototype,n),r&&d(t,r),i}(h.ComponentManager);t.AutoShootModel=b},36065:function(e,t,n){"use strict";function r(e){return r="function"==typeof s&&"symbol"==typeof p?function(e){return typeof e}:function(e){return e&&"function"==typeof s&&e.constructor===s&&e!==s.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(63978),l=n(3649),c=n(66419),s=n(65420),f=n(19996),h=n(41511),p=n(98341);u(t,"__esModule",{value:!0}),t.BombModel=void 0;var v=b(n(85507)),d=b(n(21611)),y=n(74227),m=n(11263),g=n(42717),_=n(43776);function b(e){return e&&e.__esModule?e:{default:e}}function w(e,t){var n=void 0!==s&&f(e)||e["@@iterator"];if(!n){if(h(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return k(e,t);var r=l(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return c(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),u(e,r.key,r)}}function x(e,t){return x=i||function(e,t){return e.__proto__=t,e},x(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var i=I(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function I(e){return I=v.default?d.default:function(e){return e.__proto__||(0,d.default)(e)},I(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(i,e);var t,n,r,o=C(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).initCom(e),t}return t=i,(n=[{key:"initCom",value:function(e){var t=new _.SkillCoreCom(e);this.addCom(t),this.skill_core=t}},{key:"init",value:function(){this.skill_core.init()}},{key:"active",value:function(e){var t,n=e.num,r=e.fish_list,o=e.pos,i=e.used_time,a=e.is_bomb_fish,u=this.skill_core,l=u.player,c=w(r);try{for(c.s();!(t=c.n()).done;){var s=t.value,f=s.eid,h=s.win,p=s.drop,v=(0,m.getFishById)(f);v?(0,g.playerCaptureFish)(l,v,{win:h,drop:p}):l.updateInfo({bullet_num:l.bullet_num+h})}}catch(e){c.e(e)}finally{c.f()}u.activeEvent(o),a&&u.active({num:n,used_time:i})}},{key:"reset",value:function(){this.skill_core.reset()}},{key:"disable",value:function(){this.skill_core.disable()}}])&&S(t.prototype,n),r&&S(t,r),i}(y.ComponentManager);t.BombModel=A},33302:function(e,t,n){"use strict";function r(e){return r="function"==typeof l&&"symbol"==typeof c?function(e){return typeof e}:function(e){return e&&"function"==typeof l&&e.constructor===l&&e!==l.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(63978),l=n(65420),c=n(98341);u(t,"__esModule",{value:!0}),t.FreezeModel=void 0;var s=d(n(85507)),f=d(n(21611)),h=n(74227),p=n(11263),v=n(43776);function d(e){return e&&e.__esModule?e:{default:e}}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),u(e,r.key,r)}}function m(e,t){return m=i||function(e,t){return e.__proto__=t,e},m(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return b=s.default?f.default:function(e){return e.__proto__||(0,f.default)(e)},b(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(i,e);var t,n,r,o=g(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).initCom(e),t}return t=i,(n=[{key:"initCom",value:function(e){var t=new v.SkillCoreCom(e);this.addCom(t),this.skill_core=t}},{key:"init",value:function(){this.skill_core.init()}},{key:"reset",value:function(){this.skill_core.reset()}},{key:"active",value:function(e){var t=this.skill_core,n=e.used_time,r=e.fish_list,o=e.duration;p.modelState.app.game.freezing_com.freezing(o-n,r),t.active(e)}},{key:"disable",value:function(){this.skill_core.disable()}}])&&y(t.prototype,n),r&&y(t,r),i}(h.ComponentManager);t.FreezeModel=w},69718:function(e,t,n){"use strict";function r(e){return r="function"==typeof p&&"symbol"==typeof y?function(e){return typeof e}:function(e){return e&&"function"==typeof p&&e.constructor===p&&e!==p.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(62734),c=n(34074),s=n(63978),f=n(3649),h=n(66419),p=n(65420),v=n(19996),d=n(41511),y=n(98341);s(t,"__esModule",{value:!0}),t.LockFishModel=t.GunLockFishEvent=void 0;var m=R(n(81643)),g=R(n(14310)),_=R(n(39392)),b=R(n(51942)),w=R(n(33032)),k=R(n(86116)),S=n(74227),x=n(30260),C=n(3828),E=n(11263),I=n(55161),A=n(37577),M=n(83091),T=n(43776);function R(e){return e&&e.__esModule?e:{default:e}}function B(e,t){return function(e){if(d(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==p&&v(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||L(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){var n;if(e){if("string"==typeof e)return P(e,t);var r=f(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?h(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),s(e,r.key,r)}}function D(){return D="undefined"!=typeof Reflect&&l?l:function(e,t,n){var r=N(e,t);if(r){var o=c(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},D.apply(this,arguments)}function N(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=H(e)););return e}function U(e,t){return U=o||function(e,t){return e.__proto__=t,e},U(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var o=H(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return F(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return H=o?i:function(e){return e.__proto__||i(e)},H(e)}var z=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(0,m.default)(t).call(t,r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof g.default){var o=0;for(r=(0,g.default)(e);o<r.length;o++)(0,m.default)(t).call(t,r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},V={StartLock:"start_lock",StopLock:"stop_lock"};t.GunLockFishEvent=V;var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(i,e);var t,n,r,o=G(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).bullet_list=new _.default,t.onLockMove=function(){var e=F(t),n=e.gun,r=e.fish,o=e.skill_core;if(null==r?void 0:r.visible){var i=r.pos,a=i.x,u=i.y,l=n.pos,c=l.x,s=l.y;n.setDirection(new k.default.Vector(a-c,u-s)),o.player.need_emit&&((0,E.detectInScreen)(r.pos)||(t.unLock(),t.tipLock()))}},t.unLock=function(){var e=F(t),n=e.fish,r=e.gun,o=e.bullet_list;if(n&&r){var i,a=r.player,u=0,l=function(e,t){var n=void 0!==p&&v(e)||e["@@iterator"];if(!n){if(d(e)||(n=L(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(o);try{for(l.s();!(i=l.n()).done;){var c=B(i.value,2)[1];u+=c.bullet_cost,r.removeBullet(c),c.destroy()}}catch(e){l.e(e)}finally{l.f()}a.updateInfo({bullet_num:a.bullet_num+u}),o.clear(),r.event.emit(V.StopLock),r.setStatus(M.GunStatus.Normal),r.lock_fish=void 0,r.event.offAllCaller(F(t)),n.event.offAllCaller(F(t)),t.fish=null}},t.initCom(e),t}return t=i,(n=[{key:"init",value:function(){var e=this,t=this.timeout,n=this.skill_core,r=this.init_info,o=r.lock_fish,i=r.lock_left,a=z(r,["lock_fish","lock_left"]);i?t.createTimeout((function(){e.active((0,b.default)((0,b.default)({},a),{fish:o,duration:i+a.used_time,needActive:!0}))})):n.init(),this.gun=this.skill_core.player.gun}},{key:"reset",value:function(){this.skill_core.reset()}},{key:"initCom",value:function(e){var t=new T.SkillCoreCom(e),n=new x.TimeoutCom;this.addCom(t,n),this.skill_core=t,this.timeout=n,this.init_info=e}},{key:"active",value:function(e){var t=this,n=this.skill_core,r=e.fish,o=e.needActive;if(n.status===T.SkillStatus.Active||o){o&&n.active(e,(function(e){e===T.SkillStatus.Disable&&((0,I.log)("test:>lockFish:>disable"),t.unLock())}));var i=(0,E.getFishById)(r);if(!i)return(0,I.error)("cant find fish for eid=".concat(r));this.lock(i)}}},{key:"tipLock",value:function(){var e=this.gun,t=this.skill_core,n=(0,E.getAimFish)();n&&(0,I.log)("test:>tipLock",n,n.destroyed),t.activeEvent({fish:n,is_tip:!0,gun_pos:e.pos})}},{key:"lock",value:function(e){var t=this.gun,n=this.skill_core;this.unLock(),this.bindLockFish(e),n.activeEvent({fish:e,is_tip:!1,gun_pos:t.pos})}},{key:"bindLockFish",value:function(e){var t=this,n=this.gun,r=(this.skill_core,n.event),o=e.event;this.fish=e,n.lock_fish=e,this.onLockMove(),o.on(C.FishEvent.Move,this.onLockMove,this),o.on(C.FishEvent.Destroy,(function(){t.unLock(),(0,w.default)((function(){t.tipLock()}))}),this),n.setStatus(M.GunStatus.LockFish),n.preAddBullet(n.direction,!0),r.on(M.GunEvent.SwitchOn,(function(){n.preAddBullet(n.direction,!0)}),this);var i=0;r.on(M.GunEvent.AddBullet,(function(e){if(e.lock){var n=e.bullet_group,r=i+"";i++,t.bullet_list.set(r,n),n.event.on(A.BulletGroupEvent.Destroy,(function(){t.bullet_list.delete(r)}),t)}}),this)}},{key:"disable",value:function(){this.skill_core.disable()}},{key:"destroy",value:function(){var e,t=this.fish;null===(e=null==t?void 0:t.event)||void 0===e||e.offAllCaller(this),this.unLock(),this.fish=void 0,this.skill_core=void 0,this.gun=void 0,D(H(i.prototype),"destroy",this).call(this)}}])&&O(t.prototype,n),r&&O(t,r),i}(S.ComponentManager);t.LockFishModel=Y},43776:function(e,t,n){"use strict";function r(e){return r="function"==typeof s&&"symbol"==typeof f?function(e){return typeof e}:function(e){return e&&"function"==typeof s&&e.constructor===s&&e!==s.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(62734),l=n(34074),c=n(63978),s=n(65420),f=n(98341);c(t,"__esModule",{value:!0}),t.SkillStatus=t.SkillEvent=t.SkillCoreCom=void 0;var h,p=w(n(51942)),v=w(n(85507)),d=w(n(21611)),y=n(74227),m=n(38182),g=n(45359),_=n(55161),b=n(77513);function w(e){return e&&e.__esModule?e:{default:e}}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),c(e,r.key,r)}}function S(){return S="undefined"!=typeof Reflect&&u?u:function(e,t,n){var r=x(e,t);if(r){var o=l(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},S.apply(this,arguments)}function x(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=M(e)););return e}function C(e,t){return C=i||function(e,t){return e.__proto__=t,e},C(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var i=M(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return M=v.default?d.default:function(e){return e.__proto__||(0,d.default)(e)},M(e)}t.SkillStatus=h,function(e){e.Normal="normal",e.PreActive="pre_active",e.Disable="disable",e.Active="active"}(h||(t.SkillStatus=h={}));var T={UpdateInfo:"update_info",StatusChange:"status_change",UpdateRadio:"update_radio",ActiveSkill:"active_skill",DisableSkill:"disable_skill",Destroy:"destroy"};t.SkillEvent=T;var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(i,e);var t,n,r,o=E(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).cool_time=10,t.used_time=0,t.status=h.Normal,(0,b.setProps)(A(t),(0,p.default)({},e)),t.initCom(),t}return t=i,(n=[{key:"initCom",value:function(){var e=new m.EventCom;this.addCom(e),this.event=e}},{key:"init",value:function(){var e=this.used_time,t=this.num;e&&(this.active({used_time:e,num:t}),(0,b.setProps)(this,{used_time:0})),this.event.emit(T.UpdateInfo)}},{key:"setNum",value:function(e){this.num=e,this.event.emit(T.UpdateInfo)}},{key:"setStatus",value:function(e){this.status!==e&&(this.status=e,this.event.emit(T.StatusChange,e))}},{key:"activeEvent",value:function(e){this.event.emit(T.ActiveSkill,e)}},{key:"active",value:function(e,t){var n=this;if(this.status===h.Active)return!1;var r=this.cool_time,o=this.event,i=e.used_time,a=e.num,u=e.duration||i,l=r-i,c=u-i;c>l&&(c=l),this.setNum(a),this.setStatus(h.Active),this.count_index=(0,g.startCount)(l,.05,(function(e){var i=(1-e)*l,a=e*(l/r);o.emit(T.UpdateRadio,a),i>=c&&n.status!==h.Disable&&(n.disable(),(0,b.callFunc)(t,n.status)),0===a&&(n.reset(),(0,b.callFunc)(t,n.status))}))}},{key:"reset",value:function(){this.status!==h.Active&&((0,_.debug)("SkillCoreCom:>reset:>"),this.setStatus(h.Normal),(0,g.clearCount)(this.count_index))}},{key:"disable",value:function(){this.setStatus(h.Disable)}},{key:"destroy",value:function(){this.event.emit(T.Destroy),this.setStatus(h.Normal),(0,g.clearCount)(this.count_index),S(M(i.prototype),"destroy",this).call(this)}}])&&k(t.prototype,n),r&&k(t,r),i}(y.ComponentManager);t.SkillCoreCom=R},6053:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.SkillCtorMap=void 0;var r,o,i=(r=n(63978))&&r.__esModule?r:{default:r},a=n(66058),u=n(34085),l=n(36065),c=n(33302),s=n(69718);function f(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=(f(o={},a.SkillMap.Freezing,c.FreezeModel),f(o,a.SkillMap.Bomb,l.BombModel),f(o,a.SkillMap.LockFish,s.LockFishModel),f(o,a.SkillMap.Auto,u.AutoShootModel),o);t.SkillCtorMap=h},37440:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.ModelEvent=void 0;t.ModelEvent={Destroy:"destroy"}},11263:function(e,t,n){"use strict";var r=n(41511),o=n(65420),i=n(19996),a=n(66419),u=n(3649);n(63978)(t,"__esModule",{value:!0}),t.detectInScreen=w,t.getAimFish=function(){var e,t=b.app.game,n=(u=(0,l.default)(e=t.getAllFish()).call(e),function(e){if(r(e))return _(e)}(u)||function(e){if(void 0!==o&&null!=i(e)||null!=e["@@iterator"])return a(e)}(u)||g(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var u;return n=(0,c.default)(n).call(n,(function(e){return e.visible&&w(e.pos)})),(n=(0,s.default)(n).call(n,(function(e,t){return t.score-e.score})))[0]},t.getCollisionAllFish=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=b.app.game.getAllFish(),o=m(r);try{for(o.s();!(t=o.n()).done;){var i=y(t.value,2),a=i[1];if(-1===(0,f.default)(n).call(n,a)){var u=a.body,l=a.visible;l&&(0,v.detectCollision)(e,u)&&n.push(a)}}}catch(e){o.e(e)}finally{o.f()}return n},t.getCollisionFish=function(e){var t,n=m(b.app.game.getAllFish());try{for(n.s();!(t=n.n()).done;){var r=y(t.value,2)[1],o=r.body;if((0,v.detectCollision)(e,o))return r}}catch(e){n.e(e)}finally{n.f()}},t.getCurPlayer=function(){return b.app.game.getCurPlayer()},t.getCurUserId=function(e){if(e)return b.app.arena_info.user_id;return b.app.user_info.user_id},t.getFishById=function(e){return b.app.game.getFishById(e)},t.getGameCurrency=function(){return b.app.game.currency},t.getPlayerById=function(e){return b.app.game.getPlayerById(e)},t.getUserInfo=function(){return b.app.user_info},t.isCurUser=function(e,t){if(t)return e===b.app.arena_info.user_id;return e===b.app.user_info.user_id},t.modelState=void 0;var l=d(n(89400)),c=d(n(20116)),s=d(n(47302)),f=d(n(81643)),h=n(24629),p=n(66058),v=n(34970);function d(e){return e&&e.__esModule?e:{default:e}}function y(e,t){return function(e){if(r(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==o&&i(e)||e["@@iterator"];if(null==n)return;var r,a,u=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(u.push(r.value),!t||u.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return u}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){var n=void 0!==o&&i(e)||e["@@iterator"];if(!n){if(r(e)||(n=g(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,u=function(){};return{s:u,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,l=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw l}}}}function g(e,t){var n;if(e){if("string"==typeof e)return _(e,t);var r=u(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b={};function w(e){var t=h.Laya.stage.width,n=(p.Config.PoolWidth-t)/2,r=n+t,o=e.x;return o>n&&o<r}t.modelState=b},18657:function(e,t,n){"use strict";function r(e){return r="function"==typeof c&&"symbol"==typeof p?function(e){return typeof e}:function(e){return e&&"function"==typeof c&&e.constructor===c&&e!==c.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(63978),l=n(41511),c=n(65420),s=n(19996),f=n(3649),h=n(66419),p=n(98341);u(t,"__esModule",{value:!0}),t.SettingModel=t.SettingEvent=void 0;var v=_(n(85507)),d=_(n(21611)),y=n(74227),m=n(38182),g=n(54375);function _(e){return e&&e.__esModule?e:{default:e}}function b(e,t){return function(e){if(l(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==c&&s(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){var n;if(!e)return;if("string"==typeof e)return w(e,t);var r=f(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return h(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),u(e,r.key,r)}}function S(e,t){return S=i||function(e,t){return e.__proto__=t,e},S(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var i=E(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){return E=v.default?d.default:function(e){return e.__proto__||(0,d.default)(e)},E(e)}var I={VoiceChange:"voice_change",MusicChange:"music_change"};t.SettingEvent=I;var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(i,e);var t,n,r,o=x(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).addCom(new m.EventCom),e}return t=i,(n=[{key:"initUserInfo",value:function(e){var t=e.userId,n=b((0,g.getAudio)(t),2),r=n[0],o=n[1];this.voice=r,this.music=o}},{key:"event",get:function(){return this.getCom(m.EventCom)}},{key:"setVoice",value:function(e){e!==this.voice&&(this.voice=e,(0,g.setVoice)(e),this.event.emit(I.VoiceChange,e))}},{key:"setMusic",value:function(e){e!==this.music&&(this.music=e,(0,g.setMusic)(e),this.event.emit(I.MusicChange,e))}}])&&k(t.prototype,n),r&&k(t,r),i}(y.ComponentManager);t.SettingModel=A},87759:function(e,t,n){"use strict";function r(e){return r="function"==typeof l&&"symbol"==typeof c?function(e){return typeof e}:function(e){return e&&"function"==typeof l&&e.constructor===l&&e!==l.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(63978),l=n(65420),c=n(98341);u(t,"__esModule",{value:!0}),t.UserInfoModel=t.UserInfoEvent=void 0;var s=g(n(39392)),f=g(n(85507)),h=g(n(21611)),p=n(74227),v=n(38182),d=n(66058),y=n(36620),m=n(54375);function g(e){return e&&e.__esModule?e:{default:e}}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),u(e,r.key,r)}}function b(e,t){return b=i||function(e,t){return e.__proto__=t,e},b(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var i=S(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return S=f.default?h.default:function(e){return e.__proto__||(0,h.default)(e)},S(e)}var x={CurBalanceChange:"cur_balance_change",LangChange:"lang_change",AccountChange:"account_change",NicknameChange:"nick_name_change"};t.UserInfoEvent=x;var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,r,o=w(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).cur_balance="BTC",e.account_map=new s.default,e}return t=i,n=[{key:"init",value:function(){var e=d.Config.lang;this.setLang(e)}},{key:"initUserInfo",value:function(e){var t=e.userId,n=e.showName,r=e.balances;this.setUserId(t),this.setNickname(n),this.setAccount(r)}},{key:"event",get:function(){var e=this.getCom(v.EventCom);return e||(e=new v.EventCom,this.addCom(e)),e}},{key:"setCurBalance",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,m.setCacheBalance)(e,null===(t=this.account_map.get(e))||void 0===t?void 0:t.num),(e!==this.cur_balance||n)&&(this.cur_balance=e,this.event.emit(x.CurBalanceChange,e))}},{key:"setLang",value:function(e){e!==this.lang&&(this.lang=e,(0,y.setItem)("local_lang",e),this.event.emit(x.LangChange,e))}},{key:"setUserId",value:function(e){this.user_id=e}},{key:"setNickname",value:function(e){this.nickname=e,this.event.emit(x.NicknameChange,this.nickname)}},{key:"setAccount",value:function(e){var t;for(var n in e){t||(t=n);var r=e[n],o=r.balance,i=r.imageUrl,a=r.hide;this.account_map.set(n,{num:Number(o),icon:i,hide:a})}this.event.emit(x.AccountChange,this.account_map);var u=(0,m.getCacheCurrency)(this.account_map);this.setCurBalance(u||t,!0)}}],n&&_(t.prototype,n),r&&_(t,r),i}(p.ComponentManager);t.UserInfoModel=C},54375:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.getAudio=function(e){var t=(0,l.getItem)("".concat(e,":voice")),n=(0,l.getItem)("".concat(e,":music")),r=n?Number(n):.5,i=t?Number(t):.5;return o.AudioCtrl.setVoice(i),o.AudioCtrl.setMusic(r),[i,r]},t.getCacheCurrency=function(e){var t=paladin.getCurrency();if(t&&e.get(t))return t;if(e.size)return(0,r.default)(e)[0]},t.getCurrencyIcon=function(e){var t,n=(0,u.getUserInfo)().account_map;return null===(t=n.get(e))||void 0===t?void 0:t.icon},t.setCacheBalance=function(e,t){if(void 0===e)return;paladin.account.currency({name:e,balance:t});var n=(0,u.getCurUserId)();return(0,l.setItem)("".concat(n,":balance"),e)},t.setMusic=function(e){var t=(0,u.getCurUserId)();o.AudioCtrl.setMusic(e),(0,l.setItem)("".concat(t,":music"),e+"")},t.setVoice=function(e){var t=(0,u.getCurUserId)();o.AudioCtrl.setVoice(e),(0,l.setItem)("".concat(t,":voice"),e+"")},t.tipPlatformCurrency=function(e){var t=(0,i.getLang)(),n=paladin.getCurrency();e!==n&&c.default.tip(a.InternationalTip[t].platformDiffCurrencyEnterGameErr)};var r=s(n(69301)),o=n(80356),i=n(58465),a=n(89970),u=n(11263),l=n(36620),c=s(n(10535));function s(e){return e&&e.__esModule?e:{default:e}}},47638:function(e,t,n){"use strict";var r,o=(r=n(86029))&&r.__esModule?r:{default:r};Math.log2=o.default||function(e){return Math.log(e)*Math.LOG2E}},84228:function(e,t,n){"use strict";function r(e){return r="function"==typeof s&&"symbol"==typeof f?function(e){return typeof e}:function(e){return e&&"function"==typeof s&&e.constructor===s&&e!==s.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(62734),l=n(34074),c=n(63978),s=n(65420),f=n(98341);c(t,"__esModule",{value:!0}),t.ui=void 0;var h=B(n(85507)),p=B(n(21611)),v=n(28294),d=n(23835),y=n(96530),m=n(93408),g=n(33879),_=n(75055),b=n(78362),w=n(44476),k=n(81870),S=n(58336),x=n(75485),C=n(79698),E=n(51931),I=n(57768),A=n(42595),M=n(70078),T=n(37564),R=n(22825);function B(e){return e&&e.__esModule?e:{default:e}}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),c(e,r.key,r)}}function O(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),e}function D(){return D="undefined"!=typeof Reflect&&u?u:function(e,t,n){var r=N(e,t);if(r){var o=l(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},D.apply(this,arguments)}function N(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=H(e)););return e}function U(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}function G(e,t){return G=i||function(e,t){return e.__proto__=t,e},G(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var i=H(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return F(this,n)}}function F(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function H(e){return H=h.default?p.default:function(e){return e.__proto__||(0,p.default)(e)},H(e)}var z,V=d.ClassUtils.regClass;t.ui=z,function(e){!function(e){!function(e){var t=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[y.Label,m.Box,g.Button,_.Dialog,b.Sprite,w.Image],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/alert/alert")}}]),n}(_.Dialog);e.alertUI=t,V("ui.pop.alert.alertUI",t);var n=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[w.Image,m.Box,y.Label,_.Dialog],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/alert/arenaGameStatus")}}]),n}(_.Dialog);e.arenaGameStatusUI=n,V("ui.pop.alert.arenaGameStatusUI",n);var r=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[w.Image,y.Label,_.Dialog],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/alert/arenaTaskTip")}}]),n}(_.Dialog);e.arenaTaskTipUI=r,V("ui.pop.alert.arenaTaskTipUI",r);var o=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[y.Label,w.Image,g.Button,_.Dialog,m.Box,b.Sprite],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/alert/buyBullet")}}]),n}(_.Dialog);e.buyBulletUI=o,V("ui.pop.alert.buyBulletUI",o);var i=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[m.Box,w.Image,y.Label,_.Dialog],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/alert/tip")}}]),n}(_.Dialog);e.tipUI=i,V("ui.pop.alert.tipUI",i);var a=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[w.Image,y.Label,_.Dialog],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/alert/topTip")}}]),n}(_.Dialog);e.topTipUI=a,V("ui.pop.alert.topTipUI",a);var u=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[y.Label,k.Text,_.Dialog,m.Box,b.Sprite,w.Image,g.Button],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/alert/voice")}}]),n}(_.Dialog);e.voiceUI=u,V("ui.pop.alert.voiceUI",u);var l=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[m.Box,S.ProgressBar,g.Button],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/alert/voiceProgress")}}]),n}(v.Scene);e.voiceProgressUI=l,V("ui.pop.alert.voiceProgressUI",l)}(e.alert||(e.alert={}))}(e.pop||(e.pop={}))}(z||(t.ui=z={})),function(e){!function(e){!function(e){var t=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[m.Box,y.Label,g.Button,x.List,_.Dialog,w.Image,b.Sprite],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/arenaCompetitionInfo/arenaCompetitionInfo")}}]),n}(_.Dialog);e.arenaCompetitionInfoUI=t,V("ui.pop.arenaCompetitionInfo.arenaCompetitionInfoUI",t);var n=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[w.Image,y.Label,C.View,b.Sprite,m.Box],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/arenaCompetitionInfo/rankItem")}}]),n}(C.View);e.rankItemUI=n,V("ui.pop.arenaCompetitionInfo.rankItemUI",n)}(e.arenaCompetitionInfo||(e.arenaCompetitionInfo={}))}(e.pop||(e.pop={}))}(z||(t.ui=z={})),function(e){!function(e){!function(e){var t=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[g.Button,y.Label,x.List,_.Dialog,m.Box,b.Sprite],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/arenaGift/arenaGift")}}]),n}(_.Dialog);e.arenaGiftUI=t,V("ui.pop.arenaGift.arenaGiftUI",t);var n=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[w.Image,y.Label,C.View,b.Sprite],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/arenaGift/itemView")}}]),n}(C.View);e.itemViewUI=n,V("ui.pop.arenaGift.itemViewUI",n)}(e.arenaGift||(e.arenaGift={}))}(e.pop||(e.pop={}))}(z||(t.ui=z={})),function(e){!function(e){!function(e){var t=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[y.Label,E.Tab,I.ViewStack,_.Dialog,m.Box,b.Sprite,w.Image,g.Button,A.VBox],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/arenaHelp/arenaHelp")}}]),n}(_.Dialog);e.arenaHelpUI=t,V("ui.pop.arenaHelp.arenaHelpUI",t)}(e.arenaHelp||(e.arenaHelp={}))}(e.pop||(e.pop={}))}(z||(t.ui=z={})),function(e){!function(e){!function(e){var t=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[y.Label,E.Tab,I.ViewStack,x.List,_.Dialog,m.Box,b.Sprite,g.Button,w.Image,M.Clip],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/arenaRank/arenaRank")}}]),n}(_.Dialog);e.arenaRankUI=t,V("ui.pop.arenaRank.arenaRankUI",t)}(e.arenaRank||(e.arenaRank={}))}(e.pop||(e.pop={}))}(z||(t.ui=z={})),function(e){!function(e){!function(e){var t=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[g.Button,y.Label,w.Image,_.Dialog,m.Box,b.Sprite],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/arenaSettle/arenaSettle")}}]),n}(_.Dialog);e.arenaSettleUI=t,V("ui.pop.arenaSettle.arenaSettleUI",t)}(e.arenaSettle||(e.arenaSettle={}))}(e.pop||(e.pop={}))}(z||(t.ui=z={})),function(e){!function(e){!function(e){var t=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[y.Label,x.List,_.Dialog,m.Box,b.Sprite,w.Image,g.Button],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/arenaTopPlayer/arenaTopPlayer")}}]),n}(_.Dialog);e.arenaTopPlayerUI=t,V("ui.pop.arenaTopPlayer.arenaTopPlayerUI",t);var n=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[y.Label,C.View,b.Sprite],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/arenaTopPlayer/item")}}]),n}(C.View);e.itemUI=n,V("ui.pop.arenaTopPlayer.itemUI",n)}(e.arenaTopPlayer||(e.arenaTopPlayer={}))}(e.pop||(e.pop={}))}(z||(t.ui=z={})),function(e){!function(e){!function(e){var t=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[m.Box,g.Button,y.Label,_.Dialog],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/guide/GuideDialog")}}]),n}(_.Dialog);e.GuideDialogUI=t,V("ui.pop.guide.GuideDialogUI",t);var n=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[T.Skeleton,b.Sprite],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/guide/GuidePointer")}}]),n}(v.Scene);e.GuidePointerUI=n,V("ui.pop.guide.GuidePointerUI",n);var r=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[R.HTMLDivElement,C.View,w.Image],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/guide/GuidePrompt")}}]),n}(C.View);e.GuidePromptUI=r,V("ui.pop.guide.GuidePromptUI",r)}(e.guide||(e.guide={}))}(e.pop||(e.pop={}))}(z||(t.ui=z={})),function(e){!function(e){!function(e){var t=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[m.Box,y.Label,x.List,_.Dialog,w.Image,g.Button,b.Sprite,E.Tab,I.ViewStack],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/help/help")}}]),n}(_.Dialog);e.helpUI=t,V("ui.pop.help.helpUI",t);var n=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[w.Image,y.Label,C.View],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/help/helpItem")}}]),n}(C.View);e.helpItemUI=n,V("ui.pop.help.helpItemUI",n);var r=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[m.Box,w.Image,y.Label,C.View,b.Sprite],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/help/skillItem")}}]),n}(C.View);e.skillItemUI=r,V("ui.pop.help.skillItemUI",r)}(e.help||(e.help={}))}(e.pop||(e.pop={}))}(z||(t.ui=z={})),function(e){!function(e){!function(e){var t=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[T.Skeleton,w.Image,C.View,m.Box,b.Sprite],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.createView(n.uiView)}}]),n}(C.View);t.uiView={type:"View",props:{width:119,height:119},compId:2,child:[{type:"Box",props:{y:-1,x:-1},compId:18,child:[{type:"SkeletonPlayer",props:{y:59,x:58,visible:!1,var:"light",url:"image/pop/lottery/exchange_circle_light.sk",runtime:"Laya.Skeleton"},compId:15},{type:"Image",props:{y:0,x:-3,width:128,skin:"image/pop/lottery/lottery_item_bg.png",height:128},compId:16,child:[{type:"Sprite",props:{y:-16,x:-16,texture:"image/pop/lottery/lottery_item_light.png"},compId:17}]},{type:"Image",props:{y:60,x:60,width:140,var:"light_circle",skin:"image/pop/lottery/light_circle.png",scaleY:1.1,scaleX:1.1,pivotY:70,pivotX:70,height:140,alpha:.8},compId:21},{type:"SkeletonPlayer",props:{y:61,x:60,width:1,visible:!1,var:"box_ani",url:"image/pop/lottery/box.sk",height:100,runtime:"Laya.Skeleton"},compId:22},{type:"Image",props:{y:25,x:22,var:"box_img",skin:"image/pop/lottery/box_normal.png"},compId:26}]}],loadList:["image/pop/lottery/exchange_circle_light.sk","image/pop/lottery/lottery_item_bg.png","image/pop/lottery/lottery_item_light.png","image/pop/lottery/light_circle.png","image/pop/lottery/box.sk","image/pop/lottery/box_normal.png"],loadList3D:[]},e.itemUI=t,V("ui.pop.lottery.itemUI",t);var n=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[g.Button,y.Label,w.Image,b.Sprite,m.Box],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.createView(n.uiView)}}]),n}(v.Scene);n.uiView={type:"Scene",props:{width:211,height:253},compId:2,child:[{type:"Image",props:{y:0,x:3.5,skin:"image/pop/lottery/lottery_item2_bg.png",sizeGrid:"42,60,37,53"},compId:17,child:[{type:"SkeletonPlayer",props:{y:127,x:101,url:"image/pop/lottery/exchange_item_light.sk",runtime:"Laya.Skeleton"},compId:13},{type:"Image",props:{y:144,x:1,width:202,skin:"image/pop/lottery/lottery_item2_banner.png",sizeGrid:"0,127,0,31",height:28},compId:19}]},{type:"Sprite",props:{y:20,x:49,texture:"image/pop/lottery/lottery_item2_nbg.png"},compId:4},{type:"Button",props:{y:177,x:37,var:"btn_buy",stateNum:1,skin:"image/pop/lottery/btn_lottery_bug.png"},compId:5,child:[{type:"Label",props:{y:12,x:65,width:53,var:"price_label",text:"500",height:24,fontSize:24,color:"#174c7d",bold:!0,align:"right"},compId:7},{type:"Image",props:{y:8.5,x:22,width:45,var:"price_tag",skin:"image/pop/lottery/tag_bg.png",height:33},compId:12,child:[{type:"Image",props:{y:4,x:12,width:22,var:"coin_icon",skin:"image/pop/lottery/tag_coin_bg.png",height:22},compId:21}]}]},{type:"Label",props:{y:145,width:156,var:"remain_label",valign:"middle",text:"剩余10/20",strokeColor:"#621615",stroke:2,height:22,fontSize:18,color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:8},{type:"Box",props:{y:44,width:183,height:80,centerX:1},compId:18,child:[{type:"Label",props:{y:15,x:-33,width:145,var:"num_label",valign:"middle",text:"1000",strokeColor:"#692315",stroke:2,pivotY:15,pivotX:73,height:30,fontSize:36,font:"lottery",color:"#f4e090",centerX:0,bold:!0,align:"center"},compId:10},{type:"Label",props:{y:69,x:0,width:155,var:"item_type",valign:"middle",text:"BTC",strokeColor:"#692315",stroke:2,pivotY:30,pivotX:73,height:30,fontSize:36,font:"alphabet",color:"#f4e090",centerX:0,bold:!0,align:"center"},compId:22}]}],loadList:["image/pop/lottery/lottery_item2_bg.png","image/pop/lottery/exchange_item_light.sk","image/pop/lottery/lottery_item2_banner.png","image/pop/lottery/lottery_item2_nbg.png","image/pop/lottery/btn_lottery_bug.png","image/pop/lottery/tag_bg.png","image/pop/lottery/tag_coin_bg.png"],loadList3D:[]},e.item2UI=n,V("ui.pop.lottery.item2UI",n);var r=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[g.Button,y.Label,w.Image,b.Sprite,m.Box],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.createView(n.uiView)}}]),n}(v.Scene);r.uiView={type:"Scene",props:{width:182,height:253},compId:2,child:[{type:"Image",props:{y:0,x:2,width:182,skin:"image/pop/lottery/lottery_item2_bg.png",sizeGrid:"42,60,37,53",height:253},compId:17,child:[{type:"SkeletonPlayer",props:{y:126.5,x:87.5,url:"image/pop/lottery/exchange_item_light.sk",runtime:"Laya.Skeleton"},compId:13},{type:"Image",props:{y:144,x:1,width:173,skin:"image/pop/lottery/lottery_item2_banner.png",sizeGrid:"0,127,0,31",height:28},compId:19}]},{type:"Sprite",props:{y:22,x:33,texture:"image/pop/lottery/lottery_item2_nbg.png"},compId:4},{type:"Button",props:{y:178,x:22,var:"btn_buy",stateNum:1,skin:"image/pop/lottery/btn_lottery_bug.png"},compId:5,child:[{type:"Label",props:{y:12,x:65,width:51,var:"price_label",text:"500",height:24,fontSize:24,color:"#174c7d",bold:!0,align:"right"},compId:7},{type:"Image",props:{y:8.5,x:22,width:45,var:"price_tag",skin:"image/pop/lottery/tag_bg.png",height:33},compId:12,child:[{type:"Image",props:{y:5,x:13.5,width:20,var:"coin_icon",skin:"image/pop/lottery/tag_coin_bg.png",height:20},compId:21}]}]},{type:"Label",props:{y:145,width:156,var:"remain_label",valign:"middle",text:"剩余10/20",strokeColor:"#621615",stroke:2,height:22,fontSize:18,color:"#ffffff",centerX:4,bold:!0,align:"center"},compId:8},{type:"Box",props:{y:45,width:183,height:80,centerX:-1},compId:18,child:[{type:"Label",props:{y:15,x:-33,width:145,var:"num_label",valign:"middle",text:"1000",strokeColor:"#692315",stroke:2,pivotY:15,pivotX:73,height:30,fontSize:36,font:"lottery",color:"#f4e090",centerX:0,bold:!0,align:"center"},compId:10},{type:"Label",props:{y:69,x:0,width:155,var:"item_type",valign:"middle",text:"BTC",strokeColor:"#692315",stroke:2,pivotY:30,pivotX:73,height:30,fontSize:36,font:"alphabet",color:"#f4e090",centerX:0,bold:!0,align:"center"},compId:23}]}],loadList:["image/pop/lottery/lottery_item2_bg.png","image/pop/lottery/exchange_item_light.sk","image/pop/lottery/lottery_item2_banner.png","image/pop/lottery/lottery_item2_nbg.png","image/pop/lottery/btn_lottery_bug.png","image/pop/lottery/tag_bg.png","image/pop/lottery/tag_coin_bg.png"],loadList3D:[]},e.item2fiveUI=r,V("ui.pop.lottery.item2fiveUI",r);var o=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[y.Label,g.Button,w.Image,b.Sprite,m.Box],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.createView(n.uiView)}}]),n}(v.Scene);o.uiView={type:"Scene",props:{width:877,height:230},compId:2,child:[{type:"Image",props:{y:0,x:0,width:877,skin:"image/pop/lottery/lottery_item2_bg.png",sizeGrid:"23,76,31,60",height:240},compId:17},{type:"Sprite",props:{y:3,x:66,texture:"image/pop/lottery/money_bg.png"},compId:19,child:[{type:"SkeletonPlayer",props:{y:156,x:165,url:"image/pop/lottery/exchange_item_light.sk",scaleY:-1,runtime:"Laya.Skeleton"},compId:24},{type:"SkeletonPlayer",props:{y:86,x:165,url:"image/pop/lottery/exchange_item_light.sk",runtime:"Laya.Skeleton"},compId:13},{type:"Sprite",props:{y:58,x:109,texture:"image/pop/lottery/lottery_item2_nbg.png"},compId:4},{type:"Box",props:{y:81,width:210,height:71,centerX:-1},compId:18,child:[{type:"Label",props:{y:15,x:-33,width:145,var:"num_label",valign:"middle",text:"1000",strokeColor:"#692315",stroke:2,pivotY:15,pivotX:73,height:30,fontSize:36,font:"lottery",color:"#f4e090",centerX:0,bold:!0,align:"center"},compId:10},{type:"Label",props:{y:69,x:0,width:155,var:"item_type",valign:"middle",text:"BTC",strokeColor:"#692315",stroke:2,pivotY:30,pivotX:73,height:30,fontSize:36,font:"alphabet",color:"#f4e090",centerX:0,bold:!0,align:"center"},compId:26}]}]},{type:"Box",props:{y:59,x:391,width:475,height:133},compId:25,child:[{type:"Button",props:{y:74,x:168,var:"btn_buy",stateNum:1,skin:"image/pop/lottery/btn_lottery_bug.png"},compId:5,child:[{type:"Label",props:{y:12,x:65,width:51,var:"price_label",text:"500",height:24,fontSize:24,color:"#174c7d",bold:!0,align:"right"},compId:7},{type:"Image",props:{y:7.5,x:22,width:45,var:"price_tag",skin:"image/pop/lottery/tag_bg.png",height:33},compId:22,child:[{type:"Image",props:{y:5,x:13.5,width:20,var:"coin_icon",skin:"image/pop/lottery/tag_coin_bg.png",height:20},compId:23}]}]},{type:"Image",props:{y:0,x:97,width:280,skin:"image/pop/lottery/remain_bg.png",sizeGrid:"10,21,10,23",height:43},compId:21,child:[{type:"Label",props:{y:10,x:7,width:266,var:"remain_label",valign:"middle",text:"剩余: 10/20",height:22,fontSize:24,color:"#fdf3cf",bold:!0,align:"center"},compId:8}]}]}],loadList:["image/pop/lottery/lottery_item2_bg.png","image/pop/lottery/money_bg.png","image/pop/lottery/exchange_item_light.sk","image/pop/lottery/lottery_item2_nbg.png","image/pop/lottery/btn_lottery_bug.png","image/pop/lottery/tag_bg.png","image/pop/lottery/tag_coin_bg.png","image/pop/lottery/remain_bg.png"],loadList3D:[]},e.item2oneUI=o,V("ui.pop.lottery.item2oneUI",o);var i=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[g.Button,y.Label,w.Image,b.Sprite,m.Box],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/lottery/item2two")}}]),n}(v.Scene);e.item2twoUI=i,V("ui.pop.lottery.item2twoUI",i);var a=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[m.Box,w.Image,x.List,g.Button,y.Label,S.ProgressBar,_.Dialog,b.Sprite],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/lottery/lottery")}}]),n}(_.Dialog);e.lotteryUI=a,V("ui.pop.lottery.lotteryUI",a);var u=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[b.Sprite,y.Label,R.HTMLDivElement,g.Button,_.Dialog],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/lottery/reward")}}]),n}(_.Dialog);e.rewardUI=u,V("ui.pop.lottery.rewardUI",u)}(e.lottery||(e.lottery={}))}(e.pop||(e.pop={}))}(z||(t.ui=z={})),function(e){!function(e){!function(e){var t=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[m.Box,y.Label,x.List,g.Button,b.Sprite,_.Dialog,w.Image],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/record/arenaRewardRecord")}}]),n}(_.Dialog);e.arenaRewardRecordUI=t,V("ui.pop.record.arenaRewardRecordUI",t);var n=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[x.List,C.View,w.Image,b.Sprite,m.Box,y.Label],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/record/coinMenu")}}]),n}(C.View);e.coinMenuUI=n,V("ui.pop.record.coinMenuUI",n);var r=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[x.List,C.View,w.Image,b.Sprite,m.Box,y.Label],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/record/dateMenu")}}]),n}(C.View);e.dateMenuUI=r,V("ui.pop.record.dateMenuUI",r);var o=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[m.Box,y.Label,x.List,g.Button,b.Sprite,_.Dialog,w.Image],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/record/gameRecord")}}]),n}(_.Dialog);e.gameRecordUI=o,V("ui.pop.record.gameRecordUI",o);var i=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[x.List,C.View,w.Image,b.Sprite,m.Box,y.Label],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/record/itemMenu")}}]),n}(C.View);e.itemMenuUI=i,V("ui.pop.record.itemMenuUI",i);var a=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[m.Box,y.Label,x.List,g.Button,b.Sprite,_.Dialog,w.Image],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/record/itemRecord")}}]),n}(_.Dialog);e.itemRecordUI=a,V("ui.pop.record.itemRecordUI",a);var u=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[y.Label,w.Image,b.Sprite],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/record/selectCoinBox")}}]),n}(v.Scene);e.selectCoinBoxUI=u,V("ui.pop.record.selectCoinBoxUI",u);var l=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[y.Label,b.Sprite],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/record/selectItemBox")}}]),n}(v.Scene);e.selectItemBoxUI=l,V("ui.pop.record.selectItemBoxUI",l)}(e.record||(e.record={}))}(e.pop||(e.pop={}))}(z||(t.ui=z={})),function(e){!function(e){!function(e){var t=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[m.Box,w.Image,x.List,y.Label,_.Dialog,b.Sprite,g.Button],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/shop/arenaShop")}}]),n}(_.Dialog);e.arenaShopUI=t,V("ui.pop.shop.arenaShopUI",t);var n=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[b.Sprite,w.Image,y.Label,I.ViewStack,g.Button,m.Box],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/shop/arenaShopGunItem")}}]),n}(v.Scene);e.arenaShopGunItemUI=n,V("ui.pop.shop.arenaShopGunItemUI",n);var r=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[m.Box,w.Image,x.List,y.Label,_.Dialog,b.Sprite,g.Button],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/shop/shop")}}]),n}(_.Dialog);e.shopUI=r,V("ui.pop.shop.shopUI",r);var o=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[b.Sprite,w.Image,y.Label,I.ViewStack,g.Button,m.Box],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/shop/shopGunItem")}}]),n}(v.Scene);e.shopGunItemUI=o,V("ui.pop.shop.shopGunItemUI",o);var i=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[b.Sprite,w.Image,y.Label,g.Button],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/shop/shopItemItem")}}]),n}(v.Scene);e.shopItemItemUI=i,V("ui.pop.shop.shopItemItemUI",i)}(e.shop||(e.shop={}))}(e.pop||(e.pop={}))}(z||(t.ui=z={})),function(e){!function(e){var t=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[C.View],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("pop/test")}}]),n}(C.View);e.testUI=t,V("ui.pop.testUI",t)}(e.pop||(e.pop={}))}(z||(t.ui=z={})),function(e){!function(e){!function(e){var t=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[m.Box,w.Image,T.Skeleton,g.Button,b.Sprite,y.Label],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/arena/game")}}]),n}(v.Scene);e.gameUI=t,V("ui.scenes.arena.gameUI",t);var n=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[m.Box,b.Sprite,w.Image,T.Skeleton,C.View],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/arena/skillBox")}}]),n}(C.View);e.skillBoxUI=n,V("ui.scenes.arena.skillBoxUI",n)}(e.arena||(e.arena={}))}(e.scenes||(e.scenes={}))}(z||(t.ui=z={})),function(e){!function(e){!function(e){var t=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[m.Box,w.Image,T.Skeleton,g.Button,y.Label,R.HTMLDivElement],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/game/game")}}]),n}(v.Scene);e.gameUI=t,V("ui.scenes.game.gameUI",t);var n=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[m.Box,T.Skeleton,w.Image,y.Label,g.Button,C.View],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.createView(n.uiView)}}]),n}(C.View);n.uiView={type:"View",props:{y:111,x:111,width:223,runtime:"view/scenes/game/gunBoxView.ts",mouseThrough:!0,mouseEnabled:!0,height:223,anchorY:.5,anchorX:.5},compId:2,child:[{type:"Box",props:{y:114,x:111,width:149,var:"ani_box",pivotY:77.5,pivotX:74,height:149},compId:7,child:[{type:"Box",props:{y:77.5,x:74,width:59,var:"gun_box",height:45},compId:8,child:[{type:"SkeletonPlayer",props:{var:"base",url:"ani/gun/base11.sk",runtime:"Laya.Skeleton"},compId:9},{type:"SkeletonPlayer",props:{var:"gun",url:"ani/gun/gun11.sk",runtime:"Laya.Skeleton"},compId:10},{type:"SkeletonPlayer",props:{y:0,x:0,var:"light",url:"ani/gun/light11.sk",runtime:"Laya.Skeleton"},compId:11},{type:"SkeletonPlayer",props:{y:0,x:0,var:"body",url:"ani/gun/light11.sk",runtime:"Laya.Skeleton"},compId:18}]}]},{type:"Box",props:{y:142,x:110,width:177,var:"ctrl_wrap",height:51,anchorY:.5,anchorX:.5},compId:22,child:[{type:"Image",props:{y:26,x:88,width:120,var:"score_box",skin:"image/game/time_bg.png",sizeGrid:"0,20,0,22",height:48,anchorY:.5,anchorX:.5},compId:13,child:[{type:"Label",props:{y:2,x:0,width:120,var:"score_label",valign:"middle",text:"100",height:44,font:"score_num",align:"center"},compId:14}]},{type:"Box",props:{y:0,x:0,visible:!1,var:"ctrl_box"},compId:23,child:[{type:"Button",props:{y:0,x:121,var:"btn_add",stateNum:1,skin:"image/game/btn_add.png"},compId:15},{type:"Button",props:{y:0,x:9,var:"btn_minus",stateNum:1,skin:"image/game/btn_minus.png",left:9},compId:16}]}]}],loadList:["ani/gun/base11.sk","ani/gun/gun11.sk","ani/gun/light11.sk","image/game/time_bg.png","image/game/btn_add.png","image/game/btn_minus.png"],loadList3D:[]},e.gunBoxUI=n,V("ui.scenes.game.gunBoxUI",n);var r=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[b.Sprite,m.Box,w.Image,T.Skeleton,C.View],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/game/skillBox")}}]),n}(C.View);e.skillBoxUI=r,V("ui.scenes.game.skillBoxUI",r);var o=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[w.Image,b.Sprite,y.Label,T.Skeleton,C.View],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.createView(n.uiView)}}]),n}(C.View);o.uiView={type:"View",props:{width:94,runtime:"view/scenes/game/skillItemView.ts",mouseThrough:!1,mouseEnabled:!0,height:96},compId:2,child:[{type:"Sprite",props:{y:48,x:47,width:94,texture:"image/game/skill_bg.png",pivotY:48,pivotX:47,height:96},compId:3},{type:"Image",props:{y:7,x:8,width:80,var:"skill_icon",skin:"image/game/skill_aim.png",height:80},compId:7},{type:"Sprite",props:{y:8,x:8,width:81,var:"overlay",texture:"image/game/skill_overlay.png",height:79},compId:6},{type:"Label",props:{y:59,x:8,width:78,var:"num_label",valign:"middle",text:"0",strokeColor:"#000",stroke:3,height:28,fontSize:24,color:"#ffffff",bold:!0,align:"right"},compId:5},{type:"SkeletonPlayer",props:{y:48,x:49,width:100,visible:!1,var:"border_light",url:"ani/other/skill_border_light.sk",height:100,runtime:"Laya.Skeleton"},compId:8},{type:"Label",props:{y:8,x:9,width:78,visible:!1,var:"shortcut_label",valign:"middle",text:"0",strokeColor:"#000",stroke:3,height:28,fontSize:24,color:"#ffffff",bold:!0,align:"left"},compId:9}],loadList:["image/game/skill_bg.png","image/game/skill_aim.png","image/game/skill_overlay.png","ani/other/skill_border_light.sk"],loadList3D:[]},e.skillItemUI=o,V("ui.scenes.game.skillItemUI",o)}(e.game||(e.game={}))}(e.scenes||(e.scenes={}))}(z||(t.ui=z={})),function(e){!function(e){!function(e){var t=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[w.Image,x.List,C.View,b.Sprite,m.Box,y.Label],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/hall/coinMenu")}}]),n}(C.View);e.coinMenuUI=t,V("ui.scenes.hall.coinMenuUI",t);var n=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[w.Image,x.List,C.View,b.Sprite,m.Box],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/hall/flagMenu")}}]),n}(C.View);e.flagMenuUI=n,V("ui.scenes.hall.flagMenuUI",n);var r=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[b.Sprite,m.Box,y.Label,g.Button,T.Skeleton,w.Image],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/hall/hall")}}]),n}(v.Scene);e.hallUI=r,V("ui.scenes.hall.hallUI",r);var o=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[m.Box,y.Label,g.Button,w.Image,C.View,b.Sprite],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/hall/header")}}]),n}(C.View);e.headerUI=o,V("ui.scenes.hall.headerUI",o)}(e.hall||(e.hall={}))}(e.scenes||(e.scenes={}))}(z||(t.ui=z={})),function(e){!function(e){var t=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[S.ProgressBar,_.Dialog,b.Sprite,m.Box],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/loading")}}]),n}(_.Dialog);e.loadingUI=t,V("ui.scenes.loadingUI",t);var n=function(e){U(n,e);var t=j(n);function n(){var e;return L(this,n),(e=t.call(this)).referenceClass=[],e}return O(n,[{key:"createChildren",value:function(){D(H(n.prototype),"createChildren",this).call(this),this.loadScene("scenes/test")}}]),n}(v.Scene);e.testUI=n,V("ui.scenes.testUI",n)}(e.scenes||(e.scenes={}))}(z||(t.ui=z={}))},90564:function(e,t,n){"use strict";var r=n(65420),o=n(98341),i=n(3649),a=n(66419),u=n(19996),l=n(41511),c=n(52424),s=n(63978),f=n(34074);s(t,"__esModule",{value:!0}),t.blink=function(e,t){A({sprite:e,props_arr:[{alpha:1},{alpha:.3}],time:t||300})},t.buttonClick=function(e){A({sprite:e,props_arr:[{scaleX:1,scaleY:1},{scaleX:.8,scaleY:.8},{scaleX:1,scaleY:1}],time:100,step_fn:function(e){return e>2}})},t.completeAni=R,t.countDown=function(e,t,n,r){return M({callback:r,caller:e,end_props:{x:0},start_props:{x:t},step:t+1,step_fun:function(e){n(Math.floor(e.x))},time:1e3*t})},t.fade_in=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return C(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,R(e);case 2:return i={alpha:0,visible:!0},t=t||700,n=n||"circleOut",a={alpha:r},o.abrupt("return",E({ease_fn:n,end_props:a,sprite:e,start_props:i,time:t}));case 7:case"end":return o.stop()}}),o)})))},t.fade_out=function(e,t,n){return C(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,R(e);case 2:return t=t||700,n=n||"circleOut",o={alpha:0},r.abrupt("return",E({ease_fn:n,end_props:o,sprite:e,time:t}).then((function(){e.destroyed||(e.visible=!1,e.alpha=1)})));case 6:case"end":return r.stop()}}),r)})))},t.move=function(e,t,n,r,o){return C(this,void 0,void 0,regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,R(e);case 2:return I(e,t),i.abrupt("return",E({sprite:e,end_props:n,time:r,ease_fn:o}));case 4:case"end":return i.stop()}}),i)})))},t.rotate=function(e,t,n,r){var o=Number(e.rotation);o!=o&&(e.rotation=0);return E({sprite:e,end_props:{rotation:t},time:n,ease_fn:r})},t.scale_in=function(e,t,n){return C(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,R(e);case 2:return n=n||"circleIn",t=t||400,o={alpha:.2,scaleX:.2,scaleY:.2,visible:!0},i={alpha:1,scaleX:1,scaleY:1},r.abrupt("return",E({sprite:e,start_props:o,end_props:i,time:t,ease_fn:n}));case 7:case"end":return r.stop()}}),r)})))},t.scale_out=function(e,t,n){return C(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,R(e);case 2:return n=n||"circleIn",t=t||400,o={alpha:.2,scaleX:.2,scaleY:.2},r.abrupt("return",E({sprite:e,end_props:o,time:t,ease_fn:n}).then((function(){e.destroyed||I(e,{visible:!1,scaleX:1,scaleY:1,alpha:1})})));case 6:case"end":return r.stop()}}),r)})))},t.setStyle=I,t.sleep=function(e){return new h.default((function(t,n){(0,p.default)((function(){t(e)}),1e3*e)}))},t.slide_down_in=function(e,t,n,r){return C(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a,u,l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r||(i=e.getBounds().height,r=i>50?50:i),o.next=3,R(e);case 3:return n=n||"circleOut",t=t||200,I(e,{alpha:.2,visible:!0}),a=e.y,u={y:a-r},l={alpha:1,y:a},o.next=11,E({sprite:e,start_props:u,end_props:l,time:t,ease_fn:n});case 11:case"end":return o.stop()}}),o)})))},t.slide_down_out=function(e,t,n,r){return C(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r||(i=e.getBounds().height,r=i>50?50:i),o.next=3,R(e);case 3:return o.abrupt("return",new h.default((function(o,i){(0,p.default)((function(){n=n||"circleIn",t=t||200;var i=e.y;return E({sprite:e,end_props:{alpha:0,y:i+r},time:t,ease_fn:n}).then((function(){e.destroyed||(I(e,{visible:!1,alpha:1,y:i}),o(void 0))}))}))})));case 4:case"end":return o.stop()}}),o)})))},t.slide_left_in=function(e,t,n,r){return C(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a,u,l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r||(i=e.getBounds().width,r=i>50?50:i),o.next=3,R(e);case 3:return n=n||"easeIn",t=t||200,I(e,{alpha:.2,visible:!0}),a=e.x,u={x:a+r},l={alpha:1,x:a},o.abrupt("return",E({sprite:e,start_props:u,end_props:l,time:t,ease_fn:n}));case 10:case"end":return o.stop()}}),o)})))},t.slide_left_out=function(e,t,n,r){return C(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a,u;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r||(i=e.getBounds().width,r=i>50?50:i),o.next=3,R(e);case 3:return n=n||"circleIn",t=t||200,a=e.x,u={alpha:0,x:a+r},o.abrupt("return",E({sprite:e,end_props:u,time:t,ease_fn:n}).then((function(){e.destroyed||(e.visible=!1,e.alpha=1,e.x=a)})));case 8:case"end":return o.stop()}}),o)})))},t.slide_right_in=function(e,t,n,r){return C(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a,u,l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r||(i=e.getBounds().width,r=i>50?50:i),o.next=3,R(e);case 3:return n=n||"circleOut",t=t||200,I(e,{alpha:.2,visible:!0}),a=e.x,u={x:a-r},l={alpha:1,x:a},o.abrupt("return",E({sprite:e,start_props:u,end_props:l,time:t,ease_fn:n}));case 10:case"end":return o.stop()}}),o)})))},t.slide_right_out=function(e,t,n,r){return C(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a,u;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r||(i=e.getBounds().width,r=i>50?50:i),o.next=3,R(e);case 3:return n=n||"circleIn",t=t||200,a=e.x,u={alpha:0,x:a-r},o.abrupt("return",E({sprite:e,end_props:u,time:t,ease_fn:n}).then((function(){e.destroyed||(e.visible=!1,e.alpha=1,e.x=a)})));case 8:case"end":return o.stop()}}),o)})))},t.slide_up_in=function(e,t,n,r){return C(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a,u,l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r||(i=e.getBounds().height,r=i>50?50:i),o.next=3,R(e);case 3:return n=n||"circleOut",t=t||200,I(e,{alpha:.2,visible:!0}),a=e.y,u={y:a+r},l={alpha:1,y:a},o.abrupt("return",E({sprite:e,start_props:u,end_props:l,time:t,ease_fn:n}));case 10:case"end":return o.stop()}}),o)})))},t.slide_up_out=function(e,t,n,r){return C(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a,u;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r||(i=e.getBounds().height,r=i>50?50:i),o.next=3,R(e);case 3:return n=n||"circleIn",t=t||200,a=e.y,u={alpha:1,y:a-r},o.next=9,E({sprite:e,end_props:u,time:t,ease_fn:n}).then((function(){e.destroyed||I(e,{visible:!1,alpha:1,y:a})}));case 9:case"end":return o.stop()}}),o)})))},t.stepAni=function(e){var t,n=e.props_arr,r=e.time,o=void 0===r?300:r,i=e.loop,a=void 0===i||i,u=e.step_fn,l=n.length,c=!1;return function(){C(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=3;break}return i=r,e.abrupt("return",{v:void 0});case 3:return e.next=5,new h.default((function(e,i){t=(0,p.default)((function(){u(n[r]),e(void 0)}),o)}));case 5:a&&r>=l-1&&(r=-1),i=r;case 7:case"end":return e.stop()}}),e)})),i=0;case 2:if(!(i<l)){e.next=10;break}return e.delegateYield(r(i),"t0",4);case 4:if("object"!==x(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:i++,e.next=2;break;case 10:case"end":return e.stop()}}),e)})))}(),function(){clearTimeout(t),c=!0}},t.stopAni=T,t.tween=E,t.tweenLoop=A,t.tweenProps=void 0;var h=w(n(93476)),p=w(n(33032)),v=w(n(86902)),d=w(n(92762)),y=n(45840),m=n(41107),g=n(84221),_=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==x(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},o=s&&f;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?f(e,i):null;a&&(a.get||a.set)?s(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(99310));function b(e){if("function"!=typeof c)return null;var t=new c,n=new c;return(b=function(e){return e?n:t})(e)}function w(e){return e&&e.__esModule?e:{default:e}}function k(e,t){var n=void 0!==r&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return S(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return a(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,c=function(){};return{s:c,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,f=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){h=!0,s=e},f:function(){try{f||null==n.return||n.return()}finally{if(h)throw s}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e){return x="function"==typeof r&&"symbol"==typeof o?function(e){return typeof e}:function(e){return e&&"function"==typeof r&&e.constructor===r&&e!==r.prototype?"symbol":typeof e},x(e)}var C=function(e,t,n,r){return new(n||(n=h.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))};function E(e){return C(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i,a,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.sprite,r=e.start_props,o=e.end_props,!n.destroyed){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,R(n);case 5:if(i=e.ease_fn,a=e.time,u=new g.Tween,"string"==typeof(i=i||y.Ease.linearNone)&&(i=y.Ease[i]),I(n,r),0!==a&&!n.is_stop){t.next=14;break}return I(n,o),t.abrupt("return");case 14:for(l in a=a||300,o)n[l]===o[l]&&delete o[l];if((0,v.default)(o).length){t.next=18;break}return t.abrupt("return");case 18:return t.abrupt("return",new h.default((function(e,t){n.tween=u.to(n,o,a,i,m.Handler.create(n,(function(){n.destroyed?t(void 0):e(void 0)})))})));case 19:case"end":return t.stop()}}),t)})))}function I(e,t){if(t)for(var n in t)e[n]=t[n]}function A(e){var t=e.sprite,n=e.props_arr,r=e.time,o=e.ease_fn,i=e.is_jump,a=e.end_jump,u=e.step_fn,l=n.length,c=0,s=0;T(t),function e(){if(!t.destroyed){if(i)!function(e,t,n){new h.default((function(r,o){(0,p.default)((function(){I(e,t),r(void 0)}),n)}))}(t,n[c],r);else{var f=c+1;f>=l&&(a?(c=0,f=1):f=0);var v=n[c],d=n[f];E({ease_fn:o,end_props:d,sprite:t,start_props:v,time:r}).then((function(){(null==u?void 0:u(s))||(0,p.default)(e,0)}))}c++,s++,c>=l&&(c=0)}}()}var M=function(){var e=[];function t(e,t,n){return e+(t-e)*n}function n(t,n){for(var r=e.length-1;r>=0;r--){var o=e[r].caller,i=e[r].off,a=e[r].callback;o===t&&(n&&a&&"function"==typeof a&&a(),i&&"function"==typeof i&&i(),(0,d.default)(e).call(e,r,1))}}return function(r){var o,i=r.callback,a=r.caller,u=r.start_props,l=r.end_props,c=r.time,s=r.time_fun,f=r.step_fun,h=r.step,p=h?c/h:1e3/60,d=c/p;if("string"==typeof s&&(o=y.Ease[s]),o||(o=y.Ease.linearNone),n(a,!0),!u){u={};for(var m=0,g=(0,v.default)(l);m<g.length;m++){var b=g[m];u[b]=a[b]||0}}for(var w=[],S=0,x=(0,v.default)(l);S<x.length;S++){var C=x[S];u[C]!==l[C]&&w.push(C)}if(0!==w.length){var E=_.loop(A,p);e.push({callback:i,caller:a,off:E,step_fun:f});var I=0;return A(1),function(e){n(a,e)}}function A(e){if(a.destroyed||a.is_stop)return n(a);if(I>=d)return n(a,!0);var r={},i=I/d;if(s||(i=o(i,0,1,1)),I>=d){var c,h=k(w);try{for(h.s();!(c=h.n()).done;){var p=c.value;r[p]=l[p]}}catch(e){h.e(e)}finally{h.f()}}else{var v,y=k(w);try{for(y.s();!(v=y.n()).done;){var m=v.value;r[m]=t(u[m],l[m],i)}}catch(e){y.e(e)}finally{y.f()}}if("function"==typeof f)f(r,e);else for(var g in r)r[g]=t(u[g],l[g],i);I+=e}i&&"function"==typeof i&&i()}}();function T(e){if(e)return"function"==typeof e?e():e.time_out?clearTimeout(e.time_out):void(e.tween&&(e.tween.complete(),e.tween.clear()))}function R(e){return new h.default((function(t,n){e&&(e.tween&&(e.tween.complete(),e.tween.clear(),e.tween=void 0),(0,p.default)((function(){t(void 0)})))}))}t.tweenProps=M},44517:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.asyncOnly=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new o.default((function(r,o){var i=c.get(e);if(!i){var a=t();n||(a=a.then((function(t){return c.delete(e),t})).catch((function(t){throw c.delete(e),t}))),i={wait:a,reject:o,resolve:r},c.set(e,i)}i.wait.then((function(e){r(e)})).catch((function(e){o(e)}))}))},t.asyncQue=function(e,t){return new o.default((function(n,r){var o=u.get(e);o||(o={is_running:!1,que:[]},u.set(e,o));var i,a,c=o,s=c.que,f=c.is_running;a={async_fn:t,resolve:n,reject:r},(i=s).length?i[i.length-1]=a:i.push(a),f||l(e)}))},t.clearAsyncOnly=function(e){var t=c.get(e);if(!t)return;(0,i.default)((function(){var n=t.reject;c.delete(e),n("Async Only be rejected")}))},t.clearAsyncQue=function(e){var t=u.get(e),n=t.que.length;if(!t)return;if(0!==n){(0,t.que[n-1].resolve)(!0)}t.que=[],t.is_running=!1};var r=a(n(39392)),o=a(n(93476)),i=a(n(33032));function a(e){return e&&e.__esModule?e:{default:e}}var u=new r.default;function l(e){var t=u.get(e),n=t.que;if(n.length){t.is_running=!0;var r=n.shift();r.async_fn().then((function(){r.resolve(0===n.length),l(e)})).catch((function(){r.reject(0===n.length),l(e)}))}else t.is_running=!1}var c=new r.default},51720:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.BgMonitorEvent=t.BgMonitor=void 0;var r=u(n(31581)),o=u(n(63978)),i=n(38182),a=n(24629);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}var c={VisibleChange:"VisibleChange"};t.BgMonitorEvent=c;var s=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.event=new i.EventCom,this.visibilityChange=function(){var e=document.visibilityState;"hidden"===e&&t.emitEvent(!1),"visible"===e&&t.emitEvent(!0)},this.init()}var t,n,o;return t=e,(n=[{key:"init",value:function(){var e=this;if(null===document||void 0===document?void 0:document.visibilityState)return document.addEventListener("visibilitychange",this.visibilityChange);var t=a.Laya.Browser,n=t.now();if(t.onAndroid){var o=0;this.interval=(0,r.default)((function(){var r=t.now();r-n>1e3&&(o>1?(clearInterval(e.interval),e.emitEvent(!1)):o+=1),n=r}),300)}else this.interval=(0,r.default)((function(){var r=t.now();r-n>1e3&&(clearInterval(e.interval),e.emitEvent(!1)),n=r}),300)}},{key:"emitEvent",value:function(e){this.event.emit(c.VisibleChange,e)}}])&&l(t.prototype,n),o&&l(t,o),e}();t.BgMonitor=s},45359:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.clearCount=l,t.startCount=function(e,t,n){var r=a++,o=e/t,c=0,s=function(e){if((c+=e)>=o)return n(0),l(r);n((o-c)/o)};(0,i.loop)(s,1e3*t,null);return n(1),u.set(r,(function(){(0,i.clear)(s,null)})),r};var r,o=(r=n(39392))&&r.__esModule?r:{default:r},i=n(99310);var a=0,u=new o.default;function l(e){u.get(e)&&(u.get(e)(),u.delete(e),u.size)}},64467:function(e,t,n){"use strict";var r=n(3649),o=n(66419),i=n(65420),a=n(19996),u=n(41511);n(63978)(t,"__esModule",{value:!0}),t.createGunBox=function(e){var t=new h.Box,n=new h.Box;t.size(149,149),n.pos(74,77),t.addChild(n);var r=(0,f.createSkeleton)("ani/gun/gun".concat(e,"/base")),o=(0,f.createSkeleton)("ani/gun/gun".concat(e,"/light")),i=(0,f.createSkeleton)("ani/gun/gun".concat(e,"/gun"));n.addChildren(r,o,i)},t.createSprite=function(e,t){var n,r=k(e,t),o=r.type,i=r.path,a=r.pivot||{x:0,y:0};if("DragonBone"===o)n=(0,f.createSkeleton)(i);else if("Frame"===o)n=(0,f.createAnimation)(i);else if(n=(0,f.createImg)(i),!a.x&&!a.y){var u=n.getBounds();a={x:u.width/2,y:u.height/2}}return n.pivot(a.x,a.y),n},t.getBulletStartPos=function(e,t,n,r){var o,i=p.Coordinates.bullet_offset[r],a=[],u=n.clone().normalize().scale(30,30),l=n.clone().normalize().rotate(Math.PI/2),c=_(i);try{for(c.s();!(o=c.n()).done;){var f=o.value,h=l.clone().scale(f,f),v=e,d=w(v,t),y=p.Coordinates.guns_inside_pos.origin_point,g=p.Coordinates.guns_inside_pos.start_point,b=void 0,k=void 0;v<=1?(b=g.x-y.x,k=g.y-y.y):(b=y.x-g.x,k=y.y-g.y);var S=new s.default.Vector(b,k),x=void 0;x=v<=1?(0,m.vectorToAngle)(n)+Math.PI/2:(0,m.vectorToAngle)(n)-Math.PI/2,S=S.rotate(x),b=d.x+S.x+h.x+u.x,k=d.y+S.y+h.y+u.y,a.push({x:b,y:k})}}catch(e){c.e(e)}finally{c.f()}return a},t.getGunLevelSkinInfo=function(e){for(var t=v.GunInfo.LevelUp,n=v.GunInfo.HoleNum,r=0;r<t.length;r++){var o=t[r];if(e<o)return{level_skin:"".concat(r+1),hole_num:n[r]}}return{level_skin:"".concat(3),hole_num:n[2]}},t.getGunPos=w,t.getGunSkinMap=function(e,t){var n,r=y.SPRITE.gun[e],o=new l.default,i=_(r);try{for(i.s();!(n=i.n()).done;){var a,u=n.value;if("body"===u&&"5"===e)o.set(u,"".concat(e));else o.set(u,(0,c.default)(a="".concat(e)).call(a,t))}}catch(e){i.e(e)}finally{i.f()}return o},t.getShadowInfo=function(e){return p.Coordinates.shadowPos[e]||p.Coordinates.shadowPos.default},t.getShapeInfo=function(e,t){var n=d.SHAPE[e][t]||d.SHAPE[e][1]||d.SHAPE[e];n.as&&(n=y.SPRITE[e][n.as]);return n},t.getSpriteInfo=k,t.isBombFish=function(e){return"9"===e.type};var l=g(n(39392)),c=g(n(77766)),s=g(n(86116)),f=n(6893),h=n(93408),p=n(70555),v=n(46665),d=n(70430),y=n(53531),m=n(54049);function g(e){return e&&e.__esModule?e:{default:e}}function _(e,t){var n=void 0!==i&&a(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return b(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return o(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return b(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,c=function(){};return{s:c,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,f=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){h=!0,s=e},f:function(){try{f||null==n.return||n.return()}finally{if(h)throw s}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return 2===t?p.Coordinates.grand_prix_gun_global_pos[e]:p.Coordinates.gun_global_pos[e]}function k(e,t){var n=y.SPRITE[e][t];return n.as&&(n=y.SPRITE[e][n.as]),n}},3735:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.formatDateRange=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM/DD",o=(0,i.default)(e[0]).utc().format(n),a=(0,i.default)(e[1]).utc().format(n);return(0,r.default)(t="".concat(o,"-")).call(t,a)},t.formatDateTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY/MM/DD";return(0,i.default)(e).format(t)},t.getMonthDateList=function(){for(var e=(0,o.default)(),t=[],n=1;n<=30;n++){var r=(0,i.default)(e).subtract(n,"day");t.push(r)}return t};var r=u(n(77766)),o=u(n(11128)),i=u(n(71276)),a=u(n(30623));function u(e){return e&&e.__esModule?e:{default:e}}i.default.extend(a.default)},93774:function(e,t,n){"use strict";function r(e){return r="function"==typeof u&&"symbol"==typeof l?function(e){return typeof e}:function(e){return e&&"function"==typeof u&&e.constructor===u&&e!==u.prototype?"symbol":typeof e},r(e)}var o=n(52424),i=n(63978),a=n(34074),u=n(65420),l=n(98341);i(t,"__esModule",{value:!0}),t.Displace=void 0;var c=v(n(97093)),s=v(n(63978)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={},u=i&&a;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var c=u?a(e,l):null;c&&(c.get||c.set)?i(o,l,c):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(86116)),h=n(42146);function p(e){if("function"!=typeof o)return null;var t=new o,n=new o;return(p=function(e){return e?n:t})(e)}function v(e){return e&&e.__esModule?e:{default:e}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,s.default)(e,r.key,r)}}var y=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.curve_list=[],this.cur_curve_info={},this.is_reverse=!1,this.total_frame=(0,h.timeToFrame)(t),this.used_frame=(0,h.timeToFrame)(n),this.curve_list=r,this.is_reverse=o}var t,n,r;return t=e,(n=[{key:"update",value:function(e){var t=this.is_reverse,n=(this.used_frame=this.used_frame+e)/this.total_frame,r=!1;if(this.radio=n,n<=0)return{visible:!1};if(n>=1)return{is_complete:r=!0};t&&(n=1-n);var o=this.getPointAtRadio(n),i=o.position,a=o.direction;return t&&(a=(0,c.default)(a).call(a)),{visible:!0,pos:i,velocity:a,is_complete:r}}},{key:"getPointAtRadio",value:function(e){var t=this.calcCurCurveInfo(e),n=t.curve,r=t.radio_in_curve,o=t.index,i=n.curve.get(r),a=n.curve.derivative(r);if(n.curve.is_static){var u,l,c=this.curve_list;o-1>=0?(u=c[o-1].curve,l=1):(u=c[o+1].curve,l=0),a=u.derivative(l)}return{position:i,direction:new f.Vector(a.x,a.y)}}},{key:"calcCurCurveInfo",value:function(e){var t=this.cur_curve_info,n=this.curve_list,r=this.is_reverse,o=t.end_radio,i=t.start_radio,a=0;if(!r&&o&&e<o||r&&i&&e>i)return a=(e-i)/(o-i),t.radio_in_curve=a,t;for(var u,l,c=0,s=0;s<n.length;s++)if(!(e>(l=n[s]).radio)){0===(c=s)?(u=0,a=e/l.radio):a=(e-(u=n[s-1].radio))/(l.radio-u);break}return t.radio_in_curve=a,t.index=c,t.start_radio=u,t.end_radio=l.radio,t.curve=l,t}}])&&d(t.prototype,n),r&&d(t,r),e}();t.Displace=y},42146:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.calcFixLen=_,t.calcNormalLen=g,t.createBezier=S,t.createCurvesByFun=w,t.createCurvesByPath=b,t.createFishDisplace=function(e){var t,n=e.fishId,o=e.displaceType,i=e.pathNo,a=e.pathList,l=e.usedTime,f=e.totalTime,h=(0,r.default)(e),p=e.funList,v=e.displaceLen;if("path"===o){var d;if(i?d=u.PATH[i]:a&&(d=a),!d)return void(0,c.error)("cant find path for no:".concat(i));t=b(d,n)}else t=w(p,n,v);return new s.Displace(f/1e3,l/1e3,t,h)},t.createLine=x,t.createOffsetLine=k,t.createSpace=m,t.getLineOutPoint=y,t.stage_width=t.stage_height=void 0,t.timeToFrame=function(e){return Math.ceil(60*e)};var r=p(n(97093)),o=n(54771),i=p(n(86116)),a=p(n(11369)),u=n(47291),l=n(64467),c=n(55161),s=n(93774),f=n(71447),h=n(47589);function p(e){return e&&e.__esModule?e:{default:e}}var v=a.default.width;t.stage_width=v;var d=a.default.height;function y(e,t){var n,r=0;(n=r-e.x)*t.x<0&&(n=(r=a.default.width)-e.x);var o,i,u,l=n*t.y/t.x+e.y,c=r*r+l*l;return(u=i-e.y)*t.y<0&&(u=(i=a.default.height)-e.y),c<(o=u*t.x/t.y+e.x)*o+i*i?{x:r,y:l}:{x:o,y:i}}function m(e,t,n,o){var a,u,c=(0,l.getSpriteInfo)("fish",o),s=c.ani_type;if(c.offset&&"horizon_turn"===s){var f=_(t,o);a=f.fish_len,u=f.derivative}else a=g(e,o),u=new i.default.Vector(n.x,n.y).normalize(),"before"===e&&(u=(0,r.default)(u).call(u));var p=u.scale(a,a),v={x:t.x+p.x,y:t.y+p.y};return{curve:"before"===e?new h.Line(v,t):new h.Line(t,v),length:a}}function g(e,t){var n=(0,l.getSpriteInfo)("fish",t).offset;return n||(0,c.error)("can't find fish sprite offset"),"before"===e?n[0]:n[2]}function _(e,t){var n,r,o=(0,l.getSpriteInfo)("fish",t);return e.y<=0?(n=Math.max(o.offset[0],o.offset[2]),r=new i.default.Vector(0,-1)):e.x>=v?(n=Math.max(o.offset[1],o.offset[3]),r=new i.default.Vector(1,0)):e.y>=d?(n=Math.max(o.offset[0],o.offset[2]),r=new i.default.Vector(0,1)):(n=Math.max(o.offset[1],o.offset[3]),r=new i.default.Vector(-1,0)),{fish_len:n,derivative:r}}function b(e,t){for(var n=[],r=0,o=0;o<e.length;o++){var i=void 0,a=void 0,u=e[o];if(u.length>=6)a=(i=S(u)).curve;else{if(4!==u.length)continue;a=(i=x(u)).curve}if(n.push(i),0===o){var l=m("before",a.get(0),a.derivative(0),t);n.unshift(l),r+=l.length}if(o===e.length-1){var c=m("after",a.get(1),a.derivative(1),t);n.push(c),r+=c.length}r+=i.length}for(var s=0,f=0,h=n;f<h.length;f++){var p=h[f];s+=p.length,p.radio=s/r}return n}function w(e,t,n){for(var r=0,o=[],i=0;i<e.length;i++){var a={},u=e[i],l=u.funNo,c=u.params,s=u.no_enter_leave,h=u.no_enter_leave,p=u.radio,v=f.FUNCTION[l].apply(this,c);a.curve=v;var d=n*p;if(d||"function"!=typeof v.length||(d=v.length(1)),a.length=d||1,r+=a.length,o.push(a),0===i&&!s){var y=m("before",v.get(0),v.derivative(0),t);o.unshift(y),r+=y.length}if(i===e.length-1){if(h){var g=k(a,"after");o.push(g),r+=g.length,v=g.curve}var _=m("after",v.get(1),v.derivative(1),t);o.push(_),r+=_.length}}for(var b=0,w=0,S=o;w<S.length;w++){var x=S[w];b+=x.length,x.radio=b/r}return o}function k(e,t){var n=0;"after"===t&&(n=1);var o=e.curve.get(n),a=e.curve.derivative(n),u=new i.default.Vector(a.x,a.y);"before"===t&&(u=(0,r.default)(u).call(u));var l=y(o,u),c=new h.Line(l,o);return"after"===t&&(c=new h.Line(o,l)),{curve:c,length:c.length(1)}}function S(e){var t=new o.Bezier(e);return{curve:t,length:t.length()}}function x(e){var t={x:e[0],y:e[1]},n={x:e[2],y:e[3]},r=new h.Line(t,n);return{curve:r,length:r.length(1)}}t.stage_height=d},71447:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.FUNCTION=void 0;var r=n(47589),o={1:function(e,t,n,r,o){var i=o[1]-o[0],a=1;return i<0&&(a=-1),{get:function(a){return{x:a=o[0]+a*i,y:e*Math.sin(r+t*a)+n}},derivative:function(n){return n=o[0]+n*i,{x:a,y:a*e*t*Math.cos(r+t*n)}}}},2:function(e,t,n){var r=n[1]-n[0],o=r>0?1:-1,i=Math.abs(r)*t,a={x:e.x-o*t,y:750},u=750-e.y,l=e.y,c=u+i+l,s=[0,u/c,(u+i)/c,1];return{get:function(o){for(var i=0,c=0;c<s.length&&!(o<s[c]);c++)i=c;return o=(o-s[i])/(s[i+1]-s[i]),0===i?{x:a.x,y:750-o*u}:1===i?(o=o*r+n[0],{x:e.x+Math.cos(o)*t,y:e.y+Math.sin(o)*t}):{x:a.x,y:l*(1-o)}},derivative:function(e){for(var t=0,i=0;i<s.length&&!(e<s[i]);i++)t=i;return e=(e-s[t])/(s[t+1]-s[t]),1!==t?{x:0,y:-1}:(e=e*r+n[0],{x:o*Math.cos(Math.PI/2+e),y:o*Math.sin(Math.PI/2+e)})}}},3:function(e,t){return new r.Line(e,t)},4:function(e,t,n){var r=n[1]-n[0],o=r>0?1:-1,i=667+e,a=375+t,u=333.5,l=187.5;return{get:function(e){return e=n[0]+e*r,{x:u*Math.cos(e)+i,y:l*Math.sin(e)+a}},derivative:function(e){return e=n[0]+e*r,{x:-o*u*Math.sin(e),y:o*l*Math.cos(e)}},length:function(e){return Math.abs(Math.ceil(e*(2*Math.PI*l+584)*r/(2*Math.PI)))}}}};t.FUNCTION=o},47589:function(e,t,n){"use strict";function r(e){return r="function"==typeof u&&"symbol"==typeof l?function(e){return typeof e}:function(e){return e&&"function"==typeof u&&e.constructor===u&&e!==u.prototype?"symbol":typeof e},r(e)}var o=n(52424),i=n(63978),a=n(34074),u=n(65420),l=n(98341);i(t,"__esModule",{value:!0}),t.Line=void 0;var c,s=(c=n(63978))&&c.__esModule?c:{default:c},f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={},u=i&&a;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var c=u?a(e,l):null;c&&(c.get||c.set)?i(o,l,c):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(86116));function h(e){if("function"!=typeof o)return null;var t=new o,n=new o;return(h=function(e){return e?n:t})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,s.default)(e,r.key,r)}}var v=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.is_static=!1,t.x===n.x&&t.y===n.y&&(this.is_static=!0,this.len=0,this.direction=new f.Vector(0,0));var r=t.x,o=t.y,i=n.x,a=n.y-o,u=i-r,l=Math.sqrt(u*u+a*a);this.start_pos=t,this.end_pos=n,this.direction=new f.Vector(u,a).normalize(),this.len=l}var t,n,r;return t=e,(n=[{key:"get",value:function(e){var t=e*this.len,n=this.direction.clone().scale(t,t),r=this.start_pos.x,o=this.start_pos.y;return{x:r+n.x,y:o+n.y}}},{key:"derivative",value:function(e){return this.direction}},{key:"length",value:function(e){return this.len}}])&&p(t.prototype,n),r&&p(t,r),e}();t.Line=v},10659:function(e,t,n){"use strict";function r(e){return r="function"==typeof h&&"symbol"==typeof d?function(e){return typeof e}:function(e){return e&&"function"==typeof h&&e.constructor===h&&e!==h.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(62734),l=n(34074),c=n(63978),s=n(3649),f=n(66419),h=n(65420),p=n(19996),v=n(41511),d=n(98341);c(t,"__esModule",{value:!0}),t.KeyBoardNumber=void 0;var y=R(n(81643)),m=R(n(51942)),g=R(n(69301)),_=R(n(54103)),b=R(n(86902)),w=R(n(85507)),k=R(n(21611)),S=n(24629),x=n(78362),C=n(89662),E=n(93408),I=n(44476),A=n(96530),M=n(45840),T=n(84221);function R(e){return e&&e.__esModule?e:{default:e}}function B(e){return function(e){if(v(e))return O(e)}(e)||function(e){if(void 0!==h&&null!=p(e)||null!=e["@@iterator"])return f(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){var n=void 0!==h&&p(e)||e["@@iterator"];if(!n){if(v(e)||(n=P(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function P(e,t){var n;if(e){if("string"==typeof e)return O(e,t);var r=s(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?f(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),c(e,r.key,r)}}function U(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),e}function G(){return G="undefined"!=typeof Reflect&&u?u:function(e,t,n){var r=j(e,t);if(r){var o=l(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},G.apply(this,arguments)}function j(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$(e)););return e}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}function H(e,t){return H=i||function(e,t){return e.__proto__=t,e},H(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var i=$(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Y(e)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return $=w.default?k.default:function(e){return e.__proto__||(0,k.default)(e)},$(e)}var K={confirm:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAWlBMVEUAAADMQkLLQkLLQkL9Y2PLQkLLQkL9Y2PMQkL9Y2PLQkLLQkLdTk75YGD7YmL9Y2P2Xl77YmL9Y2P9Y2P9Y2PLQkL9Y2PLQkL3Xl7cTU3tWFj5YGDoVVXmVFTAQB7jAAAAFnRSTlMA4qyPiltUU9sGBvr59e3cyl/fplYHf9H6ogAAAJVJREFUKM/lzFkOhCAQRdEHCs5TD1WAuv9ttm00xii1Ae/vSS7Wis/7Ree6DHtZRzelm6Z0XyrpUvY/U7S2QNFSvAEDCfXoJW7QkBTooTzK7CR1CBIH1BLXyIX7qKB9nL2G4TmmMxuUiqd7nVh9Acvs3RWdZ7ZYSpjZB3eysCAnwOaXDgVsfsXcAnul0ao6qFLalCv8AOM4RjeBMUEAAAAAAElFTkSuQmCC",delete:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAb1BMVEUAAADLy8ttbGzMzMzMzMxtbGzMzMxtbGzMzMxtbGzMzMxubW3MzMxtbGxtbGyQj4/MzMxtbGxtbGzMzMzMzMzMzMzMzMzMzMzMzMxwb29tbGzMzMxtbGzBwcGtra2NjIy/vr6goKCPjo6kpKSko6Pen5mzAAAAG3RSTlMA/N2piVtVVAYGA+ParPr54ZSKW1Hz5OPf2quDrJY6AAAAqklEQVQoz9XPSQ6DMBBE0TKEeR4yum0Dyf3PGCARLLA76/ztk0oqrMWhfxNy65z7YYytPpeH8v6L6UlaO6Urz+rwRUPpLATiq5svMTrJ1MHn2EfNcQ3BsYBk+2P+8XvgWEFzrFFxXOGumO0MD+NmUyCg0aUjBUgyetn1SVkCRETG8m4wRBHmWiKatBI7CaUnImqxlDZkrUnxKfKO6EXYSoLCK3cqvSJIVngDsvlU0+yaOfMAAAAASUVORK5CYII=",number:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAeFBMVEUAAADGxsa3t7f///////////////////+3t7e3t7fo6Oi3t7fT09P///////+3t7e6urr///+3t7f///+3t7e3t7f///////////////+3t7e3t7f///+3t7fQ0ND29vb19fX7+/v39/fo6Ojh4eHe3t65ubm4uLiqIy5xAAAAHHRSTlMABeKJVQb64VtV/Prp5NvbrqysppSKW1Hz11xTZZ6wfwAAAKVJREFUKM/d00cSgzAQRNEWOefgIIkM97+hMbhwuUBzAP/tq1nMorFlGrlt8aPbPTdMHNURPxXVH2Q6v0xnG6+q8LcaXJkBmKGaQxMVJ6qQUpzCptiGRbEFTva/3FHaoaW4gUexh4DiAEmv1j6BI9UsH2DapNJJY4C7jNc6Li7WSiHbM7ZSlPsMCjHLofn5d5CzKBj2nrE4Fbs4Yk6m+V/ytczZT1+rJlhgr8lBXAAAAABJRU5ErkJggg=="},W=[{text:"1",skin:"number",x:20,y:15},{text:"2",skin:"number",x:280,y:15},{text:"3",skin:"number",x:545,y:15},{text:"4",skin:"number",x:20,y:125},{text:"5",skin:"number",x:280,y:125},{text:"6",skin:"number",x:545,y:125},{text:"7",skin:"number",x:20,y:235},{text:"8",skin:"number",x:280,y:235},{text:"9",skin:"number",x:545,y:235},{text:"0",skin:"number",x:810,y:15},{text:"00",skin:"number",x:810,y:125},{text:".",skin:"number",x:810,y:235},{text:"",skin:"confirm",x:1070,y:15},{text:"",skin:"delete",x:1070,y:235}],X=C.Event.CLICK,Q={config:{caller:null,closeOnSide:!0,shadowAlpha:.3,shadowColor:"#000000",nullMsg:"输入的值不能为空",length:11,float:!1,fixed:4,delTxt:"删除",confirmTxt:"确定",input:function(e){},close:function(e,t){}}},q=function(e){F(n,e);var t=z(n);function n(){var e;return D(this,n),(e=t.call(this)).textValue="",e.firstInput=!1,e.init(),e}return U(n,[{key:"destroy",value:function(){S.Laya.stage.off(S.Laya.Event.RESIZE,this,this.onResize),this.keyBoardMask=null,this.keyBoardPanel=null,this.textValue=null,G($(n.prototype),"destroy",this).call(this,!0)}},{key:"init",value:function(){this.size(S.Laya.stage.width,S.Laya.stage.height),this.zOrder=1e3;var e=new te;e.on("input",this,this.onInput),e.on("exit",this,this.onExit);var t=new Z;t.on("exit",this,(function(t){e.exit(t)})),this.keyBoardMask=t,this.keyBoardPanel=e,this.addChildren(t,e),S.Laya.stage.on(S.Laya.Event.RESIZE,this,this.onResize)}},{key:"onExit",value:function(e){this.removeSelf(),Q.config.close&&Q.config.close.call(Q.config.caller,e,"confirm"===e?this.textValue+"":null),this.textValue=""}},{key:"onInput",value:function(e){var t=Q.config,n=t.delTxt,r=t.confirmTxt,o=t.nullMsg,i=t.input,a=t.float,u=t.fixed,l=t.length;switch(e){case n:var c=this.textValue.split("");c.pop(),this.textValue=c.join(""),this.textValue?this.keyBoardPanel.update(this.textValue,"#ffffff"):this.keyBoardPanel.update(o,"#ff0000"),i&&i.call(Q.config.caller,this.textValue);break;case r:this.keyBoardPanel.exit("confirm");break;default:if(this.firstInput&&(this.textValue="",this.firstInput=!1),"."===e){var s;if(!0!==a)return;if(""===this.textValue&&(e="0."),-1!==(0,y.default)(s=this.textValue).call(s,"."))return}if(!0===a){var f=this.textValue.split(".")[1];if(f&&f.length>=u)return}if((this.textValue+e).length>l)return;this.textValue=this.textValue+e,this.textValue=this.textValue.replace(/^0+/,""),i&&i.call(Q.config.caller,this.textValue),this.textValue?this.keyBoardPanel.update(this.textValue,"#ffffff"):this.keyBoardPanel.update(o,"#ff0000")}}},{key:"enter",value:function(e,t){var n=this;Q.config=(0,m.default)((0,m.default)({},Q.config),t),this.textValue=e,this.firstInput=!0,S.Laya.timer.callLater(this,(function(){n.keyBoardMask.update(n.width,n.height,Q.config.shadowAlpha,Q.config.shadowColor,Q.config.closeOnSide),n.keyBoardPanel.enter(n.textValue)})),S.Laya.stage.addChild(this)}},{key:"close",value:function(){this.removeSelf(),this.textValue="",this.keyBoardPanel.exit("force")}},{key:"onResize",value:function(){var e=S.Laya.stage.width,t=S.Laya.stage.height;this.size(e,t),this.keyBoardMask.resize(e,t),this.keyBoardPanel.resize(e,t)}}]),n}(E.Box);t.KeyBoardNumber=q;var Z=function(e){F(n,e);var t=z(n);function n(){var e;return D(this,n),(e=t.call(this)).configAlpha=null,e.configColor=null,e.closeOnSide=!1,e.on(X,Y(e),(function(){e.closeOnSide&&e.event("exit",["mask",null])})),e}return U(n,[{key:"update",value:function(e,t,n,r,o){this.alpha=this.configAlpha=n,this.configColor=r,this.closeOnSide=o,this.resize(e,t)}},{key:"resize",value:function(e,t){this.size(e,t),this.graphics.clear(),this.graphics.drawRect(0,0,this.width,this.height,this.configColor),this.alpha=this.configAlpha}}]),n}(x.Sprite),J=function(e){F(n,e);var t=z(n);function n(){var e;return D(this,n),(e=t.call(this)).init(),e}return U(n,[{key:"destroy",value:function(){G($(n.prototype),"destroy",this).call(this),this.Mask=null,this.textValue=null,this.originHeight=null}},{key:"init",value:function(){this.originHeight=60;var e=new Z;e.update(this.width,this.height,.5,"#000000",!1);var t=new A.Label;t.height=30,t.fontSize=30,t.align="center",this.Mask=e,this.textValue=t,this.addChildren(e,t)}},{key:"update",value:function(e,t){this.textValue.color=t,this.textValue.text=e}},{key:"resize",value:function(e,t){var n=t/1334;this.size(e,this.originHeight*n),this.Mask.resize(this.width,this.height),this.textValue.width=e,this.textValue.bottom=0,this.top=-this.height}}]),n}(E.Box),ee=function(e){F(n,e);var t=z(n);function n(e,r){var o;return D(this,n),(o=t.call(this)).init(e,r),o}return U(n,[{key:"destroy",value:function(){G($(n.prototype),"destroy",this).call(this,!0),this.config=null,this.label=null}},{key:"init",value:function(e,t){var n=this;e.width=240,e.height="confirm"===e.skin?210:100,this.config=e,this.skin=K[e.skin],this.sizeGrid="15,15,15,15",this.resize(S.Laya.stage.width,S.Laya.stage.height),this.create(),this.on(X,this,(function(){t(n.config.text)}))}},{key:"create",value:function(){var e=this.config,t=e.text,n=e.skin,r=t;"confirm"===n?r=Q.config.confirmTxt:"delete"===n&&(r=Q.config.delTxt),this.config.text=r;var o=new A.Label(r);o.color="confirm"===n?"#ffffff":"#1c1c1c",o.font="arial",o.align="center",o.fontSize=40,o.size(this.width,o.fontSize),o.centerY=0,this.label=o,this.addChild(o)}},{key:"enter",value:function(){var e=this.config,t=e.text,n=e.skin,r=t;"confirm"===n?r=Q.config.confirmTxt:"delete"===n&&(r=Q.config.delTxt),this.config.text=r,this.label.text=r}},{key:"resize",value:function(e,t){var n=e/1334,r=t/1334;this.size(this.config.width*n,this.config.height*r),this.pos(this.config.x*n,this.config.y*r),this.label&&(this.label.width=this.width)}}]),n}(I.Image),te=function(e){F(n,e);var t=z(n);function n(){var e;return D(this,n),(e=t.call(this)).keys=[],e.init(),e}return U(n,[{key:"init",value:function(){var e=S.Laya.stage.height;e=e<750?750:e,this.size(S.Laya.stage.width,e/1334*350),this.bottom=-this.height;var t=new Z;t.update(this.width,this.height,.5,"#000000",!1);var n=new J;n.resize(this.width,e),this.inputText=n,this.panelMask=t,this.addChildren(t,n);var r,o=L(W);try{for(o.s();!(r=o.n()).done;){var i,a=r.value;(0,g.default)(this).push(new ee(a,(0,_.default)(i=this.onClick).call(i,this)))}}catch(e){o.e(e)}finally{o.f()}this.addChildren.apply(this,B((0,g.default)(this)))}},{key:"onClick",value:function(e){this.event("input",[e])}},{key:"update",value:function(e,t){this.inputText.update(e,t)}},{key:"enter",value:function(e){this.inputText.update(e,"#ffffff"),T.Tween.to(this,{bottom:0},200,M.Ease.cubicOut);var t,n=L((0,g.default)(this));try{for(n.s();!(t=n.n()).done;){t.value.enter()}}catch(e){n.e(e)}finally{n.f()}}},{key:"exit",value:function(e){var t=this;"force"!==e?T.Tween.to(this,{bottom:-this.height},150,M.Ease.cubicOut,S.Laya.Handler.create(this,(function(){t.event("exit",[e])}))):this.bottom=-this.height}},{key:"resize",value:function(e,t){var n=(t=t<750?750:t)/1334;this.size(e,350*n),this.panelMask.resize(this.width,this.height),this.inputText.resize(e,t);for(var r=0,o=(0,b.default)((0,g.default)(this));r<o.length;r++){var i=o[r];(0,g.default)(this)[i].resize(e,t)}}}]),n}(E.Box)},63323:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(63978))&&r.__esModule?r:{default:r},i=n(24629),a=n(89662);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}var l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.view=t,this.on_progress=n,this.initEvent()}var t,n,r;return t=e,(n=[{key:"initEvent",value:function(){var e=this,t=this.view,n=a.Event.MOUSE_DOWN,r=a.Event.MOUSE_MOVE,o=a.Event.MOUSE_OVER,u=a.Event.MOUSE_OUT,l=a.Event.MOUSE_UP;t.on(n,this,(function(t){e.onClick(t),i.Laya.stage.on(r,e,e.onMouseMove),i.Laya.stage.on(o,e,e.onMouseOut),i.Laya.stage.on(u,e,e.onMouseOut),i.Laya.stage.on(l,e,e.onMouseOut)}))}},{key:"onClick",value:function(e){e.stopPropagation();var t=this.view.box,n=t.width,r=t.getMousePoint().x/n;r>1&&(r=1),r<0&&(r=0),this.setProgress(r)}},{key:"onMouseMove",value:function(e){var t=this.view.box;e.stopPropagation();var n=t.getMousePoint().x/t.width;n>1&&(n=1),n<0&&(n=0),this.setProgress(n)}},{key:"onMouseOut",value:function(e){e.stopPropagation(),i.Laya.stage.offAllCaller(this)}},{key:"setProgress",value:function(e){var t=this.view,n=t.box,r=t.progress_bar,o=t.progress_btn,i=n.width;e!==this.radio&&(this.radio=e,r.value=e,o.x=e*i,e<.1&&(e=0),this.on_progress(e))}},{key:"destroy",value:function(){this.view=void 0,this.on_progress=void 0}}])&&u(t.prototype,n),r&&u(t,r),e}();t.default=l},80323:function(e,t,n){"use strict";var r=n(3649),o=n(66419),i=n(65420),a=n(19996),u=n(41511),l=n(98341);n(63978)(t,"__esModule",{value:!0}),t._typeIsChecked=M,t.addPressEvent=function(e){e.on(y.Event.MOUSE_DOWN,e,(function(t){e.cus_event={stageX:t.stageX,stageY:t.stageY,status:"MOUSE_DOWN",timestamp:(new Date).getTime()},d.timer.once(1e3,e,(function(){e.event("longPress")}))})),e.on(y.Event.MOUSE_MOVE,e,(function(){e.cus_event&&(e.cus_event={stageX:e.cus_event.stageX,stageY:e.cus_event.stageY,status:"MOUSE_MOVE",time:e.cus_event.time?e.cus_event.time+1:1,timestamp:(new Date).getTime()})})),e.on(y.Event.MOUSE_UP,e,(function(t){if(e.cus_event){if("MOUSE_DOWN"!==e.cus_event.status){var n=t.stageX-e.cus_event.stageX,r=t.stageY-e.cus_event.stageY;n<=20&&r<=20&&(e.cus_event.status="MOUSE_DOWN")}if(d.timer.clearAll(e),"MOUSE_DOWN"===e.cus_event.status){var o=(new Date).getTime()-e.cus_event.timestamp;o<1e3&&e.event("shortPress",o)}}}))},t.calcStrLen=j,t.closestCheck=I,t.compareObj=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n]&&"object"!==_(e[n]))return!1;for(var r in t)if(!e(r))return!1;return!0},t.convertJSONToNode=T,t.convertXMLToNode=function(e){return T(L(e))},t.covertDom=function(e,t){for(var n=new t,r=e.numChildren-1;r>=0;r--)n.addChild(e.getChildAt(r));return n.pos(e.x,e.y),n.name=e.name,n},t.createLog=function(e,t){var n;"right"===t?n="font-weight: bold; color: green":"error"===t&&(n="font-weight: bold; color: red");e=e||U();var r=console[e];r||(r=console.log);if(n)return(0,p.default)(r).call(r,window.console,"%c %s",n);return(0,p.default)(r).call(r,window.console)},t.createLogAll=function(){var e=U(),t=function(){};if(!e)return t;if(!window.console)return t;if("warn"!==e&&"error"!==e)return t;return this.createLog()},t.debugFE=U,t.detectModel=N,t.ellipsisStr=function(e,t,n){n=n||"..","number"==typeof e&&e==e&&(e+="");if(!e||"string"!=typeof e)return"";if(j(e)<=t)return e;var r,o="",i=0,a=b(e);try{for(a.s();!(r=a.n()).done;){var u=r.value;if(/[^\x00-\xff]/.test(u)?i+=2:i+=1,i>t-n.length)break;o+=u}}catch(e){a.e(e)}finally{a.f()}return o+n},t.extend=function(e,t,n){for(var r in t)e[r]=t[r];function o(){this.constructor=e}"function"==typeof e&&"function"==typeof t&&(e.prototype=null===t?(0,v.default)(t):(o.prototype=t.prototype,new o));n&&G(e,n);return e},t.filterElements=function(e,t){return(0,f.default)(e).call(e,(function(e){return A(e,t)}))},t.formatTime=function(e,t){for(var n=Math.floor(e/3600),r=Math.floor(e%3600/60),o=[n,r,e%60],i="",a=!1,u=0;u<o.length;u++){var l=o[u];if(!a&&t&&o.length-u<=t&&(a=!0),l||a)a||(a=!0),i+=(l>9?l+"":"0"+l)+":"}return(0,s.default)(i).call(i,0,-1)},t.getAllChildren=function(e){for(var t=[],n=0;n<e.numChildren;n++)t.push(e.getChildAt(n));return t},t.getAllElements=S,t.getChildren=function(e){for(var t=[],n=0;n<e.numChildren;n++){var r=e.getChildAt(n);t.push(r)}return t},t.getChildrenByName=function(e,t){var n=[];if(e.getChildByName&&e.getChildByName(t))for(var r=0;r<e.numChildren;r++){var o=e.getChildAt(r);o.name===t&&n.push(o)}return n},t.getChildrenByType=function(e,t){var n,r=[];"string"==typeof t?n=k(t):"function"==typeof t&&(n=t);if(!n)return r;for(var o=0;o<e.numChildren;o++){var i=e.getChildAt(o);i instanceof n&&r.push(i)}return r},t.getControllerFromDom=C,t.getCtrlTreePath=function e(t,n){n||(n="");n=t.name+"::"+n;var r=t.parent;if(!r)return(0,s.default)(n).call(n,0,-2);return e(r,n)},t.getElementIndex=function(e){var t=e.parent;if(!parent)return-1;for(var n=0;n<t.numChildren;n++)if(t.getChildAt(n)===e)return n;return-1},t.getElementsByName=function e(t,n){var r=[];if(t.getChildByName&&t.getChildByName(n))for(var o=0;o<t.numChildren;o++){var i=t.getChildAt(o);i.name===n&&r.push(i)}for(var a=0;a<t.numChildren;a++)r=(0,c.default)(r).call(r,e(t.getChildAt(a),n));return r},t.getElementsByProperty=function e(t,n){var r=[],o=n.split(":");if(!o.length)return r;"false"===o[1]?o[1]=!1:"true"===o[1]&&(o[1]=!0);for(var i=0;i<t.numChildren;i++)t.getChildAt(i)[o[0]]===o[1]&&r.push(t.getChildAt(i));for(var a=0;a<t.numChildren;a++)r=(0,c.default)(r).call(r,e(t.getChildAt(a),n));return r},t.getElementsByType=function e(t,n){var r,o=[];"string"==typeof n?r=k(n):"function"==typeof n&&(r=n);if(!r)return o;for(var i=0;i<t.numChildren;i++)t.getChildAt(i)instanceof r&&o.push(t.getChildAt(i));for(var a=0;a<t.numChildren;a++)o=(0,c.default)(o).call(o,e(t.getChildAt(a),n));return o},t.getNodeLocalName=B,t.getQueryString=O,t.getUri=function(e){var t="";for(var n in e)t.length&&(t+="&"),t+=n+"="+e[n];return t},t.isChecked=A,t.isClosest=function e(t,n){if(!t)return!1;if(t===n)return!0;var r=t.parent;return e(r,n)},t.isSpriteLock=function(e){if(e.isLock)return!0;return e.isLock=!0,d.timer.once(1e3,e,(function(){e.isLock=!1})),!1},t.mapType=k,t.nameMap=G,t.parseXmlString=P,t.queryCheck=E,t.queryClosest=function e(t,n){var r=t.parent;if(!r)return null;if(A(r,n))return r;return e(r,n)},t.queryClosestClass=function e(t,n){var r=t.parent;if(!r)return;if(r instanceof n)return r;return e(r,n)},t.queryControllersFromDom=function(e,t){var n,r=x(e,t),o=[],i=b(r);try{for(i.s();!(n=i.n()).done;){var a=C(n.value);a&&o.push(a)}}catch(e){i.e(e)}finally{i.f()}return o},t.queryElements=x,t.querySiblings=function(e){for(var t=[],n=e.parent,r=0;r<n.numChildren;r++){var o=n.getChildAt(r);o!==e&&t.push(o)}return t},t.queryTop=function e(t){var n=t.parent;if(!n)return t;return e(n)},t.xml2json=R,t.xml_str2json=L;var c=g(n(77766)),s=g(n(3649)),f=g(n(20116)),h=g(n(81643)),p=g(n(54103)),v=g(n(54943)),d=n(24629),y=n(89662),m=n(23835);function g(e){return e&&e.__esModule?e:{default:e}}function _(e){return _="function"==typeof i&&"symbol"==typeof l?function(e){return typeof e}:function(e){return e&&"function"==typeof i&&e.constructor===i&&e!==i.prototype?"symbol":typeof e},_(e)}function b(e,t){var n=void 0!==i&&a(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return w(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return o(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return w(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,c=function(){};return{s:c,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,f=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){h=!0,s=e},f:function(){try{f||null==n.return||n.return()}finally{if(h)throw s}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e){for(var t,n=e.split("."),r=0;r<n.length;r++){var o=n[r];if(0===r){if("function"==typeof o){t=o;break}t=m.ClassUtils.getClass(o)}else t=t[o];if(!t)break}return t}function S(e){for(var t=[],n=0;n<e.numChildren;n++){var r=e.getChildAt(n);t.push(r),t=(0,c.default)(t).call(t,S(r))}return t}function x(e,t){var n=[],r=t.split(" ");if(!r)return n;var o,i=b(S(e));try{for(i.s();!(o=i.n()).done;){var a=o.value;E(e,a,r)&&n.push(a)}}catch(e){i.e(e)}finally{i.f()}return n}function C(e){return e.controller?e.controller:null}function E(e,t,n){return!!A(t,n[n.length-1])&&(!!I(e,t,n)||void 0)}function I(e,t,n){var r=n[n.length-1],o=t._parent||t.parent;return A(t,r)&&(n=(0,s.default)(n).call(n,0,-1)),0===n.length||!!o&&I(e,o,n)}function A(e,t){if(-1===(0,h.default)(t).call(t,"|"))return M(e,t);var n,r=b(t.split("|"));try{for(r.s();!(n=r.n()).done;){if(!M(e,n.value))return!1}}catch(e){r.e(e)}finally{r.f()}return!0}function M(e,t){var n=t.split(":"),r=n[0],o=n[1];if("name"===r)return e.name===o;if("type"===r)return e instanceof k(o);if("property"===r){var i=o,a=n[2];return"false"===a?a=!1:"true"===a&&(a=!0),e[i]===a}}function T(e){var t=e.type,n=m.ClassUtils.getClass(t);if(n){var r=new n,o=e.props;for(var i in o){var a=o[i];isNaN(Number(a))||(a=Number(a)),r[i]=a}var u,l=b(e.children);try{for(l.s();!(u=l.n()).done;){var c=T(u.value);c&&r.addChild(c)}}catch(e){l.e(e)}finally{l.f()}return r}}function R(e){var t={};t.type=B(e),t.children=[];for(var n=e.childNodes,r=0;r<n.length;r++){var o=R(n.item(r));t.children.push(o)}if(e.attributes){t.props={};for(var i=0;i<e.attributes.length;i++){var a=e.attributes.item(i);t.props[a.name]=a.value}}return t}function B(e){var t=e.localName;return null===t&&(t=e.baseName),null!==t&&""!==t||(t=e.nodeName),t}function L(e){var t=P(e);return null!==t?R(t):null}function P(e){if(void 0===e)return null;var t,n;window.DOMParser&&(n=new window.DOMParser);try{t=n.parseFromString(e,"text/xml").firstChild}catch(e){t=null}return t}function O(e){var t,n={},r=b(e.split("&"));try{for(r.s();!(t=r.n()).done;){var o=t.value;if(o){var i=o.split("=");n[i[0]]=decodeURIComponent(i[1])}}}catch(e){r.e(e)}finally{r.f()}return n}var D={};function N(e){var t;if(e in D)return D[e];var n=location.href.split("?")[1];if(!n)return!1;var r=O(n=n.replace(location.hash,""))[e];return r&&(t=r),D[e]=t,t}function U(){return N("debugType")||N("debug_status")||N("debugFE")}function G(e,t,n){return n||(n=window),"string"==typeof t&&(t=t.split(".")),1===t.length?n[t[0]]=e:(n[t[0]]||(n[t[0]]={}),G(e,(0,s.default)(t).call(t,1),n[t[0]]))}function j(e){return e.replace(/[^\x00-\xff]/g,"01").length}},44846:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.LayaSlider=void 0;var r,o=(r=n(63978))&&r.__esModule?r:{default:r},i=n(89662),a=n(98693),u=n(93408),l=n(41107),c=n(84221);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}var f=0,h=500,p=10,v=1/6,d=!0,y=!0,m=null,g=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dom={},this.config={},this.tmp={},this.touch_status="end",this.dom.glr=t,this.initConfig(n),this.init()}var t,n,r;return t=e,n=[{key:"next",value:function(){"end"===this.touch_status&&(this.detectNextShowIndex("right"),this.animateMove())}},{key:"prev",value:function(){"end"===this.touch_status&&(this.detectNextShowIndex("left"),this.animateMove(!1))}},{key:"goto",value:function(e){"end"===this.touch_status&&(this.tmp.next_show_index=e,this.animateMove(!1))}},{key:"initConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config.cur_index=e.origin_index||f,this.config.item_space=e.item_space||p,this.config.animate_time=e.animate_time||h,this.config.pagination=e.hasOwnProperty("pagination")?e.pagination:d,e.hasOwnProperty("loop")?this.config.loop=e.loop:this.config.loop=y,this.config.end_call_back=e.end_call_back||m,e.item_width&&(this.config.move_space=e.item_width+this.config.item_space,this.config.move_scope=this.config.move_space*v)}},{key:"init",value:function(){this.initDom(),this.initEvent(),this.config.move_space||(this.config.move_space=this.dom.con.width+this.config.item_space,this.config.move_scope=this.config.move_space*v)}},{key:"initEvent",value:function(){var e=this.dom.list,t=i.Event.MOUSE_DOWN,n=i.Event.MOUSE_MOVE,r=i.Event.MOUSE_UP,o=i.Event.MOUSE_OUT;this.config.pagination&&(this.dom.pagination.selectHandler=l.Handler.create(this,this.paginationHandler,null,!1)),e.on(t,this,this.onTouchStart),e.on(n,this,this.onTouchMove),e.on(r,this,this.onTouchEnd),e.on(o,this,this.onTouchEnd)}},{key:"initDom",value:function(){var e=this.dom.glr;this.dom.con=e.getChildByName("con"),this.dom.list=this.dom.con.getChildByName("list"),this.replaceGlrList(),this.addMask(),this.dom.items=[];for(var t=0;t<this.dom.list.numChildren;t++)this.dom.items.push(this.dom.list.getChildAt(t));var n=this.config.pagination;n&&(this.dom.pagination="boolean"==typeof n?e.getChildByName("pagination"):n)}},{key:"addMask",value:function(){var e=this.dom.con;e.scrollRect=new a.Rectangle(0,0,e.width,e.height)}},{key:"replaceGlrList",value:function(){var e=this.dom,t=e.con,n=e.list,r=new u.Box;r.name="list";for(var o=[],i=0;i<n.numChildren;i++){var a=n.getChildAt(i);a.name="item",a.visible=!0,o.push(a)}for(var l=0;l<o.length;l++)o[l].visible=l===f,r.addChild(o[l]);this.dom.list=r,t.addChild(r),r.space=p,r.cacheAs="none",r.x=n.x,r.y=n.y,t.removeChild(n),n.destroy()}},{key:"paginationHandler",value:function(e,t){if("onEndAnimate"===this.touch_status)return!0;var n;n=this.config.cur_index>e?"left":"right",this.handleMoveEffect(n,e),this.animateMove(t)}},{key:"onTouchStart",value:function(e){var t=this.dom.list;if("onEndAnimate"===this.touch_status)return!0;this.tmp.start_point={x:e.stageX,y:e.stageY},this.tmp.origin_pos={x:t.x},this.touch_status="start"}},{key:"onTouchMove",value:function(e){var t=this.touch_status,n=this.dom.list;if("start"!==t&&"move"!==t)return!0;"start"===t&&(this.touch_status="move"),this.tmp.move_dist={x:e.stageX-this.tmp.start_point.x,y:e.stageY-this.tmp.start_point.y},n.x=this.tmp.origin_pos.x+this.tmp.move_dist.x,this.detectMoveDirection(this.tmp.move_dist.x)}},{key:"detectMoveDirection",value:function(e){var t,n=this.config.loop,r=this.dom.items.length,o=this.config.cur_index;if(e>0)t="left";else{if(!(e<0))return this.tmp.next_show_index=o,!0;t="right"}!n&&(0===o&&"left"===t||o===r-1&&"right"===t)||this.detectNextShowIndex(t)}},{key:"detectNextShowIndex",value:function(e){var t,n=this.config.cur_index,r=this.dom.items.length;(t="left"===e?n-1:n+1)<0?t=r-1:t>=r&&(t=0),this.handleMoveEffect(e,t)}},{key:"handleMoveEffect",value:function(e,t){var n=this.config,r=n.cur_index,o=n.move_space,i=this.dom.items;if(e===this.tmp.move_direction&&t===this.tmp.next_show_index)return!0;this.tmp.move_direction=e,this.tmp.next_show_index=t;for(var a=0;a<i.length;a++)a!==r&&a!==t&&(i[a].x=0,i[a].visible=!1);var u=i[t];u.visible=!0,u.x="left"===e?-o:o}},{key:"onTouchEnd",value:function(){var e,t,n=null===(t=null===(e=this.tmp)||void 0===e?void 0:e.move_dist)||void 0===t?void 0:t.x;return"onEndAnimate"===this.touch_status||("move"===this.touch_status&&n?(n=this.tmp.move_dist.x,Math.abs(n)<this.config.move_scope&&(this.tmp.next_show_index=this.config.cur_index),void 0===this.tmp.next_show_index&&(this.tmp.next_show_index=this.config.cur_index),void this.animateMove()):(this.reset(),!0))}},{key:"animateMove",value:function(e){var t=this.config.end_call_back,n=this.tmp.next_show_index,r=this.config.move_space;this.touch_status="onEndAnimate",this.config.cur_index===n?r=0:(this.config.cur_index=n,"right"===this.tmp.move_direction&&(r=-r));var o=this.dom.list,i={x:r};function a(){this.config.pagination&&(this.dom.pagination.selectedIndex=this.config.cur_index),t&&"function"==typeof t&&t(this.config.cur_index),this.reset()}!1===e?(o.x=r,a.call(this)):c.Tween.to(o,i,this.config.animate_time,null,l.Handler.create(this,a))}},{key:"reset",value:function(){this.resetGlrCon(),this.tmp={},this.touch_status="end"}},{key:"resetGlrCon",value:function(){var e=this.dom,t=e.list,n=e.items,r=this.config.cur_index;t.x=0,n[r].x=0;for(var o=0;o<n.length;o++)o===this.config.cur_index?(n[o].visible=!0,n[o].x=0):n[o].visible=!1}}],n&&s(t.prototype,n),r&&s(t,r),e}();t.LayaSlider=g},4155:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.tween=function(e,t){return new o.default((function(n,r){var o={_val:0,get val(){return this._val},set val(e){this._val=e,t(e)}};u.Tween.to(o,{val:1},e,i.Ease.sineInOut,a.Handler.create(null,(function(){n()})))}))};var r,o=(r=n(93476))&&r.__esModule?r:{default:r},i=n(45840),a=n(41107),u=n(84221)},52782:function(e,t,n){"use strict";var r=n(3649),o=n(66419),i=n(65420),a=n(19996),u=n(41511);n(63978)(t,"__esModule",{value:!0}),t.getRectRadiusPath=function(e,t,n,r,o){return[["moveTo",e+o,t],["lineTo",e+n-o,t],["arcTo",e+n,t,e+n,t+o,o],["lineTo",e+n,t+r-o],["arcTo",e+n,t+r,e+n-o,t+r,o],["lineTo",e+o,t+r],["arcTo",e,t+r,e,t+r-o,o],["lineTo",e,t+o],["arcTo",e,t,e+o,t,o],["closePath"]]},t.isClosest=w,t.offMouseMove=function(e){for(var t=_.length-1;t>=0;t--){var n=_[t],r=n.item,o=n.off;r===e&&(o(),(0,c.default)(_).call(_,t,1))}},t.onMouseMove=function(e,t){var n=p.Event.MOUSE_MOVE,r=function(n){var r=e.getMousePoint(),o=r.x,i=r.y;t({x:o,y:i})};e.on(n,e,r),_.push({item:e,off:function(){e.off(n,e,r)}})},t.onNode=g,t.onNodeWithAni=void 0,t.onStageClick=function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new s.Observable((function(t){var i=function(e){if(n){var i,a=e.target,u=y(n);try{for(u.s();!(i=u.n()).done;){if(w(a,i.value))return}}catch(e){u.e(e)}finally{u.f()}}t.next(e),r=t,o&&t.complete()};h.Laya.stage.on(p.Event.CLICK,e,i),t.add((function(){h.Laya.stage.off(p.Event.CLICK,e,i)}))}));i.subscribe((function(n){e&&e.destroyed?r&&r.complete():t.call(e,n)}))},t.resizeContain=b,t.resizeParent=function(e,t,n){var r=e.parent;b(r,t),n&&r.width<n&&(r.width=n)};var l=d(n(33032)),c=d(n(92762)),s=n(72649),f=n(13845),h=n(24629),p=n(89662),v=n(90564);function d(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n=void 0!==i&&a(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return m(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return o(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,c=function(){};return{s:c,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,f=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){h=!0,s=e},f:function(){try{f||null==n.return||n.return()}finally{if(h)throw s}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e3,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=new s.Observable((function(n){var u=function(t){!0!==e.is_disable&&(e.is_disable=!0,a&&(0,v.buttonClick)(e),(0,l.default)((function(){e&&e.destroyed||(e.is_disable=!1)}),i),n.next(t),o=n,r&&n.complete())};e.on(t,e,u),n.add((function(){e.off(t,e,u)}))}));u.pipe((0,f.throttleTime)(i||1e3)).subscribe((function(t){e&&e.destroyed?o&&o.complete():n(t)}))}t.onNodeWithAni=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e3;g(e,t,n,r,o,!0)};var _=[];function b(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"horizontal",r=e.numChildren,o=[],i=0,a=0;a<r;a++){var u=e.getChildAt(a);u.visible&&o.push(u)}for(var l=0;l<o.length;l++){var c=o[l];"horizontal"===n?(c.x=i,c.anchorX&&(c.x+=c.width/2)):(c.y=i,c.anchorY&&(c.y+=c.height/2)),"horizontal"===n?l!==o.length-1?i+=c.width+t:i+=c.width:l!==o.length-1?i+=c.height+t:i+=c.height}"horizontal"===n?e.width=i:e.height=i}function w(e,t){return!!e&&(e===t||w(e.parent,t))}},36620:function(e,t,n){"use strict";var r=n(41511),o=n(65420),i=n(19996),a=n(3649),u=n(66419);n(63978)(t,"__esModule",{value:!0}),t.getItem=function(e){var t=localStorage.getItem(e);if(!t)return t;var n=(p=t.split("|"),v=3,function(e){if(r(e))return e}(p)||function(e,t){var n=null==e?null:void 0!==o&&i(e)||e["@@iterator"];if(null!=n){var r,a,u=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(u.push(r.value),!t||u.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return u}}(p,v)||function(e,t){var n;if(e){if("string"==typeof e)return f(e,t);var r=a(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?u(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(p,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=n[0],s=n[1],h=n[2];var p,v;if(!s)return l;var d=Number(s),y=Number(h);if((0,c.default)()-y<d)return l;return localStorage.removeItem(e),null},t.removeItem=function(e){localStorage.removeItem(e)},t.setItem=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n){var r,o,i=24*Number(n)*60*60*1e3;t=(0,l.default)(r=(0,l.default)(o="".concat(t,"|")).call(o,i,"|")).call(r,(0,c.default)())}localStorage.setItem(e,t)};var l=s(n(77766)),c=s(n(11128));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},55161:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.log=t.error=t.debug=void 0;var r=a(n(54103)),o=a(n(17123)),i=n(77513);function a(e){return e&&e.__esModule?e:{default:e}}function u(e){if(!(0,i.getParams)("GodMode"))return function(){};var t=console[e];return t||(t=console.log),(0,r.default)(t).call(t,window.console)}var l=console.log;t.log=l;var c=console.warn;t.debug=c;var s=console.error;t.error=s,(0,o.default)((function(){t.log=l=u(),t.debug=c=u("debug"),t.error=s=u("error")}))},54049:function(e,t,n){"use strict";function r(e){return r="function"==typeof u&&"symbol"==typeof l?function(e){return typeof e}:function(e){return e&&"function"==typeof u&&e.constructor===u&&e!==u.prototype?"symbol":typeof e},r(e)}var o=n(52424),i=n(63978),a=n(34074),u=n(65420),l=n(98341);i(t,"__esModule",{value:!0}),t.angleToDegree=h,t.angleToVector=function(e){return new c.Vector(Math.cos(e),Math.sin(e))},t.degreeToAngle=function(e){return e*Math.PI/180},t.degreeToVector=function(e){var t=e*Math.PI/180;return{x:Math.cos(t),y:Math.sin(t)}},t.frameToTime=function(e){return Math.ceil(e/60)},t.timeToFrame=function(e){return Math.ceil(60*e)},t.vectorToAngle=f,t.vectorToDegree=function(e){return h(f(e))};var c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var o={},u=i&&a;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var c=u?a(e,l):null;c&&(c.get||c.set)?i(o,l,c):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(86116));function s(e){if("function"!=typeof o)return null;var t=new o,n=new o;return(s=function(e){return e?n:t})(e)}function f(e){return Math.atan2(e.y,e.x)}function h(e){return 180*e/Math.PI}},68267:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.Pagination=void 0;var r,o=(r=n(63978))&&r.__esModule?r:{default:r};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"updateData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;e===this.item_total_num&&this.item_page_num===t&&this.pagination_num===n||(this.item_total_num=e,this.item_page_num=t,this.pagination_num=n,this.cur_page=0,this.analyse())}},{key:"reset",value:function(){this.item_total_num=0,this.item_page_num=0,this.pagination_num=0,this.cur_page=0}},{key:"next",value:function(){this.has_next&&(this.cur_page+=1,this.analyse())}},{key:"prev",value:function(){this.has_prev&&(this.cur_page-=1,this.analyse())}},{key:"setCurPage",value:function(e){e<0&&(e=0),e>this.page_num-1&&(e=this.page_num-1),this.cur_page=e,this.analyse()}},{key:"rightSpread",value:function(){if(this.has_right_spread){var e=this.cur_page+this.pagination_num;e>this.page_num-1&&(e=this.page_num-1),this.cur_page=e,this.analyse()}}},{key:"leftSpread",value:function(){if(this.has_left_spread){var e=this.cur_page-this.pagination_num;e<0&&(e=0),this.cur_page=e,this.analyse()}}},{key:"analyse",value:function(){var e=this.item_total_num,t=this.item_page_num,n=this.cur_page,r=this.pagination_num,o=Math.ceil(e/t);this.page_num=o;var i=(n+1)*t;i>e&&(i=e);var a=[n*t,i];this.item_range=a;var u=n>0,l=n<o-1;this.has_prev=u,this.has_next=l;var c=n-Math.ceil((r-1)/2);c<0&&(c=0);var s=c+r;s>o&&(c=(s=o)-r)<0&&(c=0);var f=[c,s];this.pagination_range=f;var h=c>1,p=s<o-1;this.has_left_spread=h,this.has_right_spread=p}},{key:"output",value:function(){var e=this.cur_page,t=this.item_range,n=this.has_next,r=this.has_prev,o=this.pagination_range,i=this.has_left_spread,a=this.has_right_spread,u=this.page_num,l=[];if(o[0]>0&&l.push(0),i&&l.push("left_spread"),o)for(var c=o[0];c<o[1];c++)l.push(c);return a&&l.push("right_spread"),o[1]<u&&l.push(u-1),l.length>0&&(l.unshift("prev"),l.push("next")),{cur_page:e,item_range:t,has_next:n,has_prev:r,pagination_arr:l,pagination_range:o,page_num:u}}}],n&&i(t.prototype,n),r&&i(t,r),e}();t.Pagination=a},37478:function(e,t,n){"use strict";var r=n(20116),o=n(2991);n(63978)(t,"__esModule",{value:!0}),t.onKeyBoardEvent=function(e){return(0,a.fromEvent)(document.body,"keydown").pipe(r(i)((function(t){return t.keyCode===e})),o(i)((function(e){return e.preventDefault(),e})))},t.onNodeEvent=function(e,t,n){return new a.Observable((function(r){var o=function(e){e.stopPropagation(),r.next(e),n&&r.complete()};e.on(t,e,o),r.add((function(){e.off(t,e,o)}))}))};var i=n(13845),a=n(72649)},21705:function(e,t,n){"use strict";function r(e){return r="function"==typeof a&&"symbol"==typeof h?function(e){return typeof e}:function(e){return e&&"function"==typeof a&&e.constructor===a&&e!==a.prototype?"symbol":typeof e},r(e)}var o=n(3649),i=n(66419),a=n(65420),u=n(19996),l=n(41511),c=n(52424),s=n(63978),f=n(34074),h=n(98341);s(t,"__esModule",{value:!0}),t.cloneShape=w,t.cloneShapeInfos=function(e){var t,n=[],r=_(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=o.pos,a=w(o.shape);n.push({pos:i.clone(),shape:a})}}catch(e){r.e(e)}finally{r.f()}return n},t.getFishViewShape=function(e){var t=m.SPRITE.fish[e].offset,n=t[1]+t[3],r=t[0]+t[2],o={x:t[3],y:t[0]},i=new d.Box(new d.Vector(0,0),n,r).toPolygon();o&&i.translate(-o.x,-o.y);return[{shape:i,pos:new d.Vector(0,0)}]},t.getShapes=function(e,t){var n,r=[];"fish"===e?(n=y.SHAPE.fish[t]).as&&(n=y.SHAPE.fish[n.as]):n="bullet"===e?y.SHAPE.bullet:y.SHAPE.net;var o,i=_(n.shape_list);try{for(i.s();!(o=i.n()).done;){var a=o.value,u={},l=a.position||{x:0,y:0};if(u.pos=new d.Vector(l.x,l.y),"Circle"===a.type)u.shape=new d.Circle(new d.Vector(0,0),a.radius);else if("Box"===a.type){var c=new d.Box(new d.Vector(0,0),a.width,a.height);u.shape=c.toPolygon(),a.pivot?u.shape.translate(-a.pivot.x,-a.pivot.y):u.shape.translate(-a.width/2,-a.height/2)}else{for(var s=[],f=a.pivot,h=0;h<a.points.length;h+=2){var p=a.points[h],v=a.points[h+1];s.push(new d.Vector(p,v))}u.shape=new d.Polygon(new d.Vector(0,0),s),f&&u.shape.translate(-f.x,-f.y)}r.push(u)}}catch(e){i.e(e)}finally{i.f()}return r},t.scaleXShapeInfos=function(e){var t,n=[],r=_(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=o.pos,a=o.shape,u=new d.Vector(-i.x,i.y),l=void 0;if(a instanceof d.Circle)l=w(a);else{var c,s=[],f=_(a.points);try{for(f.s();!(c=f.n()).done;){var h=c.value;s.push(new d.Vector(-h.x,h.y))}}catch(e){f.e(e)}finally{f.f()}l=new d.Polygon(s[0],(0,v.default)(s).call(s))}n.push({pos:u,shape:l})}}catch(e){r.e(e)}finally{r.f()}return n};var p,v=(p=n(97093))&&p.__esModule?p:{default:p},d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={},i=s&&f;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=i?f(e,a):null;u&&(u.get||u.set)?s(o,a,u):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(86116)),y=n(70430),m=n(53531);function g(e){if("function"!=typeof c)return null;var t=new c,n=new c;return(g=function(e){return e?n:t})(e)}function _(e,t){var n=void 0!==a&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return b(e,t);var r=o(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return i(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,c=function(){};return{s:c,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,f=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){h=!0,s=e},f:function(){try{f||null==n.return||n.return()}finally{if(h)throw s}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){if(e instanceof d.Polygon){var t,n=[],r=_(e.points);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.push(new d.Vector(o.x,o.y))}}catch(e){r.e(e)}finally{r.f()}return new d.Polygon(n[0],n)}if(e instanceof d.Circle)return new d.Circle(e.pos.clone(),e.r)}},63723:function(e,t,n){"use strict";var r=n(3649),o=n(66419),i=n(65420),a=n(19996),u=n(41511);n(63978)(t,"__esModule",{value:!0}),t.clearTick=function(e){m.delete(e),0===m.size&&(s.Laya.timer.clear(null,b),g=!1,d=0)},t.createTick=function(e){g||(g=!0,s.Laya.timer.loop(y,null,b));return _++,m.set(_,{fn:e,index:_}),_};var l=f(n(39392)),c=f(n(11128)),s=n(24629);function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){return function(e){if(u(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==i&&a(e)||e["@@iterator"];if(null==n)return;var r,o,u=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(u.push(r.value),!t||u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw o}}return u}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){var n;if(e){if("string"==typeof e)return v(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?o(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d,y=1e3/60,m=new l.default,g=!1,_=0;function b(){var e=1;if(d){var t=(0,c.default)(),n=t-d;e=Math.floor(n/y*1),d=t-(n-e/1*y)}else d=(0,c.default)();var r,o=function(e,t){var n=void 0!==i&&a(e)||e["@@iterator"];if(!n){if(u(e)||(n=p(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,l=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw l}}}}(m);try{for(o.s();!(r=o.n()).done;){h(r.value,2)[1].fn(e)}}catch(e){o.e(e)}finally{o.f()}}},77513:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.addZeroToNum=y,t.callFunc=function(e){if(!v(e))return;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.apply(void 0,n)},t.changeNum=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",n=d(e);if("add"===t){var r=y(1,n.length-1);return e+r}var o,i=n[0];return o=y(1,1===i?n.length-2:n.length-1),e-o},t.createColorFilter=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255;if("string"==typeof e){var o=g(e);e=o.r,t=o.g,n=o.b,r=255}var i=[e/=255,0,0,0,0,0,t/=255,0,0,0,0,0,n/=255,0,0,0,0,0,r/=255,0];return new l.ColorFilter(i)},t.createDarkFilter=m,t.createGLowRedFilter=function(){return new c.GlowFilter("#ff0000",10,0,0)},t.createRedFilter=function(){return new l.ColorFilter([.5,.5,.5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0])},t.darkNode=function(e){e.filters=[m()]},t.formatDateStr=_,t.genRandomStr=function(){return Math.random().toString().replace("0.","")},t.getDateFromNow=function(e){var t=new Date,n=t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate(),r=new Date(n),o=new Date(n);o.setDate(t.getDate()+e),r.setDate(t.getDate()+e+1);var i=o.getMonth()+1,a=o.getDate();return{date_str:_(i)+"-"+_(a),start:o.valueOf(),end:r.valueOf()}},t.getParams=function(e){r||(r={},window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(e,t,n){return r[t]=n,n})));return r[e]},t.hexToRgb=g,t.isFunc=v,t.playSkeleton=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e.player)return void e.play.apply(e,n);e.once(u.Event.PLAYED,e,(function(){(0,o.default)((function(){e.play.apply(e,n)}))}))},t.playSkeletonOnce=function(e,t){return new i.default((function(n,r){e.once(u.Event.STOPPED,e,(function(){n(void 0)})),e.player?e.play(t,!1):e.once(u.Event.PLAYED,e,(function(){(0,o.default)((function(){e.play(t,!1)}))}))}))},t.setProps=function(e,t){for(var n in t)e[n]=t[n]},t.splitNum=d,t.stopSkeleton=function(e){if(e.player)return void e.stop();e.once(u.Event.PLAYED,e,(function(){(0,o.default)((function(){e.stop()}))}))},t.tplStr=function(e,t){var n=(0,f.getLang)(),r=h.International[n][e];if(t)for(var o in t)r=r.replace(new RegExp("{".concat(o,"}"),"g"),t[o]+"");return r},t.unDarkNode=function(e){e.filters=null},t.utilSkeletonLoadUrl=function(e,t){return new i.default((function(n,r){e.load(t,new s.Handler(e,(function(){n(void 0)})))}))};var r,o=p(n(33032)),i=p(n(93476)),a=p(n(94198)),u=n(89662),l=n(20084),c=n(12677),s=n(41107),f=n(58465),h=n(89970);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){return e&&"function"==typeof e}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e<1)return t;var n=e%10,r=(e-n)/10;return t.unshift(n),d(r,t)}function y(e,t){return(t-=1)<0?e:y(e*=10,t)}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.7,t=1-e,n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];return new l.ColorFilter(n)}function g(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:(0,a.default)(t[1],16),g:(0,a.default)(t[2],16),b:(0,a.default)(t[3],16)}:null}function _(e){return e<10?"0"+e:""+e}},99310:function(e,t,n){"use strict";var r=n(3649),o=n(66419),i=n(65420),a=n(19996),u=n(41511);n(63978)(t,"__esModule",{value:!0}),t.clear=m,t.clearAll=function(e){for(var t=y.length-1;t>=0;t--){var n=y[t].caller;e!==n||(0,c.default)(y).call(y,t,1)}g()},t.loop=function(e,t,n,r){var o=function(){m(e,n)};return y.push({caller:n,delay:t,fun:e,off:o,once:r,then:(0,l.default)()}),g(),o};var l=h(n(11128)),c=h(n(92762)),s=h(n(2991)),f=n(24629);function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=void 0!==i&&a(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return v(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return o(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,c=function(){};return{s:c,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,f=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){h=!0,s=e},f:function(){try{f||null==n.return||n.return()}finally{if(h)throw s}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function e(t,n){return n?e(n,t%n):t},y=[];function m(e,t){for(var n=y.length-1;n>=0;n--){var r=y[n],o=r.fun;if(r.caller===t&&o===e)return(0,c.default)(y).call(y,n,1),void g()}}function g(){f.timer.clear(this,_);var e=(0,s.default)(y).call(y,(function(e){return e.delay}));if(e.length){var t=function(e){var t,n,r=p(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;t=d(o,t)}}catch(e){r.e(e)}finally{r.f()}return t}(e);f.timer.loop(t,this,_)}}function _(){var e=y.length;if(e)for(var t=(0,l.default)(),n=e-1;n>=0;n--){var r=y[n],o=r.fun,i=r.then,a=r.delay,u=r.once,c=r.off,s=t-i||0;if(!(s<a)){var f=Math.floor(s/a),h=t-(s-f*a);"function"==typeof o&&o(f),u?c():r.then=h}}}},55437:function(e,t,n){"use strict";function r(e){return r="function"==typeof c&&"symbol"==typeof s?function(e){return typeof e}:function(e){return e&&"function"==typeof c&&e.constructor===c&&e!==c.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(63978),c=n(65420),s=n(98341);l(t,"__esModule",{value:!0}),t.default=void 0;var f,h=(f=n(93476))&&f.__esModule?f:{default:f},p=n(899),v=n(89662),d=n(80356),y=n(58465),m=n(14082),g=n(89970),_=n(84228);function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l(e,r.key,r)}}function k(e,t){return k=o||function(e,t){return e.__proto__=t,e},k(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C(e){return C=o?i:function(e){return e.__proto__||i(e)},C(e)}var E=function(e,t,n,r){return new(n||(n=h.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(i,e);var t,n,r,o=S(i);function i(){var e;return b(this,i),(e=o.apply(this,arguments)).isModal=!0,e._zOrder=1001,e}return t=i,n=[{key:"zOrder",get:function(){return this._zOrder},set:function(e){this._zOrder=e}},{key:"onAwake",value:function(){this.initEvent()}},{key:"initEvent",value:function(){var e=this,t=this.btn_confirm,n=this.btn_cancel;t.on(v.Event.CLICK,t,(function(t){t.stopPropagation(),e.close("confirm")})),n.on(v.Event.CLICK,t,(function(t){t.stopPropagation(),e.close("cancel")}))}},{key:"alert",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.initLang(),new h.default((function(r,o){var i=n.hide_cancel,a=n.confirm_text,u=t.label,l=t.btn_cancel,c=t.btn_confirm,s=t.btn_confirm_label;u.text=e,t.close_resolve=r,i?(l.visible=!1,c.x=127):(l.visible=!0,c.x=255),a&&(s.text=a)}))}},{key:"onClosed",value:function(e){d.AudioCtrl.play(m.AudioRes.Click);var t=this.close_resolve;t&&t(e),this.close_resolve=void 0}},{key:"initLang",value:function(){var e=(0,y.getLang)(),t=this.title,n=this.btn_confirm_label,r=this.btn_cancel_label,o=g.InternationalTip[e],i=o.tips,a=o.cancel,u=o.confirm;t.text=i,n.text=u,r.text=a}}],r=[{key:"alert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return E(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.hide_cancel,o=t.confirm_text,n.next=3,(0,p.openDialog)("pop/alert/alert.scene");case 3:return i=n.sent,d.AudioCtrl.play(m.AudioRes.PopShow),n.next=7,i.alert(e,{hide_cancel:r,confirm_text:o});case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}}),n)})))}}],n&&w(t.prototype,n),r&&w(t,r),i}(_.ui.pop.alert.alertUI);t.default=I},66705:function(e,t,n){"use strict";function r(e){return r="function"==typeof f&&"symbol"==typeof v?function(e){return typeof e}:function(e){return e&&"function"==typeof f&&e.constructor===f&&e!==f.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(63978),c=n(3649),s=n(66419),f=n(65420),h=n(19996),p=n(41511),v=n(98341);l(t,"__esModule",{value:!0}),t.default=void 0;var d=P(n(93476)),y=P(n(77766)),m=P(n(72119)),g=P(n(51942)),_=P(n(68700)),b=n(89662),w=n(41107),k=n(76817),S=n(80356),x=n(39487),C=n(58465),E=n(14082),I=n(84228),A=n(3735),M=n(52782),T=P(n(13978)),R=P(n(83481)),B=P(n(33077)),L=n(79699);function P(e){return e&&e.__esModule?e:{default:e}}function O(e,t){return function(e){if(p(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==f&&h(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){var n;if(e){if("string"==typeof e)return N(e,t);var r=c(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?s(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l(e,r.key,r)}}function j(e,t){return j=o||function(e,t){return e.__proto__=t,e},j(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return H(this,n)}}function H(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function z(e){return z=o?i:function(e){return e.__proto__||i(e)},z(e)}var V=function(e,t,n,r){return new(n||(n=d.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(i,e);var t,n,r,o=F(i);function i(){var e;return U(this,i),(e=o.apply(this,arguments)).isModal=!0,e}return t=i,r=[{key:"preEnter",value:function(){return V(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.default.director.openDialog({dialog:i,use_exist:!0,stay_scene:!0});case 2:return t=e.sent,S.AudioCtrl.play(E.AudioRes.PopShow),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))}}],(n=[{key:"zOrder",get:function(){return 100}},{key:"onAwake",value:function(){return V(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.initEvent(),(0,C.onLangChange)(this,(function(){t.initLang()}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"onEnable",value:function(){return V(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.getCompetitionInfo)();case 2:(t=e.sent)&&this.initData(t);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"initEvent",value:function(){var e=this,t=this.btn_sign,n=this.btn_famous,r=this.btn_help,o=this.btn_best;(0,M.onNodeWithAni)(t,b.Event.CLICK,(function(){(0,L.competitionSignUp)().then((function(t){var n;t.status!==k.ArenaGameStatus.GAME_STATUS_CLOSE&&t.status!==k.ArenaGameStatus.GAME_STATUS_SETTLEMENT?(null===(n=x.HallCtrl.instance)||void 0===n||n.enterArena(t),e.close()):e.renderSignButton(t.status)}))})),(0,M.onNodeWithAni)(n,b.Event.CLICK,(function(){B.default.preEnter()})),(0,M.onNodeWithAni)(r,b.Event.CLICK,(function(){T.default.preEnter()})),(0,M.onNodeWithAni)(o,b.Event.CLICK,(function(){R.default.preEnter()}))}},{key:"initData",value:function(e){var t,n,r,o=this.timezone_label,i=this.openTime,a=this.myScore,u=this.myRank,l=this.rankList,c=e.myself.status,s=e.match.fee;i.text=(0,y.default)(t="".concat(e.match.startPeriod,"-")).call(t,e.match.endPeriod),o.text=(0,y.default)(n="活动时间：".concat((0,A.formatDateTime)(e.match.startTime,"MM.DD HH:mm"),"-")).call(n,(0,A.formatDateTime)(e.match.endTime,"MM.DD HH:mm")),a.text=e.myself.score+"",u.text=e.myself.ranking+""||"暂未上榜",l.renderHandler=new w.Handler(this,this.rankListRender,null,!1);var v,d=[],_=function(e,t){var n=void 0!==f&&h(e)||e["@@iterator"];if(!n){if(p(e)||(n=D(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}((0,m.default)(r=e.champion).call(r));try{for(_.s();!(v=_.n()).done;){var b=O(v.value,2),k=b[0],S=b[1];0===k?d.push((0,g.default)((0,g.default)({},S),{isAllTop:!0})):d.push(S)}}catch(e){_.e(e)}finally{_.f()}l.array=d,l.hScrollBarSkin="",this.renderSignButton(c,s)}},{key:"renderSignButton",value:function(e,t){var n=this.btn_sign,r=this.cost_label;e===k.ArenaGameStatus.GAME_STATUS_SIGNUP_OVER||e===k.ArenaGameStatus.GAME_STATUS_PLAYING||e===k.ArenaGameStatus.GAME_STATUS_TABLE_OUT?(n.label="继续游戏",r.visible=!1,n.labelPadding="0,0,5,0"):e===k.ArenaGameStatus.GAME_STATUS_CLOSE?(n.label="暂未开始",r.visible=!1,n.disabled=!0,n.labelPadding="0,0,5,0"):e!==k.ArenaGameStatus.GAME_STATUS_FREE&&e!==k.ArenaGameStatus.GAME_STATUS_SIGNUP||(r.visible=!0,r.text="费用：".concat(t,"USDT"),n.label="报名",n.labelPadding="0,0,15,0")}},{key:"rankListRender",value:function(e,t){var n,r=this.rankList.array[t],o=r.isAllTop,i=r.score,a=r.amount,u=r.endRanking,l=r.startRanking,c=r.userId,s=e.rankLabel,f=e.sign,h=e.signBg,p=e.num_label,v=e.nickname,d=e.scoreLabel,m=["总冠军","冠军","亚军","季军"],g=u===l;s.text=o?m[0]:g?m[l]:(0,y.default)(n="".concat(l,"-")).call(n,u),v.text=c||"",d.text=i?"积分：".concat(i):"",p.text=a||"";var _=o?"signTop.png":g?"sign".concat(l,".png"):null;_?(f.skin="image/pop/arenaCompetitionInfo/".concat(_),f.visible=!0):f.visible=!1;var b=o?"signBgTop.png":g?"signBg".concat(l,".png"):"signBg4.png";h.skin="image/pop/arenaCompetitionInfo/".concat(b)}},{key:"initLang",value:function(){}}])&&G(t.prototype,n),r&&G(t,r),i}(I.ui.pop.arenaCompetitionInfo.arenaCompetitionInfoUI);t.default=Y},9215:function(e,t,n){"use strict";function r(e){return r="function"==typeof c&&"symbol"==typeof s?function(e){return typeof e}:function(e){return e&&"function"==typeof c&&e.constructor===c&&e!==c.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(63978),c=n(65420),s=n(98341);l(t,"__esModule",{value:!0}),t.default=void 0;var f=g(n(93476)),h=g(n(68700)),p=n(45840),v=n(80356),d=n(14082),y=n(84228),m=n(90564);function g(e){return e&&e.__esModule?e:{default:e}}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l(e,r.key,r)}}function b(e,t){return b=o||function(e,t){return e.__proto__=t,e},b(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return S=o?i:function(e){return e.__proto__||i(e)},S(e)}var x=function(e,t,n,r){return new(n||(n=f.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,r,o=w(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).isShowEffect=!1,e.isPopupCenter=!0,e}return t=i,r=[{key:"start",value:function(){return x(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.default.director.openDialog({dialog:i,use_exist:!0,show_effect:!1});case 2:return t=e.sent,this.instance=t,v.AudioCtrl.play(d.AudioRes.PopShow),e.next=7,t.start();case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"end",value:function(){return x(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v.AudioCtrl.play(d.AudioRes.PopShow),e.next=3,h.default.director.openDialog({dialog:i,use_exist:!0,show_effect:!1});case 3:return t=e.sent,this.instance=t,e.next=7,t.end();case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"hide",value:function(){return x(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null==(t=this.instance)?void 0:t.visible)&&(null==t||t.close());case 2:case"end":return e.stop()}}),e,this)})))}}],(n=[{key:"start",value:function(){return x(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.start_node,n=this.end_node,r=this.count_label,o=this.count_box,n.visible=t.visible=!1,r.text="3",e.next=5,(0,m.scale_in)(o,500,p.Ease.elasticOut);case 5:return r.text="2",e.next=8,(0,m.scale_in)(o,500,p.Ease.elasticOut);case 8:return r.text="1",e.next=11,(0,m.scale_in)(o,500,p.Ease.elasticOut);case 11:return o.visible=!1,e.next=14,(0,m.scale_in)(t,400,p.Ease.elasticOut);case 14:return e.next=16,(0,m.sleep)(.5);case 16:return e.next=18,(0,m.fade_out)(t,400);case 18:case"end":return e.stop()}}),e,this)})))}},{key:"end",value:function(){return x(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.start_node,n=this.end_node,r=this.count_box,n.visible=t.visible=r.visible=!1,e.next=4,(0,m.scale_in)(n,400,p.Ease.elasticOut);case 4:return e.next=6,(0,m.sleep)(.5);case 6:return e.next=8,(0,m.fade_out)(n,400);case 8:case"end":return e.stop()}}),e,this)})))}}])&&_(t.prototype,n),r&&_(t,r),i}(y.ui.pop.alert.arenaGameStatusUI);t.default=C},62288:function(e,t,n){"use strict";function r(e){return r="function"==typeof c&&"symbol"==typeof s?function(e){return typeof e}:function(e){return e&&"function"==typeof c&&e.constructor===c&&e!==c.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(63978),c=n(65420),s=n(98341);l(t,"__esModule",{value:!0}),t.default=void 0;var f=k(n(93476)),h=k(n(77766)),p=k(n(68700)),v=n(89662),d=n(41107),y=n(80356),m=n(14082),g=n(84228),_=n(52782),b=n(13817),w=n(79699);function k(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l(e,r.key,r)}}function C(e,t){return C=o||function(e,t){return e.__proto__=t,e},C(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function A(e){return A=o?i:function(e){return e.__proto__||i(e)},A(e)}var M=function(e,t,n,r){return new(n||(n=f.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(i,e);var t,n,r,o=E(i);function i(){var e;return S(this,i),(e=o.apply(this,arguments)).isModal=!0,e}return t=i,r=[{key:"preEnter",value:function(){return M(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.default.director.openDialog({dialog:i,use_exist:!0,stay_scene:!0});case 2:return t=e.sent,y.AudioCtrl.play(m.AudioRes.PopShow),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))}}],(n=[{key:"onAwake",value:function(){return M(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.initEvent();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"initEvent",value:function(){var e=this,t=this.btn,n=this.list;(0,_.onNodeWithAni)(t,v.Event.CLICK,(function(){var t=e.data.id;t&&(0,w.arenaBuyGift)(t).then((function(){return e.close()}))})),n.renderHandler=new d.Handler(this,this.listRenderHandler,null,!1)}},{key:"onEnable",value:function(){var e=this;(0,w.arenaGiftList)().then((function(t){t&&e.initData(t)}))}},{key:"initData",value:function(e){var t;this.data=e;var n=this.btn,r=this.list;n.label=(0,h.default)(t="".concat(e.price)).call(t,e.currency),r.array=e.list}},{key:"listRenderHandler",value:function(e,t){var n,r=e.name_label,o=e.num_label,i=e.icon,a=this.list.array[t];i.skin="image/pop/shop/icon/".concat(a.goodsId,".png"),o.text=a.goodsNum+"",(0,b.getSkillName)(a.goodsId+"")?r.text=(0,h.default)(n="".concat((0,b.getSkillName)(a.goodsId+"")," x")).call(n,a.goodsNum):r.text=""}}])&&x(t.prototype,n),r&&x(t,r),i}(g.ui.pop.arenaGift.arenaGiftUI);t.default=T},13978:function(e,t,n){"use strict";function r(e){return r="function"==typeof c&&"symbol"==typeof s?function(e){return typeof e}:function(e){return e&&"function"==typeof c&&e.constructor===c&&e!==c.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(63978),c=n(65420),s=n(98341);l(t,"__esModule",{value:!0}),t.default=void 0;var f=k(n(93476)),h=k(n(68700)),p=n(41107),v=n(80356),d=n(58465),y=n(14082),m=n(84228),g=n(80323),_=n(52782),b=n(77513),w=n(79699);function k(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l(e,r.key,r)}}function C(e,t){return C=o||function(e,t){return e.__proto__=t,e},C(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function A(e){return A=o?i:function(e){return e.__proto__||i(e)},A(e)}var M=function(e,t,n,r){return new(n||(n=f.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(i,e);var t,n,r,o=E(i);function i(){var e;return S(this,i),(e=o.apply(this,arguments)).isModal=!0,e}return t=i,r=[{key:"preEnter",value:function(){return M(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.default.director.openDialog({dialog:i,use_exist:!0,stay_scene:!0});case 2:return t=e.sent,v.AudioCtrl.play(y.AudioRes.PopShow),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))}}],(n=[{key:"onAwake",value:function(){return M(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.initEvent(),(0,d.onLangChange)(this,(function(){t.initLang()}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"initEvent",value:function(){var e=this.tab,t=this.tabBody;e.selectHandler=new p.Handler(this,(function(e){t.selectedIndex=e}),null,!1)}},{key:"initLang",value:function(){return M(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,u,l,c,s,f,h,p,v,d,y,m,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.tabBody,e.prev=1,e.next=4,(0,g.getAllChildren)(t);case 4:n=e.sent,r=(0,w.arenaGetRuleData)(1),o=r.roomConfig.freeNum,i=r.globalConfig,a=i.initBulletNum,u=i.rankingScoreDown,l=i.skinBulletAddition,c=l[1001],s=l[1002],f=l[1003],h=l[1004],p=l[1005],v=r.matchTimeConfig.deadlineTime,(d=(0,g.getAllChildren)(n[0]))[0].text=(0,b.tplStr)("arenaHelpRule11",{deadlineTime:v}),d[1].text=(0,b.tplStr)("arenaHelpRule12",{freeNum:o}),d[2].text=(0,b.tplStr)("arenaHelpRule13"),(0,_.resizeContain)(n[0],10,"vertical"),(y=(0,g.getAllChildren)(n[1]))[0].text=(0,b.tplStr)("arenaHelpRule21",{initBulletNum:a}),y[1].text=(0,b.tplStr)("arenaHelpRule22",{}),y[2].text=(0,b.tplStr)("arenaHelpRule23",{}),y[3].text=(0,b.tplStr)("arenaHelpRule24",{}),(0,_.resizeContain)(n[1],10,"vertical"),(m=(0,g.getAllChildren)(n[2]))[0].text=(0,b.tplStr)("arenaHelpRule31",{rankingScoreDown:u}),m[1].text=(0,b.tplStr)("arenaHelpRule32",{}),m[2].text=(0,b.tplStr)("arenaHelpRule33",{}),m[3].text=(0,b.tplStr)("arenaHelpRule34",{}),m[4].text=(0,b.tplStr)("arenaHelpRule35",{}),(0,_.resizeContain)(n[2],10,"vertical"),(k=(0,g.getAllChildren)(n[3]))[0].text=(0,b.tplStr)("arenaHelpRule41",{}),k[1].text=(0,b.tplStr)("arenaHelpRule42",{gun1001:c,gun1002:s,gun1003:f,gun1004:h,gun1005:p}),(0,_.resizeContain)(n[3],10,"vertical"),e.next=32;break;case 30:e.prev=30,e.t0=e.catch(1);case 32:case"end":return e.stop()}}),e,this,[[1,30]])})))}},{key:"destroy",value:function(){(0,d.offLangChange)(this)}}])&&x(t.prototype,n),r&&x(t,r),i}(m.ui.pop.arenaHelp.arenaHelpUI);t.default=T},83481:function(e,t,n){"use strict";function r(e){return r="function"==typeof c&&"symbol"==typeof s?function(e){return typeof e}:function(e){return e&&"function"==typeof c&&e.constructor===c&&e!==c.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(63978),c=n(65420),s=n(98341);l(t,"__esModule",{value:!0}),t.default=void 0;var f=g(n(93476)),h=g(n(68700)),p=n(41107),v=n(80356),d=n(14082),y=n(84228),m=n(79699);function g(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l(e,r.key,r)}}function w(e,t){return w=o||function(e,t){return e.__proto__=t,e},w(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function x(e){return x=o?i:function(e){return e.__proto__||i(e)},x(e)}var C=function(e,t,n,r){return new(n||(n=f.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(i,e);var t,n,r,o=k(i);function i(){var e;return _(this,i),(e=o.apply(this,arguments)).isModal=!0,e}return t=i,r=[{key:"preEnter",value:function(){return C(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.default.director.openDialog({dialog:i,use_exist:!0,stay_scene:!0});case 2:return t=e.sent,v.AudioCtrl.play(d.AudioRes.PopShow),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))}}],(n=[{key:"onAwake",value:function(){return C(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.initEvent();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"initEvent",value:function(){var e=this.tab,t=this.tabBody,n=this.today_list,r=this.yes_list;e.selectHandler=new p.Handler(this,(function(e){t.selectedIndex=e}),null,!1),n.renderHandler=new p.Handler(this,this.renderList,["today"],!1),r.renderHandler=new p.Handler(this,this.renderList,["yesterday"],!1)}},{key:"onEnable",value:function(){var e=this;(0,m.arenaGetDayRanking)().then((function(t){t&&e.initData(t)}))}},{key:"initData",value:function(e){var t=this.today_list,n=this.yes_list,r=e.today,o=e.yesterday;t.array=r,n.array=o}},{key:"renderList",value:function(e,t,n){var r=this.today_list.array[n];"yesterday"===e&&(r=this.yes_list.array[n]);var o=t.getChildByName("clip"),i=t.getChildByName("label1"),a=t.getChildByName("label2"),u=t.getChildByName("label3");o.index=n,i.text=r.userId+"",a.text="获得积分：".concat(r.score),u.text="预计奖励：".concat(r.award)}}])&&b(t.prototype,n),r&&b(t,r),i}(y.ui.pop.arenaRank.arenaRankUI);t.default=E},34720:function(e,t,n){"use strict";function r(e){return r="function"==typeof c&&"symbol"==typeof s?function(e){return typeof e}:function(e){return e&&"function"==typeof c&&e.constructor===c&&e!==c.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(63978),c=n(65420),s=n(98341);l(t,"__esModule",{value:!0}),t.default=void 0;var f=_(n(93476)),h=_(n(77766)),p=_(n(68700)),v=n(89662),d=n(80356),y=n(14082),m=n(84228),g=n(52782);function _(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l(e,r.key,r)}}function k(e,t){return k=o||function(e,t){return e.__proto__=t,e},k(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C(e){return C=o?i:function(e){return e.__proto__||i(e)},C(e)}var E=function(e,t,n,r){return new(n||(n=f.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(i,e);var t,n,r,o=S(i);function i(){var e;return b(this,i),(e=o.apply(this,arguments)).isModal=!0,e}return t=i,r=[{key:"preEnter",value:function(e){return E(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new f.default((function(t,r){return E(n,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.default.director.openDialog({dialog:i,use_exist:!0,stay_scene:!0});case 2:return r=n.sent,d.AudioCtrl.play(y.AudioRes.PopShow),r.initData(e,t),n.abrupt("return",r);case 6:case"end":return n.stop()}}),n)})))})));case 1:case"end":return t.stop()}}),t)})))}}],(n=[{key:"onClosed",value:function(e){e="continue"===e?e:"not_continue",console.log("test:>onClosed",e),this.resolve(e)}},{key:"onAwake",value:function(){return E(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.initEvent();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"initEvent",value:function(){var e=this,t=this.btn_continue;(0,g.onNodeWithAni)(t,v.Event.CLICK,(function(){e.close("continue")}))}},{key:"initData",value:function(e,t){var n,r,o,i,a=e.userId,u=e.ranking,l=e.maxDayScore,c=e.score,s=e.rankingAward,f=e.fee,p=e.isGuest,v=e.currency,d=this.num_label,y=this.guess_label,m=this.info_label,g=this.btn_continue,_=this.reward_box;g.label=(0,h.default)(n="重新参赛 ".concat(f)).call(n,v),y.text="本次捕获分数：".concat(c),m.text=(0,h.default)(r=(0,h.default)(o=(0,h.default)(i="".concat(a,"\n当前排名：")).call(i,u||"~","\n今日最高捕获分数： ")).call(o,l,"\n本次捕获分数：")).call(r,c),d.text=s+"",y.visible=p,m.visible=_.visible=!p,this.resolve=t}}])&&w(t.prototype,n),r&&w(t,r),i}(m.ui.pop.arenaSettle.arenaSettleUI);t.default=I},61141:function(e,t,n){"use strict";function r(e){return r="function"==typeof p&&"symbol"==typeof y?function(e){return typeof e}:function(e){return e&&"function"==typeof p&&e.constructor===p&&e!==p.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(62734),c=n(34074),s=n(63978),f=n(3649),h=n(66419),p=n(65420),v=n(19996),d=n(41511),y=n(98341);s(t,"__esModule",{value:!0}),t.default=void 0;var m=R(n(93476)),g=R(n(77766)),_=R(n(68700)),b=n(899),w=n(89662),k=n(41107),S=n(80356),x=n(58465),C=n(14082),E=n(89970),I=n(84228),A=n(13817),M=n(79699),T=n(55088);function R(e){return e&&e.__esModule?e:{default:e}}function B(e,t){var n=void 0!==p&&v(e)||e["@@iterator"];if(!n){if(d(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return L(e,t);var r=f(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return h(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),s(e,r.key,r)}}function D(){return D="undefined"!=typeof Reflect&&l?l:function(e,t,n){var r=N(e,t);if(r){var o=c(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},D.apply(this,arguments)}function N(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=F(e)););return e}function U(e,t){return U=o||function(e,t){return e.__proto__=t,e},U(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var o=F(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function F(e){return F=o?i:function(e){return e.__proto__||i(e)},F(e)}var H=function(e,t,n,r){return new(n||(n=m.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(i,e);var t,n,r,o=G(i);function i(){var e;return P(this,i),(e=o.apply(this,arguments)).isModal=!0,e.renderGunList=function(t,n){var r=e.gun_list.array[n],o=r.gun_name,i=r.gun_id,a=r.gun_status,u=r.gun_price,l=r.currency,c=t.name_label,s=t.icon,f=t.stack_btn,h=t.icon_check,p=t.select_bd,v=(0,x.getLang)(),d=E.InternationalTip[v],y=d.use,m=d.inUse;c.text=o,s.skin="image/pop/shop/icon/".concat(i,".png");var _=a;f.selectedIndex=_;var b,k=f.getChildAt(_),S=k.getChildByName("label");(h.visible=!1,p.visible=!1,k.offAll(),a===T.GunSkinStatus.NoHave)?(S.text=(0,g.default)(b="".concat(u)).call(b,l),k.on(w.Event.CLICK,k,(function(){(0,A.buySkinAlert)(u,o).then((function(t){t&&(0,M.arenaBuyItem)(i,1).then((function(){e.buyGunSkin(i)}))}))}))):a===T.GunSkinStatus.Have?(S.text=y,k.on(w.Event.CLICK,k,(function(){(0,M.arenaUseGunSkin)(i).then((function(){e.useGunSkin(i)}))}))):a===T.GunSkinStatus.Used&&(S.text=m,h.visible=!0,p.visible=!0)},e}return t=i,r=[{key:"preEnter",value:function(e){return H(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.default.director.openDialog({dialog:i,use_exist:!0,stay_scene:!0},{beforeOpen:function(t){t.data=e}});case 2:return n=t.sent,S.AudioCtrl.play(C.AudioRes.PopShow),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))}},{key:"preLoad",value:function(){return(0,b.loadRes)("pop/shop/shop.scene")}}],(n=[{key:"onAwake",value:function(){var e=this;this.init(),(0,x.onLangChange)(this,(function(t){e.initLang(t)}))}},{key:"initLang",value:function(e){this.title.skin="image/international/title_shop_".concat(e,".png")}},{key:"init",value:function(){var e=this.gun_list;e.array=[],e.renderHandler=new k.Handler(e,this.renderGunList,null,!1)}},{key:"onEnable",value:function(){var e=this;(0,M.arenaShopList)(this.data).then((function(t){e.initData(t)}))}},{key:"initData",value:function(e){var t,n=this.gun_list,r=[],o=B(e.gun);try{for(o.s();!(t=o.n()).done;){var i=t.value,a=i.name,u=i.id,l=i.status,c=i.price,s=i.currency,f=(0,T.getItemName)(u,a);r.push({currency:s,gun_name:f,gun_id:u,gun_status:l,gun_price:c})}}catch(e){o.e(e)}finally{o.f()}n.array=r}},{key:"buyGunSkin",value:function(e){var t,n=B(this.gun_list.array);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.gun_id===e){r.gun_status=T.GunSkinStatus.Have;break}}}catch(e){n.e(e)}finally{n.f()}this.gun_list.refresh()}},{key:"useGunSkin",value:function(e){var t,n=B(this.gun_list.array);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.gun_id===e?r.gun_status=T.GunSkinStatus.Used:r.gun_status!==T.GunSkinStatus.NoHave&&(r.gun_status=T.GunSkinStatus.Have)}}catch(e){n.e(e)}finally{n.f()}this.gun_list.refresh()}},{key:"destroy",value:function(){(0,x.offLangChange)(this),D(F(i.prototype),"destroy",this).call(this)}}])&&O(t.prototype,n),r&&O(t,r),i}(I.ui.pop.shop.arenaShopUI);t.default=z},15359:function(e,t,n){"use strict";function r(e){return r="function"==typeof f&&"symbol"==typeof v?function(e){return typeof e}:function(e){return e&&"function"==typeof f&&e.constructor===f&&e!==f.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(63978),c=n(3649),s=n(66419),f=n(65420),h=n(19996),p=n(41511),v=n(98341);l(t,"__esModule",{value:!0}),t.default=void 0;var d=x(n(93476)),y=n(24629),m=x(n(68700)),g=n(22833),_=n(80356),b=n(14082),w=n(84228),k=n(90564),S=n(45359);function x(e){return e&&e.__esModule?e:{default:e}}function C(e,t){var n=void 0!==f&&h(e)||e["@@iterator"];if(!n){if(p(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return E(e,t);var r=c(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return s(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l(e,r.key,r)}}function A(e,t){return A=o||function(e,t){return e.__proto__=t,e},A(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function R(e){return R=o?i:function(e){return e.__proto__||i(e)},R(e)}var B=function(e,t,n,r){return new(n||(n=d.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(i,e);var t,n,r,o=M(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).isShowEffect=!1,e.isPopupCenter=!0,e.zOrder=100,e}return t=i,r=[{key:"tip",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return B(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return _.AudioCtrl.play(b.AudioRes.PopShow),n.next=3,m.default.director.openDialog(i);case 3:return r=n.sent,this.instance=r,n.next=7,r.tip(e,t);case 7:case"end":return n.stop()}}),n,this)})))}},{key:"hide",value:function(){return B(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null==(t=this.instance)?void 0:t.visible)&&(null==t||t.close());case 2:case"end":return e.stop()}}),e,this)})))}}],(n=[{key:"tip",value:function(e,t){var n=this;return new d.default((function(r,o){if(!e)return r();(0,S.startCount)(t,1,(function(e){0===e&&(n.close(),r())})),n.analysisSize(e),n.setTipText(e)}))}},{key:"analysisSize",value:function(e){var t=this.label,n=this.bg,r=e.split("\n"),o=r.length,i=100+18*function(e){var t,n=[],r=C(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.push((0,g.getStringLength)(o))}}catch(e){r.e(e)}finally{r.f()}return Math.max.apply(this,n)}(r),a=18+30*o;i=i>750?i:750,a=a>48?a:48,this.width=t.width=n.width=i,this.height=t.height=n.height=a,this.x=(y.Laya.stage.width-this.width)/2}},{key:"setTipText",value:function(e){this.label.text=e,this.visible=!1,(0,k.fade_in)(this,300)}}])&&I(t.prototype,n),r&&I(t,r),i}(w.ui.pop.alert.arenaTaskTipUI);t.default=L},33077:function(e,t,n){"use strict";function r(e){return r="function"==typeof c&&"symbol"==typeof s?function(e){return typeof e}:function(e){return e&&"function"==typeof c&&e.constructor===c&&e!==c.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(63978),c=n(65420),s=n(98341);l(t,"__esModule",{value:!0}),t.default=void 0;var f=_(n(93476)),h=_(n(77766)),p=_(n(68700)),v=n(41107),d=n(80356),y=n(14082),m=n(84228),g=n(79699);function _(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l(e,r.key,r)}}function k(e,t){return k=o||function(e,t){return e.__proto__=t,e},k(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C(e){return C=o?i:function(e){return e.__proto__||i(e)},C(e)}var E=function(e,t,n,r){return new(n||(n=f.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(i,e);var t,n,r,o=S(i);function i(){var e;return b(this,i),(e=o.apply(this,arguments)).isModal=!0,e}return t=i,r=[{key:"preEnter",value:function(){return E(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.default.director.openDialog({dialog:i,use_exist:!0,stay_scene:!0});case 2:return t=e.sent,d.AudioCtrl.play(y.AudioRes.PopShow),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))}}],(n=[{key:"onAwake",value:function(){return E(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.initEvent();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"initEvent",value:function(){this.list.renderHandler=new v.Handler(this,this.listRenderHandler,null,!1)}},{key:"onEnable",value:function(){var e=this;(0,g.arenaGetHallOfFame)().then((function(t){t&&e.initData(t)}))}},{key:"initData",value:function(e){var t=this.list;t.array=e,t.hScrollBarSkin=""}},{key:"listRenderHandler",value:function(e,t){var n,r=e.time_label,o=e.nickname_label,i=e.score_label,a=this.list.array[t];i.text="积分：".concat(a.score),o.text="".concat(a.userId),r.text=(0,h.default)(n="".concat(a.startDate,"-")).call(n,a.endDate)}}])&&w(t.prototype,n),r&&w(t,r),i}(m.ui.pop.arenaTopPlayer.arenaTopPlayerUI);t.default=I},13817:function(e,t,n){"use strict";function r(e){return r="function"==typeof f&&"symbol"==typeof h?function(e){return typeof e}:function(e){return e&&"function"==typeof f&&e.constructor===f&&e!==f.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(62734),c=n(34074),s=n(63978),f=n(65420),h=n(98341);s(t,"__esModule",{value:!0}),t.buyItemAlert=U,t.buySkinAlert=function(e,t){return new p.default((function(n,r){var o=(0,g.getLang)(),i=b.InternationalTip[o].bullet,a=b.InternationalTip[o].buySkinTip.replace("$1",e+"").replace("$2",i).replace("$3",t);x.default.alert(a).then((function(e){"confirm"===e?n(!0):r()}))}))},t.default=void 0,t.getSkillName=N;var p=E(n(93476)),v=E(n(77766)),d=E(n(68700)),y=n(89662),m=n(66589),g=n(58465),_=n(66058),b=n(89970),w=n(11263),k=n(84228),S=n(77513),x=E(n(55437)),C=E(n(10535));function E(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),s(e,r.key,r)}}function M(){return M="undefined"!=typeof Reflect&&l?l:function(e,t,n){var r=T(e,t);if(r){var o=c(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},M.apply(this,arguments)}function T(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}function R(e,t){return R=o||function(e,t){return e.__proto__=t,e},R(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function P(e){return P=o?i:function(e){return e.__proto__||i(e)},P(e)}var O=function(e,t,n,r){return new(n||(n=p.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(i,e);var t,n,r,o=B(i);function i(){var e;return I(this,i),(e=o.apply(this,arguments)).isModal=!0,e}return t=i,r=[{key:"preEnter",value:function(e){return O(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.default.director.openDialog({dialog:i,use_exist:!0,stay_scene:!0});case 2:return n=t.sent,t.abrupt("return",n.buy(e));case 4:case"end":return t.stop()}}),t)})))}}],(n=[{key:"onAwake",value:function(){var e=this;(0,g.onLangChange)(this,(function(t){e.initLang(t)})),this.initEvent()}},{key:"initEvent",value:function(){var e=this,t=this.btn_minus,n=this.btn_add,r=this.btn_buy,o=y.Event.CLICK;t.on(o,this,(function(){e.changeNum("minus")})),n.on(o,this,(function(){e.changeNum("add")})),r.on(o,this,(function(){var t=e.buy_info,n=t.id,r=t.num,o=t.price;U(r,o,n).then((function(t){t&&e.resolve({id:n,num:r,price:o})}))})),this.num_label.on(o,this,(function(){m.ctrlState.app.keyboard_number.enter(e.num_label.text,{close:function(t,n){"confirm"===t&&e.setNum(Number(n))}})}))}},{key:"setNum",value:function(e){var t=this.buy_info.price,n=(0,w.getCurPlayer)();e*t>n.bullet_num&&(C.default.tip((0,S.tplStr)("beyondBulletNum")),e=Math.floor(n.bullet_num/t)),this.buy_info.num=e,this.num_label.text=e+"",this.setIntro()}},{key:"changeNum",value:function(e){var t=this.num_label.text,n=Number(t),r=t.length-1,o=(0,S.addZeroToNum)(1,r);"minus"===e&&o===n&&(o=(0,S.addZeroToNum)(1,r-1)),"add"===e?n+=o:n-=o,n<1&&(n=1),this.setNum(n)}},{key:"setIntro",value:function(){var e,t,n,r,o=(0,g.getLang)(),i=this.intro,a=this.buy_info,u=b.InternationalTip[o],l=u.buyBulletCost,c=u.bullet,s=a.price,f=a.num,h=a.currency||c,p=s*f;i.text="en"===o?(0,v.default)(e=(0,v.default)(t="".concat(l," ")).call(t,p," ")).call(e,h):(0,v.default)(n=(0,v.default)(r="".concat(l)).call(r,p)).call(n,h)}},{key:"initLang",value:function(e){var t=b.InternationalTip[e].purchase,n=this.title,r=this.btn_label;n.text=t,r.text=t,this.setIntro()}},{key:"buy",value:function(e){var t=this;return new p.default((function(n,r){var o=t.num_label,i=t.icon,a=e.num,u=e.id,l=a+"";o.text=l,i.skin="image/pop/shop/icon/".concat(u,".png"),t.buy_info=e,t.setIntro(),t.resolve=n}))}},{key:"destroy",value:function(){(0,g.offLangChange)(this),M(P(i.prototype),"destroy",this).call(this)}}])&&A(t.prototype,n),r&&A(t,r),i}(k.ui.pop.alert.buyBulletUI);function N(e){var t=(0,g.getLang)(),n=b.InternationalTip[t],r=n.bomb,o=n.lock,i=n.freeze;switch(e){case _.SkillMap.Bomb:return r;case _.SkillMap.Freezing:return i;case _.SkillMap.LockFish:return o}}function U(e,t,n){return new p.default((function(r,o){var i=(0,g.getLang)(),a=b.InternationalTip[i],u=a.bullet,l=(a.buySuccess,b.InternationalTip[i].buyItemTip.replace("$1",e*t+"").replace("$2",u).replace("$3",e+"").replace("$4",N(n)));x.default.alert(l).then((function(e){"confirm"===e?r(!0):o()}))}))}t.default=D},45170:function(e,t,n){"use strict";function r(e){return r="function"==typeof f&&"symbol"==typeof h?function(e){return typeof e}:function(e){return e&&"function"==typeof f&&e.constructor===f&&e!==f.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(62734),c=n(34074),s=n(63978),f=n(65420),h=n(98341);s(t,"__esModule",{value:!0}),t.default=void 0;var p=x(n(93476)),v=x(n(68700)),d=n(899),y=n(41107),m=n(58465),g=n(66058),_=n(89970),b=n(84228),w=n(44846),k=n(52782),S=n(30387);function x(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),s(e,r.key,r)}}function I(){return I="undefined"!=typeof Reflect&&l?l:function(e,t,n){var r=A(e,t);if(r){var o=c(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},I.apply(this,arguments)}function A(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}function M(e,t){return M=o||function(e,t){return e.__proto__=t,e},M(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B(e);if(t){var o=B(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function B(e){return B=o?i:function(e){return e.__proto__||i(e)},B(e)}var L=function(e,t,n,r){return new(n||(n=p.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(i,e);var t,n,r,o=T(i);function i(){var e;return C(this,i),(e=o.apply(this,arguments)).isModal=!0,e}return t=i,r=[{key:"preEnter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return L(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.default.director.openDialog({dialog:i,use_exist:!0,stay_scene:!0});case 2:t.sent.goto(e);case 4:case"end":return t.stop()}}),t)})))}},{key:"preLoad",value:function(){return L(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.loadRes)("pop/help/help.scene"));case 1:case"end":return e.stop()}}),e)})))}}],(n=[{key:"onAwake",value:function(){var e=this;(0,m.onLangChange)(this,(function(t){e.initLang(t)})),this.slider_glr=new w.LayaSlider(this.glr);var t=this.skill_list,n=this.fish_list;n.array=[],t.array=[],n.renderHandler=y.Handler.create(this,this.fishListRender,null,!1),t.renderHandler=y.Handler.create(this,this.skillListRender,null,!1),n.array=S.test_fish_list}},{key:"goto",value:function(e){this.slider_glr.goto(e)}},{key:"fishListRender",value:function(e,t){var n=this.times_tpl,r=this.fish_list.array[t],o=r.id,i=r.num,a=r.is_special,u=e.bg,l=e.num_label,c=e.icon;l.text=i?i+n:"",c.skin="image/pop/help/fish".concat(o,".png");var s=a?"":"1";u.skin="image/pop/help/fish_item_bg".concat(s,".png")}},{key:"skillListRender",value:function(e,t){var n=e.skill_icon,r=e.intro_label,o=e.item_box,i=this.skill_list.array[t],a=i.id,u=i.intro;r.text=u,a!==g.SkillMap.Super?n.skin="image/game/skill_".concat(g.SkillNameMap[a],".png"):(o.visible=!1,r.x=10,r.width=r.parent.width)}},{key:"initLang",value:function(e){var t=_.InternationalTip[e],n=t.help,r=t.help1,o=t.help2,i=t.help3,a=t.help31,u=t.help4,l=t.help41,c=t.help42,s=t.help43,f=t.times,h=this.title,p=this.intro1,v=this.intro2,d=this.intro3,y=this.intro31,m=this.intro4,g=this.intro41;this.times_tpl=f,this.fish_list.refresh(),h.text=n,p.text=r,v.text=o,d.text=i,y.text=a,m.text=u,g.text=l+"\n"+c+"\n"+s,this.skill_list.array=(0,S.getSkillIntroList)(e),(0,k.resizeContain)(this.item0_wrap,10,"vertical"),(0,k.resizeContain)(this.item1_wrap,10,"vertical"),(0,k.resizeContain)(this.item2_wrap,10,"vertical")}},{key:"destroy",value:function(){(0,m.offLangChange)(this),I(B(i.prototype),"destroy",this).call(this)}}])&&E(t.prototype,n),r&&E(t,r),i}(b.ui.pop.help.helpUI);t.default=P},30387:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.getSkillIntroList=function(e){var t=o.InternationalTip[e],n=t.help2Freeze,i=t.help2Lock,a=t.help2Bomb;return[{id:r.SkillMap.Bomb,intro:a},{id:r.SkillMap.Freezing,intro:n},{id:r.SkillMap.LockFish,intro:i}]},t.test_fish_list=void 0;var r=n(66058),o=n(89970);t.test_fish_list=[{id:1,num:2,is_special:300},{id:2,num:3,is_special:300},{id:3,num:5,is_special:300},{id:4,num:8,is_special:300},{id:5,num:10,is_special:300},{id:6,num:15,is_special:300},{id:7,num:20,is_special:300},{id:8,num:30,is_special:300},{id:10,num:50,is_special:300},{id:11,num:80,is_special:300},{id:12,num:100,is_special:300},{id:13,num:150,is_special:300},{id:14,num:200,is_special:300},{id:15,num:250,is_special:300},{id:20,num:300,is_special:300},{id:9,num:0,is_special:300}]},64525:function(e,t,n){"use strict";function r(e){return r="function"==typeof p&&"symbol"==typeof y?function(e){return typeof e}:function(e){return e&&"function"==typeof p&&e.constructor===p&&e!==p.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(62734),c=n(34074),s=n(63978),f=n(3649),h=n(66419),p=n(65420),v=n(19996),d=n(41511),y=n(98341);s(t,"__esModule",{value:!0}),t.default=void 0;var m=j(n(93476)),g=j(n(77766)),_=j(n(51942)),b=j(n(62462)),w=j(n(68700)),k=n(899),S=n(89662),x=n(41107),C=n(80356),E=n(545),I=n(58465),A=n(14082),M=n(89970),T=n(84228),R=n(90564),B=n(4155),L=n(52782),P=n(55161),O=n(77513),D=j(n(45170)),N=n(67650),U=n(79699),G=j(n(25463));function j(e){return e&&e.__esModule?e:{default:e}}function F(e,t){return function(e){if(d(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==p&&v(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e){return function(e){if(d(e))return V(e)}(e)||function(e){if(void 0!==p&&null!=v(e)||null!=e["@@iterator"])return h(e)}(e)||z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){var n;if(e){if("string"==typeof e)return V(e,t);var r=f(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?h(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?V(e,t):void 0}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),s(e,r.key,r)}}function K(){return K="undefined"!=typeof Reflect&&l?l:function(e,t,n){var r=W(e,t);if(r){var o=c(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},K.apply(this,arguments)}function W(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Z(e)););return e}function X(e,t){return X=o||function(e,t){return e.__proto__=t,e},X(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z(e);if(t){var o=Z(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return q(this,n)}}function q(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Z(e){return Z=o?i:function(e){return e.__proto__||i(e)},Z(e)}var J=function(e,t,n,r){return new(n||(n=m.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(i,e);var t,n,r,o=Q(i);function i(){var e;return Y(this,i),(e=o.apply(this,arguments)).is_init=!1,e.isModal=!0,e.renderLottery=function(t,n){var r=t.light,o=t.light_circle,i=t.box_ani,a=t.box_img,u=e.lottery_list.array[n],l=u.cur,c=u.get;u.lottery_num;if(o.visible=!1,r.visible=!1,a.visible=!0,i.visible=!1,l){var s=c?"active":"move";r.visible=!0,"move"===s?o.visible=!0:(a.visible=!1,i.visible=!0,(0,O.playSkeletonOnce)(i,0).then((function(){return(0,O.playSkeletonOnce)(r,s).then((function(){e.showLotteryAward(u)}))})),r.playbackRate(1))}},e}return t=i,r=[{key:"preEnter",value:function(){var e=w.default.director.openDialog({dialog:i,use_exist:!0,stay_scene:!0}),t=(0,U.getLotteryData)();return m.default.all([e,t]).then((function(e){var t=F(e,2),n=t[0],r=t[1];n.initData(r)}))}},{key:"preLoad",value:function(){return(0,k.loadRes)("pop/lottery/lottery.scene")}}],(n=[{key:"reloadData",value:function(){return J(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,U.getLotteryData)();case 2:t=e.sent,this.initData(t);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"onEnable",value:function(){C.AudioCtrl.play(A.AudioRes.PopShow),this.is_init||this.init(),this.is_init=!0}},{key:"init",value:function(){var e=this,t=this.lottery_list,n=this.btn_lottery;this.lottery_exchange_ctrl,t.array=[],this.lottery_exchange_ctrl=new N.LotteryExchangeCtrl(this.exchange_list),t.renderHandler=new x.Handler(t,this.renderLottery,void 0,!1),(0,L.onNode)(n,S.Event.CLICK,(function(){e.runLottery()}))}},{key:"initData",value:function(e){var t,n,r=e.lottery,o=e.exchange,i=e.lottery_cost,a=e.lottery_num,u=this.lottery_list,l=this.progress,c=this.lottery_remain,s=this.lottery_exchange_ctrl,f=this.btn_lottery,h=[],y=function(e,t){var n=void 0!==p&&v(e)||e["@@iterator"];if(!n){if(d(e)||(n=z(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(r);try{for(y.s();!(n=y.n()).done;){var m=n.value;h.push((0,_.default)((0,_.default)({},m),{cur:!1,get:!1}))}}catch(e){y.e(e)}finally{y.f()}var b=h.length;if(b<5){(0,P.log)("test:>lottery:>0",h);for(var w=0;w<5-b;w++)h.push({lottery_id:"xx",lottery_type:"xx",lottery_num:0,cur:!1,get:!1})}var k=a/i;l.value=k>1?1:k,c.text=(0,g.default)(t="".concat(a,"/")).call(t,i),u.array=h,(0,P.log)("test:>lottery:>1",k,h),f.disabled=k<1,s.renderData(H(o)),this.remain_info={lottery_num:a,lottery_cost:i}}},{key:"runLottery",value:function(){var e=this,t=this.remain_info,n=this.progress,r=this.lottery_remain,o=this.btn_lottery,i=t.lottery_num,a=t.lottery_cost;i<a||(0,U.runLottery)().then((function(u){return J(e,void 0,void 0,regeneratorRuntime.mark((function e(){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.runLotteryAni(u);case 2:i-=a,n.value=i/a,t.lottery_num=i,r.text=(0,g.default)(l="".concat(i,"/")).call(l,a),o.disabled=i<a;case 7:case"end":return e.stop()}}),e,this)})))}))}},{key:"runLotteryAni",value:function(e){var t=this;return new m.default((function(n,r){var o=t.lottery_list,i=t.btn_lottery,a=o.array;i.disabled=!0;var u=(0,b.default)(a).call(a,(function(t){return t.lottery_id===e}))+20,l=!1;(0,B.tween)(3e3,(function(e){var r=Math.round(e*u)%5;if(!l){1===e&&(l=!0);for(var i=0;i<a.length;i++){var c=a[i];c.get=!1,c.cur=i===r}l&&(a[r].get=!0,a[r].cur=!0,(0,R.sleep)(2).then((function(){t.completeLottery(),n()}))),o.refresh()}}))}))}},{key:"completeLottery",value:function(){this.btn_lottery.disabled=!1,clearInterval(this.lottery_interval)}},{key:"showLotteryAward",value:function(e){var t=this,n=e.lottery_type,r=e.lottery_num;"bullet"===n&&(0,E.changeBulletNum)(r),G.default.preEnter({type:n,num:r}).then((function(){t.reloadData()}))}},{key:"destroy",value:function(){var e=this.lottery_exchange_ctrl;this.completeLottery(),(0,I.offLangChange)(this),K(Z(i.prototype),"destroy",this).call(this),e.destroy(),this.lottery_exchange_ctrl=void 0}},{key:"onAwake",value:function(){var e=this,t=this.btn_help;(0,I.onLangChange)(this,(function(t){e.initLang(t)})),t.on(S.Event.CLICK,this,(function(){D.default.preEnter(2)}))}},{key:"initLang",value:function(e){var t=this.title,n=this.btn_label,r=this.sub_title,o=this.lottery_exchange_ctrl,i=M.InternationalTip[e],a=i.luckyDraw,u=i.redemption;n.text=a,r.text=u,o.refresh(),(0,L.resizeParent)(n,30,142),t.skin="image/international/txt_lottery_".concat(e,".png")}}])&&$(t.prototype,n),r&&$(t,r),i}(T.ui.pop.lottery.lotteryUI);t.default=ee},67650:function(e,t,n){"use strict";var r=n(63978),o=n(3649),i=n(66419),a=n(65420),u=n(19996),l=n(41511);r(t,"__esModule",{value:!0}),t.LotteryExchangeCtrl=void 0;var c=k(n(93476)),s=k(n(72119)),f=k(n(77766)),h=n(24354),p=n(89662),v=n(58465),d=n(66058),y=n(89970),m=n(54375),g=n(84228),_=n(77513),b=n(79699),w=k(n(25463));function k(e){return e&&e.__esModule?e:{default:e}}function S(e,t){return function(e){if(l(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==a&&u(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){var n=void 0!==a&&u(e)||e["@@iterator"];if(!n){if(l(e)||(n=C(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function C(e,t){var n;if(e){if("string"==typeof e)return E(e,t);var r=o(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?i(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(e,o.key,o)}}var A=function(e,t,n,r){return new(n||(n=c.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},M=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.item_list=[],this.data=[],this.view=t,this.clear()}var t,n,r;return t=e,(n=[{key:"renderData",value:function(e){return A(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i,a,u,l,c,f,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.view,r=e.length,this.data=e,this.clear(),i=10,a=0,1===r?o=g.ui.pop.lottery.item2oneUI:5===r?(o=g.ui.pop.lottery.item2fiveUI,i=5):2===r?(o=g.ui.pop.lottery.item2twoUI,i=50):3===r?(i=80,o=g.ui.pop.lottery.item2UI):o=g.ui.pop.lottery.item2UI,u=x((0,s.default)(e).call(e)),t.prev=8,u.s();case 10:if((l=u.n()).done){t.next=22;break}return c=S(l.value,2),f=c[0],c[1],p=new o,n.addChild(p),this.item_list.push(p),t.next=17,(0,h.afterActive)(p);case 17:p.x=a,a+=p.width,f!==e.length-1&&(a+=i);case 20:t.next=10;break;case 22:t.next=27;break;case 24:t.prev=24,t.t0=t.catch(8),u.e(t.t0);case 27:return t.prev=27,u.f(),t.finish(27);case 30:n.width=a,this.refresh();case 32:case"end":return t.stop()}}),t,this,[[8,24,27,30]])})))}},{key:"refresh",value:function(){var e,t=this.data,n=this.item_list,r=x((0,s.default)(n).call(n));try{for(r.s();!(e=r.n()).done;){var o=S(e.value,2),i=o[0],a=o[1];this.renderItem(a,t[i])}}catch(e){r.e(e)}finally{r.f()}}},{key:"renderItem",value:function(e,t){var n,r,o=this,i=e.price_label,a=e.coin_icon,u=e.remain_label,l=e.num_label,c=e.btn_buy,s=e.item_type,h=(0,v.getLang)(),g=y.InternationalTip[h].Num,b=t.exchange_type,w=t.exchange_id,k=t.exchange_num,S=t.cost_num,x=t.cur_num,C=d.ItemMap[w];C=C?C.toLowerCase():C;var E=k+"";i.text=S+"";var I=(0,m.getCurrencyIcon)(b);a.skin=I,a.filters=[(0,_.createColorFilter)("#64280e")],l.text=E,s.text=b.toUpperCase(),u.text=(0,f.default)(n=(0,f.default)(r="".concat(g,": ")).call(r,x,"/")).call(n,S);var A=1/(E.length/3),M=1/(b.length/4);A=A>1?1:A,M=M>.95?.95:M,l.scale(A,A),s.scale(M,M),c.offAll(),x<S?e.filters=[(0,_.createDarkFilter)(.3)]:(e.filters=null,c.on(p.Event.CLICK,c,(function(){o.runTicketExchange(t)})))}},{key:"runTicketExchange",value:function(e){return A(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i,a,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.exchange_id,r=e.cost_num,o=e.cur_num,i=e.exchange_type,t.next=3,(0,b.runTicketExchange)(n);case 3:a=t.sent,u=a.num,w.default.preEnter({type:i,num:u}),e.cur_num=o-r,this.refresh();case 8:case"end":return t.stop()}}),t,this)})))}},{key:"clear",value:function(){this.view.removeChildren(),this.item_list=[]}},{key:"destroy",value:function(){this.item_list=[],this.data=[],this.clear(),this.view=void 0}}])&&I(t.prototype,n),r&&I(t,r),e}();t.LotteryExchangeCtrl=M},79699:function(e,t,n){"use strict";var r=n(3649),o=n(66419),i=n(65420),a=n(19996),u=n(41511);n(63978)(t,"__esModule",{value:!0}),t.arenaBuyGift=function(e){return new l.default((function(t,n){var r=(0,p.getSocket)(v.ServerName.ArenaHall);if(!r)return n(void 0);r.event.once(v.ArenaEvent.BuyGift,(function(e,r){r!==v.ARENA_OK_CODE?n():t(e)})),r.send(v.ArenaEvent.BuyGift,{id:e})}))},t.arenaBuyItem=function(e,t){return new l.default((function(n,r){var o=(0,p.getSocket)(v.ServerName.ArenaHall);o.event.once(v.ServerEvent.Buy,(function(r,i){if(200!==i)return(0,h.errorHandler)(i,r,o);var a=d.modelState.app.user_info.user_id,u=[];t&&u.push({id:e,num:t,type:"skill"}),f.ctrlState.game.changeUserNumInfo({userId:a,change_arr:u}),n(!0)})),o.send(v.ArenaEvent.BuyGoods,{goodsId:e,goodsNum:t})}))},t.arenaGenShopInfo=k,t.arenaGetDayRanking=function(){return new l.default((function(e,t){var n=(0,p.getSocket)(v.ServerName.ArenaHall);if(!n)return t(void 0);n.event.once(v.ArenaEvent.GetDayRanking,(function(n,r){r!==v.ARENA_OK_CODE?t():e(n)})),n.send(v.ArenaEvent.GetDayRanking)}))},t.arenaGetHallOfFame=function(){return new l.default((function(e,t){var n=(0,p.getSocket)(v.ServerName.ArenaHall);if(!n)return t(void 0);n.event.once(v.ArenaEvent.GetHallOfFame,(function(n,r){r!==v.ARENA_OK_CODE?t():e(n)})),n.send(v.ArenaEvent.GetHallOfFame)}))},t.arenaGetRuleData=function(e){var t=(0,y.getItem)("arenaGetRuleData:mode".concat(e));if(t)return JSON.parse(t);return new l.default((function(t,n){var r=(0,p.getSocket)(v.ServerName.ArenaHall);if(!r)return n(void 0);r.event.once(v.ArenaEvent.GetRuleData,(function(r,o){o!==v.ARENA_OK_CODE?n():((0,y.setItem)("arenaGetRuleData:mode".concat(e),(0,s.default)(r),1),t(r))})),r.send(v.ArenaEvent.GetRuleData,{mode:e})}))},t.arenaGiftList=function(){return new l.default((function(e,t){var n=(0,p.getSocket)(v.ServerName.ArenaHall);if(!n)return t(void 0);n.event.once(v.ArenaEvent.GiftList,(function(n,r){r!==v.ARENA_OK_CODE?t():e(n)})),n.send(v.ArenaEvent.GiftList)}))},t.arenaShopList=function(e){return new l.default((function(t,n){var r=(0,p.getSocket)(v.ServerName.ArenaHall);if(!r)return n(void 0);r.event.once(v.ArenaEvent.ShopList,(function(e,r){r!==v.ARENA_OK_CODE?n():t(k(e))})),r.send(v.ArenaEvent.ShopList,e)}))},t.arenaUseGunSkin=function(e){return new l.default((function(t,n){var r=(0,p.getSocket)(v.ServerName.ArenaHall);r.event.once(v.ServerEvent.UseSkin,(function(e){t(!0)})),r.send(v.ServerEvent.UseSkin,{skinId:e,userId:d.modelState.app.user_info.user_id})}))},t.buyItem=function(e,t,n){return new l.default((function(r,o){var i=(0,p.getSocket)(v.ServerName.Game);i.event.once(v.ServerEvent.Buy,(function(o,a){if(200!==a)return(0,h.errorHandler)(a,o,i);var u=d.modelState.app.user_info.user_id,l=[];t&&l.push({id:e,num:t,type:"skill"}),-n&&l.push({num:-n*t,type:"bullet"}),f.ctrlState.game.changeUserNumInfo({userId:u,change_arr:l}),r(!0)})),i.send(v.ServerEvent.Buy,{itemId:e,num:t})}))},t.competitionSignUp=function(e){return new l.default((function(t,n){var r=(0,p.getSocket)(v.ServerName.ArenaHall);r.event.once(v.ArenaEvent.SignUp,(function(n,r){t((0,c.default)({code:r,currency:e||d.modelState.app.user_info.cur_balance},n))})),r.send(v.ArenaEvent.SignUp,{currency:d.modelState.app.user_info.cur_balance})}))},t.genShopInfo=w,t.getBulletList=function(e){return new l.default((function(t,n){var r=(0,p.getSocket)(v.ServerName.Hall);r.event.once(v.ServerEvent.GetBulletList,(function(e){t(e)})),r.send(v.ServerEvent.GetBulletList,(0,c.default)({},e))}))},t.getCompetitionInfo=function(){return new l.default((function(e,t){var n=(0,p.getSocket)(v.ServerName.ArenaHall);if(!n)return t(void 0);n.event.once(v.ArenaEvent.CompetitionInfo,(function(t){e(t)})),console.log("test:>arenaStatus",d.modelState.app.user_info.cur_balance),n.send(v.ArenaEvent.CompetitionInfo,{currency:d.modelState.app.user_info.cur_balance})}))},t.getItemList=function(e){return new l.default((function(t,n){var r=(0,p.getSocket)(v.ServerName.Hall);r.event.once(v.ServerEvent.GetItemList,(function(e){t(e)})),r.send(v.ServerEvent.GetItemList,(0,c.default)({},e))}))},t.getLotteryData=function(){var e=new l.default((function(e,t){var n=(0,p.getSocket)(v.ServerName.Game);n.event.once(v.ServerEvent.LotteryList,(function(t){e(t)})),n.send(v.ServerEvent.LotteryList)})),t=new l.default((function(e,t){var n=(0,p.getSocket)(v.ServerName.Game);n.event.once(v.ServerEvent.ExchangeList,(function(t){e(t)})),n.send(v.ServerEvent.ExchangeList)}));return l.default.all([e,t]).then((function(e){var t,n,r,o=(n=2,function(e){if(u(e))return e}(t=e)||function(e,t){var n=null==e?null:void 0!==i&&a(e)||e["@@iterator"];if(null!=n){var r,o,u=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(u.push(r.value),!t||u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw o}}return u}}(t,n)||_(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],c=o[1],s=l.costNum,f=l.curNum,h=l.list,p=c.list,v=[],d=[],y=g(h);try{for(y.s();!(r=y.n()).done;){var m=r.value;v.push({lottery_type:m.name,lottery_id:m.id,lottery_num:m.num})}}catch(e){y.e(e)}finally{y.f()}var b,w=g(p);try{for(w.s();!(b=w.n()).done;){var k=b.value;d.push({exchange_id:k.itemId,exchange_type:k.name,exchange_num:k.num,cost_num:k.cost,cur_num:k.curNum})}}catch(e){w.e(e)}finally{w.f()}var S=f/s;return{lottery:v,exchange:d,radio:S=S>1?1:S,lottery_cost:s,lottery_num:f}}))},t.getRecentBullet=function(){return new l.default((function(e,t){var n=(0,p.getSocket)(v.ServerName.Hall);n.event.once(v.ServerEvent.GetRecentBullet,(function(t){e(t)})),n.send(v.ServerEvent.GetRecentBullet)}))},t.getShopInfo=function(){return new l.default((function(e,t){var n=(0,p.getSocket)(v.ServerName.Game);n.event.once(v.ServerEvent.ShopList,(function(t){e(w(t))})),n.send(v.ServerEvent.ShopList)}))},t.runLottery=function(){return new l.default((function(e,t){var n=(0,p.getSocket)(v.ServerName.Game);n.event.once(v.ServerEvent.Lottery,(function(t,n){200===n&&e(t.id)})),n.send(v.ServerEvent.Lottery)}))},t.runTicketExchange=function(e){return new l.default((function(t,n){var r=(0,p.getSocket)(v.ServerName.Game);r.event.once(v.ServerEvent.TicketExchange,(function(e){t(e)})),r.send(v.ServerEvent.TicketExchange,{itemId:e})}))},t.useGunSkin=function(e){return new l.default((function(t,n){var r=(0,p.getSocket)(v.ServerName.Game);r.event.once(v.ServerEvent.UseSkin,(function(e){t(!0)})),r.send(v.ServerEvent.UseSkin,{skinId:e,userId:d.modelState.app.user_info.user_id})}))};var l=m(n(93476)),c=m(n(51942)),s=m(n(59340)),f=n(66589),h=n(59914),p=n(43267),v=n(26744),d=n(11263),y=n(36620);function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){var n=void 0!==i&&a(e)||e["@@iterator"];if(!n){if(u(e)||(n=_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,l=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw l}}}}function _(e,t){var n;if(e){if("string"==typeof e)return b(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?o(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){var t,n={gun:[],item:[]},r=g(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=o.type,a=o.item_id,u=o.status,l=o.price,c=o.num,s=o.name;1===i?n.gun.push({id:a,price:l,status:u,name:s}):n.item.push({id:a,price:l,num:c,name:s})}}catch(e){r.e(e)}finally{r.f()}return n}function k(e){var t,n={gun:[],item:[]},r=g(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=o.currency,a=o.itemType,u=o.itemId,l=o.status,c=o.price,s=o.num,f=o.itemName;1===a?n.gun.push({currency:i,id:u,price:c,status:l,name:f}):n.item.push({currency:i,id:u,price:c,num:s,name:f})}}catch(e){r.e(e)}finally{r.f()}return n}},76079:function(e,t,n){"use strict";function r(e){return r="function"==typeof f&&"symbol"==typeof h?function(e){return typeof e}:function(e){return e&&"function"==typeof f&&e.constructor===f&&e!==f.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(62734),c=n(34074),s=n(63978),f=n(65420),h=n(98341);s(t,"__esModule",{value:!0}),t.default=void 0;var p=A(n(93476)),v=A(n(2991)),d=A(n(33032)),y=A(n(68700)),m=n(899),g=n(80356),_=n(58465),b=n(14082),w=n(89970),k=n(84228),S=n(3735),x=n(13817),C=n(79699),E=n(96231),I=n(23728);function A(e){return e&&e.__esModule?e:{default:e}}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),s(e,r.key,r)}}function R(){return R="undefined"!=typeof Reflect&&l?l:function(e,t,n){var r=B(e,t);if(r){var o=c(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},R.apply(this,arguments)}function B(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=D(e)););return e}function L(e,t){return L=o||function(e,t){return e.__proto__=t,e},L(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function D(e){return D=o?i:function(e){return e.__proto__||i(e)},D(e)}var N=function(e,t,n,r){return new(n||(n=p.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(i,e);var t,n,r,o=P(i);function i(){var e;return M(this,i),(e=o.apply(this,arguments)).isModal=!0,e.isInit=!1,e.renderSelectedItem1=function(t,n){var r=t.item_name,o=n.label,i=n.value;r.text=o;var a=(0,S.getMonthDateList)(),u=(0,v.default)(a).call(a,(function(e,t){return"date"===i?{label:e.format("MM/DD"),value:e.valueOf()}:{label:"第".concat(t+1,"期"),value:e.valueOf()}}));e.select_ctrl2.setList(u),e.select_ctrl2.setCurIndex(0)},e.renderMenuItem1=function(t,n){var r;if(null===(r=e.select_ctrl1)||void 0===r?void 0:r.array){var o=t.getChildByName("item_name"),i=e.select_ctrl1.array[n].label;o.text=i}},e.renderMenuItem2=function(t,n){var r;if(null===(r=e.select_ctrl2)||void 0===r?void 0:r.array){var o=t.getChildByName("item_name"),i=e.select_ctrl2.array[n].label;o.text=i}},e}return t=i,r=[{key:"preEnter",value:function(){return N(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.default.director.openDialog({dialog:i,use_exist:!0,stay_scene:!0});case 2:return t=e.sent,g.AudioCtrl.play(b.AudioRes.PopShow),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))}},{key:"preLoad",value:function(){return(0,m.loadRes)("pop/record/itemRecord.scene")}}],(n=[{key:"onAwake",value:function(){var e=this,t=this.select_item2,n=this.select_item1,r=this.item_menu2,o=this.item_menu1,i=this.btn_search;(0,_.onLangChange)(this,(function(t){e.initLang(t)}));var a=new I.SelectCtrl(n,o);a.setRender(this.renderSelectedItem1,this.renderMenuItem1),a.init(),a.setList([{label:"日排行奖励",value:"date"},{label:"每期总排行奖励",value:"grade"}]),a.setCurIndex(0);var u=new I.SelectCtrl(t,r);u.setRender(this.renderSelectedItem2,this.renderMenuItem2),u.init();var l=new E.PaginationCtrl(this.pagination);l.on(E.PaginationEvent.Change,(function(t){t.cur;for(var n=t.range,r=e.all_list,o=[],i=n[0];i<n[1];i++)o.push(r[i]);e.renderRecordList(o)})),this.pagination_ctrl=l,i.on("click",null,(function(){e.search()})),(0,d.default)((function(){e.search()})),this.select_ctrl1=a,this.select_ctrl2=u}},{key:"onEnable",value:function(){var e=this;if(this.isInit){var t=this.select_ctrl1,n=this.select_ctrl2;t.setCurIndex(0),n.setCurIndex(0),(0,d.default)((function(){e.search()}))}else this.isInit=!0}},{key:"initLang",value:function(e){var t=w.InternationalTip[e],n=t.itemListTitle,r=t.search,o=t.itemList1,i=t.itemList2,a=t.itemList3,u=t.gameNo,l=t.remainingNum,c=w.InternationalTip[e].noData,s=this.title,f=this.title_box,h=this.btn_search_label,p=this.empty_tip;s.text=n,p.text=c;for(var v=[o,i,a,l,u],d=0;d<f.numChildren;d++)f.getChildAt(d).text=v[d];h.text=r}},{key:"renderSelectedItem2",value:function(e,t){var n=e.item_name,r=t.label;n.text=r}},{key:"search",value:function(){var e=this,t=this.empty_tip,n=this.select_ctrl1,r=this.select_ctrl2,o=this.pagination_ctrl,i=n.getCurData()||{},a=(r.getCurData()||{}).item_id,u=i.coin_id;this.renderRecordList([]),(0,C.getItemList)({itemId:a,currency:u}).then((function(n){e.all_list=n.list,t.visible=!n.list.length,o.update(n.list.length,10)}))}},{key:"setList",value:function(e){this.all_list=e,this.pagination_ctrl.update(e.length,9)}},{key:"renderRecordList",value:function(e){this.record_list.array=(0,v.default)(e).call(e,(function(e){return{buy_total:e.buyNum,remain:e.curNum,type:(0,x.getSkillName)(e.itemId+""),give_total:e.prizeNum,no:e.currency}}))}},{key:"destroy",value:function(){this.select_ctrl1.destroy(),this.select_ctrl2.destroy(),this.select_ctrl1=void 0,this.select_ctrl2=void 0,R(D(i.prototype),"destroy",this).call(this)}}])&&T(t.prototype,n),r&&T(t,r),i}(k.ui.pop.record.arenaRewardRecordUI);t.default=U},60971:function(e,t,n){"use strict";function r(e){return r="function"==typeof p&&"symbol"==typeof y?function(e){return typeof e}:function(e){return e&&"function"==typeof p&&e.constructor===p&&e!==p.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(62734),c=n(34074),s=n(63978),f=n(3649),h=n(66419),p=n(65420),v=n(19996),d=n(41511),y=n(98341);s(t,"__esModule",{value:!0}),t.default=void 0;var m=R(n(93476)),g=R(n(62462)),_=R(n(2991)),b=R(n(77766)),w=R(n(68700)),k=n(899),S=n(58465),x=n(89970),C=n(84228),E=n(52782),I=n(77513),A=n(79699),M=n(96231),T=n(23728);function R(e){return e&&e.__esModule?e:{default:e}}function B(e,t){return function(e){if(d(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==p&&v(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||L(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){var n;if(e){if("string"==typeof e)return P(e,t);var r=f(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?h(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),s(e,r.key,r)}}function N(){return N="undefined"!=typeof Reflect&&l?l:function(e,t,n){var r=U(e,t);if(r){var o=c(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},N.apply(this,arguments)}function U(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=H(e)););return e}function G(e,t){return G=o||function(e,t){return e.__proto__=t,e},G(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var o=H(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return F(this,n)}}function F(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function H(e){return H=o?i:function(e){return e.__proto__||i(e)},H(e)}for(var z=function(e,t,n,r){return new(n||(n=m.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},V=[],Y=0;Y>=-7;Y--)V.push((0,I.getDateFromNow)(Y));var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(i,e);var t,n,r,o=j(i);function i(){var e;return O(this,i),(e=o.apply(this,arguments)).isModal=!0,e}return t=i,n=[{key:"onAwake",value:function(){var e=this,t=this.select_item,n=this.select_coin,r=this.date_menu,o=this.coin_menu,i=this.btn_search;this.record_list.array=[];var a=new T.SelectCtrl(n,o);a.setRender(this.renderSelectCoin),(0,S.onAccountChange)(this,(function(t){e.renderCoinMenu(t)})),a.init();var u=new T.SelectCtrl(t,r);u.setRender(this.renderSelectItem),u.init(),u.setList(V),u.setCurIndex(0);var l=new M.PaginationCtrl(this.pagination);l.on(M.PaginationEvent.Change,(function(t){var n=t.cur;t.trigger_change&&e.search(n+1)})),this.pagination_ctrl=l,(0,E.onNode)(i,"click",(function(){e.pagination_ctrl.reset(),e.search(1)})),this.select_coin_ctrl=a,this.select_date_ctrl=u,(0,S.onLangChange)(this,(function(t){e.initLang(t)}))}},{key:"onEnable",value:function(){var e=this,t=this.select_coin_ctrl,n=this.select_date_ctrl;(0,A.getRecentBullet)().then((function(r){var o=t.getList(),i=n.getList(),a=(0,g.default)(o).call(o,(function(e){return e.coin_name===r.currency})),u=(0,g.default)(i).call(i,(function(e){return e.start<r.time&&e.end>r.time}));-1===a&&(a=0),-1===u&&(u=0),t.setCurIndex(a),n.setCurIndex(u),e.search(1)}))}},{key:"initLang",value:function(e){var t=x.InternationalTip[e],n=t.gameListTitle,r=t.search,o=t.prize,i=t.cost,a=x.InternationalTip[e].noData,u=this.title,l=this.title_box,c=this.btn_search_label,s=this.empty_tip;u.text=n;for(var f=[i,o],h=0;h<l.numChildren;h++)l.getChildAt(h).text=f[h];c.text=r,s.text=a}},{key:"renderSelectCoin",value:function(e,t){var n=e.coin_icon,r=e.coin_name,o=t.coin_icon,i=t.coin_name;n.skin=o,r.text=i}},{key:"renderSelectItem",value:function(e,t){var n=e.item_name,r=t.date_str;n.text=r}},{key:"renderCoinMenu",value:function(e){var t,n=this.select_coin_ctrl,r=[],o=function(e,t){var n=void 0!==p&&v(e)||e["@@iterator"];if(!n){if(d(e)||(n=L(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(e);try{for(o.s();!(t=o.n()).done;){var i=B(t.value,2),a=i[0],u=i[1].icon;r.push({coin_icon:u,coin_name:a})}}catch(e){o.e(e)}finally{o.f()}n.setList(r)}},{key:"search",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this.select_coin_ctrl,r=this.select_date_ctrl,o=this.pagination_ctrl,i=this.empty_tip,a=n.getCurData()||{},u=r.getCurData()||{};this.renderRecordList([]);var l=10;(0,A.getBulletList)({currency:a.coin_name,startTime:u.start,endTime:u.end,pageNum:t,pageSize:l}).then((function(t){o.update(t.total,l),e.renderRecordList(t.list),i.visible=!t.list.length}))}},{key:"renderRecordList",value:function(e){this.record_list.array=(0,_.default)(e).call(e,(function(e){var t,n;return{prize:e.prize?(0,b.default)(t="".concat(e.prize,"  ")).call(t,e.currency):0,cost:e.cost?(0,b.default)(n="".concat(e.cost,"  ")).call(n,e.currency):0}}))}},{key:"destroy",value:function(){(0,S.offBindEvent)(this),this.select_coin_ctrl.destroy(),this.select_date_ctrl.destroy(),this.select_coin_ctrl=void 0,this.select_date_ctrl=void 0,N(H(i.prototype),"destroy",this).call(this)}}],r=[{key:"preEnter",value:function(){return z(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.default.director.openDialog({dialog:i,use_exist:!0,stay_scene:!0});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))}},{key:"preLoad",value:function(){return(0,k.loadRes)("pop/record/gameRecord.scene")}}],n&&D(t.prototype,n),r&&D(t,r),i}(C.ui.pop.record.gameRecordUI);t.default=$},47859:function(e,t,n){"use strict";function r(e){return r="function"==typeof p&&"symbol"==typeof y?function(e){return typeof e}:function(e){return e&&"function"==typeof p&&e.constructor===p&&e!==p.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(62734),c=n(34074),s=n(63978),f=n(3649),h=n(66419),p=n(65420),v=n(19996),d=n(41511),y=n(98341);s(t,"__esModule",{value:!0}),t.default=void 0;var m=M(n(93476)),g=M(n(2991)),_=M(n(33032)),b=M(n(68700)),w=n(899),k=n(58465),S=n(89970),x=n(84228),C=n(13817),E=n(79699),I=n(96231),A=n(23728);function M(e){return e&&e.__esModule?e:{default:e}}function T(e,t){return function(e){if(d(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==p&&v(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){var n;if(e){if("string"==typeof e)return B(e,t);var r=f(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?h(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,t):void 0}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),s(e,r.key,r)}}function O(){return O="undefined"!=typeof Reflect&&l?l:function(e,t,n){var r=D(e,t);if(r){var o=c(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},O.apply(this,arguments)}function D(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}function N(e,t){return N=o||function(e,t){return e.__proto__=t,e},N(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return G(this,n)}}function G(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=o?i:function(e){return e.__proto__||i(e)},j(e)}var F=function(e,t,n,r){return new(n||(n=m.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(i,e);var t,n,r,o=U(i);function i(){var e;return L(this,i),(e=o.apply(this,arguments)).isModal=!0,e.isInit=!1,e}return t=i,r=[{key:"preEnter",value:function(){return F(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.default.director.openDialog({dialog:i,use_exist:!0,stay_scene:!0});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))}},{key:"preLoad",value:function(){return(0,w.loadRes)("pop/record/itemRecord.scene")}}],(n=[{key:"onAwake",value:function(){var e,t=this,n=this.select_item,r=this.select_coin,o=this.item_menu,i=this.coin_menu,a=this.btn_search,u=new A.SelectCtrl(r,i);u.setRender(this.renderSelectCoin),(0,k.onAccountChange)(this,(function(e){t.renderCoinMenu(e)})),u.init(),(0,k.onLangChange)(this,(function(e){t.initLang(e)}));var l=new A.SelectCtrl(n,o);l.setRender(this.renderSelectItem),l.init();var c=(0,g.default)(e=["2001","2002","2003"]).call(e,(function(e){return{item_name:(0,C.getSkillName)(e),item_id:e}}));c.unshift({item_name:"ALL",item_id:void 0}),l.setList(c),l.setCurIndex(0);var s=new I.PaginationCtrl(this.pagination);s.on(I.PaginationEvent.Change,(function(e){e.cur;for(var n=e.range,r=t.all_list,o=[],i=n[0];i<n[1];i++)o.push(r[i]);t.renderRecordList(o)})),this.pagination_ctrl=s,a.on("click",null,(function(){t.search()})),(0,_.default)((function(){t.search()})),this.select_coin_ctrl=u,this.select_item_ctrl=l}},{key:"onEnable",value:function(){var e=this;if(this.isInit){var t=this.select_coin_ctrl,n=this.select_item_ctrl;t.setCurIndex(0),n.setCurIndex(0),(0,_.default)((function(){e.search()}))}else this.isInit=!0}},{key:"initLang",value:function(e){var t=S.InternationalTip[e],n=t.itemListTitle,r=t.search,o=t.itemList1,i=t.itemList2,a=t.itemList3,u=t.gameNo,l=t.remainingNum,c=S.InternationalTip[e].noData,s=this.title,f=this.title_box,h=this.btn_search_label,p=this.empty_tip;s.text=n,p.text=c;for(var v=[o,i,a,l,u],d=0;d<f.numChildren;d++)f.getChildAt(d).text=v[d];h.text=r}},{key:"renderSelectCoin",value:function(e,t){var n=e.coin_icon,r=e.coin_name,o=t.coin_icon,i=t.coin_name;o?(r.x=43,n.visible=!0,n.skin=o):(r.x=15,n.visible=!1),r.text=i}},{key:"renderSelectItem",value:function(e,t){var n=e.item_name,r=t.item_name;n.text=r}},{key:"renderCoinMenu",value:function(e){var t=this.select_coin_ctrl,n=[];n.push({coin_icon:"",coin_name:"ALL",coin_id:void 0});var r,o=function(e,t){var n=void 0!==p&&v(e)||e["@@iterator"];if(!n){if(d(e)||(n=R(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(e);try{for(o.s();!(r=o.n()).done;){var i=T(r.value,2),a=i[0],u=i[1].icon;n.push({coin_icon:u,coin_name:a,coin_id:a})}}catch(e){o.e(e)}finally{o.f()}t.setList(n),t.setCurIndex(0)}},{key:"search",value:function(){var e=this,t=this.empty_tip,n=this.select_coin_ctrl,r=this.select_item_ctrl,o=this.pagination_ctrl,i=n.getCurData()||{},a=(r.getCurData()||{}).item_id,u=i.coin_id;this.renderRecordList([]),(0,E.getItemList)({itemId:a,currency:u}).then((function(n){e.all_list=n.list,t.visible=!n.list.length,o.update(n.list.length,10)}))}},{key:"setList",value:function(e){this.all_list=e,this.pagination_ctrl.update(e.length,9)}},{key:"renderRecordList",value:function(e){this.record_list.array=(0,g.default)(e).call(e,(function(e){return{buy_total:e.buyNum,remain:e.curNum,type:(0,C.getSkillName)(e.itemId+""),give_total:e.prizeNum,no:e.currency}}))}},{key:"destroy",value:function(){(0,k.offBindEvent)(this),this.select_coin_ctrl.destroy(),this.select_item_ctrl.destroy(),this.select_coin_ctrl=void 0,this.select_item_ctrl=void 0,O(j(i.prototype),"destroy",this).call(this)}}])&&P(t.prototype,n),r&&P(t,r),i}(x.ui.pop.record.itemRecordUI);t.default=H},96231:function(e,t,n){"use strict";function r(e){return r="function"==typeof s&&"symbol"==typeof p?function(e){return typeof e}:function(e){return e&&"function"==typeof s&&e.constructor===s&&e!==s.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(63978),l=n(3649),c=n(66419),s=n(65420),f=n(19996),h=n(41511),p=n(98341);u(t,"__esModule",{value:!0}),t.PaginationEvent=t.PaginationCtrl=void 0;var v=k(n(85507)),d=k(n(21611)),y=n(38182),m=n(33879),g=n(44476),_=n(96530),b=n(52782),w=n(68267);function k(e){return e&&e.__esModule?e:{default:e}}function S(e,t){var n=void 0!==s&&f(e)||e["@@iterator"];if(!n){if(h(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return x(e,t);var r=l(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return c(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),u(e,r.key,r)}}function E(e,t){return E=i||function(e,t){return e.__proto__=t,e},E(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var i=M(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function M(e){return M=v.default?d.default:function(e){return e.__proto__||(0,d.default)(e)},M(e)}var T={Change:"change"};t.PaginationEvent=T;var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(i,e);var t,n,r,o=I(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).view=e,t.init(),t}return t=i,n=[{key:"init",value:function(){this.view.removeChildren(),this.pagination=new w.Pagination}},{key:"reset",value:function(){this.pagination.reset()}},{key:"update",value:function(e,t){this.pagination.updateData(e,t),this.render(this.pagination.output(),!1)}},{key:"triggerAction",value:function(e){var t=this.pagination;switch(e){case"prev":t.prev();break;case"next":t.next();break;case"left_spread":t.leftSpread();break;case"right_spread":t.rightSpread();break;default:t.setCurPage(e)}this.render(t.output())}},{key:"render",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.view,o=e.pagination_arr,i=e.cur_page,a=e.item_range,u=e.has_prev,l=e.has_next;if(r.removeChildren(),o.length<=1)this.emit(T.Change,{cur:i,range:a,trigger_change:n});else{var c,s=S(o);try{var f=function(){var e=c.value,n=void 0;switch(e){case"prev":(n=B()).disabled=!u;break;case"next":(n=L()).disabled=!l;break;case"left_spread":case"right_spread":n=O();break;default:n=P(e+1,e===i)}n.on("click",null,(function(){t.triggerAction(e)})),r.addChild(n)};for(s.s();!(c=s.n()).done;)f()}catch(e){s.e(e)}finally{s.f()}(0,b.resizeContain)(r,5),r.x=(r.parent.width-r.width)/2,this.emit(T.Change,{cur:i,range:a,trigger_change:n})}}}],n&&C(t.prototype,n),r&&C(t,r),i}(y.EventCom);function B(){var e=new m.Button;e.skin="image/pop/record/btn_pagination1.png",e.stateNum=1,e.label="";var t=new g.Image;return t.skin="image/pop/record/left.png",t.x=23,t.y=8,e.addChild(t),e}function L(){var e=new m.Button;e.skin="image/pop/record/btn_pagination1.png",e.stateNum=1,e.label="";var t=new g.Image;return t.skin="image/pop/record/next.png",t.x=23,t.y=8,e.addChild(t),e}function P(e,t){var n=new m.Button;n.skin="image/pop/record/btn_pagination2.png",n.stateNum=1,n.label="";var r=new _.Label;return r.fontSize=25,r.bold=!0,t?(r.color="#492b00",n.skin="image/pop/record/btn_pagination0.png"):(r.color="#06684a",n.skin="image/pop/record/btn_pagination2.png"),r.align="center",r.valign="middle",r.x=8,r.y=7,r.width=54,r.height=29,r.text=e+"",n.addChild(r),n}function O(){var e=new m.Button;e.skin="image/pop/record/btn_pagination2.png",e.stateNum=1,e.label="";var t=new _.Label;return t.fontSize=25,t.bold=!0,t.color="#06684a",t.align="center",t.valign="middle",t.x=8,t.y=5,t.width=54,t.height=29,t.text="...",e.addChild(t),e}t.PaginationCtrl=R},23728:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.SelectCtrl=void 0;var r=u(n(33032)),o=u(n(63978)),i=n(41107),a=n(52782);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}var c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select_index=-1,this.select_box=t,this.select_list=n}var t,n,o;return t=e,(n=[{key:"init",value:function(){var e=this,t=this.select_box,n=this.select_list;t.on("click",null,(function(){n.visible=!n.visible})),(0,a.onStageClick)(t,(function(){n.visible=!1}),[t,n]),n.list.vScrollBarSkin="",n.list.selectHandler=i.Handler.create(null,(function(t){var r;if(n.visible=!1,-1!==t)if(n.list.array.length){e.select_index=t,n.list.selectedIndex=-1;var o=n.list.array[t];null===(r=e.selected_render)||void 0===r||r.call(e,e.select_box,o)}else n.list.selectedIndex=-1}),null,!1),this.list_render&&(n.list.renderHandler=i.Handler.create(null,this.list_render,null,!1))}},{key:"setRender",value:function(e,t){this.selected_render=e,this.list_render=t}},{key:"setListRender",value:function(e){this.selected_render=e}},{key:"setList",value:function(e){this.select_list.list.array=e,this.array=e}},{key:"getList",value:function(){return this.array}},{key:"getCurIndex",value:function(){return this.select_index}},{key:"setCurIndex",value:function(e){var t=this;(0,r.default)((function(){t.select_list.list.selectedIndex=e}))}},{key:"getCurData",value:function(){return this.array[this.select_index]}},{key:"destroy",value:function(){this.select_box=void 0,this.select_list=void 0,this.selected_render=void 0}}])&&l(t.prototype,n),o&&l(t,o),e}();t.SelectCtrl=c},25463:function(e,t,n){"use strict";function r(e){return r="function"==typeof f&&"symbol"==typeof h?function(e){return typeof e}:function(e){return e&&"function"==typeof f&&e.constructor===f&&e!==f.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(62734),c=n(34074),s=n(63978),f=n(65420),h=n(98341);s(t,"__esModule",{value:!0}),t.default=void 0;var p=_(n(93476)),v=_(n(68700)),d=n(89662),y=n(58465),m=n(89970),g=n(84228);function _(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),s(e,r.key,r)}}function k(){return k="undefined"!=typeof Reflect&&l?l:function(e,t,n){var r=S(e,t);if(r){var o=c(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},k.apply(this,arguments)}function S(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}function x(e,t){return x=o||function(e,t){return e.__proto__=t,e},x(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function I(e){return I=o?i:function(e){return e.__proto__||i(e)},I(e)}var A=function(e,t,n,r){return new(n||(n=p.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(i,e);var t,n,r,o=C(i);function i(){var e;return b(this,i),(e=o.apply(this,arguments)).isModal=!0,e}return t=i,r=[{key:"preEnter",value:function(e){return A(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.default.director.openDialog({dialog:i,use_exist:!0,stay_scene:!0});case 2:return n=t.sent,t.next=5,n.showReward(e);case 5:case"end":return t.stop()}}),t)})))}}],(n=[{key:"onAwake",value:function(){var e=this;(0,y.onLangChange)(this,(function(t){e.initLang(t)})),this.btn_confirm.on(d.Event.CLICK,this,(function(){e.close()}))}},{key:"initLang",value:function(e){var t=this.btn_confirm_label,n=m.InternationalTip[e].confirm;t.text=n}},{key:"showReward",value:function(e){var t=this;return new p.default((function(n,r){var o=(0,y.getLang)(),i=m.InternationalTip[o],a=i.luckyDrawTip2,u=i.bullet,l=t.item_num,c=t.item_type,s=t.bullet_icon,f=t.bullet_num,h=t.txt_label;t.close_resolve=n;var p=e.type,v=e.num,d="bullet"===p,g=d?u:p,_=v+"";h.innerHTML=d?'<div style="width: 392px;height: 32px;line-height:32px;font-size: 24px;color:#d3d6ff;align:center;"><span>$0</span><span style="margin-right: 10px;">&nbsp;$1&nbsp;</span><span color="#ffdd76">$2</span></div>'.replace("$0",a).replace("$1",g).replace("$2","x".concat(v)):'<div style="width: 392px;height: 32px;line-height:32px;font-size: 24px;color:#d3d6ff;align:center;"><span>$0</span><span color="#ffdd76" style="margin-right: 10px;">&nbsp;$2&nbsp;</span><span>$1</span></div>'.replace("$0",a).replace("$1",g).replace("$2","".concat(v)),l.visible=c.visible=s.visible=f.visible=!1,d?(s.visible=f.visible=!0,f.text=_):(l.visible=c.visible=!0,l.text=_,c.text=p.toUpperCase());var b=1/(p.length/4),w=1/(_.length/4);w=w>1?1:w,b=b>.95?.95:b,l.scale(w,w),c.scale(b,b)}))}},{key:"onClosed",value:function(){var e;null===(e=this.close_resolve)||void 0===e||e.call(this)}},{key:"destroy",value:function(){(0,y.offLangChange)(this),k(I(i.prototype),"destroy",this).call(this)}}])&&w(t.prototype,n),r&&w(t,r),i}(g.ui.pop.lottery.rewardUI);t.default=M},55088:function(e,t,n){"use strict";function r(e){return r="function"==typeof h&&"symbol"==typeof y?function(e){return typeof e}:function(e){return e&&"function"==typeof h&&e.constructor===h&&e!==h.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(62734),l=n(34074),c=n(63978),s=n(3649),f=n(66419),h=n(65420),p=n(19996),v=n(41511),d=n(52424),y=n(98341);c(t,"__esModule",{value:!0}),t.default=t.GunSkinStatus=void 0,t.getItemName=Q;var m,g=D(n(93476)),_=D(n(85507)),b=D(n(21611)),w=D(n(81643)),k=D(n(68700)),S=n(899),x=n(89662),C=n(41107),E=n(80356),I=n(58465),A=n(14082),M=n(89970),T=n(84228),R=n(77513),B=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var o={},i=c&&l;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=i?l(e,a):null;u&&(u.get||u.set)?c(o,a,u):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(13817)),L=n(79699),P=D(n(10535));function O(e){if("function"!=typeof d)return null;var t=new d,n=new d;return(O=function(e){return e?n:t})(e)}function D(e){return e&&e.__esModule?e:{default:e}}function N(e,t){return function(e){if(v(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==h&&p(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||G(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){var n=void 0!==h&&p(e)||e["@@iterator"];if(!n){if(v(e)||(n=G(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function G(e,t){var n;if(e){if("string"==typeof e)return j(e,t);var r=s(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?f(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),c(e,r.key,r)}}function z(){return z="undefined"!=typeof Reflect&&u?u:function(e,t,n){var r=V(e,t);if(r){var o=l(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},z.apply(this,arguments)}function V(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=W(e)););return e}function Y(e,t){return Y=i||function(e,t){return e.__proto__=t,e},Y(e,t)}function $(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var i=W(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return K(this,n)}}function K(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function W(e){return W=_.default?b.default:function(e){return e.__proto__||(0,b.default)(e)},W(e)}t.GunSkinStatus=m,function(e){e[e.NoHave=0]="NoHave",e[e.Have=1]="Have",e[e.Used=2]="Used"}(m||(t.GunSkinStatus=m={}));var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(i,e);var t,n,r,o=$(i);function i(){var e;return F(this,i),(e=o.apply(this,arguments)).isModal=!0,e.is_init=!1,e.renderGunList=function(t,n){var r=e.gun_list.array[n],o=r.gun_name,i=r.gun_id,a=r.gun_status,u=r.gun_price,l=t.name_label,c=t.icon,s=t.stack_btn,f=t.icon_check,h=t.select_bd,p=(0,I.getLang)(),v=M.InternationalTip[p],d=v.use,y=v.inUse;l.text=o,c.skin="image/pop/shop/icon/".concat(i,".png"),s.selectedIndex=a;var g=s.getChildAt(a),_=g.getChildByName("label");f.visible=!1,h.visible=!1,g.offAll(),a===m.NoHave?(_.text=u+"",g.on(x.Event.CLICK,g,(function(){(0,B.buySkinAlert)(u,o).then((function(t){t&&(0,L.buyItem)(i,1,u).then((function(){e.buyGunSkin(i)}))}))}))):a===m.Have?(_.text=d,g.on(x.Event.CLICK,g,(function(){(0,L.useGunSkin)(i).then((function(){e.useGunSkin(i)}))}))):a===m.Used&&(_.text=y,f.visible=!0,h.visible=!0)},e.renderItemList=function(t,n){var r=e.item_list.array[n],o=r.item_name,i=r.item_id,a=r.item_num,u=r.item_price,l=t.name_label,c=t.icon,s=t.num_label,f=t.price_label,h=t.btn_buy;l.text=o,s.text=a+"",c.skin="image/pop/shop/icon/".concat(i,".png"),f.text=u+"",h.offAll(),h.on(x.Event.CLICK,h,(function(){B.default.preEnter({type:o,id:i,num:a,price:u}).then((function(t){(0,L.buyItem)(t.id,t.num,t.price).then((function(){P.default.tip((0,R.tplStr)("buySuccess")),e.close()}))}))}))},e}return t=i,r=[{key:"preEnter",value:function(){E.AudioCtrl.play(A.AudioRes.PopShow);var e=k.default.director.openDialog({dialog:i,use_exist:!0,stay_scene:!0}),t=(0,L.getShopInfo)();return g.default.all([e,t]).then((function(e){var t=N(e,2),n=t[0],r=t[1];n.initData(r)}))}},{key:"preLoad",value:function(){return(0,S.loadRes)("pop/shop/shop.scene")}}],(n=[{key:"init",value:function(){var e=this.gun_list,t=this.item_list;e.array=[],t.array=[],e.renderHandler=new C.Handler(e,this.renderGunList,null,!1),t.renderHandler=new C.Handler(t,this.renderItemList,null,!1)}},{key:"onEnable",value:function(){this.is_init||this.init(),this.is_init=!0}},{key:"initData",value:function(e){var t,n=this.gun_list,r=this.item_list,o=e.gun,i=e.item,a=[],u=U(o);try{for(u.s();!(t=u.n()).done;){var l=t.value,c=l.name,s=l.id,f=l.status,h=l.price,p=Q(s,c);a.push({gun_name:p,gun_id:s,gun_status:f,gun_price:h})}}catch(e){u.e(e)}finally{u.f()}n.array=a;var v,d=[],y=U(i);try{for(y.s();!(v=y.n()).done;){var m=v.value,g=m.name,_=m.id,b=m.price,w=m.num,k=Q(_,g);d.push({item_name:k,item_id:_,item_price:b,item_num:w})}}catch(e){y.e(e)}finally{y.f()}r.array=d}},{key:"useGunSkin",value:function(e){var t,n=U(this.gun_list.array);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.gun_id===e?r.gun_status=m.Used:r.gun_status!==m.NoHave&&(r.gun_status=m.Have)}}catch(e){n.e(e)}finally{n.f()}this.gun_list.refresh()}},{key:"buyGunSkin",value:function(e){var t,n=U(this.gun_list.array);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.gun_id===e){r.gun_status=m.Have;break}}}catch(e){n.e(e)}finally{n.f()}this.gun_list.refresh()}},{key:"onAwake",value:function(){var e=this;(0,I.onLangChange)(this,(function(t){e.initLang(t)}))}},{key:"initLang",value:function(e){var t=this.title,n=this.item_tag,r=this.skin_tag,o=M.InternationalTip[e],i=o.skin,a=o.item;t.skin="image/international/title_shop_".concat(e,".png"),n.text=a,r.text=i}},{key:"destroy",value:function(){(0,I.offLangChange)(this),z(W(i.prototype),"destroy",this).call(this)}}])&&H(t.prototype,n),r&&H(t,r),i}(T.ui.pop.shop.shopUI);function Q(e,t){var n=(0,I.getLang)(),r=M.InternationalTip[n],o=r.skin,i=r.bomb,a=r.freeze,u=r.lock,l="";-1!==(0,w.default)(t).call(t,"皮肤")&&(l=t.replace("皮肤",""));return("2001"===e?u:"2002"===e?a:"2003"===e?i:o)+l}t.default=X},10535:function(e,t,n){"use strict";function r(e){return r="function"==typeof f&&"symbol"==typeof v?function(e){return typeof e}:function(e){return e&&"function"==typeof f&&e.constructor===f&&e!==f.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(63978),c=n(3649),s=n(66419),f=n(65420),h=n(19996),p=n(41511),v=n(98341);l(t,"__esModule",{value:!0}),t.default=void 0;var d=C(n(93476)),y=C(n(51942)),m=C(n(39291)),g=C(n(77766)),_=C(n(68700)),b=n(22833),w=n(80356),k=n(14082),S=n(84228),x=n(45359);function C(e){return e&&e.__esModule?e:{default:e}}function E(e,t){var n=void 0!==f&&h(e)||e["@@iterator"];if(!n){if(p(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return I(e,t);var r=c(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return s(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l(e,r.key,r)}}function T(e,t){return T=o||function(e,t){return e.__proto__=t,e},T(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return B(this,n)}}function B(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function L(e){return L=o?i:function(e){return e.__proto__||i(e)},L(e)}var P=function(e,t,n,r){return new(n||(n=d.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},O={count:2,click_through:!0,auto_hide:!0},D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(i,e);var t,n,r,o=R(i);function i(){var e;return A(this,i),(e=o.apply(this,arguments)).isModal=!0,e}return t=i,n=[{key:"onResize",value:function(e,t){this.width=e,this.height=t,this.pivotX=e/2,this.pivotY=t/2}},{key:"tip",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new d.default((function(r,o){var i;if(!e)return r();var a=n=(0,y.default)((0,y.default)({},O),n),u=a.count,l=a.show_count,c=a.click_through,s=a.auto_hide,f=(0,m.default)(a),h=l?(0,g.default)(i="".concat(e," ")).call(i,u):e;t.mouseThrough=c,function n(){(0,x.clearCount)(t.count_id),t.count_id=(0,x.startCount)(u,1,(function(o){if(l){var i,a=Math.floor(u*o);t.setTipText((0,g.default)(i="".concat(e," ")).call(i,a))}0===o&&(s&&t.close(),f&&n(),r())}))}(),t.show(),t.setTipText(h)}))}},{key:"analysisSize",value:function(e){var t=this.label,n=this.bg,r=this.inner,o=e.split("\n"),i=o.length,a=100+15*function(e){var t,n=[],r=E(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.push((0,b.getStringLength)(o))}}catch(e){r.e(e)}finally{r.f()}return Math.max.apply(this,n)}(o),u=50+30*i;a=a>300?a:300,u=u>120?u:120,r.width=t.width=n.width=a,r.height=t.height=n.height=u}},{key:"setTipText",value:function(e){this.label.text=e}}],r=[{key:"tip",value:function(e,t){return P(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return w.AudioCtrl.play(k.AudioRes.PopShow),n.next=3,_.default.director.openDialog({dialog:i,use_exist:!0},{beforeOpen:function(t){t.analysisSize(e)}});case 3:return this.instance=n.sent,n.next=6,this.instance.tip(e,t);case 6:case"end":return n.stop()}}),n,this)})))}},{key:"hide",value:function(){return P(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.instance&&this.instance.close();case 1:case"end":return e.stop()}}),e,this)})))}}],n&&M(t.prototype,n),r&&M(t,r),i}(S.ui.pop.alert.tipUI);t.default=D},65710:function(e,t,n){"use strict";function r(e){return r="function"==typeof f&&"symbol"==typeof v?function(e){return typeof e}:function(e){return e&&"function"==typeof f&&e.constructor===f&&e!==f.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(63978),c=n(3649),s=n(66419),f=n(65420),h=n(19996),p=n(41511),v=n(98341);l(t,"__esModule",{value:!0}),t.default=void 0;var d=x(n(93476)),y=n(24629),m=x(n(68700)),g=n(22833),_=n(80356),b=n(14082),w=n(84228),k=n(90564),S=n(45359);function x(e){return e&&e.__esModule?e:{default:e}}function C(e,t){var n=void 0!==f&&h(e)||e["@@iterator"];if(!n){if(p(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return E(e,t);var r=c(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return s(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l(e,r.key,r)}}function A(e,t){return A=o||function(e,t){return e.__proto__=t,e},A(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function R(e){return R=o?i:function(e){return e.__proto__||i(e)},R(e)}var B=function(e,t,n,r){return new(n||(n=d.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},L="pop/alert/topTip.scene",P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(i,e);var t,n,r,o=M(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).isShowEffect=!1,e.isPopupCenter=!1,e.zOrder=100,e}return t=i,r=[{key:"tip",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return B(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return _.AudioCtrl.play(b.AudioRes.PopShow),n.next=3,m.default.director.openDialog(L);case 3:return r=n.sent,this.instance=r,n.next=7,r.tip(e,t);case 7:case"end":return n.stop()}}),n,this)})))}},{key:"hide",value:function(){return B(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null==(t=this.instance)?void 0:t.visible)&&(null==t||t.close());case 2:case"end":return e.stop()}}),e,this)})))}}],(n=[{key:"tip",value:function(e,t){var n=this;return new d.default((function(r,o){if(!e)return r();(0,S.startCount)(t,1,(function(e){0===e&&(n.close(),r())})),n.analysisSize(e),n.setTipText(e)}))}},{key:"analysisSize",value:function(e){var t=this.label,n=this.bg,r=e.split("\n"),o=r.length,i=100+18*function(e){var t,n=[],r=C(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.push((0,g.getStringLength)(o))}}catch(e){r.e(e)}finally{r.f()}return Math.max.apply(this,n)}(r),a=30+30*o;i=i>750?i:750,a=a>70?a:70,this.width=t.width=n.width=i,this.height=t.height=n.height=a,this.x=(y.Laya.stage.width-this.width)/2}},{key:"setTipText",value:function(e){this.label.text=e,(0,k.slide_down_in)(this)}}])&&I(t.prototype,n),r&&I(t,r),i}(w.ui.pop.alert.topTipUI);t.default=P},94133:function(e,t,n){"use strict";function r(e){return r="function"==typeof s&&"symbol"==typeof f?function(e){return typeof e}:function(e){return e&&"function"==typeof s&&e.constructor===s&&e!==s.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(62734),l=n(34074),c=n(63978),s=n(65420),f=n(98341);c(t,"__esModule",{value:!0}),t.default=void 0;var h=S(n(85507)),p=S(n(21611)),v=S(n(68700)),d=n(80356),y=n(58465),m=n(14082),g=n(89970),_=n(11263),b=n(84228),w=n(3735),k=S(n(63323));function S(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),c(e,r.key,r)}}function E(){return E="undefined"!=typeof Reflect&&u?u:function(e,t,n){var r=I(e,t);if(r){var o=l(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},E.apply(this,arguments)}function I(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}function A(e,t){return A=i||function(e,t){return e.__proto__=t,e},A(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var i=R(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function R(e){return R=h.default?p.default:function(e){return e.__proto__||(0,p.default)(e)},R(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(i,e);var t,n,r,o=M(i);function i(){var e;return x(this,i),(e=o.apply(this,arguments)).isModal=!0,e.onMusicChange=function(e){_.modelState.app.setting.setMusic(e)},e.onVoiceChange=function(e){_.modelState.app.setting.setVoice(e)},e}return t=i,r=[{key:"preEnter",value:function(){d.AudioCtrl.play(m.AudioRes.PopShow),v.default.director.openDialog({dialog:i,use_exist:!0})}}],(n=[{key:"onAwake",value:function(){var e=this;(0,y.onLangChange)(this,(function(t){e.initLang(t)}));var t=_.modelState.app.setting,n=t.voice,r=t.music,o=this.music_progress,i=this.voice_progress,a=this.version,u=new k.default(o,this.onMusicChange),l=new k.default(i,this.onVoiceChange);l.setProgress(n),u.setProgress(r),this.music_ctrl=u,this.voice_ctrl=l,a.text=(0,w.formatDateTime)(Number(window.version),"YYYY/MM/DD HH:mm")}},{key:"destroy",value:function(){var e=this.music_ctrl,t=this.voice_ctrl;(0,y.offLangChange)(this),e.destroy(),t.destroy(),this.music_ctrl.destroy(),this.voice_ctrl.destroy(),E(R(i.prototype),"destroy",this).call(this)}},{key:"initLang",value:function(e){var t=this.sound_label,n=this.music_label,r=this.title,o=g.InternationalTip[e],i=o.music,a=o.soundEffects,u=o.volumeSetting;r.text=u,t.text=a,n.text=i}}])&&C(t.prototype,n),r&&C(t,r),i}(b.ui.pop.alert.voiceUI);t.default=B},43838:function(e,t,n){"use strict";function r(e){return r="function"==typeof p&&"symbol"==typeof y?function(e){return typeof e}:function(e){return e&&"function"==typeof p&&e.constructor===p&&e!==p.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(62734),c=n(34074),s=n(63978),f=n(3649),h=n(66419),p=n(65420),v=n(19996),d=n(41511),y=n(98341);s(t,"__esModule",{value:!0}),t.default=void 0;var m=H(n(93476)),g=H(n(72119)),_=H(n(62462)),b=H(n(77766)),w=n(72649),k=n(13845),S=H(n(68700)),x=n(6893),C=n(89662),E=n(58465),I=n(89970),A=n(84228),M=n(90564),T=n(45359),R=n(64467),B=n(80323),L=n(55161),P=n(77513),O=H(n(15359)),D=H(n(10535)),N=n(70903),U=n(48652),G=n(59446),j=n(69213),F=H(n(95665));function H(e){return e&&e.__esModule?e:{default:e}}function z(e,t){return function(e){if(d(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==p&&v(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||Y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){var n=void 0!==p&&v(e)||e["@@iterator"];if(!n){if(d(e)||(n=Y(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Y(e,t){var n;if(e){if("string"==typeof e)return $(e,t);var r=f(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?h(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),s(e,r.key,r)}}function X(){return X="undefined"!=typeof Reflect&&l?l:function(e,t,n){var r=Q(e,t);if(r){var o=c(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},X.apply(this,arguments)}function Q(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ee(e)););return e}function q(e,t){return q=o||function(e,t){return e.__proto__=t,e},q(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var o=ee(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ee(e){return ee=o?i:function(e){return e.__proto__||i(e)},ee(e)}var te=function(e,t,n,r){return new(n||(n=m.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(i,e);var t,n,r,o=Z(i);function i(){var e;return K(this,i),(e=o.apply(this,arguments)).task_arr=[],e.bg_num=1,e}return t=i,n=[{key:"onEnable",value:function(){var e=this;(0,E.onLangChange)(this,(function(t){e.initLang(t)}))}},{key:"initLang",value:function(e){}},{key:"setTrialStyle",value:function(){}},{key:"showBubbleRefresh",value:function(e){var t=this.bubble_overlay,n=this.bg,r=this.bubble_wall,o=this.bubble_ani;e||(e=this.bg_num),this.bg_num=e,n.skin="image/game/normal_bg/bg".concat(e,".jpg"),o.url="image/game/bg_normal".concat(e,".sk"),r.visible=!1,t.visible=!0,(0,P.playSkeletonOnce)(t,"out").then((function(){t.visible=!1,(0,M.fade_in)(r,300,"",.3),(0,P.playSkeleton)(r,2,!0)}))}},{key:"onResize",value:function(e,t){var n=this.width,r=this.height,o=this.ctrl_box;this.x=(e-n)/2,this.y=(t-r)/2,e>1334&&(e=1334),o.width=e}},{key:"showTaskPanel",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n&&O.default.tip("完成悬赏任务，有积分奖励！");var r=this.task_panel,o=this.task_award_num,i=this.task_time_num;(0,M.fade_in)(r),r.visible=!0,o.text=e.award+"",i.text=(0,B.formatTime)(e.taskTime,2),this.countId=(0,T.startCount)(e.taskTime,1,(function(t){var n=Math.floor(e.taskTime*t);i.text=(0,B.formatTime)(n,2)}));var a,u=[],l=(0,B.getChildrenByName)(r,"task_item"),c=V((0,g.default)(t=e.list).call(t));try{for(c.s();!(a=c.n()).done;){var s=z(a.value,2),f=s[0],h=s[1],p=l[f],v=p.getChildByName("task_name");p.visible=!0;var d=p.getChildByName("task_num");v.skin="image/pop/help/fish".concat(h.fishId,".png"),d.text="0/".concat(h.killNumber),u.push(h.fishId)}}catch(e){c.e(e)}finally{c.f()}this.task_arr=u}},{key:"updateTaskPanel",value:function(e){var t,n=this,r=this.task_panel,o=e.list,i=(0,B.getChildrenByName)(r,"task_item"),a=V(o);try{var u=function(){var e,r,o=t.value,a=(0,_.default)(e=n.task_arr).call(e,(function(e){return e===o.fishId}));i[a].getChildByName("task_num").text=(0,b.default)(r="".concat(o.reachNumber,"/")).call(r,o.killNumber)};for(a.s();!(t=a.n()).done;)u()}catch(e){a.e(e)}finally{a.f()}}},{key:"taskFinish",value:function(e){return te(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(0,T.clearCount)(this.countId),n={x:672,y:375},r=this.task_panel,(0,M.fade_out)(r),o=(0,B.getChildrenByName)(r,"task_item"),i=V(o);try{for(i.s();!(a=i.n()).done;)a.value.visible=!1}catch(e){i.e(e)}finally{i.f()}if(e.isComplete){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,D.default.tip("任务完成");case 11:return t.next=13,(0,G.showAwardCircle)(n,e.award,!0);case 13:case"end":return t.stop()}}),t,this)})))}},{key:"upSideDown",value:function(){var e=this.pool,t=this.gun_wrap,n=this.ani_wrap,r=this.ani_overlay;e.scaleY=t.scaleY=r.scaleY=n.scaleY=-1,this.upside_down=!0}},{key:"addFish",value:function(e){var t=this.pool,n=this.upside_down,r=e.horizon_turn,o=new j.FishView(e,t);return r&&n&&(o.scaleY=-1),t.addChild(o),o}},{key:"addBullet",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.pool,o=(0,R.getSpriteInfo)("bullet",e),i=o.path;return t=n?(0,x.createSkeleton)("".concat(i,"_rage")):(0,N.createSkeletonPool)("bullet",e),r.addChild(t),t.visible=!1,t}},{key:"addNet",value:function(e){var t=this.pool,n=(0,N.createSkeletonPool)("net",e);return t.addChild(n),n}},{key:"onPoolClick",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.offPoolClick();var n=new w.Observable((function(t){var n=e.pool,r=function(e){var r=n.getMousePoint(),o=r.x,i=r.y;e.stopPropagation(),t.next({x:o,y:i})};t.add((function(){n.off(C.Event.CLICK,n,r)})),n.on(C.Event.CLICK,n,r),e.pool_click_observer=t}));return t?n.pipe((0,k.first)()):n}},{key:"offPoolClick",value:function(){var e=this.pool_click_observer;e&&(e.unsubscribe(),this.pool_click_observer=void 0)}},{key:"onFishClick",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.offFishClick();var n=new w.Observable((function(t){var n=e.pool,r=function(e){e.stopPropagation();var n=e.target;if(n instanceof j.FishView){var r=n.info,o=r.id,i=r.group_id;t.next({id:o,group_id:i})}};t.add((function(){n.off(C.Event.CLICK,n,r)})),n.on(C.Event.CLICK,n,r),e.fish_click_observer=t}));return t?n.pipe((0,k.first)()):n}},{key:"offFishClick",value:function(){var e=this.fish_click_observer;e&&(e.unsubscribe(),this.fish_click_observer=void 0)}},{key:"addGun",value:function(){var e=this.gun_wrap,t=new F.default;return e.addChild(t),t}},{key:"setScorePanelVisible",value:function(e,t){var n=e?this.my_score_panel:this.other_score_panel;t?(0,M.fade_in)(n,200):(0,M.fade_out)(n,200)}},{key:"setBulletScoreNum",value:function(e,t,n){var r,o=(0,E.getLang)(),i=I.InternationalTip[o].NumBullet,a=e?this.my_score_panel:this.other_score_panel,u=a.getChildByName("bullet_num"),l=a.getChildByName("score_num");u.text=(0,b.default)(r="".concat(i,": ")).call(r,t),l.text=n+""}},{key:"getSkillItemByIndex",value:function(e){return this.skill_box.skill_list.getChildAt(e)}},{key:"getAutoShootSkillItem",value:function(){return this.skill_box.auto_shoot}},{key:"setAutoShootLight",value:function(e){var t=(0,E.getLang)();this.skill_box.auto_shoot_light.visible=e;var n=e?"auto_cancel_".concat(t):"auto_".concat(t);this.skill_box.auto_shoot_txt.skin="image/international/".concat(n,".png")}},{key:"getPoolMousePos",value:function(){return this.pool.getMousePoint()}},{key:"destroy",value:function(){try{(0,E.offLangChange)(this),X(ee(i.prototype),"destroy",this).call(this)}catch(e){(0,L.error)(e)}}}],r=[{key:"preEnter",value:function(e){return te(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.default.director.runScene("scenes/arena/game.scene",e);case 2:return n=t.sent,r=n.ani_wrap,o=n.ani_overlay,(0,P.setProps)(U.viewState,{game:n,ani_wrap:r,ani_overlay:o}),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))}}],n&&W(t.prototype,n),r&&W(t,r),i}(A.ui.scenes.arena.gameUI);t.default=ne},81756:function(e,t,n){"use strict";function r(e){return r="function"==typeof u&&"symbol"==typeof l?function(e){return typeof e}:function(e){return e&&"function"==typeof u&&e.constructor===u&&e!==u.prototype?"symbol":typeof e},r(e)}var o=n(52424),i=n(63978),a=n(34074),u=n(65420),l=n(98341);i(t,"__esModule",{value:!0}),t.activeAim=function(e){var t=k("aim_big");(0,y.playSkeleton)(t,0,!0),t.pos(e.x,e.y)},t.activeAimFish=function(e,t,n){if(!e)return;var r=k("aim"),o=b.fish,i=e.pos;o&&(o.event.offAllCaller(r),(0,d.log)(o.event.getBind("FishEvent.Move"),o.id));b.fish=e,b.ori_pos=n,x(),e.visible&&((0,y.playSkeleton)(r,0,!0),r.pos(i.x,i.y));e.event.on(p.FishEvent.VisibleChange,(function(e){e?((0,y.playSkeleton)(r,0,!0),r.pos(i.x,i.y)):(0,y.stopSkeleton)(r)}),r),e.event.on(p.FishEvent.Move,(function(e){var o=e.pos,i=o.x,a=o.y;r.pos(i,a),t&&S({x:i,y:a},n)}),r),e.event.on(p.FishEvent.Destroy,(function(){w("aim"),e.event.offAllCaller(r)}),r)},t.createPoints=S,t.stopAim=w;var c=_(n(39392)),s=_(n(92762)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={},u=i&&a;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var c=u?a(e,l):null;c&&(c.get||c.set)?i(o,l,c):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(86116)),h=n(6893),p=n(3828),v=n(64467),d=n(55161),y=n(77513),m=n(48652);function g(e){if("function"!=typeof o)return null;var t=new o,n=new o;return(g=function(e){return e?n:t})(e)}function _(e){return e&&e.__esModule?e:{default:e}}var b={point_list:[],points_temp:[],aim_ani_map:new c.default};function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"aim",t=b.aim_ani_map,n=b.fish,r=b.point_list,o=t.get(e);o&&(o.stop(),o.removeSelf()),"aim"===e&&(r.length&&(b.ori_pos=void 0,x()),n&&(n.event.offAllCaller(o),b.fish=void 0))}function k(e){var t=b.aim_ani_map,n=m.viewState.ani_wrap,r=t.get(e);return!r||r.destroyed?(r=(0,v.createSprite)("other",e),n.addChild(r),t.set(e,r)):r.parent||n.addChild(r),r}function S(e,t){var n=b.point_list,r=m.viewState.ani_wrap,o=new f.Vector(e.x-t.x,e.y-t.y),i=o.len(),a=o.clone().normalize(),u=Math.ceil(i/50);!function(e){var t=b.point_list,n=b.points_temp,r=t.length;if(r<e)for(var o=r;o<e;o++){var i=n.pop()||(0,h.createImg)("image/game/aim_point");i.pivot(9.5,9.5),t.push(i)}else if(r>e)for(var a=r-1;a>=e;a--){var u=t[a];u.removeSelf(),n.push(u),(0,s.default)(t).call(t,a,1)}}(u);for(var l=0;l<u;l++){var c=n[l],p=a.clone().scale(50*l,50*l),v=t.x+p.x,d=t.y+p.y;c.x=v,c.y=d,r.addChild(c)}}function x(){for(var e=b.point_list,t=b.points_temp,n=e.length-1;n>=0;n--){var r=e[n];r.removeSelf(),t.push(r),(0,s.default)(e).call(e,n,1)}}},59446:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.scale_in=v,t.showAwardCircle=function(e,t,n,r,i){return p(this,void 0,void 0,regeneratorRuntime.mark((function y(){var m=this;return regeneratorRuntime.wrap((function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",new o.default((function(o,y){return p(m,void 0,void 0,regeneratorRuntime.mark((function p(){var y,m,g,_,b;return regeneratorRuntime.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return y=f.viewState.ani_overlay,m=(0,h.createAni)("award_circle"),g=f.viewState.game.upside_down,_=1,g?(m.scaleY=-1,_=-1):m.scaleY=1,e=(0,h.calcPosRange)(e,135,135),u.AudioCtrl.play(l.AudioRes.FlySkill),b=d(e,t,n),y.addChild(m),(0,s.playSkeleton)(m,0,!1),m.pos(e.x,e.y),p.next=13,v(b,{x:1.5*Math.abs(_),y:1.5*_},400,(function(e,t,n,o){return a.Ease.elasticOut(e,t,n,o,r,i)}));case 13:(0,c.tweenLoop)({sprite:b,props_arr:[{rotation:0},{rotation:-30},{rotation:0},{rotation:30}],time:80,step_fn:function(e){10===e&&((0,h.tempAni)("award_circle",m),b.destroy(),(0,c.stopAni)(b),o(void 0))}});case 14:case"end":return p.stop()}}),p)})))})));case 1:case"end":return y.stop()}}),y)})))};var r,o=(r=n(93476))&&r.__esModule?r:{default:r},i=n(96530),a=n(45840),u=n(80356),l=n(14082),c=n(90564),s=n(77513),f=n(48652),h=n(44560);var p=function(e,t,n,r){return new(n||(n=o.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))};function v(e,t,n,r){return p(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,c.completeAni)(e);case 2:return r=r||"circleIn",n=n||400,i={alpha:.2,scaleX:.2*t.x,scaleY:.2*t.y,visible:!0},a={alpha:1,scaleX:1*t.x,scaleY:1*t.y},o.abrupt("return",(0,c.tween)({sprite:e,start_props:i,end_props:a,time:n,ease_fn:r}));case 7:case"end":return o.stop()}}),o)})))}function d(e,t,n){var r=f.viewState.ani_overlay,o=f.viewState.game.upside_down,a=new i.Label;a.zOrder=10,a.font=n?"numYellow40":"numWhite40",a.text="+"+t,r.addChild(a);var u=a.getBounds();return a.pivot(u.width/2,u.height/2),a.pos(e.x,e.y),o&&(a.scaleY=-1),a}},44560:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.calcPosRange=m,t.createAni=b,t.createAwardCoin=d,t.showAwardCoin=function(e,t,n,r){return v(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a,u;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return i=d(e,n),a=i.coins,u=i.pos,(0,c.sleep)(.5).then((function(){y(u,n,r)})),o.next=4,g(a,t);case 4:case"end":return o.stop()}}),o)})))},t.showAwardNum=y,t.tempAni=w;var r=p(n(93476)),o=p(n(2991)),i=p(n(97093)),a=n(24629),u=n(89662),l=n(96530),c=n(90564),s=n(64467),f=n(77513),h=n(48652);function p(e){return e&&e.__esModule?e:{default:e}}var v=function(e,t,n,o){return new(n||(n=r.default))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function u(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((o=o.apply(e,t||[])).next())}))};function d(e,t){var n=h.viewState.ani_overlay,r=t/8>=8?8:Math.ceil(t/8),o=r>4?2:1,i=Math.ceil(r/o),a=[];e=m(e,(10*(i-1)+70*i)/2,(10*(o-1)+70*o)/2);for(var u=0;u<i;u++)for(var l=0;l<o;l++){var c=b("coin"),s=h.viewState.game.upside_down;c.scaleY=s?-1:1,c.visible=!1,n.addChild(c);var f=e.x+80*(2*u+1-i)/2,p=e.y+80*(2*l+1-o)/2;c.play(0,!0),c.pos(f,p),a.push(c)}return{coins:a,pos:e}}function y(e,t,n){var r=h.viewState.ani_overlay,o=h.viewState.game.upside_down,i=b("award_light"),a=new l.Label;i.zOrder=5,a.zOrder=10,a.font=n?"numYellow40":"numWhite40",a.text="+"+t,o&&(a.scaleY=-1),r.addChild(a),r.addChild(i);var c=a.getBounds();a.pivot(c.width/2,c.height/2),a.pos(e.x,e.y),i.pos(e.x,e.y),i.once(u.Event.STOPPED,i,(function(){a.destroy(),i.destroy(),w("award_light",i)})),i.play(0,!1)}function m(e,t,n){var r=e.x,o=e.y,i=h.viewState.ani_overlay,u=a.Laya.stage.width,l=a.Laya.stage.height,c=(i.width-u)/2,s=c+u;return r-t<c?r=c+t:r+t>s&&(r=s-t),o-n<0?o=n:o+n>l&&(o=l-n),{x:r,y:o}}function g(e,t){var n,a=this,u=(0,o.default)(n=(0,i.default)(e).call(e)).call(n,(function(e,n){return v(a,void 0,void 0,regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o={x:e.x,y:e.y},r.next=3,(0,c.slide_up_in)(e,500);case 3:return r.next=5,(0,c.sleep)(.5+.2*n);case 5:return r.next=7,(0,c.move)(e,o,t,500);case 7:e.removeSelf(),w("coin",e);case 9:case"end":return r.stop()}}),r)})))}));return r.default.all(u)}var _={};function b(e){var t=_[e];t||(t=[],_[e]=[]);var n=t.pop();return n&&!n.destroyed||(n=(0,s.createSprite)("other",e)),(0,f.playSkeleton)(n,0,!0),n}function w(e,t){var n=_[e];n||(n=[],_[e]=[]),t.removeSelf(),t.stop(),n.push(t)}},38703:function(e,t,n){"use strict";var r=n(3649),o=n(66419),i=n(65420),a=n(19996),u=n(41511);n(63978)(t,"__esModule",{value:!0}),t.awardSkill=function(e,t,n,r){return g(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,a,u;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:i=y(n),o.prev=1,u=regeneratorRuntime.mark((function n(){var o,i,u,l,h;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=a.value,i=o.itemNum,u=o.itemId,l=w(),"3001"===u?(h=(0,s.getCurrencyIcon)(r),l.setIcon(h)):l.setId(u),l.setNum(i),l.pos(e.x,e.y),n.next=8,(0,f.fade_in)(l).then((function(){return(0,f.sleep)(.5)})).then((function(){return(0,f.tween)({sprite:l,start_props:e,end_props:(0,c.default)((0,c.default)({},t),{alpha:.2,scaleX:.4,scaleY:.4*l.scaleY}),time:2e3}).then((function(){b(l)}))}));case 8:case"end":return n.stop()}}),n)})),i.s();case 4:if((a=i.n()).done){o.next=8;break}return o.delegateYield(u(),"t0",6);case 6:o.next=4;break;case 8:o.next=13;break;case 10:o.prev=10,o.t1=o.catch(1),i.e(o.t1);case 13:return o.prev=13,i.f(),o.finish(13);case 16:case"end":return o.stop()}}),o,null,[[1,10,13,16]])})))};var l=d(n(93476)),c=d(n(51942)),s=n(54375),f=n(90564),h=n(77513),p=d(n(79967)),v=n(48652);function d(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n=void 0!==i&&a(e)||e["@@iterator"];if(!n){if(u(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return m(e,t);var i=r(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return o(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,c=function(){};return{s:c,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,f=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){h=!0,s=e},f:function(){try{f||null==n.return||n.return()}finally{if(h)throw s}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e,t,n,r){return new(n||(n=l.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},_=[];function b(e){e.removeSelf(),e.unHighlight(),e.scaleY=1,_.push(e)}function w(){var e=v.viewState.ani_overlay,t=v.viewState.game.upside_down,n=_.pop();return n&&!n.destroyed||(n=new p.default).pivot(n.width/2,n.height/2),(0,h.setProps)(n,{scaleX:1,alpha:1,scaleY:t?-1:1}),e.addChild(n),n.highlight(),n}},1141:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.activeExploding=function(e){var t=(n=i.viewState.ani_wrap,u=(0,a.createSkeletonPool)("other","exploding"),u.scale(2,2),u.pos(n.width/2,n.height/2),n.addChild(u),u.alpha=.8,u);var n,u;t.once(r.Event.STOPPED,t,(function(){(0,a.recoverSkeletonPool)("other","exploding",t)})),t.pos(e.x,e.y),(0,o.playSkeleton)(t,0,!1)};var r=n(89662),o=n(77513),i=n(48652),a=n(70903)},32354:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.activeFreeze=function(){l(),r.once(o.Event.STOPPED,r,(function(){c()})),(0,a.playSkeleton)(r,0,!1)},t.loopFreeze=c,t.stopFreeze=function(){r.offAll(),r.stop(),r.removeSelf()};var r,o=n(89662),i=n(64467),a=n(77513),u=n(48652);function l(){var e=u.viewState.ani_wrap;!r||r.destroyed?((r=(0,i.createSprite)("other","freezing")).pos(e.width/2,e.height/2),e.addChild(r),r.alpha=.8):r.parent||e.addChild(r)}function c(){l(),(0,a.playSkeleton)(r,1,!0)}},4058:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.activePosTip=function(){return function(){var e=(0,o.getLang)(),t=a.viewState.ani_overlay,n=a.viewState.game.upside_down;r&&!r.destroyed||(r=(0,u.createAni)("pos_tip"));r.parent||t.addChild(r);r.scaleX=n?-1:1,(0,i.playSkeleton)(r,e,!0)}(),r},t.stopPosTip=function(){if(!r&&r.destroyed)return;(0,u.tempAni)("pos_tip",r)};var r,o=n(58465),i=n(77513),a=n(48652),u=n(44560)},40163:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.activeShoalWave=function(e){return new i.default((function(t,n){var r;r=c.viewState.ani_wrap,!o||o.destroyed?((o=(0,u.createSprite)("other","shoal_wave")).scale(2,2),o.pos(r.width/2,r.height/2),r.addChild(o),o.alpha=.8):o.parent||r.addChild(o),o.once(a.Event.STOPPED,o,(function(){s(),t()})),o.scaleX=e?2:-2,(0,l.playSkeleton)(o,0,!1)}))},t.stopShoalWave=s;var r,o,i=(r=n(93476))&&r.__esModule?r:{default:r},a=n(89662),u=n(64467),l=n(77513),c=n(48652);function s(){o.offAll(),o.stop(),o.removeSelf()}},69213:function(e,t,n){"use strict";function r(e){return r="function"==typeof f&&"symbol"==typeof d?function(e){return typeof e}:function(e){return e&&"function"==typeof f&&e.constructor===f&&e!==f.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(62734),l=n(34074),c=n(63978),s=n(41511),f=n(65420),h=n(19996),p=n(3649),v=n(66419),d=n(98341);c(t,"__esModule",{value:!0}),t.FishView=void 0;var y=M(n(51942)),m=M(n(93476)),g=M(n(33032)),_=M(n(85507)),b=M(n(21611)),w=n(6893),k=n(78362),S=n(54375),x=n(64467),C=n(54049),E=n(77513),I=n(48652),A=n(70903);function M(e){return e&&e.__esModule?e:{default:e}}function T(e,t){return function(e){if(s(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==f&&h(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){var n;if(!e)return;if("string"==typeof e)return R(e,t);var r=p(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return v(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),c(e,r.key,r)}}function L(){return L="undefined"!=typeof Reflect&&u?u:function(e,t,n){var r=P(e,t);if(r){var o=l(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},L.apply(this,arguments)}function P(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=G(e)););return e}function O(e,t){return O=i||function(e,t){return e.__proto__=t,e},O(e,t)}function D(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var i=G(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return U(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return G=_.default?b.default:function(e){return e.__proto__||(0,b.default)(e)},G(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(i,e);var t,n,r,o=D(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this)).info=e,n.pool=t,n.mouseEnabled=!0,n.mouseThrough=!1,n.visible=!1,window.fish=U(n),n}return t=i,(n=[{key:"initAni",value:function(){if(!this.fish_ani){var e=this.info.type,t=(0,x.getSpriteInfo)("fish",e),n=t.offset,r=t.turn_ani,o=this.createFishAni(),i=T(n,4),a=i[0],u=i[1],l=i[2],c=i[3],s=u+c,f=a+l,h=c,p=a;this.size(s,f),this.pivot(h,p),o.pos(h,p),this.addChild(o),(0,E.playSkeleton)(o,0,!0),this.fish_ani=o,this.turn_ani=r,this.initShadow(),this.zOrder=Number(e)}}},{key:"createFishAni",value:function(){var e=this.info,t=e.type,n=e.currency,r=(0,x.getSpriteInfo)("fish",t),o=r.coin_flag,i=r.coin_color,a=r.scale,u=(0,A.createSkeletonPool)("fish",t,null,o?1:void 0);if(o){var l=(0,A.createSkeletonPool)("other","coin_light");l.zOrder=10,u.addChild(l),l.scale(1.5,1.5),l.alpha=.6,(0,E.playSkeleton)(l,0,!0),this.coin_light=l;var c=(0,S.getCurrencyIcon)(n);c&&(0,w.createSprite)(c).then((function(e){e.filters=[(0,E.createColorFilter)(i)];var t=e.drawToTexture(e.width,e.height,0,0);u.setSlotSkin("huobi",t)}))}return a&&u.scale(a,a),u}},{key:"initShadow",value:function(){var e=this.pool,t=this.info.type,n=I.viewState.game.upside_down,r=(0,A.createImgPool)("image/game/shadow");r.pivot(r.texture.width/2,r.texture.height/2),e.addChild(r);var o=(0,x.getShadowInfo)(t);this.shadow_node=r,this.shadow_info=n?(0,y.default)((0,y.default)({},o),{y:-o.y}):o,(o.scaleX||o.scaleY)&&r.scale(o.scaleX||1,o.scaleY||1)}},{key:"playSwimAni",value:function(){var e=this.fish_ani,t=this.turn_ani_name;if(e){var n=t||0;(0,E.playSkeleton)(e,n,!0)}}},{key:"stopSwimAni",value:function(){var e=this.fish_ani;e&&(0,E.stopSkeleton)(e)}},{key:"setVisible",value:function(e){this.visible=e,e?(this.initAni(),this.playSwimAni()):this.stopSwimAni()}},{key:"syncPos",value:function(e,t,n){var r=this.turn_ani,o=this.fish_ani,i=this.visible,a=this.shadow_node,u=this.shadow_info;if(i&&a){var l=(0,C.vectorToDegree)(t)+90;if(n){var c=l>0&&l<180;if(r){var s=c?"right":"left";this.turn_ani_name!==s&&(this.turn_ani_name=s,(0,E.playSkeleton)(o,s,!0))}else(c?-1:1)!==this.scaleX&&(this.scaleX=c?-1:1)}else this.rotation=l,a.rotation=l+90;this.pos(e.x,e.y),a.pos(e.x+u.x,e.y+u.y)}}},{key:"beCastAni",value:function(){var e=this;return new m.default((function(t,n){var r=e.fish_ani;r&&(r.filters=[(0,E.createRedFilter)()],clearTimeout(e.time_out),e.time_out=(0,g.default)((function(){r.destroyed||(r.filters=[],t(void 0))}),500))}))}},{key:"destroy",value:function(){var e,t=this.info.type;(null===(e=null==this?void 0:this.fish_ani)||void 0===e?void 0:e.filters)&&(this.fish_ani.filters=[]),this.destroyed||(this.shadow_node.rotation=0,(0,A.recoverSkeletonPool)("fish",t,this.fish_ani),(0,A.recoverSkeletonPool)("other","coin_light",this.coin_light),(0,A.recoverImgPool)("image/game/shadow",this.shadow_node)),this.fish_ani=void 0,this.shadow_node=void 0,clearTimeout(this.time_out),L(G(i.prototype),"destroy",this).call(this)}}])&&B(t.prototype,n),r&&B(t,r),i}(k.Sprite);t.FishView=j},92606:function(e,t,n){"use strict";function r(e){return r="function"==typeof f&&"symbol"==typeof h?function(e){return typeof e}:function(e){return e&&"function"==typeof f&&e.constructor===f&&e!==f.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(62734),c=n(34074),s=n(63978),f=n(65420),h=n(98341);s(t,"__esModule",{value:!0}),t.default=void 0;var p=R(n(93476)),v=n(72649),d=n(13845),y=R(n(68700)),m=n(6893),g=n(78362),_=n(89662),b=n(58465),w=n(89970),k=n(84228),S=n(90564),x=n(64467),C=n(55161),E=n(77513),I=n(70903),A=n(48652),M=n(69213),T=R(n(95665));function R(e){return e&&e.__esModule?e:{default:e}}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),s(e,r.key,r)}}function P(){return P="undefined"!=typeof Reflect&&l?l:function(e,t,n){var r=O(e,t);if(r){var o=c(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},P.apply(this,arguments)}function O(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=G(e)););return e}function D(e,t){return D=o||function(e,t){return e.__proto__=t,e},D(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var o=G(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return U(this,n)}}function U(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function G(e){return G=o?i:function(e){return e.__proto__||i(e)},G(e)}var j=function(e,t,n,r){return new(n||(n=p.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(i,e);var t,n,r,o=N(i);function i(){var e;return B(this,i),(e=o.apply(this,arguments)).bg_num=1,e}return t=i,n=[{key:"onEnable",value:function(){var e=this;(0,b.onLangChange)(this,(function(t){e.initLang(t)}))}},{key:"initLang",value:function(e){var t=this.skill_box.auto_shoot_txt,n=this.skill_box.auto_shoot_light.visible?"auto_cancel_".concat(e):"auto_".concat(e);t.skin="image/international/".concat(n,".png")}},{key:"setTrialStyle",value:function(){this.btn_gift.visible=!1}},{key:"showBubbleRefresh",value:function(e){var t=this.bubble_overlay,n=this.bg,r=this.bubble_wall,o=this.bubble_ani;e||(e=this.bg_num),this.bg_num=e,n.skin="image/game/normal_bg/bg".concat(e,".jpg"),o.url="image/game/bg_normal".concat(e,".sk"),r.visible=!1,t.visible=!0,(0,E.playSkeletonOnce)(t,"out").then((function(){t.visible=!1,(0,S.fade_in)(r,300,"",.3),(0,E.playSkeleton)(r,2,!0)}))}},{key:"onResize",value:function(e,t){var n=this.width,r=this.height,o=this.ctrl_box;this.x=(e-n)/2,this.y=(t-r)/2,e>1334&&(e=1334),o.width=e;var i=1;e<1290&&(i=.8),this.triggerResize(i)}},{key:"triggerResize",value:function(e){if(e!==this.resize_scale){this.bullet_box_pos=e>.8?20:-30,this.setBulletBoxPos(this.bullet_box_dir),this.resize_scale=e;var t=this.btn_gift,n=this.btn_voice,r=this.bullet_box,o=this.btn_leave,i=this.btn_help,a=this.btn_shop,u=this.skill_box;o.x=20*e,t.x=120*e,o.x=20*e,i.right=20*e,n.right=120*e+n.width/2,n.y=10*e+n.height/2,r.scale(e,e),n.scale(e,e),t.scale(e,e),o.scale(e,e),i.scale(e,e),a.scale(e,e),u.scale(e,e)}}},{key:"upSideDown",value:function(){var e=this.pool,t=this.gun_wrap,n=this.ani_wrap,r=this.ani_overlay;e.scaleY=t.scaleY=r.scaleY=n.scaleY=-1,this.upside_down=!0}},{key:"addFish",value:function(e){var t=this.pool,n=this.upside_down,r=e.horizon_turn,o=new M.FishView(e,t);return r&&n&&(o.scaleY=-1),t.addChild(o),o}},{key:"addBullet",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.pool,o=(0,x.getSpriteInfo)("bullet",e),i=o.path;return t=n?(0,m.createSkeleton)("".concat(i,"_rage")):(0,I.createSkeletonPool)("bullet",e),r.addChild(t),t.visible=!1,t}},{key:"addNet",value:function(e){var t=this.pool,n=(0,I.createSkeletonPool)("net",e);return t.addChild(n),n}},{key:"onPoolClick",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.offPoolClick();var n=new v.Observable((function(t){var n=e.pool,r=function(e){var r=n.getMousePoint(),o=r.x,i=r.y;e.stopPropagation(),t.next({x:o,y:i})};t.add((function(){n.off(_.Event.CLICK,n,r)})),n.on(_.Event.CLICK,n,r),e.pool_click_observer=t}));return t?n.pipe((0,d.first)()):n}},{key:"offPoolClick",value:function(){var e=this.pool_click_observer;e&&(e.unsubscribe(),this.pool_click_observer=void 0)}},{key:"onFishClick",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.offFishClick();var n=new v.Observable((function(t){var n=e.pool,r=function(e){e.stopPropagation();var n=e.target;if(n instanceof M.FishView){var r=n.info,o=r.id,i=r.group_id;t.next({id:o,group_id:i})}};t.add((function(){n.off(_.Event.CLICK,n,r)})),n.on(_.Event.CLICK,n,r),e.fish_click_observer=t}));return t?n.pipe((0,d.first)()):n}},{key:"offFishClick",value:function(){var e=this.fish_click_observer;e&&(e.unsubscribe(),this.fish_click_observer=void 0)}},{key:"addGun",value:function(){var e=this.gun_wrap,t=new T.default;return e.addChild(t),t}},{key:"setBulletNum",value:function(e){var t=(0,b.getLang)(),n=w.InternationalTip[t].NumBullet;this.bullet_num.text="".concat(n,": ")+e}},{key:"getSkillItemByIndex",value:function(e){return this.skill_box.skill_list.getChildAt(e)}},{key:"getAutoShootSkillItem",value:function(){return this.skill_box.auto_shoot}},{key:"setAutoShootLight",value:function(e){var t=(0,b.getLang)();this.skill_box.auto_shoot_light.visible=e;var n=e?"auto_cancel_".concat(t):"auto_".concat(t);this.skill_box.auto_shoot_txt.skin="image/international/".concat(n,".png")}},{key:"setExchangeRate",value:function(e,t){var n=(0,b.getLang)(),r=w.InternationalTip[n].bullet,o=this.exchange_rate;o.innerHTML='<div style="width: 500px;height: 32px;line-height:32px;font-size: 20px;color:#fff;align:center;"><span>1 $0</span> = <span color="#ffdd76">$1</span> <span>$2</span> </div>'.replace("$0",r).replace("$1",e+"").replace("$2",t),o.style.font="20px Arial"}},{key:"setEnergyRadio",value:function(e){var t=this.skill_box.energy_bar,n=t.mask,r=t.width,o=t.height;n||(n=new g.Sprite,t.mask=n),t.mask.graphics.clear(),t.mask.graphics.drawRect(0,0,r*e,o,"#fff")}},{key:"energyLight",value:function(){var e=this.skill_box.energy_light;return new p.default((function(t,n){e.visible=!0,e.on(_.Event.STOPPED,e,(function(){e.visible=!1,t(void 0)})),(0,E.playSkeleton)(e,0,!1)}))}},{key:"setBulletBoxPos",value:function(e){var t=this.bullet_box,n=this.bullet_box_bg,r=this.bullet_box_pos;"left"===e?(t.right=void 0,t.left=r,n.scaleX=1):"right"===e&&(t.right=r,t.left=void 0,n.scaleX=-1),this.bullet_box_dir=e}},{key:"getPoolMousePos",value:function(){return this.pool.getMousePoint()}},{key:"destroy",value:function(){try{(0,b.offLangChange)(this),P(G(i.prototype),"destroy",this).call(this)}catch(e){(0,C.error)(e)}}}],r=[{key:"preEnter",value:function(e){return j(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.default.director.runScene("scenes/game/game.scene",e);case 2:return n=t.sent,r=n.ani_wrap,o=n.ani_overlay,(0,E.setProps)(A.viewState,{game:n,ani_wrap:r,ani_overlay:o}),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))}}],n&&L(t.prototype,n),r&&L(t,r),i}(k.ui.scenes.game.gameUI);t.default=F},95665:function(e,t,n){"use strict";function r(e){return r="function"==typeof s&&"symbol"==typeof p?function(e){return typeof e}:function(e){return e&&"function"==typeof s&&e.constructor===s&&e!==s.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(63978),l=n(3649),c=n(66419),s=n(65420),f=n(19996),h=n(41511),p=n(98341);u(t,"__esModule",{value:!0}),t.default=void 0,t.setGunDirection=U;var v=I(n(20116)),d=I(n(77766)),y=I(n(33032)),m=I(n(85507)),g=I(n(21611)),_=n(37564),b=n(44517),w=n(64467),k=n(54049),S=n(77513),x=n(84228),C=n(48652),E=n(4058);function I(e){return e&&e.__esModule?e:{default:e}}function A(e,t){return function(e){if(h(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==s&&f(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){var n=void 0!==s&&f(e)||e["@@iterator"];if(!n){if(h(e)||(n=T(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function T(e,t){var n;if(e){if("string"==typeof e)return R(e,t);var r=l(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?c(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),u(e,r.key,r)}}function L(e,t){return L=i||function(e,t){return e.__proto__=t,e},L(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var i=D(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function D(e){return D=m.default?g.default:function(e){return e.__proto__||(0,g.default)(e)},D(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(i,e);var t,n,r,o=P(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return t=i,(n=[{key:"onEnable",value:function(){this.init(),this.setDirection(this.gun_direct)}},{key:"init",value:function(){var e=this.light,t=this.gun,n=this.base,r=this.body;(0,S.stopSkeleton)(e),(0,S.stopSkeleton)(n),(0,S.playSkeleton)(t,"standby",!0),(0,S.playSkeleton)(r,"standby",!0)}},{key:"setMySelfStyle",value:function(){this.ctrl_box.visible=!0,this.activePosTip()}},{key:"setBulletCost",value:function(e){var t=e.skin,n=e.level_skin,r=e.bullet_cost,o=this.gun;this.score_label.text=r+"",this.gun_skin=t;var i,a,u=["base","light","body"],l=(0,w.getGunSkinMap)(t,n),c=(0,v.default)(u).call(u,(function(e){return!l.has(e)})),s=M(l);try{for(s.s();!(a=s.n()).done;){var f,h=A(a.value,2),p=h[0],y=h[1],m=(0,d.default)(f="".concat(p)).call(f,y),g=this[p];"gun"===p&&(i=m),"light"===p&&"3"===t&&(g.alpha=.6),g.url="ani/gun/".concat(m,".sk"),g.visible=!0}}catch(e){s.e(e)}finally{s.f()}var b,k=M(c);try{for(k.s();!(b=k.n()).done;){var x=b.value,C=this[x];C.visible=!1,C instanceof _.Skeleton&&(0,S.stopSkeleton)(this[x])}}catch(e){k.e(e)}finally{k.f()}(0,S.utilSkeletonLoadUrl)(o,"ani/gun/".concat(i,".sk")).then((function(){(0,S.playSkeleton)(o,"standby",!0)})),U(this,o.rotation)}},{key:"fixServerTopPos",value:function(){var e=this.ani_box,t=this.ctrl_wrap;e.rotation=this.rotation=180,t.scaleX=-1}},{key:"fixClientTopPos",value:function(){this.ctrl_wrap.scaleY=-1}},{key:"setDirection",value:function(e){if(e){var t=this.gun,n=(0,k.vectorToDegree)(e)+90;t.rotation=n,this.gun_direct=e,U(this,n)}}},{key:"fire",value:function(e,t){var n=this.gun,r="".concat(t,":fire");(0,b.asyncQue)(r,(function(){return(0,S.playSkeletonOnce)(n,"fire")})).then((function(e){e&&(0,S.playSkeleton)(n,"standby",!0)})),clearTimeout(this.time_out),this.time_out=(0,y.default)((function(){(0,b.clearAsyncQue)("".concat(t,":fire"))}),250),this.setDirection(e)}},{key:"addBullet",value:function(e,t){return(0,C.addBullet)(e,t)}},{key:"detectDisableChangeBulletCost",value:function(){}},{key:"activePosTip",value:function(){var e=(0,E.activePosTip)();this.addChild(e),e.pos(this.width/2,this.height/2)}},{key:"stopPosTip",value:function(){(0,E.stopPosTip)()}},{key:"setPos",value:function(e,t){this.pos(e,t)}}])&&B(t.prototype,n),r&&B(t,r),i}(x.ui.scenes.game.gunBoxUI);function U(e,t){var n=e.gun_skin,r=e.body;"5"===n&&(r.rotation=t)}t.default=N},79967:function(e,t,n){"use strict";function r(e){return r="function"==typeof l&&"symbol"==typeof c?function(e){return typeof e}:function(e){return e&&"function"==typeof l&&e.constructor===l&&e!==l.prototype?"symbol":typeof e},r(e)}var o=n(1068),i=n(85507),a=n(54943),u=n(63978),l=n(65420),c=n(98341);u(t,"__esModule",{value:!0}),t.default=void 0;var s=y(n(85507)),f=y(n(21611)),h=n(78362),p=n(66058),v=n(84228),d=n(77513);function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),u(e,r.key,r)}}function g(e,t){return g=i||function(e,t){return e.__proto__=t,e},g(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=o(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return w=s.default?f.default:function(e){return e.__proto__||(0,f.default)(e)},w(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(i,e);var t,n,r,o=_(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).init(),e}return t=i,(n=[{key:"init",value:function(){var e=this.overlay,t=new h.Sprite;e.cacheAs="bitmap",t.blendMode="destination-out",e.addChild(t),this.cool_mask=t,e.visible=!1}},{key:"setId",value:function(e){var t=this.skill_icon,n=p.SkillNameMap[e];n?t.skin="image/game/skill_".concat(n,".png"):(n=p.ItemMap[e],t.skin="image/common/coin/".concat(n,".png"))}},{key:"setIcon",value:function(e){this.skill_icon.skin=e}},{key:"setNum",value:function(e){var t=e+"";e>99999&&(t="99999+"),this.num_label.text=t}},{key:"highlight",value:function(){var e=this.border_light;e.visible=!0,(0,d.playSkeleton)(e,0,!0)}},{key:"unHighlight",value:function(){var e=this.border_light;e.visible=!1,(0,d.stopSkeleton)(e)}},{key:"setShortcut",value:function(e){var t=this.shortcut_label;t.visible=!0,t.text=e}},{key:"showCoolTime",value:function(e){var t=this.cool_mask,n=this.overlay,r=t.graphics,o=360*(1-e)-90;r.clear(),0!==e?(n.visible=!0,r.drawPie(40,41,60,270,o,"#fff")):n.visible=!1}},{key:"clearCoolTime",value:function(){this.overlay.visible=!1}}])&&m(t.prototype,n),r&&m(t,r),i}(v.ui.scenes.game.skillItemUI);t.default=k},70315:function(e,t,n){"use strict";function r(e){return r="function"==typeof h&&"symbol"==typeof y?function(e){return typeof e}:function(e){return e&&"function"==typeof h&&e.constructor===h&&e!==h.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(62734),c=n(34074),s=n(63978),f=n(41511),h=n(65420),p=n(19996),v=n(3649),d=n(66419),y=n(98341);s(t,"__esModule",{value:!0}),t.default=void 0;var m=T(n(93476)),g=n(76817),_=n(58465),b=n(89970),w=n(90564),k=n(3735),S=n(52782),x=n(55161),C=n(77513),E=T(n(68700)),I=n(24629),A=n(41107),M=n(84228);function T(e){return e&&e.__esModule?e:{default:e}}function R(e,t){var n=void 0!==h&&p(e)||e["@@iterator"];if(!n){if(f(e)||(n=L(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function B(e,t){return function(e){if(f(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==h&&p(e)||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||L(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){var n;if(e){if("string"==typeof e)return P(e,t);var r=v(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?d(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),s(e,r.key,r)}}function N(){return N="undefined"!=typeof Reflect&&l?l:function(e,t,n){var r=U(e,t);if(r){var o=c(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},N.apply(this,arguments)}function U(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=H(e)););return e}function G(e,t){return G=o||function(e,t){return e.__proto__=t,e},G(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var o=H(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return F(this,n)}}function F(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function H(e){return H=o?i:function(e){return e.__proto__||i(e)},H(e)}var z=function(e,t,n,r){return new(n||(n=m.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(i,e);var t,n,r,o=j(i);function i(){return O(this,i),o.apply(this,arguments)}return t=i,r=[{key:"preEnter",value:function(e){return z(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",E.default.director.runScene("scenes/hall/hall.scene",e));case 1:case"end":return t.stop()}}),t)})))}}],(n=[{key:"onOpened",value:function(){var e=this.header,t=e.coin_menu,n=e.flag_menu;t.list.array=[],n.list.array=[],this.activeAni("normal"),t.list.renderHandler=new A.Handler(this,this.coinMenuRender,void 0,!1),this.initEvent()}},{key:"initEvent",value:function(){var e=this,t=this.header,n=t.flag_menu,r=t.btn_coin_select,o=t.flag_box;(0,_.onLangChange)(this,(function(t){e.initLang(t)})),(0,S.onStageClick)(this,(function(){e.toggleCoinMenu(!1)}),[r]),(0,S.onStageClick)(this,(function(){e.toggleFlagMenu(!1)}),[n,o])}},{key:"onResize",value:function(e,t){e||(e=I.Laya.stage.width,t=I.Laya.stage.height);var n=this.width,r=this.height,o=this.inner,i=this.header,a=i.inner,u=i.middle_btn_wrap,l=i.btn_right_wrap,c=i.left_wrap,s=i.right_wrap;this.x=(e-n)/2,this.y=(t-r)/2,e>1334&&(e=1334),a.width=o.width=e;var f=e/t,h=10*f*f;e/t<1.651&&(h=7*f*f),(0,S.resizeContain)(c,h),(0,S.resizeContain)(l,h),(0,S.resizeContain)(u,h),(0,S.resizeContain)(s,h)}},{key:"initLang",value:function(e){var t=this.arena_status,n=this.match_status,r=this.match_timezone,o=this.match_box,i=this.normal_box,a=this.btn_play_now,u=this.header,l=u.btn_get,c=u.btn_charge,s=u.middle_btn_wrap,f=b.InternationalTip[e].stayTuned,h=[["normal",i],["match",o]];r.text=f,t.text="大奖赛",n.text="竞技场";for(var p=["btn_play","btn_try"],v=0,d=h;v<d.length;v++){var y=B(d[v],2),m=(y[0],y[1]),g=m.getChildByName("ani");(0,C.playSkeleton)(g,"standby_".concat(e),!0);var _,w=R(p);try{for(w.s();!(_=w.n()).done;){var k=_.value,x=m.getChildByName(k).getChildByName("ani");(0,C.playSkeleton)(x,"standby_".concat(e),!0)}}catch(e){w.e(e)}finally{w.f()}}var E=a.getChildByName("ani");(0,C.playSkeleton)(E,"standby_".concat(e),!0),c.getChildByName("txt_label").skin="image/international/charge_".concat(e,".png"),l.getChildByName("txt_label").skin="image/international/withdraw_".concat(e,".png"),(0,S.resizeContain)(s,10),this.activeAni("normal")}},{key:"setRechargeBtnVisible",value:function(e){this.header.btn_recharge.visible=e,e&&this.onResize()}},{key:"activeAni",value:function(e){for(var t=this.normal_box,n=this.match_box,r=(0,_.getLang)(),o=0,i=[["normal",t],["match",n]];o<i.length;o++){var a=B(i[o],2),u=(a[0],a[1].getChildByName("ani"));(0,C.playSkeleton)(u,"standby_".concat(r),!0)}}},{key:"setNickname",value:function(e){var t=this.header,n=t.nickname,r=t.user_box,o=t.left_wrap;if(n.text=E.default.utils.cutStr(e,12),"GUEST"!==e)return(0,S.resizeContain)(o,10),r.visible=!1;r.visible=!0,(0,_.onLangChange)(this,(function(e){var t=b.InternationalTip[e].guest;n.text=t})),(0,S.resizeContain)(o,10)}},{key:"updateArenaInfo",value:function(e){var t=e.status,n=e.open_timezone,r=this.arena_timezone,o=this.btn_competition;r.text=(0,k.formatDateRange)(n);var i=o.getChildByName("gray");i.visible=t===g.ArenaStatus.Maintenance,o.is_disable=i.visible}},{key:"coinMenuRender",value:function(e,t){var n=e.getChildByName("coin_num"),r=this.header.coin_menu.list.array[t].coin_num,o=14/(1.1*(Number(r)+"").length);o=o>1?1:o,n.scale(o,o),n.width=148/o}},{key:"setCoinData",value:function(e){var t,n=this.header.coin_menu,r=n.list,o=n.bg,i=[],a=R(e);try{for(a.s();!(t=a.n()).done;){var u=B(t.value,2),l=u[0],c=u[1],s=c.num,f=c.icon;i.push({coin_icon:f,coin_name:l,coin_num:s})}}catch(e){a.e(e)}finally{a.f()}r.array=i,i.length<=7?n.height=o.height=r.height=48*i.length+10:n.height=r.height=o.height=346}},{key:"setFlagData",value:function(e){var t,n=this.header.flag_menu,r=n.list,o=n.bg,i=[],a=R(e);try{for(a.s();!(t=a.n()).done;){var u=t.value;i.push({flag_type:u,flag_icon:"image/common/flag/flag_".concat(u,".png")})}}catch(e){a.e(e)}finally{a.f()}r.array=i,n.height=o.height=r.height=61*i.length+20}},{key:"toggleCoinMenu",value:function(e){var t=this.header,n=t.coin_menu,r=t.coin_triangle;n.list.array.length&&(e?(n.y=60,(0,w.fade_in)(n,300),r.rotation=180):((0,w.fade_out)(n,100),n.list.selectedIndex=-1,r.rotation=0))}},{key:"setCurBalance",value:function(e,t,n){var r=this.header,o=r.coin_icon,i=r.coin_name,a=r.coin_num,u=this.normal_box,l=this.match_box;o.skin=t,i.text=e.toUpperCase(),a.text=Number(n)+"";var c=11/(1.08*a.text.length);c=c>1?1:c,a.scale(c,c),a.width=119/c;for(var s=0,f=[u,l];s<f.length;s++)f[s].getChildByName("coin_name").text=e.toUpperCase()}},{key:"toggleFlagMenu",value:function(e){var t=this.header,n=t.flag_menu,r=t.flag_triangle;e?((0,w.fade_in)(n,300),r.rotation=180):((0,w.fade_out)(n,100),n.list.selectedIndex=-1,r.rotation=0)}},{key:"setFlag",value:function(e){this.header.flag.skin="image/common/flag/flag_".concat(e,".png")}},{key:"destroy",value:function(){try{N(H(i.prototype),"destroy",this).call(this),(0,_.offLangChange)(this)}catch(e){(0,x.error)(e)}}}])&&D(t.prototype,n),r&&D(t,r),i}(M.ui.scenes.hall.hallUI);t.default=V},7750:function(e,t,n){"use strict";function r(e){return r="function"==typeof c&&"symbol"==typeof s?function(e){return typeof e}:function(e){return e&&"function"==typeof c&&e.constructor===c&&e!==c.prototype?"symbol":typeof e},r(e)}var o=n(85507),i=n(21611),a=n(1068),u=n(54943),l=n(63978),c=n(65420),s=n(98341);l(t,"__esModule",{value:!0}),t.default=t.LoadingEvent=void 0;var f=m(n(93476)),h=m(n(33032)),p=n(38182),v=n(899),d=n(55161),y=n(84228);function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l(e,r.key,r)}}function _(e,t){return _=o||function(e,t){return e.__proto__=t,e},_(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=a(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=o?i:function(e){return e.__proto__||i(e)},S(e)}var x=function(e,t,n,r){return new(n||(n=f.default))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},C={Hide:"hide",Show:"show"};t.LoadingEvent=C;var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=u(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(i,e);var t,n,r,o=b(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this))._zOrder=100,e.popupEffect=void 0,e.closeEffect=void 0,i.instance=k(e),e}return t=i,r=[{key:"load",value:function(){return x(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.instance){e.next=2;break}return e.abrupt("return",this.instance);case 2:return e.next=4,(0,v.loadDialog)("scenes/loading.scene");case 4:return e.abrupt("return",i.instance=e.sent);case 5:case"end":return e.stop()}}),e,this)})))}}],(n=[{key:"zOrder",get:function(){return this._zOrder},set:function(e){this._zOrder=e}},{key:"onShow",value:function(){(0,d.log)("load:>onShow"),clearTimeout(i.timeout),i.event_com.emit(C.Show),this.open(!1),this.progress.value=0}},{key:"onHide",value:function(){var e=this;(0,d.log)("load:>onHide"),i.timeout=(0,h.default)((function(){(0,d.log)("load:>onHide:>end"),i.event_com.emit(C.Hide),e.close()}),300)}},{key:"onProgress",value:function(e){this.progress.value=e}}])&&g(t.prototype,n),r&&g(t,r),i}(y.ui.scenes.loadingUI);t.default=E,E.event_com=new p.EventCom,E.isLoadingView=!0},48652:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.addBullet=function(e,t){return r.game.addBullet(e,t)},t.addNet=function(e){return r.game.addNet(e)},t.convertPosToNode=function(e,t,n){var r=t.localToGlobal(e,!0);return n.globalToLocal(r,!0)},t.getAutoShootSkillItem=function(){return r.game.getAutoShootSkillItem()},t.getGameView=function(){return r.game},t.getPoolMousePos=function(){return r.game.getPoolMousePos()},t.getSkillItemByIndex=function(e){return r.game.getSkillItemByIndex(e)},t.offFishClick=function(){return r.game.offFishClick()},t.offPoolClick=function(){return r.game.offPoolClick()},t.onFishClick=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r.game.onFishClick(e)},t.onPoolClick=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r.game.onPoolClick(e)},t.setAutoShootLight=function(e){return r.game.setAutoShootLight(e)},t.viewState=void 0;var r={};t.viewState=r},70903:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.createImgPool=function(e){var t,n=null===(t=u[e])||void 0===t?void 0:t.pop();if(n)return n;return(0,i.createImg)(e)},t.createSkeletonPool=function(e,t,n,r){var l,c,s,f=(0,o.default)(l="".concat(e,":")).call(l,t),h=null===(c=u[f])||void 0===c?void 0:c.pop();if(h)return h;if("fish"===e)return(0,i.createSkeleton)("ani/fish/fish"+t,n,r);if("bullet"===e){var p=null===(s=(0,a.getSpriteInfo)(e,t))||void 0===s?void 0:s.path;return(0,i.createSkeleton)(p)}if("net"===e)return(0,a.createSprite)(e,t);if("other"===e)return(0,a.createSprite)(e,t)},t.recoverImgPool=function(e,t){if(!t||(null==t?void 0:t.destroyed))return;var n=e,r=u[n];r||(r=u[n]=[]);t.removeSelf(),r.push(t)},t.recoverSkeletonPool=function(e,t,n){var r;if(!n||n.destroyed)return;var i=(0,o.default)(r="".concat(e,":")).call(r,t),a=u[i];a||(a=u[i]=[]);n.offAll(),n.stop(),n.removeSelf(),a.push(n)};var r,o=(r=n(77766))&&r.__esModule?r:{default:r},i=n(6893),a=n(64467);var u={}},42480:function(){}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.m=t,e=[],r.O=function(t,n,o,i){if(!n){var a=1/0;for(s=0;s<e.length;s++){n=e[s][0],o=e[s][1],i=e[s][2];for(var u=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[l])}))?n.splice(l--,1):(u=!1,i<a&&(a=i));if(u){e.splice(s--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[n,o,i]},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={296:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,a=n[0],u=n[1],l=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(o in u)r.o(u,o)&&(r.m[o]=u[o]);if(l)var s=l(r)}for(t&&t(n);c<a.length;c++)i=a[c],r.o(e,i)&&e[i]&&e[i][0](),e[a[c]]=0;return r.O(s)},n=self.webpackChunkwebpack_test=self.webpackChunkwebpack_test||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=r.O(void 0,[977,921],(function(){return r(53865)}));o=r.O(o)}();